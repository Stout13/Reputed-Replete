var BQ=Object.defineProperty,VQ=Object.defineProperties;var HQ=Object.getOwnPropertyDescriptors;var Hv=Object.getOwnPropertySymbols;var rI=Object.prototype.hasOwnProperty,iI=Object.prototype.propertyIsEnumerable;var o2=(t,e,n)=>e in t?BQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,he=(t,e)=>{for(var n in e||(e={}))rI.call(e,n)&&o2(t,n,e[n]);if(Hv)for(var n of Hv(e))iI.call(e,n)&&o2(t,n,e[n]);return t},qe=(t,e)=>VQ(t,HQ(e));var cn=(t,e)=>{var n={};for(var i in t)rI.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&Hv)for(var i of Hv(t))e.indexOf(i)<0&&iI.call(t,i)&&(n[i]=t[i]);return n};var zQ=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Pd=(t,e,n)=>(o2(t,typeof e!="symbol"?e+"":e,n),n);import{c as Pn,C as st}from"./codemirror.24758d0d.js";import{c as Wt,r as K,o as GQ,g as $Q,R as p,a as WQ,p as a2,b as l2,e as sI,_ as c2,k as Dn,l as Qe,B as qQ,u as un,S as as,x as Jt,d as YQ,f as Rd,s as Ld,C as Id,h as Od,v as Er,i as fo,j as iu,m as Vn,A as zv,n as KQ,q as XQ,t as JQ,w as ZQ,M as oI,y as QQ,z as Gv,D as u2,E as d2,F as f2,O as eee,G as aI,X as lI,H as h2,I as tee}from"./design.fcebccc4.js";import{u as cI,g as nee,v as p2,a as ree}from"./glitch.1ffbdf70.js";import{M as uI,u as dI,i as fI,a as yp}from"./state.86446028.js";import{P as hI,m as pI,u as iee,I as tt,L as mn,s as Ye,N as pt,B as _t,a as mI,S as see,R as oee,b as aee,c as lee,d as cee,W as uee,T as dee,e as Bl,f as m2,g as fee,U as gI,h as hee,i as vI,M as pee,j as mee,k as g2,A as $v,l as gee,n as v2,o as vee,p as yee,q as _ee}from"./components.a400ddb8.js";import{m as yI}from"./markdown.fdc0d43a.js";var dUe=zQ((bUe,J0)=>{const bee=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};bee();var Eee={exports:{}};(function(t){var e=function(n){var i=Object.prototype,o=i.hasOwnProperty,s,a=typeof Symbol=="function"?Symbol:{},l=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(H,W,G){return Object.defineProperty(H,W,{value:G,enumerable:!0,configurable:!0,writable:!0}),H[W]}try{d({},"")}catch{d=function(W,G,q){return W[G]=q}}function f(H,W,G,q){var re=W&&W.prototype instanceof w?W:w,se=Object.create(re.prototype),ge=new V(q||[]);return se._invoke=N(H,G,ge),se}n.wrap=f;function h(H,W,G){try{return{type:"normal",arg:H.call(W,G)}}catch(q){return{type:"throw",arg:q}}}var v="suspendedStart",m="suspendedYield",_="executing",S="completed",E={};function w(){}function T(){}function C(){}var P={};d(P,l,function(){return this});var R=Object.getPrototypeOf,A=R&&R(R(z([])));A&&A!==i&&o.call(A,l)&&(P=A);var L=C.prototype=w.prototype=Object.create(P);T.prototype=C,d(L,"constructor",C),d(C,"constructor",T),T.displayName=d(C,u,"GeneratorFunction");function k(H){["next","throw","return"].forEach(function(W){d(H,W,function(G){return this._invoke(W,G)})})}n.isGeneratorFunction=function(H){var W=typeof H=="function"&&H.constructor;return W?W===T||(W.displayName||W.name)==="GeneratorFunction":!1},n.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,C):(H.__proto__=C,d(H,u,"GeneratorFunction")),H.prototype=Object.create(L),H},n.awrap=function(H){return{__await:H}};function U(H,W){function G(se,ge,_e,pe){var ae=h(H[se],H,ge);if(ae.type==="throw")pe(ae.arg);else{var le=ae.arg,ce=le.value;return ce&&typeof ce=="object"&&o.call(ce,"__await")?W.resolve(ce.__await).then(function(me){G("next",me,_e,pe)},function(me){G("throw",me,_e,pe)}):W.resolve(ce).then(function(me){le.value=me,_e(le)},function(me){return G("throw",me,_e,pe)})}}var q;function re(se,ge){function _e(){return new W(function(pe,ae){G(se,ge,pe,ae)})}return q=q?q.then(_e,_e):_e()}this._invoke=re}k(U.prototype),d(U.prototype,c,function(){return this}),n.AsyncIterator=U,n.async=function(H,W,G,q,re){re===void 0&&(re=Promise);var se=new U(f(H,W,G,q),re);return n.isGeneratorFunction(W)?se:se.next().then(function(ge){return ge.done?ge.value:se.next()})};function N(H,W,G){var q=v;return function(se,ge){if(q===_)throw new Error("Generator is already running");if(q===S){if(se==="throw")throw ge;return B()}for(G.method=se,G.arg=ge;;){var _e=G.delegate;if(_e){var pe=I(_e,G);if(pe){if(pe===E)continue;return pe}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if(q===v)throw q=S,G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);q=_;var ae=h(H,W,G);if(ae.type==="normal"){if(q=G.done?S:m,ae.arg===E)continue;return{value:ae.arg,done:G.done}}else ae.type==="throw"&&(q=S,G.method="throw",G.arg=ae.arg)}}}function I(H,W){var G=H.iterator[W.method];if(G===s){if(W.delegate=null,W.method==="throw"){if(H.iterator.return&&(W.method="return",W.arg=s,I(H,W),W.method==="throw"))return E;W.method="throw",W.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var q=h(G,H.iterator,W.arg);if(q.type==="throw")return W.method="throw",W.arg=q.arg,W.delegate=null,E;var re=q.arg;if(!re)return W.method="throw",W.arg=new TypeError("iterator result is not an object"),W.delegate=null,E;if(re.done)W[H.resultName]=re.value,W.next=H.nextLoc,W.method!=="return"&&(W.method="next",W.arg=s);else return re;return W.delegate=null,E}k(L),d(L,u,"Generator"),d(L,l,function(){return this}),d(L,"toString",function(){return"[object Generator]"});function F(H){var W={tryLoc:H[0]};1 in H&&(W.catchLoc=H[1]),2 in H&&(W.finallyLoc=H[2],W.afterLoc=H[3]),this.tryEntries.push(W)}function O(H){var W=H.completion||{};W.type="normal",delete W.arg,H.completion=W}function V(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(F,this),this.reset(!0)}n.keys=function(H){var W=[];for(var G in H)W.push(G);return W.reverse(),function q(){for(;W.length;){var re=W.pop();if(re in H)return q.value=re,q.done=!1,q}return q.done=!0,q}};function z(H){if(H){var W=H[l];if(W)return W.call(H);if(typeof H.next=="function")return H;if(!isNaN(H.length)){var G=-1,q=function re(){for(;++G<H.length;)if(o.call(H,G))return re.value=H[G],re.done=!1,re;return re.value=s,re.done=!0,re};return q.next=q}}return{next:B}}n.values=z;function B(){return{value:s,done:!0}}return V.prototype={constructor:V,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(O),!H)for(var W in this)W.charAt(0)==="t"&&o.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=s)},stop:function(){this.done=!0;var H=this.tryEntries[0],W=H.completion;if(W.type==="throw")throw W.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var W=this;function G(pe,ae){return se.type="throw",se.arg=H,W.next=pe,ae&&(W.method="next",W.arg=s),!!ae}for(var q=this.tryEntries.length-1;q>=0;--q){var re=this.tryEntries[q],se=re.completion;if(re.tryLoc==="root")return G("end");if(re.tryLoc<=this.prev){var ge=o.call(re,"catchLoc"),_e=o.call(re,"finallyLoc");if(ge&&_e){if(this.prev<re.catchLoc)return G(re.catchLoc,!0);if(this.prev<re.finallyLoc)return G(re.finallyLoc)}else if(ge){if(this.prev<re.catchLoc)return G(re.catchLoc,!0)}else if(_e){if(this.prev<re.finallyLoc)return G(re.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(H,W){for(var G=this.tryEntries.length-1;G>=0;--G){var q=this.tryEntries[G];if(q.tryLoc<=this.prev&&o.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var re=q;break}}re&&(H==="break"||H==="continue")&&re.tryLoc<=W&&W<=re.finallyLoc&&(re=null);var se=re?re.completion:{};return se.type=H,se.arg=W,re?(this.method="next",this.next=re.finallyLoc,E):this.complete(se)},complete:function(H,W){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&W&&(this.next=W),E},finish:function(H){for(var W=this.tryEntries.length-1;W>=0;--W){var G=this.tryEntries[W];if(G.finallyLoc===H)return this.complete(G.completion,G.afterLoc),O(G),E}},catch:function(H){for(var W=this.tryEntries.length-1;W>=0;--W){var G=this.tryEntries[W];if(G.tryLoc===H){var q=G.completion;if(q.type==="throw"){var re=q.arg;O(G)}return re}}throw new Error("illegal catch attempt")},delegateYield:function(H,W,G){return this.delegate={iterator:z(H),resultName:W,nextLoc:G},this.method==="next"&&(this.arg=s),E}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(Eee);const wee="modulepreload",_I={},xee="/edit/",gr=function(e,n){return!n||n.length===0?e():Promise.all(n.map(i=>{if(i=`${xee}${i}`,i in _I)return;_I[i]=!0;const o=i.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${s}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":wee,o||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),o)return new Promise((l,c)=>{a.addEventListener("load",l),a.addEventListener("error",c)})})).then(()=>e())};(function(t,e){(function(n){n(Pn.exports)})(function(n){n.defineSimpleMode=function(h,v){n.defineMode(h,function(m){return n.simpleMode(m,v)})},n.simpleMode=function(h,v){i(v,"start");var m={},_=v.meta||{},S=!1;for(var E in v)if(E!=_&&v.hasOwnProperty(E))for(var w=m[E]=[],T=v[E],C=0;C<T.length;C++){var P=T[C];w.push(new a(P,v)),(P.indent||P.dedent)&&(S=!0)}var R={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:S?[]:null}},copyState:function(L){var k={state:L.state,pending:L.pending,local:L.local,localState:null,indent:L.indent&&L.indent.slice(0)};L.localState&&(k.localState=n.copyState(L.local.mode,L.localState)),L.stack&&(k.stack=L.stack.slice(0));for(var U=L.persistentStates;U;U=U.next)k.persistentStates={mode:U.mode,spec:U.spec,state:U.state==L.localState?k.localState:n.copyState(U.mode,U.state),next:k.persistentStates};return k},token:l(m,h),innerMode:function(L){return L.local&&{mode:L.local.mode,state:L.localState}},indent:f(m,_)};if(_)for(var A in _)_.hasOwnProperty(A)&&(R[A]=_[A]);return R};function i(h,v){if(!h.hasOwnProperty(v))throw new Error("Undefined state "+v+" in simple mode")}function o(h,v){if(!h)return/(?:)/;var m="";return h instanceof RegExp?(h.ignoreCase&&(m="i"),h.unicode&&(m+="u"),h=h.source):h=String(h),new RegExp((v===!1?"":"^")+"(?:"+h+")",m)}function s(h){if(!h)return null;if(h.apply)return h;if(typeof h=="string")return h.replace(/\./g," ");for(var v=[],m=0;m<h.length;m++)v.push(h[m]&&h[m].replace(/\./g," "));return v}function a(h,v){(h.next||h.push)&&i(v,h.next||h.push),this.regex=o(h.regex),this.token=s(h.token),this.data=h}function l(h,v){return function(m,_){if(_.pending){var S=_.pending.shift();return _.pending.length==0&&(_.pending=null),m.pos+=S.text.length,S.token}if(_.local)if(_.local.end&&m.match(_.local.end)){var E=_.local.endToken||null;return _.local=_.localState=null,E}else{var E=_.local.mode.token(m,_.localState),w;return _.local.endScan&&(w=_.local.endScan.exec(m.current()))&&(m.pos=m.start+w.index),E}for(var T=h[_.state],C=0;C<T.length;C++){var P=T[C],R=(!P.data.sol||m.sol())&&m.match(P.regex);if(R){P.data.next?_.state=P.data.next:P.data.push?((_.stack||(_.stack=[])).push(_.state),_.state=P.data.push):P.data.pop&&_.stack&&_.stack.length&&(_.state=_.stack.pop()),P.data.mode&&u(v,_,P.data.mode,P.token),P.data.indent&&_.indent.push(m.indentation()+v.indentUnit),P.data.dedent&&_.indent.pop();var A=P.token;if(A&&A.apply&&(A=A(R)),R.length>2&&P.token&&typeof P.token!="string"){for(var L=2;L<R.length;L++)R[L]&&(_.pending||(_.pending=[])).push({text:R[L],token:P.token[L-1]});return m.backUp(R[0].length-(R[1]?R[1].length:0)),A[0]}else return A&&A.join?A[0]:A}}return m.next(),null}}function c(h,v){if(h===v)return!0;if(!h||typeof h!="object"||!v||typeof v!="object")return!1;var m=0;for(var _ in h)if(h.hasOwnProperty(_)){if(!v.hasOwnProperty(_)||!c(h[_],v[_]))return!1;m++}for(var _ in v)v.hasOwnProperty(_)&&m--;return m==0}function u(h,v,m,_){var S;if(m.persistent)for(var E=v.persistentStates;E&&!S;E=E.next)(m.spec?c(m.spec,E.spec):m.mode==E.mode)&&(S=E);var w=S?S.mode:m.mode||n.getMode(h,m.spec),T=S?S.state:n.startState(w);m.persistent&&!S&&(v.persistentStates={mode:w,spec:m.spec,state:T,next:v.persistentStates}),v.localState=T,v.local={mode:w,end:m.end&&o(m.end),endScan:m.end&&m.forceEnd!==!1&&o(m.end,!1),endToken:_&&_.join?_[_.length-1]:_}}function d(h,v){for(var m=0;m<v.length;m++)if(v[m]===h)return!0}function f(h,v){return function(m,_,S){if(m.local&&m.local.mode.indent)return m.local.mode.indent(m.localState,_,S);if(m.indent==null||m.local||v.dontIndentStates&&d(m.state,v.dontIndentStates)>-1)return n.Pass;var E=m.indent.length-1,w=h[m.state];e:for(;;){for(var T=0;T<w.length;T++){var C=w[T];if(C.data.dedent&&C.data.dedentIfLineStart!==!1){var P=C.regex.exec(_);if(P&&P[0]){E--,(C.next||C.push)&&(w=h[C.next||C.push]),_=_.slice(P[0].length);continue e}}}break}return E<0?0:m.indent[E]}}})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){n.overlayMode=function(i,o,s){return{startState:function(){return{base:n.startState(i),overlay:n.startState(o),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(a){return{base:n.copyState(i,a.base),overlay:n.copyState(o,a.overlay),basePos:a.basePos,baseCur:null,overlayPos:a.overlayPos,overlayCur:null}},token:function(a,l){return(a!=l.streamSeen||Math.min(l.basePos,l.overlayPos)<a.start)&&(l.streamSeen=a,l.basePos=l.overlayPos=a.start),a.start==l.basePos&&(l.baseCur=i.token(a,l.base),l.basePos=a.pos),a.start==l.overlayPos&&(a.pos=a.start,l.overlayCur=o.token(a,l.overlay),l.overlayPos=a.pos),a.pos=Math.min(l.basePos,l.overlayPos),l.overlayCur==null?l.baseCur:l.baseCur!=null&&l.overlay.combineTokens||s&&l.overlay.combineTokens==null?l.baseCur+" "+l.overlayCur:l.overlayCur},indent:i.indent&&function(a,l,c){return i.indent(a.base,l,c)},electricChars:i.electricChars,innerMode:function(a){return{state:a.base,mode:i}},blankLine:function(a){var l,c;return i.blankLine&&(l=i.blankLine(a.base)),o.blankLine&&(c=o.blankLine(a.overlay)),c==null?l:s&&l!=null?l+" "+c:c}}}})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){n.multiplexingMode=function(i){var o=Array.prototype.slice.call(arguments,1);function s(a,l,c,u){if(typeof l=="string"){var d=a.indexOf(l,c);return u&&d>-1?d+l.length:d}var f=l.exec(c?a.slice(c):a);return f?f.index+c+(u?f[0].length:0):-1}return{startState:function(){return{outer:n.startState(i),innerActive:null,inner:null,startingInner:!1}},copyState:function(a){return{outer:n.copyState(i,a.outer),innerActive:a.innerActive,inner:a.innerActive&&n.copyState(a.innerActive.mode,a.inner),startingInner:a.startingInner}},token:function(a,l){if(l.innerActive){var S=l.innerActive,u=a.string;if(!S.close&&a.sol())return l.innerActive=l.inner=null,this.token(a,l);var h=S.close&&!l.startingInner?s(u,S.close,a.pos,S.parseDelimiters):-1;if(h==a.pos&&!S.parseDelimiters)return a.match(S.close),l.innerActive=l.inner=null,S.delimStyle&&S.delimStyle+" "+S.delimStyle+"-close";h>-1&&(a.string=u.slice(0,h));var E=S.mode.token(a,l.inner);return h>-1?a.string=u:a.pos>a.start&&(l.startingInner=!1),h==a.pos&&S.parseDelimiters&&(l.innerActive=l.inner=null),S.innerStyle&&(E?E=E+" "+S.innerStyle:E=S.innerStyle),E}else{for(var c=1/0,u=a.string,d=0;d<o.length;++d){var f=o[d],h=s(u,f.open,a.pos);if(h==a.pos){f.parseDelimiters||a.match(f.open),l.startingInner=!!f.parseDelimiters,l.innerActive=f;var v=0;if(i.indent){var m=i.indent(l.outer,"","");m!==n.Pass&&(v=m)}return l.inner=n.startState(f.mode,v),f.delimStyle&&f.delimStyle+" "+f.delimStyle+"-open"}else h!=-1&&h<c&&(c=h)}c!=1/0&&(a.string=u.slice(0,c));var _=i.token(a,l.outer);return c!=1/0&&(a.string=u),_}},indent:function(a,l,c){var u=a.innerActive?a.innerActive.mode:i;return u.indent?u.indent(a.innerActive?a.inner:a.outer,l,c):n.Pass},blankLine:function(a){var l=a.innerActive?a.innerActive.mode:i;if(l.blankLine&&l.blankLine(a.innerActive?a.inner:a.outer),a.innerActive)a.innerActive.close===`
`&&(a.innerActive=a.inner=null);else for(var c=0;c<o.length;++c){var u=o[c];u.open===`
`&&(a.innerActive=u,a.inner=n.startState(u.mode,l.indent?l.indent(a.outer,"",""):0))}},electricChars:i.electricChars,innerMode:function(a){return a.inner?{state:a.inner,mode:a.innerActive.mode}:{state:a.outer,mode:i}}}}})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){n.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var i=0;i<n.modeInfo.length;i++){var o=n.modeInfo[i];o.mimes&&(o.mime=o.mimes[0])}n.findModeByMIME=function(s){s=s.toLowerCase();for(var a=0;a<n.modeInfo.length;a++){var l=n.modeInfo[a];if(l.mime==s)return l;if(l.mimes){for(var c=0;c<l.mimes.length;c++)if(l.mimes[c]==s)return l}}if(/\+xml$/.test(s))return n.findModeByMIME("application/xml");if(/\+json$/.test(s))return n.findModeByMIME("application/json")},n.findModeByExtension=function(s){s=s.toLowerCase();for(var a=0;a<n.modeInfo.length;a++){var l=n.modeInfo[a];if(l.ext){for(var c=0;c<l.ext.length;c++)if(l.ext[c]==s)return l}}},n.findModeByFileName=function(s){for(var a=0;a<n.modeInfo.length;a++){var l=n.modeInfo[a];if(l.file&&l.file.test(s))return l}var c=s.lastIndexOf("."),u=c>-1&&s.substring(c+1,s.length);if(u)return n.findModeByExtension(u)},n.findModeByName=function(s){s=s.toLowerCase();for(var a=0;a<n.modeInfo.length;a++){var l=n.modeInfo[a];if(l.name.toLowerCase()==s)return l;if(l.alias){for(var c=0;c<l.alias.length;c++)if(l.alias[c].toLowerCase()==s)return l}}}})})();var vt=st.keyMap.sublime={fallthrough:"default"},Gt=st.commands,qt=st.Pos,su=st.keyMap.default==st.keyMap.macDefault,rn=su?"Cmd-":"Ctrl-";function See(t,e,n){if(n<0&&e.ch==0)return t.clipPos(qt(e.line-1));var i=t.getLine(e.line);if(n>0&&e.ch>=i.length)return t.clipPos(qt(e.line+1,0));for(var o="start",s,a=e.ch,l=n<0?0:i.length,c=0;a!=l;a+=n,c++){var u=i.charAt(n<0?a-1:a),d=u!="_"&&st.isWordChar(u)?"w":"o";if(d=="w"&&u.toUpperCase()==u&&(d="W"),o=="start")d!="o"&&(o="in",s=d);else if(o=="in"&&s!=d){if(s=="w"&&d=="W"&&n<0&&a--,s=="W"&&d=="w"&&n>0){s="w";continue}break}}return qt(e.line,a)}function bI(t,e){t.extendSelectionsBy(function(n){return t.display.shift||t.doc.extend||n.empty()?See(t.doc,n.head,e):e<0?n.from():n.to()})}var EI=su?"Ctrl-":"Alt-";Gt[vt[EI+"Left"]="goSubwordLeft"]=function(t){bI(t,-1)};Gt[vt[EI+"Right"]="goSubwordRight"]=function(t){bI(t,1)};su&&(vt["Cmd-Left"]="goLineStartSmart");var wI=su?"Ctrl-Alt-":"Ctrl-";Gt[vt[wI+"Up"]="scrollLineUp"]=function(t){var e=t.getScrollInfo();if(!t.somethingSelected()){var n=t.lineAtHeight(e.top+e.clientHeight,"local");t.getCursor().line>=n&&t.execCommand("goLineUp")}t.scrollTo(null,e.top-t.defaultTextHeight())};Gt[vt[wI+"Down"]="scrollLineDown"]=function(t){var e=t.getScrollInfo();if(!t.somethingSelected()){var n=t.lineAtHeight(e.top,"local")+1;t.getCursor().line<=n&&t.execCommand("goLineDown")}t.scrollTo(null,e.top+t.defaultTextHeight())};Gt[vt["Shift-"+rn+"L"]="splitSelectionByLine"]=function(t){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++)for(var o=e[i].from(),s=e[i].to(),a=o.line;a<=s.line;++a)s.line>o.line&&a==s.line&&s.ch==0||n.push({anchor:a==o.line?o:qt(a,0),head:a==s.line?s:qt(a)});t.setSelections(n,0)};vt["Shift-Tab"]="indentLess";Gt[vt.Esc="singleSelectionTop"]=function(t){var e=t.listSelections()[0];t.setSelection(e.anchor,e.head,{scroll:!1})};Gt[vt[rn+"L"]="selectLine"]=function(t){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++){var o=e[i];n.push({anchor:qt(o.from().line,0),head:qt(o.to().line+1,0)})}t.setSelections(n)};vt["Shift-Ctrl-K"]="deleteLine";function xI(t,e){if(t.isReadOnly())return st.Pass;t.operation(function(){for(var n=t.listSelections().length,i=[],o=-1,s=0;s<n;s++){var a=t.listSelections()[s].head;if(!(a.line<=o)){var l=qt(a.line+(e?0:1),0);t.replaceRange(`
`,l,null,"+insertLine"),t.indentLine(l.line,null,!0),i.push({head:l,anchor:l}),o=a.line+1}}t.setSelections(i)}),t.execCommand("indentAuto")}Gt[vt[rn+"Enter"]="insertLineAfter"]=function(t){return xI(t,!1)};Gt[vt["Shift-"+rn+"Enter"]="insertLineBefore"]=function(t){return xI(t,!0)};function y2(t,e){for(var n=e.ch,i=n,o=t.getLine(e.line);n&&st.isWordChar(o.charAt(n-1));)--n;for(;i<o.length&&st.isWordChar(o.charAt(i));)++i;return{from:qt(e.line,n),to:qt(e.line,i),word:o.slice(n,i)}}Gt[vt[rn+"D"]="selectNextOccurrence"]=function(t){var e=t.getCursor("from"),n=t.getCursor("to"),i=t.state.sublimeFindFullWord==t.doc.sel;if(st.cmpPos(e,n)==0){var o=y2(t,e);if(!o.word)return;t.setSelection(o.from,o.to),i=!0}else{var s=t.getRange(e,n),a=i?new RegExp("\\b"+s+"\\b"):s,l=t.getSearchCursor(a,n),c=l.findNext();if(c||(l=t.getSearchCursor(a,qt(t.firstLine(),0)),c=l.findNext()),!c||Tee(t.listSelections(),l.from(),l.to()))return st.Pass;t.addSelection(l.from(),l.to())}i&&(t.state.sublimeFindFullWord=t.doc.sel)};function Tee(t,e,n){for(var i=0;i<t.length;i++)if(t[i].from()==e&&t[i].to()==n)return!0;return!1}var SI="(){}[]";function TI(t){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++){var o=e[i],s=o.head,a=t.scanForBracket(s,-1);if(!a)return!1;for(;;){var l=t.scanForBracket(s,1);if(!l)return!1;if(l.ch==SI.charAt(SI.indexOf(a.ch)+1)){n.push({anchor:qt(a.pos.line,a.pos.ch+1),head:l.pos});break}s=qt(l.pos.line,l.pos.ch+1)}}return t.setSelections(n),!0}Gt[vt["Shift-"+rn+"Space"]="selectScope"]=function(t){TI(t)||t.execCommand("selectAll")};Gt[vt["Shift-"+rn+"M"]="selectBetweenBrackets"]=function(t){if(!TI(t))return st.Pass};Gt[vt[rn+"M"]="goToBracket"]=function(t){t.extendSelectionsBy(function(e){var n=t.scanForBracket(e.head,1);if(n&&st.cmpPos(n.pos,e.head)!=0)return n.pos;var i=t.scanForBracket(e.head,-1);return i&&qt(i.pos.line,i.pos.ch+1)||e.head})};var CI=su?"Cmd-Ctrl-":"Shift-Ctrl-";Gt[vt[CI+"Up"]="swapLineUp"]=function(t){if(t.isReadOnly())return st.Pass;for(var e=t.listSelections(),n=[],i=t.firstLine()-1,o=[],s=0;s<e.length;s++){var a=e[s],l=a.from().line-1,c=a.to().line;o.push({anchor:qt(a.anchor.line-1,a.anchor.ch),head:qt(a.head.line-1,a.head.ch)}),a.to().ch==0&&!a.empty()&&--c,l>i?n.push(l,c):n.length&&(n[n.length-1]=c),i=c}t.operation(function(){for(var u=0;u<n.length;u+=2){var d=n[u],f=n[u+1],h=t.getLine(d);t.replaceRange("",qt(d,0),qt(d+1,0),"+swapLine"),f>t.lastLine()?t.replaceRange(`
`+h,qt(t.lastLine()),null,"+swapLine"):t.replaceRange(h+`
`,qt(f,0),null,"+swapLine")}t.setSelections(o),t.scrollIntoView()})};Gt[vt[CI+"Down"]="swapLineDown"]=function(t){if(t.isReadOnly())return st.Pass;for(var e=t.listSelections(),n=[],i=t.lastLine()+1,o=e.length-1;o>=0;o--){var s=e[o],a=s.to().line+1,l=s.from().line;s.to().ch==0&&!s.empty()&&a--,a<i?n.push(a,l):n.length&&(n[n.length-1]=l),i=l}t.operation(function(){for(var c=n.length-2;c>=0;c-=2){var u=n[c],d=n[c+1],f=t.getLine(u);u==t.lastLine()?t.replaceRange("",qt(u-1),qt(u),"+swapLine"):t.replaceRange("",qt(u,0),qt(u+1,0),"+swapLine"),t.replaceRange(f+`
`,qt(d,0),null,"+swapLine")}t.scrollIntoView()})};Gt[vt[rn+"/"]="toggleCommentIndented"]=function(t){t.toggleComment({indent:!0})};Gt[vt[rn+"J"]="joinLines"]=function(t){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++){for(var o=e[i],s=o.from(),a=s.line,l=o.to().line;i<e.length-1&&e[i+1].from().line==l;)l=e[++i].to().line;n.push({start:a,end:l,anchor:!o.empty()&&s})}t.operation(function(){for(var c=0,u=[],d=0;d<n.length;d++){for(var f=n[d],h=f.anchor&&qt(f.anchor.line-c,f.anchor.ch),v,m=f.start;m<=f.end;m++){var _=m-c;m==f.end&&(v=qt(_,t.getLine(_).length+1)),_<t.lastLine()&&(t.replaceRange(" ",qt(_),qt(_+1,/^\s*/.exec(t.getLine(_+1))[0].length)),++c)}u.push({anchor:h||v,head:v})}t.setSelections(u,0)})};Gt[vt["Shift-"+rn+"D"]="duplicateLine"]=function(t){t.operation(function(){for(var e=t.listSelections().length,n=0;n<e;n++){var i=t.listSelections()[n];i.empty()?t.replaceRange(t.getLine(i.head.line)+`
`,qt(i.head.line,0)):t.replaceRange(t.getRange(i.from(),i.to()),i.from())}t.scrollIntoView()})};su||(vt[rn+"T"]="transposeChars");function MI(t,e){if(t.isReadOnly())return st.Pass;for(var n=t.listSelections(),i=[],o,s=0;s<n.length;s++){var a=n[s];if(!a.empty()){for(var l=a.from().line,c=a.to().line;s<n.length-1&&n[s+1].from().line==c;)c=n[++s].to().line;n[s].to().ch||c--,i.push(l,c)}}i.length?o=!0:i.push(t.firstLine(),t.lastLine()),t.operation(function(){for(var u=[],d=0;d<i.length;d+=2){var f=i[d],h=i[d+1],v=qt(f,0),m=qt(h),_=t.getRange(v,m,!1);e?_.sort():_.sort(function(S,E){var w=S.toUpperCase(),T=E.toUpperCase();return w!=T&&(S=w,E=T),S<E?-1:S==E?0:1}),t.replaceRange(_,v,m),o&&u.push({anchor:v,head:qt(h+1,0)})}o&&t.setSelections(u,0)})}Gt[vt.F9="sortLines"]=function(t){MI(t,!0)};Gt[vt[rn+"F9"]="sortLinesInsensitive"]=function(t){MI(t,!1)};Gt[vt.F2="nextBookmark"]=function(t){var e=t.state.sublimeBookmarks;if(e)for(;e.length;){var n=e.shift(),i=n.find();if(i)return e.push(n),t.setSelection(i.from,i.to)}};Gt[vt["Shift-F2"]="prevBookmark"]=function(t){var e=t.state.sublimeBookmarks;if(e)for(;e.length;){e.unshift(e.pop());var n=e[e.length-1].find();if(!n)e.pop();else return t.setSelection(n.from,n.to)}};Gt[vt[rn+"F2"]="toggleBookmark"]=function(t){for(var e=t.listSelections(),n=t.state.sublimeBookmarks||(t.state.sublimeBookmarks=[]),i=0;i<e.length;i++){for(var o=e[i].from(),s=e[i].to(),a=t.findMarks(o,s),l=0;l<a.length;l++)if(a[l].sublimeBookmark){a[l].clear();for(var c=0;c<n.length;c++)n[c]==a[l]&&n.splice(c--,1);break}l==a.length&&n.push(t.markText(o,s,{sublimeBookmark:!0,clearWhenEmpty:!1}))}};Gt[vt["Shift-"+rn+"F2"]="clearBookmarks"]=function(t){var e=t.state.sublimeBookmarks;if(e)for(var n=0;n<e.length;n++)e[n].clear();e.length=0};Gt[vt["Alt-F2"]="selectBookmarks"]=function(t){var e=t.state.sublimeBookmarks,n=[];if(e)for(var i=0;i<e.length;i++){var o=e[i].find();o?n.push({anchor:o.from,head:o.to}):e.splice(i--,0)}n.length&&t.setSelections(n,0)};vt["Alt-Q"]="wrapLines";var Ns=rn+"K ";function AI(t,e){t.operation(function(){for(var n=t.listSelections(),i=[],o=[],s=0;s<n.length;s++){var a=n[s];a.empty()?(i.push(s),o.push("")):o.push(e(t.getRange(a.from(),a.to())))}t.replaceSelections(o,"around","case");for(var s=i.length-1,l;s>=0;s--){var a=n[i[s]];if(!(l&&st.cmpPos(a.head,l)>0)){var c=y2(t,a.head);l=c.from,t.replaceRange(e(c.word),c.from,c.to)}}})}vt[Ns+rn+"Backspace"]="delLineLeft";Gt[vt.Backspace="smartBackspace"]=function(t){if(t.somethingSelected())return st.Pass;t.operation(function(){for(var e=t.listSelections(),n=t.getOption("indentUnit"),i=e.length-1;i>=0;i--){var o=e[i].head,s=t.getRange({line:o.line,ch:0},o),a=st.countColumn(s,null,t.getOption("tabSize")),l=t.findPosH(o,-1,"char",!1);if(s&&!/\S/.test(s)&&a%n==0){var c=new qt(o.line,st.findColumn(s,a-n,n));c.ch!=o.ch&&(l=c)}t.replaceRange("",l,o,"+delete")}})};Gt[vt[Ns+rn+"K"]="delLineRight"]=function(t){t.operation(function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange("",e[n].anchor,qt(e[n].to().line),"+delete");t.scrollIntoView()})};Gt[vt[Ns+rn+"U"]="upcaseAtCursor"]=function(t){AI(t,function(e){return e.toUpperCase()})};Gt[vt[Ns+rn+"L"]="downcaseAtCursor"]=function(t){AI(t,function(e){return e.toLowerCase()})};Gt[vt[Ns+rn+"Space"]="setSublimeMark"]=function(t){t.state.sublimeMark&&t.state.sublimeMark.clear(),t.state.sublimeMark=t.setBookmark(t.getCursor())};Gt[vt[Ns+rn+"A"]="selectToSublimeMark"]=function(t){var e=t.state.sublimeMark&&t.state.sublimeMark.find();e&&t.setSelection(t.getCursor(),e)};Gt[vt[Ns+rn+"W"]="deleteToSublimeMark"]=function(t){var e=t.state.sublimeMark&&t.state.sublimeMark.find();if(e){var n=t.getCursor(),i=e;if(st.cmpPos(n,i)>0){var o=i;i=n,n=o}t.state.sublimeKilled=t.getRange(n,i),t.replaceRange("",n,i)}};Gt[vt[Ns+rn+"X"]="swapWithSublimeMark"]=function(t){var e=t.state.sublimeMark&&t.state.sublimeMark.find();e&&(t.state.sublimeMark.clear(),t.state.sublimeMark=t.setBookmark(t.getCursor()),t.setCursor(e))};Gt[vt[Ns+rn+"Y"]="sublimeYank"]=function(t){t.state.sublimeKilled!=null&&t.replaceSelection(t.state.sublimeKilled,null,"paste")};Gt[vt[Ns+rn+"C"]="showInCenter"]=function(t){var e=t.cursorCoords(null,"local");t.scrollTo(null,(e.top+e.bottom)/2-t.getScrollInfo().clientHeight/2)};var PI=su?"Ctrl-Shift-":"Ctrl-Alt-";Gt[vt[PI+"Up"]="selectLinesUpward"]=function(t){t.operation(function(){for(var e=t.listSelections(),n=0;n<e.length;n++){var i=e[n];i.head.line>t.firstLine()&&t.addSelection(qt(i.head.line-1,i.head.ch))}})};Gt[vt[PI+"Down"]="selectLinesDownward"]=function(t){t.operation(function(){for(var e=t.listSelections(),n=0;n<e.length;n++){var i=e[n];i.head.line<t.lastLine()&&t.addSelection(qt(i.head.line+1,i.head.ch))}})};function RI(t){var e=t.getCursor("from"),n=t.getCursor("to");if(st.cmpPos(e,n)==0){var i=y2(t,e);if(!i.word)return;e=i.from,n=i.to}return{from:e,to:n,query:t.getRange(e,n),word:i}}function LI(t,e){var n=RI(t);if(!!n){var i=n.query,o=t.getSearchCursor(i,e?n.to:n.from);(e?o.findNext():o.findPrevious())?t.setSelection(o.from(),o.to()):(o=t.getSearchCursor(i,e?qt(t.firstLine(),0):t.clipPos(qt(t.lastLine()))),(e?o.findNext():o.findPrevious())?t.setSelection(o.from(),o.to()):n.word&&t.setSelection(n.from,n.to))}}Gt[vt[rn+"F3"]="findUnder"]=function(t){LI(t,!0)};Gt[vt["Shift-"+rn+"F3"]="findUnderPrevious"]=function(t){LI(t,!1)};Gt[vt["Alt-F3"]="findAllUnder"]=function(t){var e=RI(t);if(!!e){for(var n=t.getSearchCursor(e.query),i=[],o=-1;n.findNext();)i.push({anchor:n.from(),head:n.to()}),n.from().line<=e.from.line&&n.from().ch<=e.from.ch&&o++;t.setSelections(i,o)}};vt["Shift-"+rn+"["]="fold";vt["Shift-"+rn+"]"]="unfold";vt[Ns+rn+"0"]=vt[Ns+rn+"J"]="unfoldAll";vt[rn+"I"]="findIncremental";vt["Shift-"+rn+"I"]="findIncrementalReverse";vt["Alt-"+rn+"F"]="replace";vt.F3="findNext";vt["Shift-F3"]="findPrev";st.normalizeKeyMap(vt);var Cee={exports:{}};(function(t,e){(function(n){n(Pn.exports)})(function(n){function i(l,c,u,d){if(u&&u.call){var f=u;u=null}else var f=a(l,u,"rangeFinder");typeof c=="number"&&(c=n.Pos(c,0));var h=a(l,u,"minFoldSize");function v(E){var w=f(l,c);if(!w||w.to.line-w.from.line<h)return null;if(d==="fold")return w;for(var T=l.findMarksAt(w.from),C=0;C<T.length;++C)if(T[C].__isFold){if(!E)return null;w.cleared=!0,T[C].clear()}return w}var m=v(!0);if(a(l,u,"scanUp"))for(;!m&&c.line>l.firstLine();)c=n.Pos(c.line-1,0),m=v(!1);if(!(!m||m.cleared||d==="unfold")){var _=o(l,u,m);n.on(_,"mousedown",function(E){S.clear(),n.e_preventDefault(E)});var S=l.markText(m.from,m.to,{replacedWith:_,clearOnEnter:a(l,u,"clearOnEnter"),__isFold:!0});S.on("clear",function(E,w){n.signal(l,"unfold",l,E,w)}),n.signal(l,"fold",l,m.from,m.to)}}function o(l,c,u){var d=a(l,c,"widget");if(typeof d=="function"&&(d=d(u.from,u.to)),typeof d=="string"){var f=document.createTextNode(d);d=document.createElement("span"),d.appendChild(f),d.className="CodeMirror-foldmarker"}else d&&(d=d.cloneNode(!0));return d}n.newFoldFunction=function(l,c){return function(u,d){i(u,d,{rangeFinder:l,widget:c})}},n.defineExtension("foldCode",function(l,c,u){i(this,l,c,u)}),n.defineExtension("isFolded",function(l){for(var c=this.findMarksAt(l),u=0;u<c.length;++u)if(c[u].__isFold)return!0}),n.commands.toggleFold=function(l){l.foldCode(l.getCursor())},n.commands.fold=function(l){l.foldCode(l.getCursor(),null,"fold")},n.commands.unfold=function(l){l.foldCode(l.getCursor(),{scanUp:!1},"unfold")},n.commands.foldAll=function(l){l.operation(function(){for(var c=l.firstLine(),u=l.lastLine();c<=u;c++)l.foldCode(n.Pos(c,0),{scanUp:!1},"fold")})},n.commands.unfoldAll=function(l){l.operation(function(){for(var c=l.firstLine(),u=l.lastLine();c<=u;c++)l.foldCode(n.Pos(c,0),{scanUp:!1},"unfold")})},n.registerHelper("fold","combine",function(){var l=Array.prototype.slice.call(arguments,0);return function(c,u){for(var d=0;d<l.length;++d){var f=l[d](c,u);if(f)return f}}}),n.registerHelper("fold","auto",function(l,c){for(var u=l.getHelpers(c,"fold"),d=0;d<u.length;d++){var f=u[d](l,c);if(f)return f}});var s={rangeFinder:n.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1,clearOnEnter:!0};n.defineOption("foldOptions",null);function a(l,c,u){if(c&&c[u]!==void 0)return c[u];var d=l.options.foldOptions;return d&&d[u]!==void 0?d[u]:s[u]}n.defineExtension("foldOption",function(l,c){return a(this,l,c)})})})();(function(t,e){(function(n){n(Pn.exports,Cee.exports)})(function(n){n.defineOption("foldGutter",!1,function(_,S,E){E&&E!=n.Init&&(_.clearGutter(_.state.foldGutter.options.gutter),_.state.foldGutter=null,_.off("gutterClick",f),_.off("changes",h),_.off("viewportChange",v),_.off("fold",m),_.off("unfold",m),_.off("swapDoc",h)),S&&(_.state.foldGutter=new o(s(S)),d(_),_.on("gutterClick",f),_.on("changes",h),_.on("viewportChange",v),_.on("fold",m),_.on("unfold",m),_.on("swapDoc",h))});var i=n.Pos;function o(_){this.options=_,this.from=this.to=0}function s(_){return _===!0&&(_={}),_.gutter==null&&(_.gutter="CodeMirror-foldgutter"),_.indicatorOpen==null&&(_.indicatorOpen="CodeMirror-foldgutter-open"),_.indicatorFolded==null&&(_.indicatorFolded="CodeMirror-foldgutter-folded"),_}function a(_,S){for(var E=_.findMarks(i(S,0),i(S+1,0)),w=0;w<E.length;++w)if(E[w].__isFold){var T=E[w].find(-1);if(T&&T.line===S)return E[w]}}function l(_){if(typeof _=="string"){var S=document.createElement("div");return S.className=_+" CodeMirror-guttermarker-subtle",S}else return _.cloneNode(!0)}function c(_,S,E){var w=_.state.foldGutter.options,T=S-1,C=_.foldOption(w,"minFoldSize"),P=_.foldOption(w,"rangeFinder"),R=typeof w.indicatorFolded=="string"&&u(w.indicatorFolded),A=typeof w.indicatorOpen=="string"&&u(w.indicatorOpen);_.eachLine(S,E,function(L){++T;var k=null,U=L.gutterMarkers;if(U&&(U=U[w.gutter]),a(_,T)){if(R&&U&&R.test(U.className))return;k=l(w.indicatorFolded)}else{var N=i(T,0),I=P&&P(_,N);if(I&&I.to.line-I.from.line>=C){if(A&&U&&A.test(U.className))return;k=l(w.indicatorOpen)}}!k&&!U||_.setGutterMarker(L,w.gutter,k)})}function u(_){return new RegExp("(^|\\s)"+_+"(?:$|\\s)\\s*")}function d(_){var S=_.getViewport(),E=_.state.foldGutter;!E||(_.operation(function(){c(_,S.from,S.to)}),E.from=S.from,E.to=S.to)}function f(_,S,E){var w=_.state.foldGutter;if(!!w){var T=w.options;if(E==T.gutter){var C=a(_,S);C?C.clear():_.foldCode(i(S,0),T)}}}function h(_){var S=_.state.foldGutter;if(!!S){var E=S.options;S.from=S.to=0,clearTimeout(S.changeUpdate),S.changeUpdate=setTimeout(function(){d(_)},E.foldOnChangeTimeSpan||600)}}function v(_){var S=_.state.foldGutter;if(!!S){var E=S.options;clearTimeout(S.changeUpdate),S.changeUpdate=setTimeout(function(){var w=_.getViewport();S.from==S.to||w.from-S.to>20||S.from-w.to>20?d(_):_.operation(function(){w.from<S.from&&(c(_,w.from,S.from),S.from=w.from),w.to>S.to&&(c(_,S.to,w.to),S.to=w.to)})},E.updateViewportTimeSpan||400)}}function m(_,S){var E=_.state.foldGutter;if(!!E){var w=S.line;w>=E.from&&w<E.to&&c(_,w,w+1)}}})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){n.registerHelper("fold","brace",function(i,o){var s=o.line,a=i.getLine(s),l;function c(A){for(var L=o.ch,k=0;;){var U=L<=0?-1:a.lastIndexOf(A,L-1);if(U==-1){if(k==1)break;k=1,L=a.length;continue}if(k==1&&U<o.ch)break;if(l=i.getTokenTypeAt(n.Pos(s,U+1)),!/^(comment|string)/.test(l))return U+1;L=U-1}}var u=c("{"),d=c("["),f,h,v;if(u!=null&&(d==null||d>u))v=u,f="{",h="}";else if(d!=null)v=d,f="[",h="]";else return;var m=1,_=i.lastLine(),S,E;e:for(var w=s;w<=_;++w)for(var T=i.getLine(w),C=w==s?v:0;;){var P=T.indexOf(f,C),R=T.indexOf(h,C);if(P<0&&(P=T.length),R<0&&(R=T.length),C=Math.min(P,R),C==T.length)break;if(i.getTokenTypeAt(n.Pos(w,C+1))==l){if(C==P)++m;else if(!--m){S=w,E=C;break e}}++C}if(!(S==null||s==S))return{from:n.Pos(s,v),to:n.Pos(S,E)}}),n.registerHelper("fold","import",function(i,o){function s(f){if(f<i.firstLine()||f>i.lastLine())return null;var h=i.getTokenAt(n.Pos(f,1));if(/\S/.test(h.string)||(h=i.getTokenAt(n.Pos(f,h.end+1))),h.type!="keyword"||h.string!="import")return null;for(var v=f,m=Math.min(i.lastLine(),f+10);v<=m;++v){var _=i.getLine(v),S=_.indexOf(";");if(S!=-1)return{startCh:h.end,end:n.Pos(v,S)}}}var a=o.line,l=s(a),c;if(!l||s(a-1)||(c=s(a-2))&&c.end.line==a-1)return null;for(var u=l.end;;){var d=s(u.line+1);if(d==null)break;u=d.end}return{from:i.clipPos(n.Pos(a,l.startCh+1)),to:u}}),n.registerHelper("fold","include",function(i,o){function s(d){if(d<i.firstLine()||d>i.lastLine())return null;var f=i.getTokenAt(n.Pos(d,1));if(/\S/.test(f.string)||(f=i.getTokenAt(n.Pos(d,f.end+1))),f.type=="meta"&&f.string.slice(0,8)=="#include")return f.start+8}var a=o.line,l=s(a);if(l==null||s(a-1)!=null)return null;for(var c=a;;){var u=s(c+1);if(u==null)break;++c}return{from:n.Pos(a,l+1),to:i.clipPos(n.Pos(c))}})})})();var II={exports:{}};(function(t,e){(function(n){n(Pn.exports)})(function(n){var i=n.Pos;function o(w,T){return w.line-T.line||w.ch-T.ch}var s="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",a=s+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",l=new RegExp("<(/?)(["+s+"]["+a+"]*)","g");function c(w,T,C,P){this.line=T,this.ch=C,this.cm=w,this.text=w.getLine(T),this.min=P?Math.max(P.from,w.firstLine()):w.firstLine(),this.max=P?Math.min(P.to-1,w.lastLine()):w.lastLine()}function u(w,T){var C=w.cm.getTokenTypeAt(i(w.line,T));return C&&/\btag\b/.test(C)}function d(w){if(!(w.line>=w.max))return w.ch=0,w.text=w.cm.getLine(++w.line),!0}function f(w){if(!(w.line<=w.min))return w.text=w.cm.getLine(--w.line),w.ch=w.text.length,!0}function h(w){for(;;){var T=w.text.indexOf(">",w.ch);if(T==-1){if(d(w))continue;return}if(!u(w,T+1)){w.ch=T+1;continue}var C=w.text.lastIndexOf("/",T),P=C>-1&&!/\S/.test(w.text.slice(C+1,T));return w.ch=T+1,P?"selfClose":"regular"}}function v(w){for(;;){var T=w.ch?w.text.lastIndexOf("<",w.ch-1):-1;if(T==-1){if(f(w))continue;return}if(!u(w,T+1)){w.ch=T;continue}l.lastIndex=T,w.ch=T;var C=l.exec(w.text);if(C&&C.index==T)return C}}function m(w){for(;;){l.lastIndex=w.ch;var T=l.exec(w.text);if(!T){if(d(w))continue;return}if(!u(w,T.index+1)){w.ch=T.index+1;continue}return w.ch=T.index+T[0].length,T}}function _(w){for(;;){var T=w.ch?w.text.lastIndexOf(">",w.ch-1):-1;if(T==-1){if(f(w))continue;return}if(!u(w,T+1)){w.ch=T;continue}var C=w.text.lastIndexOf("/",T),P=C>-1&&!/\S/.test(w.text.slice(C+1,T));return w.ch=T+1,P?"selfClose":"regular"}}function S(w,T){for(var C=[];;){var P=m(w),R,A=w.line,L=w.ch-(P?P[0].length:0);if(!P||!(R=h(w)))return;if(R!="selfClose")if(P[1]){for(var k=C.length-1;k>=0;--k)if(C[k]==P[2]){C.length=k;break}if(k<0&&(!T||T==P[2]))return{tag:P[2],from:i(A,L),to:i(w.line,w.ch)}}else C.push(P[2])}}function E(w,T){for(var C=[];;){var P=_(w);if(!P)return;if(P=="selfClose"){v(w);continue}var R=w.line,A=w.ch,L=v(w);if(!L)return;if(L[1])C.push(L[2]);else{for(var k=C.length-1;k>=0;--k)if(C[k]==L[2]){C.length=k;break}if(k<0&&(!T||T==L[2]))return{tag:L[2],from:i(w.line,w.ch),to:i(R,A)}}}}n.registerHelper("fold","xml",function(w,T){for(var C=new c(w,T.line,0);;){var P=m(C);if(!P||C.line!=T.line)return;var R=h(C);if(!R)return;if(!P[1]&&R!="selfClose"){var A=i(C.line,C.ch),L=S(C,P[2]);return L&&o(L.from,A)>0?{from:A,to:L.from}:null}}}),n.findMatchingTag=function(w,T,C){var P=new c(w,T.line,T.ch,C);if(!(P.text.indexOf(">")==-1&&P.text.indexOf("<")==-1)){var R=h(P),A=R&&i(P.line,P.ch),L=R&&v(P);if(!(!R||!L||o(P,T)>0)){var k={from:i(P.line,P.ch),to:A,tag:L[2]};return R=="selfClose"?{open:k,close:null,at:"open"}:L[1]?{open:E(P,L[2]),close:k,at:"close"}:(P=new c(w,A.line,A.ch,C),{open:k,close:S(P,L[2]),at:"open"})}}},n.findEnclosingTag=function(w,T,C,P){for(var R=new c(w,T.line,T.ch,C);;){var A=E(R,P);if(!A)break;var L=new c(w,T.line,T.ch,C),k=S(L,A.tag);if(k)return{open:A,close:k}}},n.scanForClosingTag=function(w,T,C,P){var R=new c(w,T.line,T.ch,P?{from:0,to:P}:null);return S(R,C)}})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){n.registerHelper("fold","markdown",function(i,o){var s=100;function a(m){var _=i.getTokenTypeAt(n.Pos(m,0));return _&&/\bheader\b/.test(_)}function l(m,_,S){var E=_&&_.match(/^#+/);return E&&a(m)?E[0].length:(E=S&&S.match(/^[=\-]+\s*$/),E&&a(m+1)?S[0]=="="?1:2:s)}var c=i.getLine(o.line),u=i.getLine(o.line+1),d=l(o.line,c,u);if(d!==s){for(var f=i.lastLine(),h=o.line,v=i.getLine(h+2);h<f&&!(l(h+1,u,v)<=d);)++h,u=v,v=i.getLine(h+2);return{from:n.Pos(o.line,c.length),to:n.Pos(h,i.getLine(h).length)}}})})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){n.registerGlobalHelper("fold","comment",function(i){return i.blockCommentStart&&i.blockCommentEnd},function(i,o){var s=i.getModeAt(o),a=s.blockCommentStart,l=s.blockCommentEnd;if(!a||!l)return;for(var c=o.line,u=i.getLine(c),d,f=o.ch,h=0;;){var v=f<=0?-1:u.lastIndexOf(a,f-1);if(v==-1){if(h==1)return;h=1,f=u.length;continue}if(h==1&&v<o.ch)return;if(/comment/.test(i.getTokenTypeAt(n.Pos(c,v+1)))&&(v==0||u.slice(v-l.length,v)==l||!/comment/.test(i.getTokenTypeAt(n.Pos(c,v))))){d=v+a.length;break}f=v-1}var m=1,_=i.lastLine(),S,E;e:for(var w=c;w<=_;++w)for(var T=i.getLine(w),C=w==c?d:0;;){var P=T.indexOf(a,C),R=T.indexOf(l,C);if(P<0&&(P=T.length),R<0&&(R=T.length),C=Math.min(P,R),C==T.length)break;if(C==P)++m;else if(!--m){S=w,E=C;break e}++C}if(!(S==null||c==S&&E==d))return{from:n.Pos(c,d),to:n.Pos(S,E)}})})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){var i="CodeMirror-activeline",o="CodeMirror-activeline-background",s="CodeMirror-activeline-gutter";n.defineOption("styleActiveLine",!1,function(d,f,h){var v=h==n.Init?!1:h;f!=v&&(v&&(d.off("beforeSelectionChange",u),a(d),delete d.state.activeLines),f&&(d.state.activeLines=[],c(d,d.listSelections()),d.on("beforeSelectionChange",u)))});function a(d){for(var f=0;f<d.state.activeLines.length;f++)d.removeLineClass(d.state.activeLines[f],"wrap",i),d.removeLineClass(d.state.activeLines[f],"background",o),d.removeLineClass(d.state.activeLines[f],"gutter",s)}function l(d,f){if(d.length!=f.length)return!1;for(var h=0;h<d.length;h++)if(d[h]!=f[h])return!1;return!0}function c(d,f){for(var h=[],v=0;v<f.length;v++){var m=f[v],_=d.getOption("styleActiveLine");if(!(typeof _=="object"&&_.nonEmpty?m.anchor.line!=m.head.line:!m.empty())){var S=d.getLineHandleVisualStart(m.head.line);h[h.length-1]!=S&&h.push(S)}}l(d.state.activeLines,h)||d.operation(function(){a(d);for(var E=0;E<h.length;E++)d.addLineClass(h[E],"wrap",i),d.addLineClass(h[E],"background",o),d.addLineClass(h[E],"gutter",s);d.state.activeLines=h})}function u(d,f){c(d,f.ranges)}})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){var i=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),o=n.Pos,s={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function a(h){return h&&h.bracketRegex||/[(){}[\]]/}function l(h,v,m){var _=h.getLineHandle(v.line),S=v.ch-1,E=m&&m.afterCursor;E==null&&(E=/(^| )cm-fat-cursor($| )/.test(h.getWrapperElement().className));var w=a(m),T=!E&&S>=0&&w.test(_.text.charAt(S))&&s[_.text.charAt(S)]||w.test(_.text.charAt(S+1))&&s[_.text.charAt(++S)];if(!T)return null;var C=T.charAt(1)==">"?1:-1;if(m&&m.strict&&C>0!=(S==v.ch))return null;var P=h.getTokenTypeAt(o(v.line,S+1)),R=c(h,o(v.line,S+(C>0?1:0)),C,P,m);return R==null?null:{from:o(v.line,S),to:R&&R.pos,match:R&&R.ch==T.charAt(0),forward:C>0}}function c(h,v,m,_,S){for(var E=S&&S.maxScanLineLength||1e4,w=S&&S.maxScanLines||1e3,T=[],C=a(S),P=m>0?Math.min(v.line+w,h.lastLine()+1):Math.max(h.firstLine()-1,v.line-w),R=v.line;R!=P;R+=m){var A=h.getLine(R);if(!!A){var L=m>0?0:A.length-1,k=m>0?A.length:-1;if(!(A.length>E))for(R==v.line&&(L=v.ch-(m<0?1:0));L!=k;L+=m){var U=A.charAt(L);if(C.test(U)&&(_===void 0||(h.getTokenTypeAt(o(R,L+1))||"")==(_||""))){var N=s[U];if(N&&N.charAt(1)==">"==m>0)T.push(U);else if(T.length)T.pop();else return{pos:o(R,L),ch:U}}}}}return R-m==(m>0?h.lastLine():h.firstLine())?!1:null}function u(h,v,m){for(var _=h.state.matchBrackets.maxHighlightLineLength||1e3,S=m&&m.highlightNonMatching,E=[],w=h.listSelections(),T=0;T<w.length;T++){var C=w[T].empty()&&l(h,w[T].head,m);if(C&&(C.match||S!==!1)&&h.getLine(C.from.line).length<=_){var P=C.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";E.push(h.markText(C.from,o(C.from.line,C.from.ch+1),{className:P})),C.to&&h.getLine(C.to.line).length<=_&&E.push(h.markText(C.to,o(C.to.line,C.to.ch+1),{className:P}))}}if(E.length){i&&h.state.focused&&h.focus();var R=function(){h.operation(function(){for(var A=0;A<E.length;A++)E[A].clear()})};if(v)setTimeout(R,800);else return R}}function d(h){h.operation(function(){h.state.matchBrackets.currentlyHighlighted&&(h.state.matchBrackets.currentlyHighlighted(),h.state.matchBrackets.currentlyHighlighted=null),h.state.matchBrackets.currentlyHighlighted=u(h,!1,h.state.matchBrackets)})}function f(h){h.state.matchBrackets&&h.state.matchBrackets.currentlyHighlighted&&(h.state.matchBrackets.currentlyHighlighted(),h.state.matchBrackets.currentlyHighlighted=null)}n.defineOption("matchBrackets",!1,function(h,v,m){m&&m!=n.Init&&(h.off("cursorActivity",d),h.off("focus",d),h.off("blur",f),f(h)),v&&(h.state.matchBrackets=typeof v=="object"?v:{},h.on("cursorActivity",d),h.on("focus",d),h.on("blur",f))}),n.defineExtension("matchBrackets",function(){u(this,!0)}),n.defineExtension("findMatchingBracket",function(h,v,m){return(m||typeof v=="boolean")&&(m?(m.strict=v,v=m):v=v?{strict:!0}:null),l(this,h,v)}),n.defineExtension("scanForBracket",function(h,v,m,_){return c(this,h,v,m,_)})})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){var i={pairs:`()[]{}''""`,closeBefore:`)]}'":;>`,triples:"",explode:"[]{}"},o=n.Pos;n.defineOption("autoCloseBrackets",!1,function(E,w,T){T&&T!=n.Init&&(E.removeKeyMap(a),E.state.closeBrackets=null),w&&(l(s(w,"pairs")),E.state.closeBrackets=w,E.addKeyMap(a))});function s(E,w){return w=="pairs"&&typeof E=="string"?E:typeof E=="object"&&E[w]!=null?E[w]:i[w]}var a={Backspace:d,Enter:f};function l(E){for(var w=0;w<E.length;w++){var T=E.charAt(w),C="'"+T+"'";a[C]||(a[C]=c(T))}}l(i.pairs+"`");function c(E){return function(w){return m(w,E)}}function u(E){var w=E.state.closeBrackets;if(!w||w.override)return w;var T=E.getModeAt(E.getCursor());return T.closeBrackets||w}function d(E){var w=u(E);if(!w||E.getOption("disableInput"))return n.Pass;for(var T=s(w,"pairs"),C=E.listSelections(),P=0;P<C.length;P++){if(!C[P].empty())return n.Pass;var R=_(E,C[P].head);if(!R||T.indexOf(R)%2!=0)return n.Pass}for(var P=C.length-1;P>=0;P--){var A=C[P].head;E.replaceRange("",o(A.line,A.ch-1),o(A.line,A.ch+1),"+delete")}}function f(E){var w=u(E),T=w&&s(w,"explode");if(!T||E.getOption("disableInput"))return n.Pass;for(var C=E.listSelections(),P=0;P<C.length;P++){if(!C[P].empty())return n.Pass;var R=_(E,C[P].head);if(!R||T.indexOf(R)%2!=0)return n.Pass}E.operation(function(){var A=E.lineSeparator()||`
`;E.replaceSelection(A+A,null),h(E,-1),C=E.listSelections();for(var L=0;L<C.length;L++){var k=C[L].head.line;E.indentLine(k,null,!0),E.indentLine(k+1,null,!0)}})}function h(E,w){for(var T=[],C=E.listSelections(),P=0,R=0;R<C.length;R++){var A=C[R];A.head==E.getCursor()&&(P=R);var L=A.head.ch||w>0?{line:A.head.line,ch:A.head.ch+w}:{line:A.head.line-1};T.push({anchor:L,head:L})}E.setSelections(T,P)}function v(E){var w=n.cmpPos(E.anchor,E.head)>0;return{anchor:new o(E.anchor.line,E.anchor.ch+(w?-1:1)),head:new o(E.head.line,E.head.ch+(w?1:-1))}}function m(E,w){var T=u(E);if(!T||E.getOption("disableInput"))return n.Pass;var C=s(T,"pairs"),P=C.indexOf(w);if(P==-1)return n.Pass;for(var R=s(T,"closeBefore"),A=s(T,"triples"),L=C.charAt(P+1)==w,k=E.listSelections(),U=P%2==0,N,I=0;I<k.length;I++){var F=k[I],O=F.head,V,z=E.getRange(O,o(O.line,O.ch+1));if(U&&!F.empty())V="surround";else if((L||!U)&&z==w)L&&S(E,O)?V="both":A.indexOf(w)>=0&&E.getRange(O,o(O.line,O.ch+3))==w+w+w?V="skipThree":V="skip";else if(L&&O.ch>1&&A.indexOf(w)>=0&&E.getRange(o(O.line,O.ch-2),O)==w+w){if(O.ch>2&&/\bstring/.test(E.getTokenTypeAt(o(O.line,O.ch-2))))return n.Pass;V="addFour"}else if(L){var B=O.ch==0?" ":E.getRange(o(O.line,O.ch-1),O);if(!n.isWordChar(z)&&B!=w&&!n.isWordChar(B))V="both";else return n.Pass}else if(U&&(z.length===0||/\s/.test(z)||R.indexOf(z)>-1))V="both";else return n.Pass;if(!N)N=V;else if(N!=V)return n.Pass}var H=P%2?C.charAt(P-1):w,W=P%2?w:C.charAt(P+1);E.operation(function(){if(N=="skip")h(E,1);else if(N=="skipThree")h(E,3);else if(N=="surround"){for(var G=E.getSelections(),q=0;q<G.length;q++)G[q]=H+G[q]+W;E.replaceSelections(G,"around"),G=E.listSelections().slice();for(var q=0;q<G.length;q++)G[q]=v(G[q]);E.setSelections(G)}else N=="both"?(E.replaceSelection(H+W,null),E.triggerElectric(H+W),h(E,-1)):N=="addFour"&&(E.replaceSelection(H+H+H+H,"before"),h(E,1))})}function _(E,w){var T=E.getRange(o(w.line,w.ch-1),o(w.line,w.ch+1));return T.length==2?T:null}function S(E,w){var T=E.getTokenAt(o(w.line,w.ch+1));return/\bstring/.test(T.type)&&T.start==w.ch&&(w.ch==0||!/\bstring/.test(E.getTokenTypeAt(w)))}})})();(function(t,e){(function(n){n(Pn.exports,II.exports)})(function(n){n.defineOption("autoCloseTags",!1,function(d,f,h){if(h!=n.Init&&h&&d.removeKeyMap("autoCloseTags"),!!f){var v={name:"autoCloseTags"};(typeof f!="object"||f.whenClosing!==!1)&&(v["'/'"]=function(m){return l(m)}),(typeof f!="object"||f.whenOpening!==!1)&&(v["'>'"]=function(m){return s(m)}),d.addKeyMap(v)}});var i=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],o=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];function s(d){if(d.getOption("disableInput"))return n.Pass;for(var f=d.listSelections(),h=[],v=d.getOption("autoCloseTags"),m=0;m<f.length;m++){if(!f[m].empty())return n.Pass;var _=f[m].head,S=d.getTokenAt(_),E=n.innerMode(d.getMode(),S.state),w=E.state,T=E.mode.xmlCurrentTag&&E.mode.xmlCurrentTag(w),C=T&&T.name;if(!C)return n.Pass;var P=E.mode.configuration=="html",R=typeof v=="object"&&v.dontCloseTags||P&&i,A=typeof v=="object"&&v.indentTags||P&&o;S.end>_.ch&&(C=C.slice(0,C.length-S.end+_.ch));var L=C.toLowerCase();if(!C||S.type=="string"&&(S.end!=_.ch||!/[\"\']/.test(S.string.charAt(S.string.length-1))||S.string.length==1)||S.type=="tag"&&T.close||S.string.indexOf("/")==_.ch-S.start-1||R&&c(R,L)>-1||u(d,E.mode.xmlCurrentContext&&E.mode.xmlCurrentContext(w)||[],C,_,!0))return n.Pass;var k=typeof v=="object"&&v.emptyTags;if(k&&c(k,C)>-1){h[m]={text:"/>",newPos:n.Pos(_.line,_.ch+2)};continue}var U=A&&c(A,L)>-1;h[m]={indent:U,text:">"+(U?`

`:"")+"</"+C+">",newPos:U?n.Pos(_.line+1,0):n.Pos(_.line,_.ch+1)}}for(var N=typeof v=="object"&&v.dontIndentOnAutoClose,m=f.length-1;m>=0;m--){var I=h[m];d.replaceRange(I.text,f[m].head,f[m].anchor,"+insert");var F=d.listSelections().slice(0);F[m]={head:I.newPos,anchor:I.newPos},d.setSelections(F),!N&&I.indent&&(d.indentLine(I.newPos.line,null,!0),d.indentLine(I.newPos.line+1,null,!0))}}function a(d,f){for(var h=d.listSelections(),v=[],m=f?"/":"</",_=d.getOption("autoCloseTags"),S=typeof _=="object"&&_.dontIndentOnSlash,E=0;E<h.length;E++){if(!h[E].empty())return n.Pass;var w=h[E].head,T=d.getTokenAt(w),C=n.innerMode(d.getMode(),T.state),P=C.state;if(f&&(T.type=="string"||T.string.charAt(0)!="<"||T.start!=w.ch-1))return n.Pass;var R,A=C.mode.name!="xml"&&d.getMode().name=="htmlmixed";if(A&&C.mode.name=="javascript")R=m+"script";else if(A&&C.mode.name=="css")R=m+"style";else{var L=C.mode.xmlCurrentContext&&C.mode.xmlCurrentContext(P),k=L.length?L[L.length-1]:"";if(!L||L.length&&u(d,L,k,w))return n.Pass;R=m+k}d.getLine(w.line).charAt(T.end)!=">"&&(R+=">"),v[E]=R}if(d.replaceSelections(v),h=d.listSelections(),!S)for(var E=0;E<h.length;E++)(E==h.length-1||h[E].head.line<h[E+1].head.line)&&d.indentLine(h[E].head.line)}function l(d){return d.getOption("disableInput")?n.Pass:a(d,!0)}n.commands.closeTag=function(d){return a(d)};function c(d,f){if(d.indexOf)return d.indexOf(f);for(var h=0,v=d.length;h<v;++h)if(d[h]==f)return h;return-1}function u(d,f,h,v,m){if(!n.scanForClosingTag)return!1;var _=Math.min(d.lastLine()+1,v.line+500),S=n.scanForClosingTag(d,v,null,_);if(!S||S.tag!=h)return!1;for(var E=m?1:0,w=f.length-1;w>=0&&f[w]==h;w--)++E;v=S.to;for(var w=1;w<E;w++){var T=n.scanForClosingTag(d,v,null,_);if(!T||T.tag!=h)return!1;v=T.to}return!0}})})();(function(t,e){(function(n){n(Pn.exports,II.exports)})(function(n){n.defineOption("matchTags",!1,function(a,l,c){c&&c!=n.Init&&(a.off("cursorActivity",o),a.off("viewportChange",s),i(a)),l&&(a.state.matchBothTags=typeof l=="object"&&l.bothTags,a.on("cursorActivity",o),a.on("viewportChange",s),o(a))});function i(a){a.state.tagHit&&a.state.tagHit.clear(),a.state.tagOther&&a.state.tagOther.clear(),a.state.tagHit=a.state.tagOther=null}function o(a){a.state.failedTagMatch=!1,a.operation(function(){if(i(a),!a.somethingSelected()){var l=a.getCursor(),c=a.getViewport();c.from=Math.min(c.from,l.line),c.to=Math.max(l.line+1,c.to);var u=n.findMatchingTag(a,l,c);if(!!u){if(a.state.matchBothTags){var d=u.at=="open"?u.open:u.close;d&&(a.state.tagHit=a.markText(d.from,d.to,{className:"CodeMirror-matchingtag"}))}var f=u.at=="close"?u.open:u.close;f?a.state.tagOther=a.markText(f.from,f.to,{className:"CodeMirror-matchingtag"}):a.state.failedTagMatch=!0}}})}function s(a){a.state.failedTagMatch&&o(a)}n.commands.toMatchingTag=function(a){var l=n.findMatchingTag(a,a.getCursor());if(l){var c=l.at=="close"?l.open:l.close;c&&a.extendSelection(c.to,c.from)}}})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){var i={},o=/[^\s\u00a0]/,s=n.Pos,a=n.cmpPos;function l(d){var f=d.search(o);return f==-1?0:f}n.commands.toggleComment=function(d){d.toggleComment()},n.defineExtension("toggleComment",function(d){d||(d=i);for(var f=this,h=1/0,v=this.listSelections(),m=null,_=v.length-1;_>=0;_--){var S=v[_].from(),E=v[_].to();S.line>=h||(E.line>=h&&(E=s(h,0)),h=S.line,m==null?f.uncomment(S,E,d)?m="un":(f.lineComment(S,E,d),m="line"):m=="un"?f.uncomment(S,E,d):f.lineComment(S,E,d))}});function c(d,f,h){return/\bstring\b/.test(d.getTokenTypeAt(s(f.line,0)))&&!/^[\'\"\`]/.test(h)}function u(d,f){var h=d.getMode();return h.useInnerComments===!1||!h.innerMode?h:d.getModeAt(f)}n.defineExtension("lineComment",function(d,f,h){h||(h=i);var v=this,m=u(v,d),_=v.getLine(d.line);if(!(_==null||c(v,d,_))){var S=h.lineComment||m.lineComment;if(!S){(h.blockCommentStart||m.blockCommentStart)&&(h.fullLines=!0,v.blockComment(d,f,h));return}var E=Math.min(f.ch!=0||f.line==d.line?f.line+1:f.line,v.lastLine()+1),w=h.padding==null?" ":h.padding,T=h.commentBlankLines||d.line==f.line;v.operation(function(){if(h.indent){for(var C=null,P=d.line;P<E;++P){var R=v.getLine(P),A=R.slice(0,l(R));(C==null||C.length>A.length)&&(C=A)}for(var P=d.line;P<E;++P){var R=v.getLine(P),L=C.length;!T&&!o.test(R)||(R.slice(0,L)!=C&&(L=l(R)),v.replaceRange(C+S+w,s(P,0),s(P,L)))}}else for(var P=d.line;P<E;++P)(T||o.test(v.getLine(P)))&&v.replaceRange(S+w,s(P,0))})}}),n.defineExtension("blockComment",function(d,f,h){h||(h=i);var v=this,m=u(v,d),_=h.blockCommentStart||m.blockCommentStart,S=h.blockCommentEnd||m.blockCommentEnd;if(!_||!S){(h.lineComment||m.lineComment)&&h.fullLines!=!1&&v.lineComment(d,f,h);return}if(!/\bcomment\b/.test(v.getTokenTypeAt(s(d.line,0)))){var E=Math.min(f.line,v.lastLine());E!=d.line&&f.ch==0&&o.test(v.getLine(E))&&--E;var w=h.padding==null?" ":h.padding;d.line>E||v.operation(function(){if(h.fullLines!=!1){var T=o.test(v.getLine(E));v.replaceRange(w+S,s(E)),v.replaceRange(_+w,s(d.line,0));var C=h.blockCommentLead||m.blockCommentLead;if(C!=null)for(var P=d.line+1;P<=E;++P)(P!=E||T)&&v.replaceRange(C+w,s(P,0))}else{var R=a(v.getCursor("to"),f)==0,A=!v.somethingSelected();v.replaceRange(S,f),R&&v.setSelection(A?f:v.getCursor("from"),f),v.replaceRange(_,d)}})}}),n.defineExtension("uncomment",function(d,f,h){h||(h=i);var v=this,m=u(v,d),_=Math.min(f.ch!=0||f.line==d.line?f.line:f.line-1,v.lastLine()),S=Math.min(d.line,_),E=h.lineComment||m.lineComment,w=[],T=h.padding==null?" ":h.padding,C;e:{if(!E)break e;for(var P=S;P<=_;++P){var R=v.getLine(P),A=R.indexOf(E);if(A>-1&&!/comment/.test(v.getTokenTypeAt(s(P,A+1)))&&(A=-1),A==-1&&o.test(R)||A>-1&&o.test(R.slice(0,A)))break e;w.push(R)}if(v.operation(function(){for(var G=S;G<=_;++G){var q=w[G-S],re=q.indexOf(E),se=re+E.length;re<0||(q.slice(se,se+T.length)==T&&(se+=T.length),C=!0,v.replaceRange("",s(G,re),s(G,se)))}}),C)return!0}var L=h.blockCommentStart||m.blockCommentStart,k=h.blockCommentEnd||m.blockCommentEnd;if(!L||!k)return!1;var U=h.blockCommentLead||m.blockCommentLead,N=v.getLine(S),I=N.indexOf(L);if(I==-1)return!1;var F=_==S?N:v.getLine(_),O=F.indexOf(k,_==S?I+L.length:0),V=s(S,I+1),z=s(_,O+1);if(O==-1||!/comment/.test(v.getTokenTypeAt(V))||!/comment/.test(v.getTokenTypeAt(z))||v.getRange(V,z,`
`).indexOf(k)>-1)return!1;var B=N.lastIndexOf(L,d.ch),H=B==-1?-1:N.slice(0,d.ch).indexOf(k,B+L.length);if(B!=-1&&H!=-1&&H+k.length!=d.ch)return!1;H=F.indexOf(k,f.ch);var W=F.slice(f.ch).lastIndexOf(L,H-f.ch);return B=H==-1||W==-1?-1:f.ch+W,H!=-1&&B!=-1&&B!=f.ch?!1:(v.operation(function(){v.replaceRange("",s(_,O-(T&&F.slice(O-T.length,O)==T?T.length:0)),s(_,O+k.length));var G=I+L.length;if(T&&N.slice(G,G+T.length)==T&&(G+=T.length),v.replaceRange("",s(S,I),s(S,G)),U)for(var q=S+1;q<=_;++q){var re=v.getLine(q),se=re.indexOf(U);if(!(se==-1||o.test(re.slice(0,se)))){var ge=se+U.length;T&&re.slice(ge,ge+T.length)==T&&(ge+=T.length),v.replaceRange("",s(q,se),s(q,ge))}}}),!0)})})})();var Mee={exports:{}};(function(t,e){(function(n){n(Pn.exports)})(function(n){n.defineExtension("annotateScrollbar",function(o){return typeof o=="string"&&(o={className:o}),new i(this,o)}),n.defineOption("scrollButtonHeight",0);function i(o,s){this.cm=o,this.options=s,this.buttonHeight=s.scrollButtonHeight||o.getOption("scrollButtonHeight"),this.annotations=[],this.doRedraw=this.doUpdate=null,this.div=o.getWrapperElement().appendChild(document.createElement("div")),this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none",this.computeScale();function a(c){clearTimeout(l.doRedraw),l.doRedraw=setTimeout(function(){l.redraw()},c)}var l=this;o.on("refresh",this.resizeHandler=function(){clearTimeout(l.doUpdate),l.doUpdate=setTimeout(function(){l.computeScale()&&a(20)},100)}),o.on("markerAdded",this.resizeHandler),o.on("markerCleared",this.resizeHandler),s.listenForChanges!==!1&&o.on("changes",this.changeHandler=function(){a(250)})}i.prototype.computeScale=function(){var o=this.cm,s=(o.getWrapperElement().clientHeight-o.display.barHeight-this.buttonHeight*2)/o.getScrollerElement().scrollHeight;if(s!=this.hScale)return this.hScale=s,!0},i.prototype.update=function(o){this.annotations=o,this.redraw()},i.prototype.redraw=function(o){o!==!1&&this.computeScale();var s=this.cm,a=this.hScale,l=document.createDocumentFragment(),c=this.annotations,u=s.getOption("lineWrapping"),d=u&&s.defaultTextHeight()*1.5,f=null,h=null;function v(R,A){if(f!=R.line){f=R.line,h=s.getLineHandle(R.line);var L=s.getLineHandleVisualStart(h);L!=h&&(f=s.getLineNumber(L),h=L)}if(h.widgets&&h.widgets.length||u&&h.height>d)return s.charCoords(R,"local")[A?"top":"bottom"];var k=s.heightAtLine(h,"local");return k+(A?0:h.height)}var m=s.lastLine();if(s.display.barWidth)for(var _=0,S;_<c.length;_++){var E=c[_];if(!(E.to.line>m)){for(var w=S||v(E.from,!0)*a,T=v(E.to,!1)*a;_<c.length-1&&!(c[_+1].to.line>m||(S=v(c[_+1].from,!0)*a,S>T+.9));)E=c[++_],T=v(E.to,!1)*a;if(T!=w){var C=Math.max(T-w,3),P=l.appendChild(document.createElement("div"));P.style.cssText="position: absolute; right: 0px; width: "+Math.max(s.display.barWidth-1,2)+"px; top: "+(w+this.buttonHeight)+"px; height: "+C+"px",P.className=this.options.className,E.id&&P.setAttribute("annotation-id",E.id)}}}this.div.textContent="",this.div.appendChild(l)},i.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler),this.cm.off("markerAdded",this.resizeHandler),this.cm.off("markerCleared",this.resizeHandler),this.changeHandler&&this.cm.off("changes",this.changeHandler),this.div.parentNode.removeChild(this.div)}})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){n.defineOption("scrollPastEnd",!1,function(s,a,l){l&&l!=n.Init&&(s.off("change",i),s.off("refresh",o),s.display.lineSpace.parentNode.style.paddingBottom="",s.state.scrollPastEndPadding=null),a&&(s.on("change",i),s.on("refresh",o),o(s))});function i(s,a){n.changeEnd(a).line==s.lastLine()&&o(s)}function o(s){var a="";if(s.lineCount()>1){var l=s.display.scroller.clientHeight-30,c=s.getLineHandle(s.lastLine()).height;a=l-c+"px"}s.state.scrollPastEndPadding!=a&&(s.state.scrollPastEndPadding=a,s.display.lineSpace.parentNode.style.paddingBottom=a,s.off("refresh",o),s.setSize(),s.on("refresh",o))}})})();var Aee={exports:{}};(function(t,e){(function(n){n(Pn.exports)})(function(n){function i(s,a,l){var c=s.getWrapperElement(),u;return u=c.appendChild(document.createElement("div")),l?u.className="CodeMirror-dialog CodeMirror-dialog-bottom":u.className="CodeMirror-dialog CodeMirror-dialog-top",typeof a=="string"?u.innerHTML=a:u.appendChild(a),n.addClass(c,"dialog-opened"),u}function o(s,a){s.state.currentNotificationClose&&s.state.currentNotificationClose(),s.state.currentNotificationClose=a}n.defineExtension("openDialog",function(s,a,l){l||(l={}),o(this,null);var c=i(this,s,l.bottom),u=!1,d=this;function f(m){if(typeof m=="string")h.value=m;else{if(u)return;u=!0,n.rmClass(c.parentNode,"dialog-opened"),c.parentNode.removeChild(c),d.focus(),l.onClose&&l.onClose(c)}}var h=c.getElementsByTagName("input")[0],v;return h?(h.focus(),l.value&&(h.value=l.value,l.selectValueOnOpen!==!1&&h.select()),l.onInput&&n.on(h,"input",function(m){l.onInput(m,h.value,f)}),l.onKeyUp&&n.on(h,"keyup",function(m){l.onKeyUp(m,h.value,f)}),n.on(h,"keydown",function(m){l&&l.onKeyDown&&l.onKeyDown(m,h.value,f)||((m.keyCode==27||l.closeOnEnter!==!1&&m.keyCode==13)&&(h.blur(),n.e_stop(m),f()),m.keyCode==13&&a(h.value,m))}),l.closeOnBlur!==!1&&n.on(c,"focusout",function(m){m.relatedTarget!==null&&f()})):(v=c.getElementsByTagName("button")[0])&&(n.on(v,"click",function(){f(),d.focus()}),l.closeOnBlur!==!1&&n.on(v,"blur",f),v.focus()),f}),n.defineExtension("openConfirm",function(s,a,l){o(this,null);var c=i(this,s,l&&l.bottom),u=c.getElementsByTagName("button"),d=!1,f=this,h=1;function v(){d||(d=!0,n.rmClass(c.parentNode,"dialog-opened"),c.parentNode.removeChild(c),f.focus())}u[0].focus();for(var m=0;m<u.length;++m){var _=u[m];(function(S){n.on(_,"click",function(E){n.e_preventDefault(E),v(),S&&S(f)})})(a[m]),n.on(_,"blur",function(){--h,setTimeout(function(){h<=0&&v()},200)}),n.on(_,"focus",function(){++h})}}),n.defineExtension("openNotification",function(s,a){o(this,f);var l=i(this,s,a&&a.bottom),c=!1,u,d=a&&typeof a.duration!="undefined"?a.duration:5e3;function f(){c||(c=!0,clearTimeout(u),n.rmClass(l.parentNode,"dialog-opened"),l.parentNode.removeChild(l))}return n.on(l,"click",function(h){n.e_preventDefault(h),f()}),d&&(u=setTimeout(f,d)),f})})})();var Pee={exports:{}};(function(t,e){(function(n){n(Pn.exports)})(function(n){var i=n.Pos;function o(w){var T=w.flags;return T!=null?T:(w.ignoreCase?"i":"")+(w.global?"g":"")+(w.multiline?"m":"")}function s(w,T){for(var C=o(w),P=C,R=0;R<T.length;R++)P.indexOf(T.charAt(R))==-1&&(P+=T.charAt(R));return C==P?w:new RegExp(w.source,P)}function a(w){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(w.source)}function l(w,T,C){T=s(T,"g");for(var P=C.line,R=C.ch,A=w.lastLine();P<=A;P++,R=0){T.lastIndex=R;var L=w.getLine(P),k=T.exec(L);if(k)return{from:i(P,k.index),to:i(P,k.index+k[0].length),match:k}}}function c(w,T,C){if(!a(T))return l(w,T,C);T=s(T,"gm");for(var P,R=1,A=C.line,L=w.lastLine();A<=L;){for(var k=0;k<R&&!(A>L);k++){var U=w.getLine(A++);P=P==null?U:P+`
`+U}R=R*2,T.lastIndex=C.ch;var N=T.exec(P);if(N){var I=P.slice(0,N.index).split(`
`),F=N[0].split(`
`),O=C.line+I.length-1,V=I[I.length-1].length;return{from:i(O,V),to:i(O+F.length-1,F.length==1?V+F[0].length:F[F.length-1].length),match:N}}}}function u(w,T,C){for(var P,R=0;R<=w.length;){T.lastIndex=R;var A=T.exec(w);if(!A)break;var L=A.index+A[0].length;if(L>w.length-C)break;(!P||L>P.index+P[0].length)&&(P=A),R=A.index+1}return P}function d(w,T,C){T=s(T,"g");for(var P=C.line,R=C.ch,A=w.firstLine();P>=A;P--,R=-1){var L=w.getLine(P),k=u(L,T,R<0?0:L.length-R);if(k)return{from:i(P,k.index),to:i(P,k.index+k[0].length),match:k}}}function f(w,T,C){if(!a(T))return d(w,T,C);T=s(T,"gm");for(var P,R=1,A=w.getLine(C.line).length-C.ch,L=C.line,k=w.firstLine();L>=k;){for(var U=0;U<R&&L>=k;U++){var N=w.getLine(L--);P=P==null?N:N+`
`+P}R*=2;var I=u(P,T,A);if(I){var F=P.slice(0,I.index).split(`
`),O=I[0].split(`
`),V=L+F.length,z=F[F.length-1].length;return{from:i(V,z),to:i(V+O.length-1,O.length==1?z+O[0].length:O[O.length-1].length),match:I}}}}var h,v;String.prototype.normalize?(h=function(w){return w.normalize("NFD").toLowerCase()},v=function(w){return w.normalize("NFD")}):(h=function(w){return w.toLowerCase()},v=function(w){return w});function m(w,T,C,P){if(w.length==T.length)return C;for(var R=0,A=C+Math.max(0,w.length-T.length);;){if(R==A)return R;var L=R+A>>1,k=P(w.slice(0,L)).length;if(k==C)return L;k>C?A=L:R=L+1}}function _(w,T,C,P){if(!T.length)return null;var R=P?h:v,A=R(T).split(/\r|\n\r?/);e:for(var L=C.line,k=C.ch,U=w.lastLine()+1-A.length;L<=U;L++,k=0){var N=w.getLine(L).slice(k),I=R(N);if(A.length==1){var F=I.indexOf(A[0]);if(F==-1)continue e;var C=m(N,I,F,R)+k;return{from:i(L,m(N,I,F,R)+k),to:i(L,m(N,I,F+A[0].length,R)+k)}}else{var O=I.length-A[0].length;if(I.slice(O)!=A[0])continue e;for(var V=1;V<A.length-1;V++)if(R(w.getLine(L+V))!=A[V])continue e;var z=w.getLine(L+A.length-1),B=R(z),H=A[A.length-1];if(B.slice(0,H.length)!=H)continue e;return{from:i(L,m(N,I,O,R)+k),to:i(L+A.length-1,m(z,B,H.length,R))}}}}function S(w,T,C,P){if(!T.length)return null;var R=P?h:v,A=R(T).split(/\r|\n\r?/);e:for(var L=C.line,k=C.ch,U=w.firstLine()-1+A.length;L>=U;L--,k=-1){var N=w.getLine(L);k>-1&&(N=N.slice(0,k));var I=R(N);if(A.length==1){var F=I.lastIndexOf(A[0]);if(F==-1)continue e;return{from:i(L,m(N,I,F,R)),to:i(L,m(N,I,F+A[0].length,R))}}else{var O=A[A.length-1];if(I.slice(0,O.length)!=O)continue e;for(var V=1,C=L-A.length+1;V<A.length-1;V++)if(R(w.getLine(C+V))!=A[V])continue e;var z=w.getLine(L+1-A.length),B=R(z);if(B.slice(B.length-A[0].length)!=A[0])continue e;return{from:i(L+1-A.length,m(z,B,z.length-A[0].length,R)),to:i(L,m(N,I,O.length,R))}}}}function E(w,T,C,P){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=w,C=C?w.clipPos(C):i(0,0),this.pos={from:C,to:C};var R;typeof P=="object"?R=P.caseFold:(R=P,P=null),typeof T=="string"?(R==null&&(R=!1),this.matches=function(A,L){return(A?S:_)(w,T,L,R)}):(T=s(T,"gm"),!P||P.multiline!==!1?this.matches=function(A,L){return(A?f:c)(w,T,L)}:this.matches=function(A,L){return(A?d:l)(w,T,L)})}E.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(w){var T=this.doc.clipPos(w?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(T=i(T.line,T.ch),w?(T.ch--,T.ch<0&&(T.line--,T.ch=(this.doc.getLine(T.line)||"").length)):(T.ch++,T.ch>(this.doc.getLine(T.line)||"").length&&(T.ch=0,T.line++)),n.cmpPos(T,this.doc.clipPos(T))!=0))return this.atOccurrence=!1;var C=this.matches(w,T);if(this.afterEmptyMatch=C&&n.cmpPos(C.from,C.to)==0,C)return this.pos=C,this.atOccurrence=!0,this.pos.match||!0;var P=i(w?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:P,to:P},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(w,T){if(!!this.atOccurrence){var C=n.splitLines(w);this.doc.replaceRange(C,this.pos.from,this.pos.to,T),this.pos.to=i(this.pos.from.line+C.length-1,C[C.length-1].length+(C.length==1?this.pos.from.ch:0))}}},n.defineExtension("getSearchCursor",function(w,T,C){return new E(this.doc,w,T,C)}),n.defineDocExtension("getSearchCursor",function(w,T,C){return new E(this,w,T,C)}),n.defineExtension("selectMatches",function(w,T){for(var C=[],P=this.getSearchCursor(w,this.getCursor("from"),T);P.findNext()&&!(n.cmpPos(P.to(),this.getCursor("to"))>0);)C.push({anchor:P.from(),head:P.to()});C.length&&this.setSelections(C,0)})})})();var Ree={exports:{}};(function(t,e){(function(n){n(Pn.exports,Pee.exports,Mee.exports)})(function(n){n.defineExtension("showMatchesOnScrollbar",function(a,l,c){return typeof c=="string"&&(c={className:c}),c||(c={}),new i(this,a,l,c)});function i(a,l,c,u){this.cm=a,this.options=u;var d={listenForChanges:!1};for(var f in u)d[f]=u[f];d.className||(d.className="CodeMirror-search-match"),this.annotation=a.annotateScrollbar(d),this.query=l,this.caseFold=c,this.gap={from:a.firstLine(),to:a.lastLine()+1},this.matches=[],this.update=null,this.findMatches(),this.annotation.update(this.matches);var h=this;a.on("change",this.changeHandler=function(v,m){h.onChange(m)})}var o=1e3;i.prototype.findMatches=function(){if(!!this.gap){for(var a=0;a<this.matches.length;a++){var l=this.matches[a];if(l.from.line>=this.gap.to)break;l.to.line>=this.gap.from&&this.matches.splice(a--,1)}for(var c=this.cm.getSearchCursor(this.query,n.Pos(this.gap.from,0),{caseFold:this.caseFold,multiline:this.options.multiline}),u=this.options&&this.options.maxMatches||o;c.findNext();){var l={from:c.from(),to:c.to()};if(l.from.line>=this.gap.to||(this.matches.splice(a++,0,l),this.matches.length>u))break}this.gap=null}};function s(a,l,c){return a<=l?a:Math.max(l,a+c)}i.prototype.onChange=function(a){var l=a.from.line,c=n.changeEnd(a).line,u=c-a.to.line;if(this.gap?(this.gap.from=Math.min(s(this.gap.from,l,u),a.from.line),this.gap.to=Math.max(s(this.gap.to,l,u),a.from.line)):this.gap={from:a.from.line,to:c+1},u)for(var d=0;d<this.matches.length;d++){var f=this.matches[d],h=s(f.from.line,l,u);h!=f.from.line&&(f.from=n.Pos(h,f.from.ch));var v=s(f.to.line,l,u);v!=f.to.line&&(f.to=n.Pos(v,f.to.ch))}clearTimeout(this.update);var m=this;this.update=setTimeout(function(){m.updateAfterChange()},250)},i.prototype.updateAfterChange=function(){this.findMatches(),this.annotation.update(this.matches)},i.prototype.clear=function(){this.cm.off("change",this.changeHandler),this.annotation.clear()}})})();(function(t,e){(function(n){n(Pn.exports,Ree.exports)})(function(n){var i={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};function o(m){this.options={};for(var _ in i)this.options[_]=(m&&m.hasOwnProperty(_)?m:i)[_];this.overlay=this.timeout=null,this.matchesonscroll=null,this.active=!1}n.defineOption("highlightSelectionMatches",!1,function(m,_,S){if(S&&S!=n.Init&&(u(m),clearTimeout(m.state.matchHighlighter.timeout),m.state.matchHighlighter=null,m.off("cursorActivity",s),m.off("focus",a)),_){var E=m.state.matchHighlighter=new o(_);m.hasFocus()?(E.active=!0,d(m)):m.on("focus",a),m.on("cursorActivity",s)}});function s(m){var _=m.state.matchHighlighter;(_.active||m.hasFocus())&&l(m,_)}function a(m){var _=m.state.matchHighlighter;_.active||(_.active=!0,l(m,_))}function l(m,_){clearTimeout(_.timeout),_.timeout=setTimeout(function(){d(m)},_.options.delay)}function c(m,_,S,E){var w=m.state.matchHighlighter;if(m.addOverlay(w.overlay=v(_,S,E)),w.options.annotateScrollbar&&m.showMatchesOnScrollbar){var T=S?new RegExp((/\w/.test(_.charAt(0))?"\\b":"")+_.replace(/[\\\[.+*?(){|^$]/g,"\\$&")+(/\w/.test(_.charAt(_.length-1))?"\\b":"")):_;w.matchesonscroll=m.showMatchesOnScrollbar(T,!1,{className:"CodeMirror-selection-highlight-scrollbar"})}}function u(m){var _=m.state.matchHighlighter;_.overlay&&(m.removeOverlay(_.overlay),_.overlay=null,_.matchesonscroll&&(_.matchesonscroll.clear(),_.matchesonscroll=null))}function d(m){m.operation(function(){var _=m.state.matchHighlighter;if(u(m),!m.somethingSelected()&&_.options.showToken){for(var S=_.options.showToken===!0?/[\w$]/:_.options.showToken,E=m.getCursor(),w=m.getLine(E.line),T=E.ch,C=T;T&&S.test(w.charAt(T-1));)--T;for(;C<w.length&&S.test(w.charAt(C));)++C;T<C&&c(m,w.slice(T,C),S,_.options.style);return}var P=m.getCursor("from"),R=m.getCursor("to");if(P.line==R.line&&!(_.options.wordsOnly&&!f(m,P,R))){var A=m.getRange(P,R);_.options.trim&&(A=A.replace(/^\s+|\s+$/g,"")),A.length>=_.options.minChars&&c(m,A,!1,_.options.style)}})}function f(m,_,S){var E=m.getRange(_,S);if(E.match(/^\w+$/)!==null){if(_.ch>0){var w={line:_.line,ch:_.ch-1},T=m.getRange(w,_);if(T.match(/\W/)===null)return!1}if(S.ch<m.getLine(_.line).length){var w={line:S.line,ch:S.ch+1},T=m.getRange(S,w);if(T.match(/\W/)===null)return!1}return!0}else return!1}function h(m,_){return(!m.start||!_.test(m.string.charAt(m.start-1)))&&(m.pos==m.string.length||!_.test(m.string.charAt(m.pos)))}function v(m,_,S){return{token:function(E){if(E.match(m)&&(!_||h(E,_)))return S;E.next(),E.skipTo(m.charAt(0))||E.skipToEnd()}}}})})();function Lee(t,e){return typeof t=="string"?t=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e?"gi":"g"):t.global||(t=new RegExp(t.source,t.ignoreCase?"gi":"g")),{token:function(n){t.lastIndex=n.pos;var i=t.exec(n.string);if(i&&i.index==n.pos)return n.pos+=i[0].length||1,"searching";i?n.pos=i.index:n.skipToEnd()}}}function Iee(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function Nd(t){return t.state.search||(t.state.search=new Iee)}function Wv(t){return typeof t=="string"&&t==t.toLowerCase()}function _p(t,e,n){return t.getSearchCursor(e,n,Wv(e))}function Oee(t,e,n,i,o){var s=document.getElementsByClassName("CodeMirror-search-field")[0];if(n&&n.indexOf(`
`)>0&&(n=n.substring(0,n.indexOf(`
`))),s)s.value=n,s.focus(),s.select();else{t.openDialog(e,i,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){Ep(t)},onKeyDown:o,closeOnBlur:!1}),s=document.getElementsByClassName("CodeMirror-search-field")[0];var a=document.getElementsByClassName("CodeMirror-dialog")[0],l=a.getElementsByClassName("close")[0];st.on(s,"keyup",function(d){d.keyCode!==13&&s.value.length>1&&bp(t,Nd(t),s.value)}),st.on(l,"click",function(){Ep(t),a.parentNode.removeChild(a),t.focus()});var c=a.getElementsByClassName("up-arrow")[0];st.on(c,"click",function(){st.commands.findPrev(t),s.blur(),t.focus()});var u=a.getElementsByClassName("down-arrow")[0];st.on(u,"click",function(){st.commands.findNext(t),s.blur(),t.focus()})}}function _2(t,e,n,i,o){t.openDialog?t.openDialog(e,o,{value:i,selectValueOnOpen:!0}):o(prompt(n,i))}var b2=0;function Nee(t,e,n,i){t.openConfirm?t.openConfirm(e,i):confirm(n)&&i[0]();var o=document.getElementsByClassName("CodeMirror-dialog")[0],s=o.getElementsByTagName("button");s[b2].focus();for(var a=0;a<s.length;a+=1)(function(l){var c=s[l];c.addEventListener("focus",function(u){b2=l===s.length-1?0:l}),c.addEventListener("keyup",function(u){if(u.keyCode===37){var d=l===0?s.length-1:l-1;s[d].focus()}if(u.keyCode===39){var f=l===s.length-1?0:l+1;s[f].focus()}u.keyCode===27&&t.focus()}),c.addEventListener("click",function(){l===s.length-1&&(b2=0)})})(a)}function OI(t){return t.replace(/\\(.)/g,function(e,n){return n=="n"?`
`:n=="r"?"\r":n})}function NI(t){var e=t.match(/^\/(.*)\/([a-z]*)$/);if(e)try{t=new RegExp(e[1],e[2].indexOf("i")==-1?"":"i")}catch{}else t=OI(t);return(typeof t=="string"?t=="":t.test(""))&&(t=/x^/),t}var kI='<input type="text" class="search-input CodeMirror-search-field"/><div class="button-wrap"><span class="CodeMirror-search-button icon up-arrow prev"></span><span class="CodeMirror-search-button icon down-arrow next"></span></div><div class="close icon"></div>';function bp(t,e,n){e.queryText=n,e.query=NI(n),t.removeOverlay(e.overlay,Wv(e.query)),e.overlay=Lee(e.query,Wv(e.query)),t.addOverlay(e.overlay),t.showMatchesOnScrollbar&&(e.annotate&&(e.annotate.clear(),e.annotate=null),e.annotate=t.showMatchesOnScrollbar(e.query,Wv(e.query)))}function kd(t,e,n,i,o){var s=Nd(t);if(!o&&s.query)return qv(t,e);var a=t.getSelection()||s.lastQuery;if(n&&t.openDialog){var l=null,c=function(u,d){st.e_stop(d),!!u&&(u!=s.queryText&&(bp(t,s,u),s.posFrom=s.posTo=t.getCursor()),l&&(l.style.opacity=1),qv(t,d.shiftKey,function(f,h){var v;application.analytics.track("Project Searched",{searchTarget:"In file",searchTerm:u}),h.line<3&&document.querySelector&&(v=t.display.wrapper.querySelector(".CodeMirror-dialog"))&&v.getBoundingClientRect().bottom-4>t.cursorCoords(h,"window").top&&((l=v).style.opacity=.4)}))};Oee(t,kI,a,c,function(u,d){var f=st.keyName(u),h=st.keyMap[t.getOption("keyMap")][f];h||(h=t.getOption("extraKeys")[f]),h=="findNext"||h=="findPrev"||h=="findPersistentNext"||h=="findPersistentPrev"?(st.e_stop(u),bp(t,Nd(t),d),t.execCommand(h)):(h=="find"||h=="findPersistent")&&(st.e_stop(u),c(d,u))}),i&&a&&(bp(t,s,a),qv(t,e))}else _2(t,kI,"Search for:",a,function(u){u&&!s.query&&t.operation(function(){bp(t,s,u),s.posFrom=s.posTo=t.getCursor(),qv(t,e)})})}function qv(t,e,n){t.operation(function(){var i=Nd(t),o=_p(t,i.query,e?i.posFrom:i.posTo);!o.find(e)&&(o=_p(t,i.query,e?st.Pos(t.lastLine()):st.Pos(t.firstLine(),0)),!o.find(e))||(t.setSelection(o.from(),o.to()),t.scrollIntoView({from:o.from(),to:o.to()},t.getScrollInfo().clientHeight/2),i.posFrom=o.from(),i.posTo=o.to(),n&&n(o.from(),o.to()))})}function Ep(t){t.operation(function(){var e=Nd(t);e.lastQuery=e.query,!!e.query&&(e.query=e.queryText=null,t.removeOverlay(e.overlay),e.annotate&&(e.annotate.clear(),e.annotate=null))})}var kee='<input type="text" class="search-input CodeMirror-search-field"/><div class="close icon"></div>',Dee='With: <input type="text" class="replace-input CodeMirror-search-field"/>',Fee="Replace? <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>";function DI(t,e,n){t.operation(function(){for(var i=_p(t,e);i.findNext();)if(typeof e!="string"){var o=t.getRange(i.from(),i.to()).match(e);i.replace(n.replace(/\$(\d)/g,function(s,a){return o[a]}))}else i.replace(n)})}function FI(t,e){var n=document.getElementsByClassName("CodeMirror-dialog")[0];if(n&&(Ep(t),n.parentNode.removeChild(n),t.focus()),!t.getOption("readOnly")){var i=t.getSelection()||Nd(t).lastQuery,o=e?"Replace all:":"Replace:";_2(t,o+kee,o,i,function(s){!s||(s=NI(s),_2(t,Dee,"Replace with:","",function(a){if(a=OI(a),e)DI(t,s,a);else{Ep(t);var l=_p(t,s,t.getCursor("from")),c=function(){var d=l.from(),f;!(f=l.findNext())&&(l=_p(t,s),!(f=l.findNext())||d&&l.from().line==d.line&&l.from().ch==d.ch)||(t.setSelection(l.from(),l.to()),t.scrollIntoView({from:l.from(),to:l.to()},60),Nee(t,Fee,"Replace?",[function(){u(f)},c,function(){DI(t,s,a)}]))},u=function(d){l.replace(typeof s=="string"?a:a.replace(/\$(\d)/g,function(f,h){return d[h]})),c()};c()}}))})}}st.commands.find=function(t){kd(t)};st.commands.findPersistent=function(t){kd(t,!1,!0,!1,!0)};st.commands.findPersistentNext=function(t){kd(t,!1,!0,!0)};st.commands.findPersistentPrev=function(t){kd(t,!0,!0,!0)};st.commands.findNext=kd;st.commands.findPrev=function(t){kd(t,!0)};st.commands.clearSearch=Ep;st.commands.replace=FI;st.commands.replaceAll=function(t){FI(t,!0)};(function(t,e){(function(n){n(Pn.exports,Aee.exports)})(function(n){n.defineOption("search",{bottom:!1});function i(a,l,c,u,d){a.openDialog?a.openDialog(l,d,{value:u,selectValueOnOpen:!0,bottom:a.options.search.bottom}):d(prompt(c,u))}function o(a){return a.phrase("Jump to line:")+' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+a.phrase("(Use line:column or scroll% syntax)")+"</span>"}function s(a,l){var c=Number(l);return/^[-+]/.test(l)?a.getCursor().line+c:c-1}n.commands.jumpToLine=function(a){var l=a.getCursor();i(a,o(a),a.phrase("Jump to line:"),l.line+1+":"+l.ch,function(c){if(!!c){var u;if(u=/^\s*([\+\-]?\d+)\s*\:\s*(\d+)\s*$/.exec(c))a.setCursor(s(a,u[1]),Number(u[2]));else if(u=/^\s*([\+\-]?\d+(\.\d+)?)\%\s*/.exec(c)){var d=Math.round(a.lineCount()*Number(u[1])/100);/^[-+]/.test(u[1])&&(d=l.line+d+1),a.setCursor(d-1,l.ch)}else(u=/^\s*\:?\s*([\+\-]?\d+)\s*/.exec(c))&&a.setCursor(s(a,u[1]),l.ch)}})},n.keyMap.default["Alt-G"]="jumpToLine"})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){var i="CodeMirror-lint-markers",o="CodeMirror-lint-line-";function s(A,L,k){var U=document.createElement("div");U.className="CodeMirror-lint-tooltip cm-s-"+A.options.theme,U.appendChild(k.cloneNode(!0)),A.state.lint.options.selfContain?A.getWrapperElement().appendChild(U):document.body.appendChild(U);function N(I){if(!U.parentNode)return n.off(document,"mousemove",N);U.style.top=Math.max(0,I.clientY-U.offsetHeight-5)+"px",U.style.left=I.clientX+5+"px"}return n.on(document,"mousemove",N),N(L),U.style.opacity!=null&&(U.style.opacity=1),U}function a(A){A.parentNode&&A.parentNode.removeChild(A)}function l(A){!A.parentNode||(A.style.opacity==null&&a(A),A.style.opacity=0,setTimeout(function(){a(A)},600))}function c(A,L,k,U){var N=s(A,L,k);function I(){n.off(U,"mouseout",I),N&&(l(N),N=null)}var F=setInterval(function(){if(N)for(var O=U;;O=O.parentNode){if(O&&O.nodeType==11&&(O=O.host),O==document.body)return;if(!O){I();break}}if(!N)return clearInterval(F)},400);n.on(U,"mouseout",I)}function u(A,L,k){this.marked=[],L instanceof Function&&(L={getAnnotations:L}),(!L||L===!0)&&(L={}),this.options={},this.linterOptions=L.options||{};for(var U in d)this.options[U]=d[U];for(var U in L)d.hasOwnProperty(U)?L[U]!=null&&(this.options[U]=L[U]):L.options||(this.linterOptions[U]=L[U]);this.timeout=null,this.hasGutter=k,this.onMouseOver=function(N){R(A,N)},this.waitingFor=0}var d={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function f(A){var L=A.state.lint;L.hasGutter&&A.clearGutter(i),L.options.highlightLines&&h(A);for(var k=0;k<L.marked.length;++k)L.marked[k].clear();L.marked.length=0}function h(A){A.eachLine(function(L){var k=L.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(L.wrapClass);k&&A.removeLineClass(L,"wrap",k[0])})}function v(A,L,k,U,N){var I=document.createElement("div"),F=I;return I.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+k,U&&(F=I.appendChild(document.createElement("div")),F.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),N!=!1&&n.on(F,"mouseover",function(O){c(A,O,L,F)}),I}function m(A,L){return A=="error"?A:L}function _(A){for(var L=[],k=0;k<A.length;++k){var U=A[k],N=U.from.line;(L[N]||(L[N]=[])).push(U)}return L}function S(A){var L=A.severity;L||(L="error");var k=document.createElement("div");return k.className="CodeMirror-lint-message CodeMirror-lint-message-"+L,typeof A.messageHTML!="undefined"?k.innerHTML=A.messageHTML:k.appendChild(document.createTextNode(A.message)),k}function E(A,L){var k=A.state.lint,U=++k.waitingFor;function N(){U=-1,A.off("change",N)}A.on("change",N),L(A.getValue(),function(I,F){A.off("change",N),k.waitingFor==U&&(F&&I instanceof n&&(I=F),A.operation(function(){T(A,I)}))},k.linterOptions,A)}function w(A){var L=A.state.lint;if(!!L){var k=L.options,U=k.getAnnotations||A.getHelper(n.Pos(0,0),"lint");if(!!U)if(k.async||U.async)E(A,U);else{var N=U(A.getValue(),L.linterOptions,A);if(!N)return;N.then?N.then(function(I){A.operation(function(){T(A,I)})}):A.operation(function(){T(A,N)})}}}function T(A,L){var k=A.state.lint;if(!!k){var U=k.options;f(A);for(var N=_(L),I=0;I<N.length;++I){var F=N[I];if(!!F){var O=[];F=F.filter(function(G){return O.indexOf(G.message)>-1?!1:O.push(G.message)});for(var V=null,z=k.hasGutter&&document.createDocumentFragment(),B=0;B<F.length;++B){var H=F[B],W=H.severity;W||(W="error"),V=m(V,W),U.formatAnnotation&&(H=U.formatAnnotation(H)),k.hasGutter&&z.appendChild(S(H)),H.to&&k.marked.push(A.markText(H.from,H.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+W,__annotation:H}))}k.hasGutter&&A.setGutterMarker(I,i,v(A,z,V,N[I].length>1,U.tooltips)),U.highlightLines&&A.addLineClass(I,"wrap",o+V)}}U.onUpdateLinting&&U.onUpdateLinting(L,N,A)}}function C(A){var L=A.state.lint;!L||(clearTimeout(L.timeout),L.timeout=setTimeout(function(){w(A)},L.options.delay))}function P(A,L,k){for(var U=k.target||k.srcElement,N=document.createDocumentFragment(),I=0;I<L.length;I++){var F=L[I];N.appendChild(S(F))}c(A,k,N,U)}function R(A,L){var k=L.target||L.srcElement;if(!!/\bCodeMirror-lint-mark-/.test(k.className)){for(var U=k.getBoundingClientRect(),N=(U.left+U.right)/2,I=(U.top+U.bottom)/2,F=A.findMarksAt(A.coordsChar({left:N,top:I},"client")),O=[],V=0;V<F.length;++V){var z=F[V].__annotation;z&&O.push(z)}O.length&&P(A,O,L)}}n.defineOption("lint",!1,function(A,L,k){if(k&&k!=n.Init&&(f(A),A.state.lint.options.lintOnChange!==!1&&A.off("change",C),n.off(A.getWrapperElement(),"mouseover",A.state.lint.onMouseOver),clearTimeout(A.state.lint.timeout),delete A.state.lint),L){for(var U=A.getOption("gutters"),N=!1,I=0;I<U.length;++I)U[I]==i&&(N=!0);var F=A.state.lint=new u(A,L,N);F.options.lintOnChange&&A.on("change",C),F.options.tooltips!=!1&&F.options.tooltips!="gutter"&&n.on(A.getWrapperElement(),"mouseover",F.onMouseOver),w(A)}}),n.defineExtension("performLint",function(){w(this)})})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){function i(s,a){if(!window.JSHINT)return window.console&&window.console.error("Error: window.JSHINT not defined, CodeMirror JavaScript linting cannot run."),[];a.indent||(a.indent=1),JSHINT(s,a,a.globals);var l=JSHINT.data().errors,c=[];return l&&o(l,c),c}n.registerHelper("lint","javascript",i);function o(s,a){for(var l=0;l<s.length;l++){var c=s[l];if(c){if(c.line<=0){window.console&&window.console.warn("Cannot display JSHint error (invalid line "+c.line+")",c);continue}var u=c.character-1,d=u+1;if(c.evidence){var f=c.evidence.substring(u).search(/.\b/);f>-1&&(d+=f)}var h={message:c.reason,severity:c.code&&c.code.startsWith("W")?"warning":"error",from:n.Pos(c.line-1,u),to:n.Pos(c.line-1,d)};a.push(h)}}}})})();var UI={},E2={};Object.defineProperty(E2,"__esModule",{value:!0});var Uee=function(){function t(){this._listeners={},this._mapCdataTags=this.makeMap("script,style"),this._arrBlocks=[],this.lastEvent=null}return t.prototype.makeMap=function(e){for(var n={},i=e.split(","),o=0;o<i.length;o++)n[i[o]]=!0;return n},t.prototype.parse=function(e){var n=this,i=this._mapCdataTags,o=/<(?:\/([^\s>]+)\s*|!--([\s\S]*?)--|!([^>]*?)|([\w\-:]+)((?:\s+[^\s"'>\/=\x00-\x0F\x7F\x80-\x9F]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'>]*))?)*?)\s*(\/?))>/g,s=/\s*([^\s"'>\/=\x00-\x0F\x7F\x80-\x9F]+)(?:\s*=\s*(?:(")([^"]*)"|(')([^']*)'|([^\s"'>]*)))?/g,a=/\r?\n/g,l,c,u=0,d,f,h=null,v,m=[],_=0,S,E=0,w=1,T=this._arrBlocks;this.fire("start",{pos:0,line:1,col:1});for(var C=function(){var I=f.find(function(F){return F.name==="type"})||{value:""};return i[d]&&I.value.indexOf("text/ng-template")===-1},P=function(I,F,O,V){var z=O-E+1;for(V===void 0&&(V={}),V.raw=F,V.pos=O,V.line=w,V.col=z,T.push(V),n.fire(I,V);a.exec(F);)w++,E=O+a.lastIndex};l=o.exec(e);){if(c=l.index,c>u&&(S=e.substring(u,c),h?m.push(S):P("text",S,u)),u=o.lastIndex,(d=l[1])&&(h&&d===h&&(S=m.join(""),P("cdata",S,_,{tagName:h,attrs:v}),h=null,v=void 0,m=[]),!h)){P("tagend",l[0],c,{tagName:d});continue}if(h)m.push(l[0]);else if(d=l[4]){f=[];for(var R=l[5],A=void 0,L=0;A=s.exec(R);){var k=A[1],U=A[2]?A[2]:A[4]?A[4]:"",N=A[3]?A[3]:A[5]?A[5]:A[6]?A[6]:"";f.push({name:k,value:N,quote:U,index:A.index,raw:A[0]}),L+=A[0].length}L===R.length?(P("tagstart",l[0],c,{tagName:d,attrs:f,close:l[6]}),C()&&(h=d,v=f.concat(),m=[],_=u)):P("text",l[0],c)}else(l[2]||l[3])&&P("comment",l[0],c,{content:l[2]||l[3],long:!!l[2]})}e.length>u&&(S=e.substring(u,e.length),P("text",S,u)),this.fire("end",{pos:u,line:w,col:e.length-E+1})},t.prototype.addListener=function(e,n){for(var i=this._listeners,o=e.split(/[,\s]/),s,a=0,l=o.length;a<l;a++)s=o[a],i[s]===void 0&&(i[s]=[]),i[s].push(n)},t.prototype.fire=function(e,n){n===void 0&&(n={}),n.type=e;var i=[],o=this._listeners[e],s=this._listeners.all;o!==void 0&&(i=i.concat(o)),s!==void 0&&(i=i.concat(s));var a=this.lastEvent;a!==null&&(delete a.lastEvent,n.lastEvent=a),this.lastEvent=n;for(var l=0,c=i.length;l<c;l++)i[l].call(this,n)},t.prototype.removeListener=function(e,n){var i=this._listeners[e];if(i!==void 0){for(var o=0,s=i.length;o<s;o++)if(i[o]===n){i.splice(o,1);break}}},t.prototype.fixPos=function(e,n){var i=e.raw.substr(0,n),o=i.split(/\r?\n/),s=o.length-1,a=e.line,l;return s>0?(a+=s,l=o[s].length+1):l=e.col+n,{line:a,col:l}},t.prototype.getMapAttrs=function(e){for(var n={},i,o=0,s=e.length;o<s;o++)i=e[o],n[i.name]=i.value;return n},t}();E2.default=Uee;var w2={};Object.defineProperty(w2,"__esModule",{value:!0});var jee=function(){function t(e,n){this.html=e,this.lines=e.split(/\r?\n/);var i=/\r?\n/.exec(e);this.brLen=i!==null?i[0].length:0,this.ruleset=n,this.messages=[]}return t.prototype.info=function(e,n,i,o,s){this.report("info",e,n,i,o,s)},t.prototype.warn=function(e,n,i,o,s){this.report("warning",e,n,i,o,s)},t.prototype.error=function(e,n,i,o,s){this.report("error",e,n,i,o,s)},t.prototype.report=function(e,n,i,o,s,a){for(var l=this.lines,c=this.brLen,u="",d=0,f=i-1,h=l.length;f<h&&(u=l[f],d=u.length,o>d&&i<h);f++)i++,o-=d,o!==1&&(o-=c);this.messages.push({type:e,message:n,raw:a,evidence:u,line:i,col:o,rule:{id:s.id,description:s.description,link:"https://github.com/thedaviddias/HTMLHint/wiki/"+s.id}})},t}();w2.default=jee;var jI={},x2={};Object.defineProperty(x2,"__esModule",{value:!0});x2.default={id:"alt-require",description:"The alt attribute of an <img> element must be present and alt attribute of area[href] and input[type=image] must have a value.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){var o=i.tagName.toLowerCase(),s=t.getMapAttrs(i.attrs),a=i.col+o.length+1,l;o==="img"&&!("alt"in s)?e.warn("An alt attribute must be present on <img> elements.",i.line,a,n,i.raw):(o==="area"&&"href"in s||o==="input"&&s.type==="image")&&(!("alt"in s)||s.alt==="")&&(l=o==="area"?"area[href]":"input[type=image]",e.warn("The alt attribute of "+l+" must have a value.",i.line,a,n,i.raw))})}};var S2={};Object.defineProperty(S2,"__esModule",{value:!0});function Bee(t,e){if(e instanceof RegExp)return e.test(t)?{match:t,pattern:e}:!1;var n=e[0],i=e[e.length-1],o=e[e.length-2],s=n==="/"&&(i==="/"||o==="/"&&i==="i"),a=s&&i==="i";if(s){var l=a?new RegExp(e.slice(1,-2),"i").test(t):new RegExp(e.slice(1,-1)).test(t);return l}return t===e}S2.default={id:"attr-lowercase",description:"All attribute names must be in lowercase.",init:function(t,e,n){var i=this,o=Array.isArray(n)?n:[];t.addListener("tagstart",function(s){for(var a=s.attrs,l,c=s.col+s.tagName.length+1,u=function(h,v){l=a[h];var m=l.name;!o.find(function(_){return Bee(m,_)})&&m!==m.toLowerCase()&&e.error("The attribute name of [ "+m+" ] must be in lowercase.",s.line,c+l.index,i,l.raw)},d=0,f=a.length;d<f;d++)u(d)})}};var T2={};Object.defineProperty(T2,"__esModule",{value:!0});T2.default={id:"attr-sorted",description:"Attribute tags must be in proper order.",init:function(t,e){for(var n=this,i={},o=["class","id","name","src","for","type","href","value","title","alt","role"],s=0;s<o.length;s++)i[o[s]]=s;t.addListener("tagstart",function(a){for(var l=a.attrs,c=[],u=0;u<l.length;u++)c.push(l[u].name);var d=JSON.stringify(c);c.sort(function(f,h){return i[f]==null&&i[h]==null?0:i[f]==null?1:i[h]==null?-1:i[f]-i[h]||f.localeCompare(h)}),d!==JSON.stringify(c)&&e.error("Inaccurate order "+d+" should be in hierarchy "+JSON.stringify(c)+" ",a.line,a.col,n,a.raw)})}};var C2={};Object.defineProperty(C2,"__esModule",{value:!0});C2.default={id:"attr-no-duplication",description:"Elements cannot have duplicate attributes.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.attrs,s,a,l=i.col+i.tagName.length+1,c={},u=0,d=o.length;u<d;u++)s=o[u],a=s.name,c[a]===!0&&e.error("Duplicate of attribute name [ "+s.name+" ] was found.",i.line,l+s.index,n,s.raw),c[a]=!0})}};var M2={};Object.defineProperty(M2,"__esModule",{value:!0});M2.default={id:"attr-unsafe-chars",description:"Attribute values cannot contain unsafe chars.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.attrs,s,a=i.col+i.tagName.length+1,l=/[\u0000-\u0008\u000b\u000c\u000e-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,c,u=0,d=o.length;u<d;u++)if(s=o[u],c=l.exec(s.value),c!==null){var f=escape(c[0]).replace(/%u/,"\\u").replace(/%/,"\\x");e.warn("The value of attribute [ "+s.name+" ] cannot contain an unsafe char [ "+f+" ].",i.line,a+s.index,n,s.raw)}})}};var A2={};Object.defineProperty(A2,"__esModule",{value:!0});A2.default={id:"attr-value-double-quotes",description:"Attribute values must be in double quotes.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.attrs,s,a=i.col+i.tagName.length+1,l=0,c=o.length;l<c;l++)s=o[l],(s.value!==""&&s.quote!=='"'||s.value===""&&s.quote==="'")&&e.error("The value of attribute [ "+s.name+" ] must be in double quotes.",i.line,a+s.index,n,s.raw)})}};var P2={};Object.defineProperty(P2,"__esModule",{value:!0});P2.default={id:"attr-value-not-empty",description:"All attributes must have values.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.attrs,s,a=i.col+i.tagName.length+1,l=0,c=o.length;l<c;l++)s=o[l],s.quote===""&&s.value===""&&e.warn("The attribute [ "+s.name+" ] must have a value.",i.line,a+s.index,n,s.raw)})}};var R2={};Object.defineProperty(R2,"__esModule",{value:!0});R2.default={id:"attr-value-single-quotes",description:"Attribute values must be in single quotes.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.attrs,s,a=i.col+i.tagName.length+1,l=0,c=o.length;l<c;l++)s=o[l],(s.value!==""&&s.quote!=="'"||s.value===""&&s.quote==='"')&&e.error("The value of attribute [ "+s.name+" ] must be in single quotes.",i.line,a+s.index,n,s.raw)})}};var L2={};Object.defineProperty(L2,"__esModule",{value:!0});L2.default={id:"attr-whitespace",description:"All attributes should be separated by only one space and not have leading/trailing whitespace.",init:function(t,e,n){var i=this,o=Array.isArray(n)?n:[];t.addListener("tagstart",function(s){var a=s.attrs,l,c=s.col+s.tagName.length+1;a.forEach(function(u){l=u;var d=u.name;o.indexOf(d)===-1&&(u.value.trim()!==u.value&&e.error("The attributes of [ "+d+" ] must not have trailing whitespace.",s.line,c+l.index,i,l.raw),u.value.replace(/ +(?= )/g,"")!==u.value&&e.error("The attributes of [ "+d+" ] must be separated by only one space.",s.line,c+l.index,i,l.raw))})})}};var I2={};Object.defineProperty(I2,"__esModule",{value:!0});I2.default={id:"doctype-first",description:"Doctype must be declared first.",init:function(t,e){var n=this,i=function(o){o.type==="start"||o.type==="text"&&/^\s*$/.test(o.raw)||((o.type!=="comment"&&o.long===!1||/^DOCTYPE\s+/i.test(o.content)===!1)&&e.error("Doctype must be declared first.",o.line,o.col,n,o.raw),t.removeListener("all",i))};t.addListener("all",i)}};var O2={};Object.defineProperty(O2,"__esModule",{value:!0});O2.default={id:"doctype-html5",description:'Invalid doctype. Use: "<!DOCTYPE html>"',init:function(t,e){var n=this,i=function(s){s.long===!1&&s.content.toLowerCase()!=="doctype html"&&e.warn('Invalid doctype. Use: "<!DOCTYPE html>"',s.line,s.col,n,s.raw)},o=function(){t.removeListener("comment",i),t.removeListener("tagstart",o)};t.addListener("all",i),t.addListener("tagstart",o)}};var N2={};Object.defineProperty(N2,"__esModule",{value:!0});N2.default={id:"head-script-disabled",description:"The <script> tag cannot be used in a <head> tag.",init:function(t,e){var n=this,i=/^(text\/javascript|application\/javascript)$/i,o=!1,s=function(l){var c=t.getMapAttrs(l.attrs),u=c.type,d=l.tagName.toLowerCase();d==="head"&&(o=!0),o===!0&&d==="script"&&(!u||i.test(u)===!0)&&e.warn("The <script> tag cannot be used in a <head> tag.",l.line,l.col,n,l.raw)},a=function(l){l.tagName.toLowerCase()==="head"&&(t.removeListener("tagstart",s),t.removeListener("tagend",a))};t.addListener("tagstart",s),t.addListener("tagend",a)}};var k2={};Object.defineProperty(k2,"__esModule",{value:!0});k2.default={id:"href-abs-or-rel",description:"An href attribute must be either absolute or relative.",init:function(t,e,n){var i=this,o=n==="abs"?"absolute":"relative";t.addListener("tagstart",function(s){for(var a=s.attrs,l,c=s.col+s.tagName.length+1,u=0,d=a.length;u<d;u++)if(l=a[u],l.name==="href"){(o==="absolute"&&/^\w+?:/.test(l.value)===!1||o==="relative"&&/^https?:\/\//.test(l.value)===!0)&&e.warn("The value of the href attribute [ "+l.value+" ] must be "+o+".",s.line,c+l.index,i,l.raw);break}})}};var D2={};Object.defineProperty(D2,"__esModule",{value:!0});var Vee="(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)",Hee="(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)",zee="(?<grandfathered>"+Hee+"|"+Vee+")",Gee="(?<privateUse>x(-[A-Za-z0-9]{1,8})+)",$ee="(?<privateUse2>x(-[A-Za-z0-9]{1,8})+)",Wee="[0-9A-WY-Za-wy-z]",qee="(?<extension>"+Wee+"(-[A-Za-z0-9]{2,8})+)",Yee="(?<variant>[A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3})",Kee="(?<region>[A-Za-z]{2}|[0-9]{3})",Xee="(?<script>[A-Za-z]{4})",Jee="(?<extlang>[A-Za-z]{3}(-[A-Za-z]{3}){0,2})",Zee="(?<language>([A-Za-z]{2,3}(-"+Jee+")?)|[A-Za-z]{4}|[A-Za-z]{5,8})",Qee="("+Zee+"(-"+Xee+")?"+("(-"+Kee+")?")+("(-"+Yee+")*")+("(-"+qee+")*")+("(-"+Gee+")?")+")",ete="("+zee+"|"+Qee+"|"+$ee+")";D2.default={id:"html-lang-require",description:"The lang attribute of an <html> element must be present and should be valid.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){var o=i.tagName.toLowerCase(),s=t.getMapAttrs(i.attrs),a=i.col+o.length+1,l=new RegExp(ete,"g");o==="html"&&("lang"in s?s.lang?l.test(s.lang)||e.warn("The lang attribute value of <html> element must be a valid BCP47.",i.line,a,n,i.raw):e.warn("The lang attribute of <html> element must have a value.",i.line,a,n,i.raw):e.warn("An lang attribute must be present on <html> elements.",i.line,a,n,i.raw))})}};var F2={};Object.defineProperty(F2,"__esModule",{value:!0});F2.default={id:"id-class-ad-disabled",description:"The id and class attributes cannot use the ad keyword, it will be blocked by adblock software.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.attrs,s,a,l=i.col+i.tagName.length+1,c=0,u=o.length;c<u;c++)s=o[c],a=s.name,/^(id|class)$/i.test(a)&&/(^|[-_])ad([-_]|$)/i.test(s.value)&&e.warn("The value of attribute "+a+" cannot use the ad keyword.",i.line,l+s.index,n,s.raw)})}};var U2={};Object.defineProperty(U2,"__esModule",{value:!0});U2.default={id:"id-class-value",description:"The id and class attribute values must meet the specified rules.",init:function(t,e,n){var i=this,o={underline:{regId:/^[a-z\d]+(_[a-z\d]+)*$/,message:"The id and class attribute values must be in lowercase and split by an underscore."},dash:{regId:/^[a-z\d]+(-[a-z\d]+)*$/,message:"The id and class attribute values must be in lowercase and split by a dash."},hump:{regId:/^[a-z][a-zA-Z\d]*([A-Z][a-zA-Z\d]*)*$/,message:"The id and class attribute values must meet the camelCase style."}},s;if(typeof n=="string"?s=o[n]:s=n,typeof s=="object"&&s.regId){var a=s.regId,l=s.message;a instanceof RegExp||(a=new RegExp(a)),t.addListener("tagstart",function(c){for(var u=c.attrs,d,f=c.col+c.tagName.length+1,h=0,v=u.length;h<v;h++)if(d=u[h],d.name.toLowerCase()==="id"&&a.test(d.value)===!1&&e.warn(l,c.line,f+d.index,i,d.raw),d.name.toLowerCase()==="class")for(var m=d.value.split(/\s+/g),_=void 0,S=0,E=m.length;S<E;S++)_=m[S],_&&a.test(_)===!1&&e.warn(l,c.line,f+d.index,i,_)})}}};var j2={};Object.defineProperty(j2,"__esModule",{value:!0});j2.default={id:"id-unique",description:"The value of id attributes must be unique.",init:function(t,e){var n=this,i={};t.addListener("tagstart",function(o){for(var s=o.attrs,a,l,c=o.col+o.tagName.length+1,u=0,d=s.length;u<d;u++)if(a=s[u],a.name.toLowerCase()==="id"){l=a.value,l&&(i[l]===void 0?i[l]=1:i[l]++,i[l]>1&&e.error("The id value [ "+l+" ] must be unique.",o.line,c+a.index,n,a.raw));break}})}};var B2={};Object.defineProperty(B2,"__esModule",{value:!0});B2.default={id:"inline-script-disabled",description:"Inline script cannot be used.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.attrs,s,a=i.col+i.tagName.length+1,l,c=/^on(unload|message|submit|select|scroll|resize|mouseover|mouseout|mousemove|mouseleave|mouseenter|mousedown|load|keyup|keypress|keydown|focus|dblclick|click|change|blur|error)$/i,u=0,d=o.length;u<d;u++)s=o[u],l=s.name.toLowerCase(),(c.test(l)===!0||(l==="src"||l==="href")&&/^\s*javascript:/i.test(s.value))&&e.warn("Inline script [ "+s.raw+" ] cannot be used.",i.line,a+s.index,n,s.raw)})}};var V2={};Object.defineProperty(V2,"__esModule",{value:!0});V2.default={id:"inline-style-disabled",description:"Inline style cannot be used.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.attrs,s,a=i.col+i.tagName.length+1,l=0,c=o.length;l<c;l++)s=o[l],s.name.toLowerCase()==="style"&&e.warn("Inline style [ "+s.raw+" ] cannot be used.",i.line,a+s.index,n,s.raw)})}};var H2={};Object.defineProperty(H2,"__esModule",{value:!0});H2.default={id:"input-requires-label",description:"All [ input ] tags must have a corresponding [ label ] tag. ",init:function(t,e){var n=this,i=[],o=[];t.addListener("tagstart",function(a){var l=a.tagName.toLowerCase(),c=t.getMapAttrs(a.attrs),u=a.col+l.length+1;l==="input"&&o.push({event:a,col:u,id:c.id}),l==="label"&&"for"in c&&c.for!==""&&i.push({event:a,col:u,forValue:c.for})}),t.addListener("end",function(){o.forEach(function(a){s(a)||e.warn("No matching [ label ] tag found.",a.event.line,a.col,n,a.event.raw)})});function s(a){var l=!1;return i.forEach(function(c){a.id&&a.id===c.forValue&&(l=!0)}),l}}};var z2={};Object.defineProperty(z2,"__esModule",{value:!0});z2.default={id:"script-disabled",description:"The <script> tag cannot be used.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){i.tagName.toLowerCase()==="script"&&e.error("The <script> tag cannot be used.",i.line,i.col,n,i.raw)})}};var G2={};Object.defineProperty(G2,"__esModule",{value:!0});G2.default={id:"space-tab-mixed-disabled",description:"Do not mix tabs and spaces for indentation.",init:function(t,e,n){var i=this,o="nomix",s=null;if(typeof n=="string"){var a=/^([a-z]+)(\d+)?/.exec(n);a&&(o=a[1],s=a[2]&&parseInt(a[2],10))}t.addListener("text",function(l){for(var c=l.raw,u=/(^|\r?\n)([ \t]+)/g,d;d=u.exec(c);){var f=t.fixPos(l,d.index+d[1].length);if(f.col===1){var h=d[2];o==="space"?s?(/^ +$/.test(h)===!1||h.length%s!=0)&&e.warn("Please use space for indentation and keep "+s+" length.",f.line,1,i,l.raw):/^ +$/.test(h)===!1&&e.warn("Please use space for indentation.",f.line,1,i,l.raw):o==="tab"&&/^\t+$/.test(h)===!1?e.warn("Please use tab for indentation.",f.line,1,i,l.raw):/ +\t|\t+ /.test(h)===!0&&e.warn("Do not mix tabs and spaces for indentation.",f.line,1,i,l.raw)}}})}};var $2={};Object.defineProperty($2,"__esModule",{value:!0});$2.default={id:"spec-char-escape",description:"Special characters must be escaped.",init:function(t,e){var n=this;t.addListener("text",function(i){for(var o=i.raw,s=/([<>])|( \& )/g,a;a=s.exec(o);){var l=t.fixPos(i,a.index);e.error("Special characters must be escaped : [ "+a[0]+" ].",l.line,l.col,n,i.raw)}})}};var W2={};Object.defineProperty(W2,"__esModule",{value:!0});W2.default={id:"src-not-empty",description:"The src attribute of an img(script,link) must have a value.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){for(var o=i.tagName,s=i.attrs,a,l=i.col+o.length+1,c=0,u=s.length;c<u;c++)a=s[c],(/^(img|script|embed|bgsound|iframe)$/.test(o)===!0&&a.name==="src"||o==="link"&&a.name==="href"||o==="object"&&a.name==="data")&&a.value===""&&e.error("The attribute [ "+a.name+" ] of the tag [ "+o+" ] must have a value.",i.line,l+a.index,n,a.raw)})}};var q2={};Object.defineProperty(q2,"__esModule",{value:!0});q2.default={id:"style-disabled",description:"<style> tags cannot be used.",init:function(t,e){var n=this;t.addListener("tagstart",function(i){i.tagName.toLowerCase()==="style"&&e.warn("The <style> tag cannot be used.",i.line,i.col,n,i.raw)})}};var Y2={};Object.defineProperty(Y2,"__esModule",{value:!0});Y2.default={id:"tag-pair",description:"Tag must be paired.",init:function(t,e){var n=this,i=[],o=t.makeMap("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,track,command,source,keygen,wbr");t.addListener("tagstart",function(s){var a=s.tagName.toLowerCase();o[a]===void 0&&!s.close&&i.push({tagName:a,line:s.line,raw:s.raw})}),t.addListener("tagend",function(s){var a=s.tagName.toLowerCase(),l;for(l=i.length-1;l>=0&&i[l].tagName!==a;l--);if(l>=0){for(var c=[],u=i.length-1;u>l;u--)c.push("</"+i[u].tagName+">");if(c.length>0){var d=i[i.length-1];e.error("Tag must be paired, missing: [ "+c.join("")+" ], start tag match failed [ "+d.raw+" ] on line "+d.line+".",s.line,s.col,n,s.raw)}i.length=l}else e.error("Tag must be paired, no start tag: [ "+s.raw+" ]",s.line,s.col,n,s.raw)}),t.addListener("end",function(s){for(var a=[],l=i.length-1;l>=0;l--)a.push("</"+i[l].tagName+">");if(a.length>0){var c=i[i.length-1];e.error("Tag must be paired, missing: [ "+a.join("")+" ], open tag match failed [ "+c.raw+" ] on line "+c.line+".",s.line,s.col,n,"")}})}};var K2={};Object.defineProperty(K2,"__esModule",{value:!0});K2.default={id:"tag-self-close",description:"Empty tags must be self closed.",init:function(t,e){var n=this,i=t.makeMap("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,track,command,source,keygen,wbr");t.addListener("tagstart",function(o){var s=o.tagName.toLowerCase();i[s]!==void 0&&(o.close||e.warn("The empty tag : [ "+s+" ] must be self closed.",o.line,o.col,n,o.raw))})}};var X2={};Object.defineProperty(X2,"__esModule",{value:!0});X2.default={id:"tagname-lowercase",description:"All html element names must be in lowercase.",init:function(t,e,n){var i=this,o=Array.isArray(n)?n:[];t.addListener("tagstart,tagend",function(s){var a=s.tagName;o.indexOf(a)===-1&&a!==a.toLowerCase()&&e.error("The html element name of [ "+a+" ] must be in lowercase.",s.line,s.col,i,s.raw)})}};var J2={};Object.defineProperty(J2,"__esModule",{value:!0});J2.default={id:"tagname-specialchars",description:"All html element names must be in lowercase.",init:function(t,e){var n=this,i=/[^a-zA-Z0-9\-:_]/;t.addListener("tagstart,tagend",function(o){var s=o.tagName;i.test(s)&&e.error("The html element name of [ "+s+" ] contains special character.",o.line,o.col,n,o.raw)})}};var Z2={};Object.defineProperty(Z2,"__esModule",{value:!0});Z2.default={id:"title-require",description:"<title> must be present in <head> tag.",init:function(t,e){var n=this,i=!1,o=!1,s=function(l){var c=l.tagName.toLowerCase();c==="head"?i=!0:c==="title"&&i&&(o=!0)},a=function(l){var c=l.tagName.toLowerCase();if(o&&c==="title"){var u=l.lastEvent;(u.type!=="text"||u.type==="text"&&/^\s*$/.test(u.raw)===!0)&&e.error("<title></title> must not be empty.",l.line,l.col,n,l.raw)}else c==="head"&&(o===!1&&e.error("<title> must be present in <head> tag.",l.line,l.col,n,l.raw),t.removeListener("tagstart",s),t.removeListener("tagend",a))};t.addListener("tagstart",s),t.addListener("tagend",a)}};var Q2={},Yv=Wt&&Wt.__assign||function(){return Yv=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Yv.apply(this,arguments)};Object.defineProperty(Q2,"__esModule",{value:!0});var Kv={a:{selfclosing:!1,attrsRequired:["href","title"],redundantAttrs:["alt"]},div:{selfclosing:!1},main:{selfclosing:!1,redundantAttrs:["role"]},nav:{selfclosing:!1,redundantAttrs:["role"]},script:{attrsOptional:[["async","async"],["defer","defer"]]},img:{selfclosing:!0,attrsRequired:["src","alt","title"]}};Q2.default={id:"tags-check",description:"Checks html tags.",init:function(t,e,n){var i=this;Kv=Yv(Yv({},Kv),n),t.addListener("tagstart",function(o){var s=o.attrs,a=o.col+o.tagName.length+1,l=o.tagName.toLowerCase();if(Kv[l]){var c=Kv[l];if(c.selfclosing===!0&&!o.close?e.warn("The <"+l+"> tag must be selfclosing.",o.line,o.col,i,o.raw):c.selfclosing===!1&&o.close&&e.warn("The <"+l+"> tag must not be selfclosing.",o.line,o.col,i,o.raw),Array.isArray(c.attrsRequired)){var u=c.attrsRequired;u.forEach(function(h){if(Array.isArray(h)){var v=h.map(function(S){return S}),m=v.shift(),_=v;s.some(function(S){return S.name===m})?s.forEach(function(S){S.name===m&&_.indexOf(S.value)===-1&&e.error("The <"+l+"> tag must have attr '"+m+"' with one value of '"+_.join("' or '")+"'.",o.line,a,i,o.raw)}):e.error("The <"+l+"> tag must have attr '"+m+"'.",o.line,a,i,o.raw)}else s.some(function(S){return h.split("|").indexOf(S.name)!==-1})||e.error("The <"+l+"> tag must have attr '"+h+"'.",o.line,a,i,o.raw)})}if(Array.isArray(c.attrsOptional)){var d=c.attrsOptional;d.forEach(function(h){if(Array.isArray(h)){var v=h.map(function(S){return S}),m=v.shift(),_=v;s.some(function(S){return S.name===m})&&s.forEach(function(S){S.name===m&&_.indexOf(S.value)===-1&&e.error("The <"+l+"> tag must have optional attr '"+m+"' with one value of '"+_.join("' or '")+"'.",o.line,a,i,o.raw)})}})}if(Array.isArray(c.redundantAttrs)){var f=c.redundantAttrs;f.forEach(function(h){s.some(function(v){return v.name===h})&&e.error("The attr '"+h+"' is redundant for <"+l+"> and should be ommited.",o.line,a,i,o.raw)})}}})}};var ex={};Object.defineProperty(ex,"__esModule",{value:!0});ex.default={id:"attr-no-unnecessary-whitespace",description:"No spaces between attribute names and values.",init:function(t,e,n){var i=this,o=Array.isArray(n)?n:[];t.addListener("tagstart",function(s){for(var a=s.attrs,l=s.col+s.tagName.length+1,c=0;c<a.length;c++)if(o.indexOf(a[c].name)===-1){var u=/(\s*)=(\s*)/.exec(a[c].raw.trim());u&&(u[1].length!==0||u[2].length!==0)&&e.error("The attribute '"+a[c].name+"' must not have spaces between the name and value.",s.line,l+a[c].index,i,a[c].raw)}})}};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=x2;Object.defineProperty(t,"altRequire",{enumerable:!0,get:function(){return e.default}});var n=S2;Object.defineProperty(t,"attrLowercase",{enumerable:!0,get:function(){return n.default}});var i=T2;Object.defineProperty(t,"attrSort",{enumerable:!0,get:function(){return i.default}});var o=C2;Object.defineProperty(t,"attrNoDuplication",{enumerable:!0,get:function(){return o.default}});var s=M2;Object.defineProperty(t,"attrUnsafeChars",{enumerable:!0,get:function(){return s.default}});var a=A2;Object.defineProperty(t,"attrValueDoubleQuotes",{enumerable:!0,get:function(){return a.default}});var l=P2;Object.defineProperty(t,"attrValueNotEmpty",{enumerable:!0,get:function(){return l.default}});var c=R2;Object.defineProperty(t,"attrValueSingleQuotes",{enumerable:!0,get:function(){return c.default}});var u=L2;Object.defineProperty(t,"attrWhitespace",{enumerable:!0,get:function(){return u.default}});var d=I2;Object.defineProperty(t,"doctypeFirst",{enumerable:!0,get:function(){return d.default}});var f=O2;Object.defineProperty(t,"doctypeHTML5",{enumerable:!0,get:function(){return f.default}});var h=N2;Object.defineProperty(t,"headScriptDisabled",{enumerable:!0,get:function(){return h.default}});var v=k2;Object.defineProperty(t,"hrefAbsOrRel",{enumerable:!0,get:function(){return v.default}});var m=D2;Object.defineProperty(t,"htmlLangRequire",{enumerable:!0,get:function(){return m.default}});var _=F2;Object.defineProperty(t,"idClsasAdDisabled",{enumerable:!0,get:function(){return _.default}});var S=U2;Object.defineProperty(t,"idClassValue",{enumerable:!0,get:function(){return S.default}});var E=j2;Object.defineProperty(t,"idUnique",{enumerable:!0,get:function(){return E.default}});var w=B2;Object.defineProperty(t,"inlineScriptDisabled",{enumerable:!0,get:function(){return w.default}});var T=V2;Object.defineProperty(t,"inlineStyleDisabled",{enumerable:!0,get:function(){return T.default}});var C=H2;Object.defineProperty(t,"inputRequiresLabel",{enumerable:!0,get:function(){return C.default}});var P=z2;Object.defineProperty(t,"scriptDisabled",{enumerable:!0,get:function(){return P.default}});var R=G2;Object.defineProperty(t,"spaceTabMixedDisabled",{enumerable:!0,get:function(){return R.default}});var A=$2;Object.defineProperty(t,"specCharEscape",{enumerable:!0,get:function(){return A.default}});var L=W2;Object.defineProperty(t,"srcNotEmpty",{enumerable:!0,get:function(){return L.default}});var k=q2;Object.defineProperty(t,"styleDisabled",{enumerable:!0,get:function(){return k.default}});var U=Y2;Object.defineProperty(t,"tagPair",{enumerable:!0,get:function(){return U.default}});var N=K2;Object.defineProperty(t,"tagSelfClose",{enumerable:!0,get:function(){return N.default}});var I=X2;Object.defineProperty(t,"tagnameLowercase",{enumerable:!0,get:function(){return I.default}});var F=J2;Object.defineProperty(t,"tagnameSpecialChars",{enumerable:!0,get:function(){return F.default}});var O=Z2;Object.defineProperty(t,"titleRequire",{enumerable:!0,get:function(){return O.default}});var V=Q2;Object.defineProperty(t,"tagsCheck",{enumerable:!0,get:function(){return V.default}});var z=ex;Object.defineProperty(t,"attrNoUnnecessaryWhitespace",{enumerable:!0,get:function(){return z.default}})})(jI);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLParser=t.Reporter=t.HTMLRules=t.HTMLHint=void 0;var e=E2;t.HTMLParser=e.default;var n=w2;t.Reporter=n.default;var i=jI;t.HTMLRules=i;var o=function(){function a(){this.rules={},this.defaultRuleset={"tagname-lowercase":!0,"attr-lowercase":!0,"attr-value-double-quotes":!0,"doctype-first":!0,"tag-pair":!0,"spec-char-escape":!0,"id-unique":!0,"src-not-empty":!0,"attr-no-duplication":!0,"title-require":!0}}return a.prototype.addRule=function(l){this.rules[l.id]=l},a.prototype.verify=function(l,c){c===void 0&&(c=this.defaultRuleset),Object.keys(c).length===0&&(c=this.defaultRuleset),l=l.replace(/^\s*<!--\s*htmlhint\s+([^\r\n]+?)\s*-->/i,function(m,_){return _.replace(/(?:^|,)\s*([^:,]+)\s*(?:\:\s*([^,\s]+))?/g,function(S,E,w){return c[E]=w!==void 0&&w.length>0?JSON.parse(w):!0,""}),""});var u=new e.default,d=new n.default(l,c),f=this.rules,h;for(var v in c)h=f[v],h!==void 0&&c[v]!==!1&&h.init(u,d,c[v]);return u.parse(l),d.messages},a.prototype.format=function(l,c){c===void 0&&(c={});var u=[],d={white:"",grey:"",red:"",reset:""};c.colors&&(d.white="[37m",d.grey="[90m",d.red="[31m",d.reset="[39m");var f=c.indent||0;return l.forEach(function(h){var v=40,m=v+20,_=h.evidence,S=h.line,E=h.col,w=_.length,T=E>v+1?E-v:1,C=_.length>E+m?E+m:w;E<v+1&&(C+=v-E+1),_=_.replace(/\t/g," ").substring(T-1,C),T>1&&(_="..."+_,T-=3),C<w&&(_+="..."),u.push(d.white+s(f)+"L"+S+" |"+d.grey+_+d.reset);var P=E-T,R=_.substring(0,P).match(/[^\u0000-\u00ff]/g);R!==null&&(P+=R.length),u.push(d.white+s(f)+s(String(S).length+3+P)+"^ "+d.red+h.message+" ("+h.rule.id+")"+d.reset)}),u},a}();function s(a,l){return new Array(a+1).join(l||" ")}t.HTMLHint=new o,Object.keys(i).forEach(function(a){t.HTMLHint.addRule(i[a])})})(UI);(function(t,e){(function(n){n(Pn.exports,UI)})(function(n,i){var o={"tagname-lowercase":!0,"attr-lowercase":!0,"attr-value-double-quotes":!0,"doctype-first":!1,"tag-pair":!0,"spec-char-escape":!0,"id-unique":!0,"src-not-empty":!0,"attr-no-duplication":!0};n.registerHelper("lint","html",function(s,a){var l=[];if(i&&!i.verify&&(typeof i.default!="undefined"?i=i.default:i=i.HTMLHint),i||(i=window.HTMLHint),!i)return window.console&&window.console.error("Error: HTMLHint not found, not defined on window, or not available through define/require, CodeMirror HTML linting cannot run."),l;for(var c=i.verify(s,a&&a.rules||o),u=0;u<c.length;u++){var d=c[u],f=d.line-1,h=d.line-1,v=d.col-1,m=d.col;l.push({from:n.Pos(f,v),to:n.Pos(h,m),message:d.message,severity:d.type})}return l})})})();(function(t,e){(function(n){n(Pn.exports)})(function(n){n.registerHelper("lint","json",function(i){var o=[];if(!window.jsonlint)return window.console&&window.console.error("Error: window.jsonlint not defined, CodeMirror JSON linting cannot run."),o;var s=window.jsonlint.parser||window.jsonlint;s.parseError=function(a,l){var c=l.loc;o.push({from:n.Pos(c.first_line-1,c.first_column),to:n.Pos(c.last_line-1,c.last_column),message:a})};try{s.parse(i)}catch{}return o})})})();function BI(t,e){var n=t.line-1,i=e?t.column:t.column+1;return t.node&&t.node.loc&&(n=e?t.node.loc.start.line-1:t.node.loc.end.line-1,i=e?t.node.loc.start.column:t.node.loc.end.column),st.Pos(n,i-1)}st.registerHelper("lint","css",async function(t,e){var n=[];if(!window.stylelint)return window.console&&window.console.error("Error: window.stylelint not defined, CodeMirror CSS linting cannot run."),n;const i={rules:{"at-rule-no-unknown":!0,"block-no-empty":!0,"color-no-invalid-hex":!0,"comment-no-empty":!0,"font-family-no-duplicate-names":!0,"font-family-no-missing-generic-family-keyword":!0,"function-calc-no-invalid":!0,"function-calc-no-unspaced-operator":!0,"function-linear-gradient-no-nonstandard-direction":!0,"keyframe-declaration-no-important":!0,"media-feature-name-no-unknown":!0,"no-descending-specificity":!0,"no-duplicate-at-import-rules":!0,"no-duplicate-selectors":!0,"no-empty-source":!0,"no-extra-semicolons":!0,"no-invalid-double-slash-comments":!0,"property-no-unknown":!0,"selector-pseudo-class-no-unknown":!0,"selector-pseudo-element-no-unknown":!0,"string-no-newline":!0,"unit-no-unknown":!0,"color-hex-length":"long"}},s=await(await window.stylelint).lint({code:t,config:i});var a=JSON.parse(s.output)[0].warnings;for(const l of a)n.push({from:BI(l,!0),to:BI(l,!1),message:l.text,severity:"warning"});return n});var VI={parserOptions:{ecmaVersion:2020,sourceType:"module",ecmaFeatures:{jsx:!0}},env:{browser:!0,node:!0,jquery:!0,worker:!0,mocha:!0,jest:!0,es6:!0},extends:["eslint:recommended","plugin:@typescript-eslint/recommended"],plugins:["eslint-plugin-svelte3"],rules:{"no-undef":"error"}};let tx=null;function tte(t="javascript"){return t==="typescript"&&(VI.parser="@typescript-eslint/parser"),application&&application.eslintrc()||VI}st.registerHelper("lint","javascript",async function(t,e){const n=window.application;if(n&&n.backendLintingEnabled())return null;let i;try{i=()=>gr(()=>import("./eslint4b.es.3f960fab.js"),[])}catch(u){if(u.name==="ChunkLoadError")return[]}if(!tx){const u=await i();tx=new u.default}for(var o=[],s=tte("javascript"),a=tx.verify(t,s),l=0;l<a.length;l++){var c=a[l];o.push({message:c.message,severity:nte(c),from:HI(c,!0),to:HI(c,!1)})}return o});function HI(t,e){var n=t.line-1,i=e?t.column:t.column+1;return t.node&&t.node.loc&&(n=e?t.node.loc.start.line-1:t.node.loc.end.line-1,i=e?t.node.loc.start.column:t.node.loc.end.column),st.Pos(n,i-1)}function nte(t){switch(t.severity){case 1:return"warning";case 2:return"error";default:return"error"}}gr(()=>import("./javascript.80d4867d.js").then(function(t){return t.j}),["assets/javascript.80d4867d.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js"]);gr(()=>import("./handlebars.27ccce75.js").then(function(t){return t.h}),["assets/handlebars.27ccce75.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js","assets/simple.5ae67e85.js"]);gr(()=>import("./htmlmixed.08e61016.js").then(function(t){return t.h}),["assets/htmlmixed.08e61016.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js","assets/xml.97b48cf3.js","assets/javascript.80d4867d.js","assets/css.7400e6d5.js"]);gr(()=>import("./xml.97b48cf3.js").then(function(t){return t.x}),["assets/xml.97b48cf3.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js"]);gr(()=>import("./css.7400e6d5.js").then(function(t){return t.c}),["assets/css.7400e6d5.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js"]);gr(()=>import("./coffeescript.7d0d1d0a.js").then(function(t){return t.c}),["assets/coffeescript.7d0d1d0a.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js"]);gr(()=>import("./dart.7549e2e7.js").then(function(t){return t.d}),["assets/dart.7549e2e7.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js","assets/clike.9262ae86.js"]);gr(()=>import("./dockerfile.5dbecd01.js").then(function(t){return t.d}),["assets/dockerfile.5dbecd01.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js","assets/simple.5ae67e85.js"]);gr(()=>import("./elm.3e035a23.js").then(function(t){return t.e}),["assets/elm.3e035a23.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js"]);gr(()=>import("./jsx.092f9ad2.js").then(function(t){return t.j}),["assets/jsx.092f9ad2.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js","assets/xml.97b48cf3.js","assets/javascript.80d4867d.js"]);gr(()=>import("./lua.e358729a.js").then(function(t){return t.l}),["assets/lua.e358729a.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js"]);gr(()=>import("./php.3c461e1e.js").then(function(t){return t.p}),["assets/php.3c461e1e.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js","assets/htmlmixed.08e61016.js","assets/xml.97b48cf3.js","assets/javascript.80d4867d.js","assets/css.7400e6d5.js","assets/clike.9262ae86.js"]);gr(()=>import("./pug.8eca1160.js").then(function(t){return t.p}),["assets/pug.8eca1160.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js","assets/javascript.80d4867d.js","assets/css.7400e6d5.js","assets/htmlmixed.08e61016.js","assets/xml.97b48cf3.js"]);gr(()=>import("./python.0610f199.js").then(function(t){return t.p}),["assets/python.0610f199.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js"]);gr(()=>import("./ruby.96d23522.js").then(function(t){return t.r}),["assets/ruby.96d23522.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js"]);gr(()=>import("./sass.400cddde.js").then(function(t){return t.s}),["assets/sass.400cddde.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js","assets/css.7400e6d5.js"]);gr(()=>import("./sql.3a069dbe.js").then(function(t){return t.s}),["assets/sql.3a069dbe.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js"]);gr(()=>import("./vue.6f090993.js").then(function(t){return t.v}),["assets/vue.6f090993.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js","assets/xml.97b48cf3.js","assets/javascript.80d4867d.js","assets/coffeescript.7d0d1d0a.js","assets/css.7400e6d5.js","assets/sass.400cddde.js","assets/pug.8eca1160.js","assets/htmlmixed.08e61016.js","assets/handlebars.27ccce75.js","assets/simple.5ae67e85.js"]);gr(()=>import("./markdown.94141baf.js").then(function(t){return t.m}),["assets/markdown.94141baf.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js","assets/xml.97b48cf3.js"]);gr(()=>import("./dotenv.3f24f564.js"),["assets/dotenv.3f24f564.js","assets/codemirror.24758d0d.js","assets/design.fcebccc4.js"]);st.findModeByName("javascript").ext.push("mjs");st.findModeByName("rust").ext.push("re");st.findModeByName("html").ext.push("svelte");st.modeInfo.unshift({name:"Shader",mime:"x-shader/x-fragment",mode:"clike",ext:["frag","glsl"]});st.modeInfo.unshift({name:"Dotenv",mime:"text/x-dotenv",mode:"dotenv"});var nx={exports:{}},ks={},zI={exports:{}},GI={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,i,o;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var c=null,u=null,d=function(){if(c!==null)try{var q=t.unstable_now();c(!0,q),c=null}catch(re){throw setTimeout(d,0),re}};e=function(q){c!==null?setTimeout(e,0,q):(c=q,setTimeout(d,0))},n=function(q,re){u=setTimeout(q,re)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if(typeof console!="undefined"){var v=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof v!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,_=null,S=-1,E=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<q?Math.floor(1e3/q):5};var T=new MessageChannel,C=T.port2;T.port1.onmessage=function(){if(_!==null){var q=t.unstable_now();w=q+E;try{_(!0,q)?C.postMessage(null):(m=!1,_=null)}catch(re){throw C.postMessage(null),re}}else m=!1},e=function(q){_=q,m||(m=!0,C.postMessage(null))},n=function(q,re){S=f(function(){q(t.unstable_now())},re)},i=function(){h(S),S=-1}}function P(q,re){var se=q.length;q.push(re);e:for(;;){var ge=se-1>>>1,_e=q[ge];if(_e!==void 0&&0<L(_e,re))q[ge]=re,q[se]=_e,se=ge;else break e}}function R(q){return q=q[0],q===void 0?null:q}function A(q){var re=q[0];if(re!==void 0){var se=q.pop();if(se!==re){q[0]=se;e:for(var ge=0,_e=q.length;ge<_e;){var pe=2*(ge+1)-1,ae=q[pe],le=pe+1,ce=q[le];if(ae!==void 0&&0>L(ae,se))ce!==void 0&&0>L(ce,ae)?(q[ge]=ce,q[le]=se,ge=le):(q[ge]=ae,q[pe]=se,ge=pe);else if(ce!==void 0&&0>L(ce,se))q[ge]=ce,q[le]=se,ge=le;else break e}}return re}return null}function L(q,re){var se=q.sortIndex-re.sortIndex;return se!==0?se:q.id-re.id}var k=[],U=[],N=1,I=null,F=3,O=!1,V=!1,z=!1;function B(q){for(var re=R(U);re!==null;){if(re.callback===null)A(U);else if(re.startTime<=q)A(U),re.sortIndex=re.expirationTime,P(k,re);else break;re=R(U)}}function H(q){if(z=!1,B(q),!V)if(R(k)!==null)V=!0,e(W);else{var re=R(U);re!==null&&n(H,re.startTime-q)}}function W(q,re){V=!1,z&&(z=!1,i()),O=!0;var se=F;try{for(B(re),I=R(k);I!==null&&(!(I.expirationTime>re)||q&&!t.unstable_shouldYield());){var ge=I.callback;if(typeof ge=="function"){I.callback=null,F=I.priorityLevel;var _e=ge(I.expirationTime<=re);re=t.unstable_now(),typeof _e=="function"?I.callback=_e:I===R(k)&&A(k),B(re)}else A(k);I=R(k)}if(I!==null)var pe=!0;else{var ae=R(U);ae!==null&&n(H,ae.startTime-re),pe=!1}return pe}finally{I=null,F=se,O=!1}}var G=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){V||O||(V=!0,e(W))},t.unstable_getCurrentPriorityLevel=function(){return F},t.unstable_getFirstCallbackNode=function(){return R(k)},t.unstable_next=function(q){switch(F){case 1:case 2:case 3:var re=3;break;default:re=F}var se=F;F=re;try{return q()}finally{F=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=G,t.unstable_runWithPriority=function(q,re){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var se=F;F=q;try{return re()}finally{F=se}},t.unstable_scheduleCallback=function(q,re,se){var ge=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ge+se:ge):se=ge,q){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=se+_e,q={id:N++,callback:re,priorityLevel:q,startTime:se,expirationTime:_e,sortIndex:-1},se>ge?(q.sortIndex=se,P(U,q),R(k)===null&&q===R(U)&&(z?i():z=!0,n(H,se-ge))):(q.sortIndex=_e,P(k,q),V||O||(V=!0,e(W))),q},t.unstable_wrapCallback=function(q){var re=F;return function(){var se=F;F=re;try{return q.apply(this,arguments)}finally{F=se}}}})(GI);zI.exports=GI;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv=K.exports,Jn=GQ,Fr=zI.exports;function Ge(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Xv)throw Error(Ge(227));var $I=new Set,wp={};function ou(t,e){Dd(t,e),Dd(t+"Capture",e)}function Dd(t,e){for(wp[t]=e,t=0;t<e.length;t++)$I.add(e[t])}var Oa=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),rte=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,WI=Object.prototype.hasOwnProperty,qI={},YI={};function ite(t){return WI.call(YI,t)?!0:WI.call(qI,t)?!1:rte.test(t)?YI[t]=!0:(qI[t]=!0,!1)}function ste(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ote(t,e,n,i){if(e===null||typeof e=="undefined"||ste(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ci(t,e,n,i,o,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wr[t]=new Ci(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wr[e]=new Ci(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wr[t]=new Ci(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wr[t]=new Ci(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wr[t]=new Ci(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wr[t]=new Ci(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wr[t]=new Ci(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wr[t]=new Ci(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wr[t]=new Ci(t,5,!1,t.toLowerCase(),null,!1,!1)});var rx=/[\-:]([a-z])/g;function ix(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rx,ix);Wr[e]=new Ci(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rx,ix);Wr[e]=new Ci(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rx,ix);Wr[e]=new Ci(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wr[t]=new Ci(t,1,!1,t.toLowerCase(),null,!1,!1)});Wr.xlinkHref=new Ci("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wr[t]=new Ci(t,1,!1,t.toLowerCase(),null,!0,!0)});function sx(t,e,n,i){var o=Wr.hasOwnProperty(e)?Wr[e]:null,s=o!==null?o.type===0:i?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(ote(e,n,o,i)&&(n=null),i||o===null?ite(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,i=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var au=Xv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xp=60103,lu=60106,Vl=60107,ox=60108,Sp=60114,ax=60109,lx=60110,Jv=60112,Tp=60113,Zv=60120,Qv=60115,cx=60116,ux=60121,dx=60128,KI=60129,fx=60130,hx=60131;if(typeof Symbol=="function"&&Symbol.for){var Ur=Symbol.for;xp=Ur("react.element"),lu=Ur("react.portal"),Vl=Ur("react.fragment"),ox=Ur("react.strict_mode"),Sp=Ur("react.profiler"),ax=Ur("react.provider"),lx=Ur("react.context"),Jv=Ur("react.forward_ref"),Tp=Ur("react.suspense"),Zv=Ur("react.suspense_list"),Qv=Ur("react.memo"),cx=Ur("react.lazy"),ux=Ur("react.block"),Ur("react.scope"),dx=Ur("react.opaque.id"),KI=Ur("react.debug_trace_mode"),fx=Ur("react.offscreen"),hx=Ur("react.legacy_hidden")}var XI=typeof Symbol=="function"&&Symbol.iterator;function Cp(t){return t===null||typeof t!="object"?null:(t=XI&&t[XI]||t["@@iterator"],typeof t=="function"?t:null)}var px;function Mp(t){if(px===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);px=e&&e[1]||""}return`
`+px+t}var mx=!1;function e1(t,e){if(!t||mx)return"";mx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=i.stack.split(`
`),a=o.length-1,l=s.length-1;1<=a&&0<=l&&o[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||o[a]!==s[l])return`
`+o[a].replace(" at new "," at ");while(1<=a&&0<=l);break}}}finally{mx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Mp(t):""}function ate(t){switch(t.tag){case 5:return Mp(t.type);case 16:return Mp("Lazy");case 13:return Mp("Suspense");case 19:return Mp("SuspenseList");case 0:case 2:case 15:return t=e1(t.type,!1),t;case 11:return t=e1(t.type.render,!1),t;case 22:return t=e1(t.type._render,!1),t;case 1:return t=e1(t.type,!0),t;default:return""}}function Fd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vl:return"Fragment";case lu:return"Portal";case Sp:return"Profiler";case ox:return"StrictMode";case Tp:return"Suspense";case Zv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lx:return(t.displayName||"Context")+".Consumer";case ax:return(t._context.displayName||"Context")+".Provider";case Jv:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Qv:return Fd(t.type);case ux:return Fd(t._render);case cx:e=t._payload,t=t._init;try{return Fd(t(e))}catch{}}return null}function Hl(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function JI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lte(t){var e=JI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function t1(t){t._valueTracker||(t._valueTracker=lte(t))}function ZI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=JI(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function n1(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function gx(t,e){var n=e.checked;return Jn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function QI(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Hl(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eO(t,e){e=e.checked,e!=null&&sx(t,"checked",e,!1)}function vx(t,e){eO(t,e);var n=Hl(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yx(t,e.type,n):e.hasOwnProperty("defaultValue")&&yx(t,e.type,Hl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tO(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yx(t,e,n){(e!=="number"||n1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function cte(t){var e="";return Xv.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function _x(t,e){return t=Jn({children:void 0},e),(e=cte(e.children))&&(t.children=e),t}function Ud(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Hl(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,i&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function bx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return Jn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nO(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ge(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(Ge(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hl(n)}}function rO(t,e){var n=Hl(e.value),i=Hl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function iO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Ex={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function sO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var r1,oO=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,i,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,o)})}:t}(function(t,e){if(t.namespaceURI!==Ex.svg||"innerHTML"in t)t.innerHTML=e;else{for(r1=r1||document.createElement("div"),r1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=r1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ap(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pp={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ute=["Webkit","ms","Moz","O"];Object.keys(Pp).forEach(function(t){ute.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pp[e]=Pp[t]})});function aO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pp.hasOwnProperty(t)&&Pp[t]?(""+e).trim():e+"px"}function lO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=aO(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,o):t[n]=o}}var dte=Jn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xx(t,e){if(e){if(dte[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ge(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ge(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ge(62))}}function Sx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Tx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cx=null,jd=null,Bd=null;function cO(t){if(t=Yp(t)){if(typeof Cx!="function")throw Error(Ge(280));var e=t.stateNode;e&&(e=E1(e),Cx(t.stateNode,t.type,e))}}function uO(t){jd?Bd?Bd.push(t):Bd=[t]:jd=t}function dO(){if(jd){var t=jd,e=Bd;if(Bd=jd=null,cO(t),e)for(t=0;t<e.length;t++)cO(e[t])}}function Mx(t,e){return t(e)}function fO(t,e,n,i,o){return t(e,n,i,o)}function Ax(){}var hO=Mx,cu=!1,Px=!1;function Rx(){(jd!==null||Bd!==null)&&(Ax(),dO())}function fte(t,e,n){if(Px)return t(e,n);Px=!0;try{return hO(t,e,n)}finally{Px=!1,Rx()}}function Rp(t,e){var n=t.stateNode;if(n===null)return null;var i=E1(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ge(231,e,typeof n));return n}var Lx=!1;if(Oa)try{var Lp={};Object.defineProperty(Lp,"passive",{get:function(){Lx=!0}}),window.addEventListener("test",Lp,Lp),window.removeEventListener("test",Lp,Lp)}catch{Lx=!1}function hte(t,e,n,i,o,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ip=!1,i1=null,s1=!1,Ix=null,pte={onError:function(t){Ip=!0,i1=t}};function mte(t,e,n,i,o,s,a,l,c){Ip=!1,i1=null,hte.apply(pte,arguments)}function gte(t,e,n,i,o,s,a,l,c){if(mte.apply(this,arguments),Ip){if(Ip){var u=i1;Ip=!1,i1=null}else throw Error(Ge(198));s1||(s1=!0,Ix=u)}}function uu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!=0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mO(t){if(uu(t)!==t)throw Error(Ge(188))}function vte(t){var e=t.alternate;if(!e){if(e=uu(t),e===null)throw Error(Ge(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return mO(o),t;if(s===i)return mO(o),e;s=s.sibling}throw Error(Ge(188))}if(n.return!==i.return)n=o,i=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,i=s;break}if(l===i){a=!0,i=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=o;break}if(l===i){a=!0,i=s,n=o;break}l=l.sibling}if(!a)throw Error(Ge(189))}}if(n.alternate!==i)throw Error(Ge(190))}if(n.tag!==3)throw Error(Ge(188));return n.stateNode.current===n?t:e}function gO(t){if(t=vte(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function vO(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var yO,Ox,_O,bO,Nx=!1,Fo=[],zl=null,Gl=null,$l=null,Op=new Map,Np=new Map,kp=[],EO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kx(t,e,n,i,o){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:o,targetContainers:[i]}}function wO(t,e){switch(t){case"focusin":case"focusout":zl=null;break;case"dragenter":case"dragleave":Gl=null;break;case"mouseover":case"mouseout":$l=null;break;case"pointerover":case"pointerout":Op.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Np.delete(e.pointerId)}}function Dp(t,e,n,i,o,s){return t===null||t.nativeEvent!==s?(t=kx(e,n,i,o,s),e!==null&&(e=Yp(e),e!==null&&Ox(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function yte(t,e,n,i,o){switch(e){case"focusin":return zl=Dp(zl,t,e,n,i,o),!0;case"dragenter":return Gl=Dp(Gl,t,e,n,i,o),!0;case"mouseover":return $l=Dp($l,t,e,n,i,o),!0;case"pointerover":var s=o.pointerId;return Op.set(s,Dp(Op.get(s)||null,t,e,n,i,o)),!0;case"gotpointercapture":return s=o.pointerId,Np.set(s,Dp(Np.get(s)||null,t,e,n,i,o)),!0}return!1}function _te(t){var e=du(t.target);if(e!==null){var n=uu(e);if(n!==null){if(e=n.tag,e===13){if(e=pO(n),e!==null){t.blockedOn=e,bO(t.lanePriority,function(){Fr.unstable_runWithPriority(t.priority,function(){_O(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function o1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=Yp(n),e!==null&&Ox(e),t.blockedOn=n,!1;e.shift()}return!0}function xO(t,e,n){o1(t)&&n.delete(e)}function bte(){for(Nx=!1;0<Fo.length;){var t=Fo[0];if(t.blockedOn!==null){t=Yp(t.blockedOn),t!==null&&yO(t);break}for(var e=t.targetContainers;0<e.length;){var n=Vx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&Fo.shift()}zl!==null&&o1(zl)&&(zl=null),Gl!==null&&o1(Gl)&&(Gl=null),$l!==null&&o1($l)&&($l=null),Op.forEach(xO),Np.forEach(xO)}function Fp(t,e){t.blockedOn===e&&(t.blockedOn=null,Nx||(Nx=!0,Fr.unstable_scheduleCallback(Fr.unstable_NormalPriority,bte)))}function SO(t){function e(o){return Fp(o,t)}if(0<Fo.length){Fp(Fo[0],t);for(var n=1;n<Fo.length;n++){var i=Fo[n];i.blockedOn===t&&(i.blockedOn=null)}}for(zl!==null&&Fp(zl,t),Gl!==null&&Fp(Gl,t),$l!==null&&Fp($l,t),Op.forEach(e),Np.forEach(e),n=0;n<kp.length;n++)i=kp[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<kp.length&&(n=kp[0],n.blockedOn===null);)_te(n),n.blockedOn===null&&kp.shift()}function a1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vd={animationend:a1("Animation","AnimationEnd"),animationiteration:a1("Animation","AnimationIteration"),animationstart:a1("Animation","AnimationStart"),transitionend:a1("Transition","TransitionEnd")},Dx={},TO={};Oa&&(TO=document.createElement("div").style,"AnimationEvent"in window||(delete Vd.animationend.animation,delete Vd.animationiteration.animation,delete Vd.animationstart.animation),"TransitionEvent"in window||delete Vd.transitionend.transition);function l1(t){if(Dx[t])return Dx[t];if(!Vd[t])return t;var e=Vd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in TO)return Dx[t]=e[n];return t}var CO=l1("animationend"),MO=l1("animationiteration"),AO=l1("animationstart"),PO=l1("transitionend"),RO=new Map,Fx=new Map,Ete=["abort","abort",CO,"animationEnd",MO,"animationIteration",AO,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",PO,"transitionEnd","waiting","waiting"];function Ux(t,e){for(var n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Fx.set(i,e),RO.set(i,o),ou(o,[i])}}var wte=Fr.unstable_now;wte();var Fn=8;function Hd(t){if((1&t)!=0)return Fn=15,1;if((2&t)!=0)return Fn=14,2;if((4&t)!=0)return Fn=13,4;var e=24&t;return e!==0?(Fn=12,e):(t&32)!=0?(Fn=11,32):(e=192&t,e!==0?(Fn=10,e):(t&256)!=0?(Fn=9,256):(e=3584&t,e!==0?(Fn=8,e):(t&4096)!=0?(Fn=7,4096):(e=4186112&t,e!==0?(Fn=6,e):(e=62914560&t,e!==0?(Fn=5,e):t&67108864?(Fn=4,67108864):(t&134217728)!=0?(Fn=3,134217728):(e=805306368&t,e!==0?(Fn=2,e):(1073741824&t)!=0?(Fn=1,1073741824):(Fn=8,t))))))}function xte(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Ste(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Ge(358,t))}}function Up(t,e){var n=t.pendingLanes;if(n===0)return Fn=0;var i=0,o=0,s=t.expiredLanes,a=t.suspendedLanes,l=t.pingedLanes;if(s!==0)i=s,o=Fn=15;else if(s=n&134217727,s!==0){var c=s&~a;c!==0?(i=Hd(c),o=Fn):(l&=s,l!==0&&(i=Hd(l),o=Fn))}else s=n&~a,s!==0?(i=Hd(s),o=Fn):l!==0&&(i=Hd(l),o=Fn);if(i===0)return 0;if(i=31-Wl(i),i=n&((0>i?0:1<<i)<<1)-1,e!==0&&e!==i&&(e&a)==0){if(Hd(e),o<=Fn)return e;Fn=o}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Wl(e),o=1<<n,i|=t[n],e&=~o;return i}function LO(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function c1(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=zd(24&~e),t===0?c1(10,e):t;case 10:return t=zd(192&~e),t===0?c1(8,e):t;case 8:return t=zd(3584&~e),t===0&&(t=zd(4186112&~e),t===0&&(t=512)),t;case 2:return e=zd(805306368&~e),e===0&&(e=268435456),e}throw Error(Ge(358,t))}function zd(t){return t&-t}function jx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function u1(t,e,n){t.pendingLanes|=e;var i=e-1;t.suspendedLanes&=i,t.pingedLanes&=i,t=t.eventTimes,e=31-Wl(e),t[e]=n}var Wl=Math.clz32?Math.clz32:Mte,Tte=Math.log,Cte=Math.LN2;function Mte(t){return t===0?32:31-(Tte(t)/Cte|0)|0}var Ate=Fr.unstable_UserBlockingPriority,Pte=Fr.unstable_runWithPriority,d1=!0;function Rte(t,e,n,i){cu||Ax();var o=Bx,s=cu;cu=!0;try{fO(o,t,e,n,i)}finally{(cu=s)||Rx()}}function Lte(t,e,n,i){Pte(Ate,Bx.bind(null,t,e,n,i))}function Bx(t,e,n,i){if(d1){var o;if((o=(e&4)==0)&&0<Fo.length&&-1<EO.indexOf(t))t=kx(null,t,e,n,i),Fo.push(t);else{var s=Vx(t,e,n,i);if(s===null)o&&wO(t,i);else{if(o){if(-1<EO.indexOf(t)){t=kx(s,t,e,n,i),Fo.push(t);return}if(yte(s,t,e,n,i))return;wO(t,i)}a6(t,e,i,null,n)}}}}function Vx(t,e,n,i){var o=Tx(i);if(o=du(o),o!==null){var s=uu(o);if(s===null)o=null;else{var a=s.tag;if(a===13){if(o=pO(s),o!==null)return o;o=null}else if(a===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return a6(t,e,i,o,n),null}var ql=null,Hx=null,f1=null;function IO(){if(f1)return f1;var t,e=Hx,n=e.length,i,o="value"in ql?ql.value:ql.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===o[s-i];i++);return f1=o.slice(t,1<i?1-i:void 0)}function h1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function p1(){return!0}function OO(){return!1}function ls(t){function e(n,i,o,s,a){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?p1:OO,this.isPropagationStopped=OO,this}return Jn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=p1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=p1)},persist:function(){},isPersistent:p1}),e}var Gd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zx=ls(Gd),jp=Jn({},Gd,{view:0,detail:0}),Ite=ls(jp),Gx,$x,Bp,m1=Jn({},jp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bp&&(Bp&&t.type==="mousemove"?(Gx=t.screenX-Bp.screenX,$x=t.screenY-Bp.screenY):$x=Gx=0,Bp=t),Gx)},movementY:function(t){return"movementY"in t?t.movementY:$x}}),NO=ls(m1),Ote=Jn({},m1,{dataTransfer:0}),Nte=ls(Ote),kte=Jn({},jp,{relatedTarget:0}),Wx=ls(kte),Dte=Jn({},Gd,{animationName:0,elapsedTime:0,pseudoElement:0}),Fte=ls(Dte),Ute=Jn({},Gd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jte=ls(Ute),Bte=Jn({},Gd,{data:0}),kO=ls(Bte),Vte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gte(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zte[t])?!!e[t]:!1}function qx(){return Gte}var $te=Jn({},jp,{key:function(t){if(t.key){var e=Vte[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=h1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hte[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qx,charCode:function(t){return t.type==="keypress"?h1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?h1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wte=ls($te),qte=Jn({},m1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DO=ls(qte),Yte=Jn({},jp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qx}),Kte=ls(Yte),Xte=Jn({},Gd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jte=ls(Xte),Zte=Jn({},m1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qte=ls(Zte),ene=[9,13,27,32],Yx=Oa&&"CompositionEvent"in window,Vp=null;Oa&&"documentMode"in document&&(Vp=document.documentMode);var tne=Oa&&"TextEvent"in window&&!Vp,FO=Oa&&(!Yx||Vp&&8<Vp&&11>=Vp),UO=String.fromCharCode(32),jO=!1;function BO(t,e){switch(t){case"keyup":return ene.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $d=!1;function nne(t,e){switch(t){case"compositionend":return VO(e);case"keypress":return e.which!==32?null:(jO=!0,UO);case"textInput":return t=e.data,t===UO&&jO?null:t;default:return null}}function rne(t,e){if($d)return t==="compositionend"||!Yx&&BO(t,e)?(t=IO(),f1=Hx=ql=null,$d=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FO&&e.locale!=="ko"?null:e.data;default:return null}}var ine={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ine[t.type]:e==="textarea"}function zO(t,e,n,i){uO(i),e=v1(e,"onChange"),0<e.length&&(n=new zx("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Hp=null,zp=null;function sne(t){n6(t,0)}function g1(t){var e=Xd(t);if(ZI(e))return t}function one(t,e){if(t==="change")return e}var GO=!1;if(Oa){var Kx;if(Oa){var Xx="oninput"in document;if(!Xx){var $O=document.createElement("div");$O.setAttribute("oninput","return;"),Xx=typeof $O.oninput=="function"}Kx=Xx}else Kx=!1;GO=Kx&&(!document.documentMode||9<document.documentMode)}function WO(){Hp&&(Hp.detachEvent("onpropertychange",qO),zp=Hp=null)}function qO(t){if(t.propertyName==="value"&&g1(zp)){var e=[];if(zO(e,zp,t,Tx(t)),t=sne,cu)t(e);else{cu=!0;try{Mx(t,e)}finally{cu=!1,Rx()}}}}function ane(t,e,n){t==="focusin"?(WO(),Hp=e,zp=n,Hp.attachEvent("onpropertychange",qO)):t==="focusout"&&WO()}function lne(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return g1(zp)}function cne(t,e){if(t==="click")return g1(e)}function une(t,e){if(t==="input"||t==="change")return g1(e)}function dne(t,e){return t===e&&(t!==0||1/t==1/e)||t!==t&&e!==e}var Ds=typeof Object.is=="function"?Object.is:dne,fne=Object.prototype.hasOwnProperty;function Gp(t,e){if(Ds(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!fne.call(e,n[i])||!Ds(t[n[i]],e[n[i]]))return!1;return!0}function YO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function KO(t,e){var n=YO(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=YO(n)}}function XO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function JO(){for(var t=window,e=n1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=n1(t.document)}return e}function Jx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var hne=Oa&&"documentMode"in document&&11>=document.documentMode,Wd=null,Zx=null,$p=null,Qx=!1;function ZO(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qx||Wd==null||Wd!==n1(i)||(i=Wd,"selectionStart"in i&&Jx(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),$p&&Gp($p,i)||($p=i,i=v1(Zx,"onSelect"),0<i.length&&(e=new zx("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Wd)))}Ux("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Ux("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Ux(Ete,2);for(var QO="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),eS=0;eS<QO.length;eS++)Fx.set(QO[eS],0);Dd("onMouseEnter",["mouseout","mouseover"]);Dd("onMouseLeave",["mouseout","mouseover"]);Dd("onPointerEnter",["pointerout","pointerover"]);Dd("onPointerLeave",["pointerout","pointerover"]);ou("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ou("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ou("onBeforeInput",["compositionend","keypress","textInput","paste"]);ou("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ou("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ou("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wp));function t6(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,gte(i,e,void 0,t),t.currentTarget=null}function n6(t,e){e=(e&4)!=0;for(var n=0;n<t.length;n++){var i=t[n],o=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&o.isPropagationStopped())break e;t6(o,l,u),s=c}else for(a=0;a<i.length;a++){if(l=i[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&o.isPropagationStopped())break e;t6(o,l,u),s=c}}}if(s1)throw t=Ix,s1=!1,Ix=null,t}function Hn(t,e){var n=h6(e),i=t+"__bubble";n.has(i)||(o6(e,t,2,!1),n.add(i))}var r6="_reactListening"+Math.random().toString(36).slice(2);function i6(t){t[r6]||(t[r6]=!0,$I.forEach(function(e){e6.has(e)||s6(e,!1,t,null),s6(e,!0,t,null)}))}function s6(t,e,n,i){var o=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),i!==null&&!e&&e6.has(t)){if(t!=="scroll")return;o|=2,s=i}var a=h6(s),l=t+"__"+(e?"capture":"bubble");a.has(l)||(e&&(o|=4),o6(s,t,o,e),a.add(l))}function o6(t,e,n,i){var o=Fx.get(e);switch(o===void 0?2:o){case 0:o=Rte;break;case 1:o=Lte;break;default:o=Bx}n=o.bind(null,e,n,t),o=void 0,!Lx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function a6(t,e,n,i,o){var s=i;if((e&1)==0&&(e&2)==0&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;a=a.return}for(;l!==null;){if(a=du(l),a===null)return;if(c=a.tag,c===5||c===6){i=s=a;continue e}l=l.parentNode}}i=i.return}fte(function(){var u=s,d=Tx(n),f=[];e:{var h=RO.get(t);if(h!==void 0){var v=zx,m=t;switch(t){case"keypress":if(h1(n)===0)break e;case"keydown":case"keyup":v=Wte;break;case"focusin":m="focus",v=Wx;break;case"focusout":m="blur",v=Wx;break;case"beforeblur":case"afterblur":v=Wx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=NO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Nte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Kte;break;case CO:case MO:case AO:v=Fte;break;case PO:v=Jte;break;case"scroll":v=Ite;break;case"wheel":v=Qte;break;case"copy":case"cut":case"paste":v=jte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=DO}var _=(e&4)!=0,S=!_&&t==="scroll",E=_?h!==null?h+"Capture":null:h;_=[];for(var w=u,T;w!==null;){T=w;var C=T.stateNode;if(T.tag===5&&C!==null&&(T=C,E!==null&&(C=Rp(w,E),C!=null&&_.push(qp(w,C,T)))),S)break;w=w.return}0<_.length&&(h=new v(h,m,null,n,d),f.push({event:h,listeners:_}))}}if((e&7)==0){e:{if(h=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",h&&(e&16)==0&&(m=n.relatedTarget||n.fromElement)&&(du(m)||m[Kd]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(m=n.relatedTarget||n.toElement,v=u,m=m?du(m):null,m!==null&&(S=uu(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(v=null,m=u),v!==m)){if(_=NO,C="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=DO,C="onPointerLeave",E="onPointerEnter",w="pointer"),S=v==null?h:Xd(v),T=m==null?h:Xd(m),h=new _(C,w+"leave",v,n,d),h.target=S,h.relatedTarget=T,C=null,du(d)===u&&(_=new _(E,w+"enter",m,n,d),_.target=T,_.relatedTarget=S,C=_),S=C,v&&m)t:{for(_=v,E=m,w=0,T=_;T;T=qd(T))w++;for(T=0,C=E;C;C=qd(C))T++;for(;0<w-T;)_=qd(_),w--;for(;0<T-w;)E=qd(E),T--;for(;w--;){if(_===E||E!==null&&_===E.alternate)break t;_=qd(_),E=qd(E)}_=null}else _=null;v!==null&&l6(f,h,v,_,!1),m!==null&&S!==null&&l6(f,S,m,_,!0)}}e:{if(h=u?Xd(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var P=one;else if(HO(h))if(GO)P=une;else{P=lne;var R=ane}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=cne);if(P&&(P=P(t,u))){zO(f,P,n,d);break e}R&&R(t,h,u),t==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&yx(h,"number",h.value)}switch(R=u?Xd(u):window,t){case"focusin":(HO(R)||R.contentEditable==="true")&&(Wd=R,Zx=u,$p=null);break;case"focusout":$p=Zx=Wd=null;break;case"mousedown":Qx=!0;break;case"contextmenu":case"mouseup":case"dragend":Qx=!1,ZO(f,n,d);break;case"selectionchange":if(hne)break;case"keydown":case"keyup":ZO(f,n,d)}var A;if(Yx)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else $d?BO(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(FO&&n.locale!=="ko"&&($d||L!=="onCompositionStart"?L==="onCompositionEnd"&&$d&&(A=IO()):(ql=d,Hx="value"in ql?ql.value:ql.textContent,$d=!0)),R=v1(u,L),0<R.length&&(L=new kO(L,t,null,n,d),f.push({event:L,listeners:R}),A?L.data=A:(A=VO(n),A!==null&&(L.data=A)))),(A=tne?nne(t,n):rne(t,n))&&(u=v1(u,"onBeforeInput"),0<u.length&&(d=new kO("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}n6(f,e)})}function qp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function v1(t,e){for(var n=e+"Capture",i=[];t!==null;){var o=t,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Rp(t,n),s!=null&&i.unshift(qp(t,s,o)),s=Rp(t,e),s!=null&&i.push(qp(t,s,o))),t=t.return}return i}function qd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function l6(t,e,n,i,o){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&u!==null&&(l=u,o?(c=Rp(n,s),c!=null&&a.unshift(qp(n,c,l))):o||(c=Rp(n,s),c!=null&&a.push(qp(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}function y1(){}var tS=null,nS=null;function c6(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function rS(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var u6=typeof setTimeout=="function"?setTimeout:void 0,pne=typeof clearTimeout=="function"?clearTimeout:void 0;function iS(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Yd(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function d6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sS=0;function mne(t){return{$$typeof:dx,toString:t,valueOf:t}}var _1=Math.random().toString(36).slice(2),Yl="__reactFiber$"+_1,b1="__reactProps$"+_1,Kd="__reactContainer$"+_1,f6="__reactEvents$"+_1;function du(t){var e=t[Yl];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kd]||n[Yl]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=d6(t);t!==null;){if(n=t[Yl])return n;t=d6(t)}return e}t=n,n=t.parentNode}return null}function Yp(t){return t=t[Yl]||t[Kd],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ge(33))}function E1(t){return t[b1]||null}function h6(t){var e=t[f6];return e===void 0&&(e=t[f6]=new Set),e}var oS=[],Jd=-1;function Kl(t){return{current:t}}function zn(t){0>Jd||(t.current=oS[Jd],oS[Jd]=null,Jd--)}function ar(t,e){Jd++,oS[Jd]=t.current,t.current=e}var Xl={},oi=Kl(Xl),Hi=Kl(!1),fu=Xl;function Zd(t,e){var n=t.type.contextTypes;if(!n)return Xl;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function zi(t){return t=t.childContextTypes,t!=null}function w1(){zn(Hi),zn(oi)}function p6(t,e,n){if(oi.current!==Xl)throw Error(Ge(168));ar(oi,e),ar(Hi,n)}function m6(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(Ge(108,Fd(e)||"Unknown",o));return Jn({},n,i)}function x1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xl,fu=oi.current,ar(oi,t),ar(Hi,Hi.current),!0}function g6(t,e,n){var i=t.stateNode;if(!i)throw Error(Ge(169));n?(t=m6(t,e,fu),i.__reactInternalMemoizedMergedChildContext=t,zn(Hi),zn(oi),ar(oi,t)):zn(Hi),ar(Hi,n)}var aS=null,hu=null,gne=Fr.unstable_runWithPriority,lS=Fr.unstable_scheduleCallback,cS=Fr.unstable_cancelCallback,vne=Fr.unstable_shouldYield,v6=Fr.unstable_requestPaint,uS=Fr.unstable_now,yne=Fr.unstable_getCurrentPriorityLevel,S1=Fr.unstable_ImmediatePriority,y6=Fr.unstable_UserBlockingPriority,_6=Fr.unstable_NormalPriority,b6=Fr.unstable_LowPriority,E6=Fr.unstable_IdlePriority,dS={},_ne=v6!==void 0?v6:function(){},Na=null,T1=null,fS=!1,w6=uS(),ai=1e4>w6?uS:function(){return uS()-w6};function Qd(){switch(yne()){case S1:return 99;case y6:return 98;case _6:return 97;case b6:return 96;case E6:return 95;default:throw Error(Ge(332))}}function x6(t){switch(t){case 99:return S1;case 98:return y6;case 97:return _6;case 96:return b6;case 95:return E6;default:throw Error(Ge(332))}}function pu(t,e){return t=x6(t),gne(t,e)}function Kp(t,e,n){return t=x6(t),lS(t,e,n)}function Uo(){if(T1!==null){var t=T1;T1=null,cS(t)}S6()}function S6(){if(!fS&&Na!==null){fS=!0;var t=0;try{var e=Na;pu(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),Na=null}catch(n){throw Na!==null&&(Na=Na.slice(t+1)),lS(S1,Uo),n}finally{fS=!1}}}var bne=au.ReactCurrentBatchConfig;function ho(t,e){if(t&&t.defaultProps){e=Jn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var C1=Kl(null),M1=null,ef=null,A1=null;function hS(){A1=ef=M1=null}function pS(t){var e=C1.current;zn(C1),t.type._context._currentValue=e}function T6(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function tf(t,e){M1=t,A1=ef=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!=0&&(po=!0),t.firstContext=null)}function Fs(t,e){if(A1!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(A1=t,e=1073741823),e={context:t,observedBits:e,next:null},ef===null){if(M1===null)throw Error(Ge(308));ef=e,M1.dependencies={lanes:0,firstContext:e,responders:null}}else ef=ef.next=e;return t._currentValue}var Jl=!1;function mS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function C6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ql(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function M6(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xp(t,e,n,i){var o=t.updateQueue;Jl=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=t.alternate;if(d!==null){d=d.updateQueue;var f=d.lastBaseUpdate;f!==a&&(f===null?d.firstBaseUpdate=u:f.next=u,d.lastBaseUpdate=c)}}if(s!==null){f=o.baseState,a=0,d=u=c=null;do{l=s.lane;var h=s.eventTime;if((i&l)===l){d!==null&&(d=d.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,m=s;switch(l=e,h=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(h,f,l);break e}f=v;break e;case 3:v.flags=v.flags&-4097|64;case 0:if(v=m.payload,l=typeof v=="function"?v.call(h,f,l):v,l==null)break e;f=Jn({},f,l);break e;case 2:Jl=!0}}s.callback!==null&&(t.flags|=32,l=o.effects,l===null?o.effects=[s]:l.push(s))}else h={eventTime:h,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,a|=l;if(s=s.next,s===null){if(l=o.shared.pending,l===null)break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}while(1);d===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,lm|=a,t.lanes=a,t.memoizedState=f}}function A6(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(Ge(191,o));o.call(i)}}}var P6=new Xv.Component().refs;function P1(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Jn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var R1={isMounted:function(t){return(t=t._reactInternals)?uu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=cs(),o=nc(t),s=Zl(i,o);s.payload=e,n!=null&&(s.callback=n),Ql(t,s),rc(t,o,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=cs(),o=nc(t),s=Zl(i,o);s.tag=1,s.payload=e,n!=null&&(s.callback=n),Ql(t,s),rc(t,o,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cs(),i=nc(t),o=Zl(n,i);o.tag=2,e!=null&&(o.callback=e),Ql(t,o),rc(t,i,n)}};function R6(t,e,n,i,o,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Gp(n,i)||!Gp(o,s):!0}function L6(t,e,n){var i=!1,o=Xl,s=e.contextType;return typeof s=="object"&&s!==null?s=Fs(s):(o=zi(e)?fu:oi.current,i=e.contextTypes,s=(i=i!=null)?Zd(t,o):Xl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=R1,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=s),e}function I6(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&R1.enqueueReplaceState(e,e.state,null)}function gS(t,e,n,i){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=P6,mS(t);var s=e.contextType;typeof s=="object"&&s!==null?o.context=Fs(s):(s=zi(e)?fu:oi.current,o.context=Zd(t,s)),Xp(t,n,o,i),o.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(P1(t,e,s,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&R1.enqueueReplaceState(o,o.state,null),Xp(t,n,o,i),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4)}var L1=Array.isArray;function Jp(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ge(309));var i=n.stateNode}if(!i)throw Error(Ge(147,t));var o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===P6&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Ge(284));if(!n._owner)throw Error(Ge(290,t))}return t}function I1(t,e){if(t.type!=="textarea")throw Error(Ge(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function O6(t){function e(S,E){if(t){var w=S.lastEffect;w!==null?(w.nextEffect=E,S.lastEffect=E):S.firstEffect=S.lastEffect=E,E.nextEffect=null,E.flags=8}}function n(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function i(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function o(S,E){return S=oc(S,E),S.index=0,S.sibling=null,S}function s(S,E,w){return S.index=w,t?(w=S.alternate,w!==null?(w=w.index,w<E?(S.flags=2,E):w):(S.flags=2,E)):E}function a(S){return t&&S.alternate===null&&(S.flags=2),S}function l(S,E,w,T){return E===null||E.tag!==6?(E=ZS(w,S.mode,T),E.return=S,E):(E=o(E,w),E.return=S,E)}function c(S,E,w,T){return E!==null&&E.elementType===w.type?(T=o(E,w.props),T.ref=Jp(S,E,w),T.return=S,T):(T=X1(w.type,w.key,w.props,null,S.mode,T),T.ref=Jp(S,E,w),T.return=S,T)}function u(S,E,w,T){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=QS(w,S.mode,T),E.return=S,E):(E=o(E,w.children||[]),E.return=S,E)}function d(S,E,w,T,C){return E===null||E.tag!==7?(E=uf(w,S.mode,T,C),E.return=S,E):(E=o(E,w),E.return=S,E)}function f(S,E,w){if(typeof E=="string"||typeof E=="number")return E=ZS(""+E,S.mode,w),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case xp:return w=X1(E.type,E.key,E.props,null,S.mode,w),w.ref=Jp(S,null,E),w.return=S,w;case lu:return E=QS(E,S.mode,w),E.return=S,E}if(L1(E)||Cp(E))return E=uf(E,S.mode,w,null),E.return=S,E;I1(S,E)}return null}function h(S,E,w,T){var C=E!==null?E.key:null;if(typeof w=="string"||typeof w=="number")return C!==null?null:l(S,E,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xp:return w.key===C?w.type===Vl?d(S,E,w.props.children,T,C):c(S,E,w,T):null;case lu:return w.key===C?u(S,E,w,T):null}if(L1(w)||Cp(w))return C!==null?null:d(S,E,w,T,null);I1(S,w)}return null}function v(S,E,w,T,C){if(typeof T=="string"||typeof T=="number")return S=S.get(w)||null,l(E,S,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case xp:return S=S.get(T.key===null?w:T.key)||null,T.type===Vl?d(E,S,T.props.children,C,T.key):c(E,S,T,C);case lu:return S=S.get(T.key===null?w:T.key)||null,u(E,S,T,C)}if(L1(T)||Cp(T))return S=S.get(w)||null,d(E,S,T,C,null);I1(E,T)}return null}function m(S,E,w,T){for(var C=null,P=null,R=E,A=E=0,L=null;R!==null&&A<w.length;A++){R.index>A?(L=R,R=null):L=R.sibling;var k=h(S,R,w[A],T);if(k===null){R===null&&(R=L);break}t&&R&&k.alternate===null&&e(S,R),E=s(k,E,A),P===null?C=k:P.sibling=k,P=k,R=L}if(A===w.length)return n(S,R),C;if(R===null){for(;A<w.length;A++)R=f(S,w[A],T),R!==null&&(E=s(R,E,A),P===null?C=R:P.sibling=R,P=R);return C}for(R=i(S,R);A<w.length;A++)L=v(R,S,A,w[A],T),L!==null&&(t&&L.alternate!==null&&R.delete(L.key===null?A:L.key),E=s(L,E,A),P===null?C=L:P.sibling=L,P=L);return t&&R.forEach(function(U){return e(S,U)}),C}function _(S,E,w,T){var C=Cp(w);if(typeof C!="function")throw Error(Ge(150));if(w=C.call(w),w==null)throw Error(Ge(151));for(var P=C=null,R=E,A=E=0,L=null,k=w.next();R!==null&&!k.done;A++,k=w.next()){R.index>A?(L=R,R=null):L=R.sibling;var U=h(S,R,k.value,T);if(U===null){R===null&&(R=L);break}t&&R&&U.alternate===null&&e(S,R),E=s(U,E,A),P===null?C=U:P.sibling=U,P=U,R=L}if(k.done)return n(S,R),C;if(R===null){for(;!k.done;A++,k=w.next())k=f(S,k.value,T),k!==null&&(E=s(k,E,A),P===null?C=k:P.sibling=k,P=k);return C}for(R=i(S,R);!k.done;A++,k=w.next())k=v(R,S,A,k.value,T),k!==null&&(t&&k.alternate!==null&&R.delete(k.key===null?A:k.key),E=s(k,E,A),P===null?C=k:P.sibling=k,P=k);return t&&R.forEach(function(N){return e(S,N)}),C}return function(S,E,w,T){var C=typeof w=="object"&&w!==null&&w.type===Vl&&w.key===null;C&&(w=w.props.children);var P=typeof w=="object"&&w!==null;if(P)switch(w.$$typeof){case xp:e:{for(P=w.key,C=E;C!==null;){if(C.key===P){switch(C.tag){case 7:if(w.type===Vl){n(S,C.sibling),E=o(C,w.props.children),E.return=S,S=E;break e}break;default:if(C.elementType===w.type){n(S,C.sibling),E=o(C,w.props),E.ref=Jp(S,C,w),E.return=S,S=E;break e}}n(S,C);break}else e(S,C);C=C.sibling}w.type===Vl?(E=uf(w.props.children,S.mode,T,w.key),E.return=S,S=E):(T=X1(w.type,w.key,w.props,null,S.mode,T),T.ref=Jp(S,E,w),T.return=S,S=T)}return a(S);case lu:e:{for(C=w.key;E!==null;){if(E.key===C)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){n(S,E.sibling),E=o(E,w.children||[]),E.return=S,S=E;break e}else{n(S,E);break}else e(S,E);E=E.sibling}E=QS(w,S.mode,T),E.return=S,S=E}return a(S)}if(typeof w=="string"||typeof w=="number")return w=""+w,E!==null&&E.tag===6?(n(S,E.sibling),E=o(E,w),E.return=S,S=E):(n(S,E),E=ZS(w,S.mode,T),E.return=S,S=E),a(S);if(L1(w))return m(S,E,w,T);if(Cp(w))return _(S,E,w,T);if(P&&I1(S,w),typeof w=="undefined"&&!C)switch(S.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Ge(152,Fd(S.type)||"Component"))}return n(S,E)}}var O1=O6(!0),N6=O6(!1),Zp={},jo=Kl(Zp),Qp=Kl(Zp),em=Kl(Zp);function mu(t){if(t===Zp)throw Error(Ge(174));return t}function vS(t,e){switch(ar(em,e),ar(Qp,t),ar(jo,Zp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wx(e,t)}zn(jo),ar(jo,e)}function nf(){zn(jo),zn(Qp),zn(em)}function k6(t){mu(em.current);var e=mu(jo.current),n=wx(e,t.type);e!==n&&(ar(Qp,t),ar(jo,n))}function yS(t){Qp.current===t&&(zn(jo),zn(Qp))}var lr=Kl(0);function N1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!=0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ka=null,ec=null,Bo=!1;function D6(t,e){var n=Bs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function F6(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function _S(t){if(Bo){var e=ec;if(e){var n=e;if(!F6(t,e)){if(e=Yd(n.nextSibling),!e||!F6(t,e)){t.flags=t.flags&-1025|2,Bo=!1,ka=t;return}D6(ka,n)}ka=t,ec=Yd(e.firstChild)}else t.flags=t.flags&-1025|2,Bo=!1,ka=t}}function U6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ka=t}function k1(t){if(t!==ka)return!1;if(!Bo)return U6(t),Bo=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!rS(e,t.memoizedProps))for(e=ec;e;)D6(t,e),e=Yd(e.nextSibling);if(U6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ge(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ec=Yd(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ec=null}}else ec=ka?Yd(t.stateNode.nextSibling):null;return!0}function bS(){ec=ka=null,Bo=!1}var rf=[];function ES(){for(var t=0;t<rf.length;t++)rf[t]._workInProgressVersionPrimary=null;rf.length=0}var tm=au.ReactCurrentDispatcher,Us=au.ReactCurrentBatchConfig,nm=0,vr=null,li=null,qr=null,D1=!1,rm=!1;function Gi(){throw Error(Ge(321))}function wS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ds(t[n],e[n]))return!1;return!0}function xS(t,e,n,i,o,s){if(nm=s,vr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tm.current=t===null||t.memoizedState===null?wne:xne,t=n(i,o),rm){s=0;do{if(rm=!1,!(25>s))throw Error(Ge(301));s+=1,qr=li=null,e.updateQueue=null,tm.current=Sne,t=n(i,o)}while(rm)}if(tm.current=B1,e=li!==null&&li.next!==null,nm=0,qr=li=vr=null,D1=!1,e)throw Error(Ge(300));return t}function gu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qr===null?vr.memoizedState=qr=t:qr=qr.next=t,qr}function vu(){if(li===null){var t=vr.alternate;t=t!==null?t.memoizedState:null}else t=li.next;var e=qr===null?vr.memoizedState:qr.next;if(e!==null)qr=e,li=t;else{if(t===null)throw Error(Ge(310));li=t,t={memoizedState:li.memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},qr===null?vr.memoizedState=qr=t:qr=qr.next=t}return qr}function Vo(t,e){return typeof e=="function"?e(t):e}function im(t){var e=vu(),n=e.queue;if(n===null)throw Error(Ge(311));n.lastRenderedReducer=t;var i=li,o=i.baseQueue,s=n.pending;if(s!==null){if(o!==null){var a=o.next;o.next=s.next,s.next=a}i.baseQueue=o=s,n.pending=null}if(o!==null){o=o.next,i=i.baseState;var l=a=s=null,c=o;do{var u=c.lane;if((nm&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),i=c.eagerReducer===t?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=i):l=l.next=d,vr.lanes|=u,lm|=u}c=c.next}while(c!==null&&c!==o);l===null?s=i:l.next=a,Ds(i,e.memoizedState)||(po=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=l,n.lastRenderedState=i}return[e.memoizedState,n.dispatch]}function sm(t){var e=vu(),n=e.queue;if(n===null)throw Error(Ge(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do s=t(s,a.action),a=a.next;while(a!==o);Ds(s,e.memoizedState)||(po=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function j6(t,e,n){var i=e._getVersion;i=i(e._source);var o=e._workInProgressVersionPrimary;if(o!==null?t=o===i:(t=t.mutableReadLanes,(t=(nm&t)===t)&&(e._workInProgressVersionPrimary=i,rf.push(e))),t)return n(e._source);throw rf.push(e),Error(Ge(350))}function B6(t,e,n,i){var o=Mi;if(o===null)throw Error(Ge(349));var s=e._getVersion,a=s(e._source),l=tm.current,c=l.useState(function(){return j6(o,e,n)}),u=c[1],d=c[0];c=qr;var f=t.memoizedState,h=f.refs,v=h.getSnapshot,m=f.source;f=f.subscribe;var _=vr;return t.memoizedState={refs:h,source:e,subscribe:i},l.useEffect(function(){h.getSnapshot=n,h.setSnapshot=u;var S=s(e._source);if(!Ds(a,S)){S=n(e._source),Ds(d,S)||(u(S),S=nc(_),o.mutableReadLanes|=S&o.pendingLanes),S=o.mutableReadLanes,o.entangledLanes|=S;for(var E=o.entanglements,w=S;0<w;){var T=31-Wl(w),C=1<<T;E[T]|=S,w&=~C}}},[n,e,i]),l.useEffect(function(){return i(e._source,function(){var S=h.getSnapshot,E=h.setSnapshot;try{E(S(e._source));var w=nc(_);o.mutableReadLanes|=w&o.pendingLanes}catch(T){E(function(){throw T})}})},[e,i]),Ds(v,n)&&Ds(m,e)&&Ds(f,i)||(t={pending:null,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:d},t.dispatch=u=MS.bind(null,vr,t),c.queue=t,c.baseQueue=null,d=j6(o,e,n),c.memoizedState=c.baseState=d),d}function V6(t,e,n){var i=vu();return B6(i,t,e,n)}function om(t){var e=gu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:t},t=t.dispatch=MS.bind(null,vr,t),[e.memoizedState,t]}function F1(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=vr.updateQueue,e===null?(e={lastEffect:null},vr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function H6(t){var e=gu();return t={current:t},e.memoizedState=t}function U1(){return vu().memoizedState}function SS(t,e,n,i){var o=gu();vr.flags|=t,o.memoizedState=F1(1|e,n,void 0,i===void 0?null:i)}function TS(t,e,n,i){var o=vu();i=i===void 0?null:i;var s=void 0;if(li!==null){var a=li.memoizedState;if(s=a.destroy,i!==null&&wS(i,a.deps)){F1(e,n,s,i);return}}vr.flags|=t,o.memoizedState=F1(1|e,n,s,i)}function z6(t,e){return SS(516,4,t,e)}function j1(t,e){return TS(516,4,t,e)}function G6(t,e){return TS(4,2,t,e)}function $6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function W6(t,e,n){return n=n!=null?n.concat([t]):null,TS(4,2,$6.bind(null,e,t),n)}function CS(){}function q6(t,e){var n=vu();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&wS(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Y6(t,e){var n=vu();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&wS(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Ene(t,e){var n=Qd();pu(98>n?98:n,function(){t(!0)}),pu(97<n?97:n,function(){var i=Us.transition;Us.transition=1;try{t(!1),e()}finally{Us.transition=i}})}function MS(t,e,n){var i=cs(),o=nc(t),s={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s,a=t.alternate,t===vr||a!==null&&a===vr)rm=D1=!0;else{if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,c=a(l,n);if(s.eagerReducer=a,s.eagerState=c,Ds(c,l))return}catch{}finally{}rc(t,o,i)}}var B1={readContext:Fs,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useLayoutEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useDeferredValue:Gi,useTransition:Gi,useMutableSource:Gi,useOpaqueIdentifier:Gi,unstable_isNewReconciler:!1},wne={readContext:Fs,useCallback:function(t,e){return gu().memoizedState=[t,e===void 0?null:e],t},useContext:Fs,useEffect:z6,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,SS(4,2,$6.bind(null,e,t),n)},useLayoutEffect:function(t,e){return SS(4,2,t,e)},useMemo:function(t,e){var n=gu();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=gu();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t=i.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=MS.bind(null,vr,t),[i.memoizedState,t]},useRef:H6,useState:om,useDebugValue:CS,useDeferredValue:function(t){var e=om(t),n=e[0],i=e[1];return z6(function(){var o=Us.transition;Us.transition=1;try{i(t)}finally{Us.transition=o}},[t]),n},useTransition:function(){var t=om(!1),e=t[0];return t=Ene.bind(null,t[1]),H6(t),[t,e]},useMutableSource:function(t,e,n){var i=gu();return i.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},B6(i,t,e,n)},useOpaqueIdentifier:function(){if(Bo){var t=!1,e=mne(function(){throw t||(t=!0,n("r:"+(sS++).toString(36))),Error(Ge(355))}),n=om(e)[1];return(vr.mode&2)==0&&(vr.flags|=516,F1(5,function(){n("r:"+(sS++).toString(36))},void 0,null)),e}return e="r:"+(sS++).toString(36),om(e),e},unstable_isNewReconciler:!1},xne={readContext:Fs,useCallback:q6,useContext:Fs,useEffect:j1,useImperativeHandle:W6,useLayoutEffect:G6,useMemo:Y6,useReducer:im,useRef:U1,useState:function(){return im(Vo)},useDebugValue:CS,useDeferredValue:function(t){var e=im(Vo),n=e[0],i=e[1];return j1(function(){var o=Us.transition;Us.transition=1;try{i(t)}finally{Us.transition=o}},[t]),n},useTransition:function(){var t=im(Vo)[0];return[U1().current,t]},useMutableSource:V6,useOpaqueIdentifier:function(){return im(Vo)[0]},unstable_isNewReconciler:!1},Sne={readContext:Fs,useCallback:q6,useContext:Fs,useEffect:j1,useImperativeHandle:W6,useLayoutEffect:G6,useMemo:Y6,useReducer:sm,useRef:U1,useState:function(){return sm(Vo)},useDebugValue:CS,useDeferredValue:function(t){var e=sm(Vo),n=e[0],i=e[1];return j1(function(){var o=Us.transition;Us.transition=1;try{i(t)}finally{Us.transition=o}},[t]),n},useTransition:function(){var t=sm(Vo)[0];return[U1().current,t]},useMutableSource:V6,useOpaqueIdentifier:function(){return sm(Vo)[0]},unstable_isNewReconciler:!1},Tne=au.ReactCurrentOwner,po=!1;function $i(t,e,n,i){e.child=t===null?N6(e,null,n,i):O1(e,t.child,n,i)}function K6(t,e,n,i,o){n=n.render;var s=e.ref;return tf(e,o),i=xS(t,e,n,i,s,o),t!==null&&!po?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~o,Da(t,e,o)):(e.flags|=1,$i(t,e,i,o),e.child)}function X6(t,e,n,i,o,s){if(t===null){var a=n.type;return typeof a=="function"&&!XS(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,J6(t,e,a,i,o,s)):(t=X1(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return a=t.child,(o&s)==0&&(o=a.memoizedProps,n=n.compare,n=n!==null?n:Gp,n(o,i)&&t.ref===e.ref)?Da(t,e,s):(e.flags|=1,t=oc(a,i),t.ref=e.ref,t.return=e,e.child=t)}function J6(t,e,n,i,o,s){if(t!==null&&Gp(t.memoizedProps,i)&&t.ref===e.ref)if(po=!1,(s&o)!=0)(t.flags&16384)!=0&&(po=!0);else return e.lanes=t.lanes,Da(t,e,s);return PS(t,e,n,i,s)}function AS(t,e,n){var i=e.pendingProps,o=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden"||i.mode==="unstable-defer-without-hiding")if((e.mode&4)==0)e.memoizedState={baseLanes:0},K1(e,n);else if((n&1073741824)!=0)e.memoizedState={baseLanes:0},K1(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},K1(e,t),null;else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,K1(e,i);return $i(t,e,o,n),e.child}function Z6(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function PS(t,e,n,i,o){var s=zi(n)?fu:oi.current;return s=Zd(e,s),tf(e,o),n=xS(t,e,n,i,s,o),t!==null&&!po?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~o,Da(t,e,o)):(e.flags|=1,$i(t,e,n,o),e.child)}function Q6(t,e,n,i,o){if(zi(n)){var s=!0;x1(e)}else s=!1;if(tf(e,o),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),L6(e,n,i),gS(e,n,i,o),i=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fs(u):(u=zi(n)?fu:oi.current,u=Zd(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==i||c!==u)&&I6(e,a,i,u),Jl=!1;var h=e.memoizedState;a.state=h,Xp(e,i,a,o),c=e.memoizedState,l!==i||h!==c||Hi.current||Jl?(typeof d=="function"&&(P1(e,n,d,i),c=e.memoizedState),(l=Jl||R6(e,n,l,i,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4)):(typeof a.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=u,i=l):(typeof a.componentDidMount=="function"&&(e.flags|=4),i=!1)}else{a=e.stateNode,C6(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ho(e.type,l),a.props=u,f=e.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Fs(c):(c=zi(n)?fu:oi.current,c=Zd(e,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&I6(e,a,i,c),Jl=!1,h=e.memoizedState,a.state=h,Xp(e,i,a,o);var m=e.memoizedState;l!==f||h!==m||Hi.current||Jl?(typeof v=="function"&&(P1(e,n,v,i),m=e.memoizedState),(u=Jl||R6(e,n,u,i,h,m,c))?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=i,e.memoizedState=m),a.props=i,a.state=m,a.context=c,i=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),i=!1)}return RS(t,e,n,i,s,o)}function RS(t,e,n,i,o,s){Z6(t,e);var a=(e.flags&64)!=0;if(!i&&!a)return o&&g6(e,n,!1),Da(t,e,s);i=e.stateNode,Tne.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=O1(e,t.child,null,s),e.child=O1(e,null,l,s)):$i(t,e,l,s),e.memoizedState=i.state,o&&g6(e,n,!0),e.child}function eN(t){var e=t.stateNode;e.pendingContext?p6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&p6(t,e.context,!1),vS(t,e.containerInfo)}var V1={dehydrated:null,retryLane:0};function tN(t,e,n){var i=e.pendingProps,o=lr.current,s=!1,a;return(a=(e.flags&64)!=0)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!=0),a?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||i.fallback===void 0||i.unstable_avoidThisFallback===!0||(o|=1),ar(lr,o&1),t===null?(i.fallback!==void 0&&_S(e),t=i.children,o=i.fallback,s?(t=nN(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=V1,t):typeof i.unstable_expectedLoadTime=="number"?(t=nN(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=V1,e.lanes=33554432,t):(n=JS({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(i=iN(t,e,i.children,i.fallback,n),s=e.child,o=t.child.memoizedState,s.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=V1,i):(n=rN(t,e,i.children,n),e.memoizedState=null,n):s?(i=iN(t,e,i.children,i.fallback,n),s=e.child,o=t.child.memoizedState,s.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=V1,i):(n=rN(t,e,i.children,n),e.memoizedState=null,n)}function nN(t,e,n,i){var o=t.mode,s=t.child;return e={mode:"hidden",children:e},(o&2)==0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=JS(e,o,0,null),n=uf(n,o,i,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function rN(t,e,n,i){var o=t.child;return t=o.sibling,n=oc(o,{mode:"visible",children:n}),(e.mode&2)==0&&(n.lanes=i),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function iN(t,e,n,i,o){var s=e.mode,a=t.child;t=a.sibling;var l={mode:"hidden",children:n};return(s&2)==0&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=l,a=n.lastEffect,a!==null?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=oc(a,l),t!==null?i=oc(t,i):(i=uf(i,s,o,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,i}function sN(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),T6(t.return,e)}function LS(t,e,n,i,o,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,lastEffect:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=o,a.lastEffect=s)}function oN(t,e,n){var i=e.pendingProps,o=i.revealOrder,s=i.tail;if($i(t,e,i.children,n),i=lr.current,(i&2)!=0)i=i&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!=0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sN(t,n);else if(t.tag===19)sN(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ar(lr,i),(e.mode&2)==0)e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&N1(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),LS(e,!1,o,n,s,e.lastEffect);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&N1(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}LS(e,!0,n,null,s,e.lastEffect);break;case"together":LS(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Da(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),lm|=e.lanes,(n&e.childLanes)!=0){if(t!==null&&e.child!==t.child)throw Error(Ge(153));if(e.child!==null){for(t=e.child,n=oc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var aN,IS,lN,cN;aN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};IS=function(){};lN=function(t,e,n,i){var o=t.memoizedProps;if(o!==i){t=e.stateNode,mu(jo.current);var s=null;switch(n){case"input":o=gx(t,o),i=gx(t,i),s=[];break;case"option":o=_x(t,o),i=_x(t,i),s=[];break;case"select":o=Jn({},o,{value:void 0}),i=Jn({},i,{value:void 0}),s=[];break;case"textarea":o=bx(t,o),i=bx(t,i),s=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=y1)}xx(n,i);var a;n=null;for(u in o)if(!i.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wp.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var c=i[u];if(l=o!=null?o[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Hn("scroll",t),s||l===c||(s=[])):typeof c=="object"&&c!==null&&c.$$typeof===dx?c.toString():(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};cN=function(t,e,n,i){n!==i&&(e.flags|=4)};function am(t,e){if(!Bo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Cne(t,e,n){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return zi(e.type)&&w1(),null;case 3:return nf(),zn(Hi),zn(oi),ES(),i=e.stateNode,i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(k1(e)?e.flags|=4:i.hydrate||(e.flags|=256)),IS(e),null;case 5:yS(e);var o=mu(em.current);if(n=e.type,t!==null&&e.stateNode!=null)lN(t,e,n,i,o),t.ref!==e.ref&&(e.flags|=128);else{if(!i){if(e.stateNode===null)throw Error(Ge(166));return null}if(t=mu(jo.current),k1(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Yl]=e,i[b1]=s,n){case"dialog":Hn("cancel",i),Hn("close",i);break;case"iframe":case"object":case"embed":Hn("load",i);break;case"video":case"audio":for(t=0;t<Wp.length;t++)Hn(Wp[t],i);break;case"source":Hn("error",i);break;case"img":case"image":case"link":Hn("error",i),Hn("load",i);break;case"details":Hn("toggle",i);break;case"input":QI(i,s),Hn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Hn("invalid",i);break;case"textarea":nO(i,s),Hn("invalid",i)}xx(n,s),t=null;for(var a in s)s.hasOwnProperty(a)&&(o=s[a],a==="children"?typeof o=="string"?i.textContent!==o&&(t=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(t=["children",""+o]):wp.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Hn("scroll",i));switch(n){case"input":t1(i),tO(i,s,!0);break;case"textarea":t1(i),iO(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=y1)}i=t,e.updateQueue=i,i!==null&&(e.flags|=4)}else{switch(a=o.nodeType===9?o:o.ownerDocument,t===Ex.html&&(t=sO(n)),t===Ex.html?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[Yl]=e,t[b1]=i,aN(t,e,!1,!1),e.stateNode=t,a=Sx(n,i),n){case"dialog":Hn("cancel",t),Hn("close",t),o=i;break;case"iframe":case"object":case"embed":Hn("load",t),o=i;break;case"video":case"audio":for(o=0;o<Wp.length;o++)Hn(Wp[o],t);o=i;break;case"source":Hn("error",t),o=i;break;case"img":case"image":case"link":Hn("error",t),Hn("load",t),o=i;break;case"details":Hn("toggle",t),o=i;break;case"input":QI(t,i),o=gx(t,i),Hn("invalid",t);break;case"option":o=_x(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},o=Jn({},i,{value:void 0}),Hn("invalid",t);break;case"textarea":nO(t,i),o=bx(t,i),Hn("invalid",t);break;default:o=i}xx(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?lO(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&oO(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ap(t,c):typeof c=="number"&&Ap(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wp.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Hn("scroll",t):c!=null&&sx(t,s,c,a))}switch(n){case"input":t1(t),tO(t,i,!1);break;case"textarea":t1(t),iO(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Hl(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Ud(t,!!i.multiple,s,!1):i.defaultValue!=null&&Ud(t,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=y1)}c6(n,i)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)cN(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ge(166));n=mu(em.current),mu(jo.current),k1(e)?(i=e.stateNode,n=e.memoizedProps,i[Yl]=e,i.nodeValue!==n&&(e.flags|=4)):(i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Yl]=e,e.stateNode=i)}return null;case 13:return zn(lr),i=e.memoizedState,(e.flags&64)!=0?(e.lanes=n,e):(i=i!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&k1(e):n=t.memoizedState!==null,i&&!n&&(e.mode&2)!=0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(lr.current&1)!=0?Yr===0&&(Yr=3):((Yr===0||Yr===3)&&(Yr=4),Mi===null||(lm&134217727)==0&&(of&134217727)==0||lf(Mi,ci))),(i||n)&&(e.flags|=4),null);case 4:return nf(),IS(e),t===null&&i6(e.stateNode.containerInfo),null;case 10:return pS(e),null;case 17:return zi(e.type)&&w1(),null;case 19:if(zn(lr),i=e.memoizedState,i===null)return null;if(s=(e.flags&64)!=0,a=i.rendering,a===null)if(s)am(i,!1);else{if(Yr!==0||t!==null&&(t.flags&64)!=0)for(t=e.child;t!==null;){if(a=N1(t),a!==null){for(e.flags|=64,am(i,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),i.lastEffect===null&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ar(lr,lr.current&1|2),e.child}t=t.sibling}i.tail!==null&&ai()>zS&&(e.flags|=64,s=!0,am(i,!1),e.lanes=33554432)}else{if(!s)if(t=N1(a),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),am(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Bo)return e=e.lastEffect=i.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*ai()-i.renderingStartTime>zS&&n!==1073741824&&(e.flags|=64,s=!0,am(i,!1),e.lanes=33554432);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=ai(),n.sibling=null,e=lr.current,ar(lr,s?e&1|2:e&1),n):null;case 23:case 24:return KS(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&i.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Ge(156,e.tag))}function Mne(t){switch(t.tag){case 1:zi(t.type)&&w1();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(nf(),zn(Hi),zn(oi),ES(),e=t.flags,(e&64)!=0)throw Error(Ge(285));return t.flags=e&-4097|64,t;case 5:return yS(t),null;case 13:return zn(lr),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return zn(lr),null;case 4:return nf(),null;case 10:return pS(t),null;case 23:case 24:return KS(),null;default:return null}}function OS(t,e){try{var n="",i=e;do n+=ate(i),i=i.return;while(i);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:o}}function NS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ane=typeof WeakMap=="function"?WeakMap:Map;function uN(t,e,n){n=Zl(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){G1||(G1=!0,GS=i),NS(t,e)},n}function dN(t,e,n){n=Zl(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var o=e.value;n.payload=function(){return NS(t,e),i(o)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof i!="function"&&(Ho===null?Ho=new Set([this]):Ho.add(this),NS(t,e));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}var Pne=typeof WeakSet=="function"?WeakSet:Set;function fN(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){sc(t,n)}else e.current=null}function Rne(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,i=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:ho(e.type,n),i),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&iS(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Ge(163))}function Lne(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)==3){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var o=t;i=o.next,o=o.tag,(o&4)!=0&&(o&1)!=0&&(MN(n,t),jne(n,t)),t=i}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(i=n.elementType===n.type?e.memoizedProps:ho(n.type,e.memoizedProps),t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&A6(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}A6(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&c6(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&SO(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Ge(163))}function hN(t,e){for(var n=t;;){if(n.tag===5){var i=n.stateNode;if(e)i=i.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{i=n.stateNode;var o=n.memoizedProps.style;o=o!=null&&o.hasOwnProperty("display")?o.display:null,i.style.display=aO("display",o)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function pN(t,e){if(hu&&typeof hu.onCommitFiberUnmount=="function")try{hu.onCommitFiberUnmount(aS,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var i=n,o=i.destroy;if(i=i.tag,o!==void 0)if((i&4)!=0)MN(e,n);else{i=e;try{o()}catch(s){sc(i,s)}}n=n.next}while(n!==t)}break;case 1:if(fN(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){sc(e,s)}break;case 5:fN(e);break;case 4:yN(t,e)}}function mN(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function gN(t){return t.tag===5||t.tag===3||t.tag===4}function vN(t){e:{for(var e=t.return;e!==null;){if(gN(e))break e;e=e.return}throw Error(Ge(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var i=!1;break;case 3:e=e.containerInfo,i=!0;break;case 4:e=e.containerInfo,i=!0;break;default:throw Error(Ge(161))}n.flags&16&&(Ap(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||gN(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}i?kS(t,n,e):DS(t,n,e)}function kS(t,e,n){var i=t.tag,o=i===5||i===6;if(o)t=o?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=y1));else if(i!==4&&(t=t.child,t!==null))for(kS(t,e,n),t=t.sibling;t!==null;)kS(t,e,n),t=t.sibling}function DS(t,e,n){var i=t.tag,o=i===5||i===6;if(o)t=o?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(DS(t,e,n),t=t.sibling;t!==null;)DS(t,e,n),t=t.sibling}function yN(t,e){for(var n=e,i=!1,o,s;;){if(!i){i=n.return;e:for(;;){if(i===null)throw Error(Ge(160));switch(o=i.stateNode,i.tag){case 5:s=!1;break e;case 3:o=o.containerInfo,s=!0;break e;case 4:o=o.containerInfo,s=!0;break e}i=i.return}i=!0}if(n.tag===5||n.tag===6){e:for(var a=t,l=n,c=l;;)if(pN(a,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s?(a=o,l=n.stateNode,a.nodeType===8?a.parentNode.removeChild(l):a.removeChild(l)):o.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){o=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(pN(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(i=!1)}n.sibling.return=n.return,n=n.sibling}}function FS(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do(i.tag&3)==3&&(t=i.destroy,i.destroy=void 0,t!==void 0&&t()),i=i.next;while(i!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){i=e.memoizedProps;var o=t!==null?t.memoizedProps:i;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[b1]=i,t==="input"&&i.type==="radio"&&i.name!=null&&eO(n,i),Sx(t,o),e=Sx(t,i),o=0;o<s.length;o+=2){var a=s[o],l=s[o+1];a==="style"?lO(n,l):a==="dangerouslySetInnerHTML"?oO(n,l):a==="children"?Ap(n,l):sx(n,a,l,e)}switch(t){case"input":vx(n,i);break;case"textarea":rO(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,s=i.value,s!=null?Ud(n,!!i.multiple,s,!1):t!==!!i.multiple&&(i.defaultValue!=null?Ud(n,!!i.multiple,i.defaultValue,!0):Ud(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Ge(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,SO(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(HS=ai(),hN(e.child,!0)),_N(e);return;case 19:_N(e);return;case 17:return;case 23:case 24:hN(e,e.memoizedState!==null);return}throw Error(Ge(163))}function _N(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Pne),e.forEach(function(i){var o=Hne.bind(null,t,i);n.has(i)||(n.add(i),i.then(o,o))})}}function Ine(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var One=Math.ceil,H1=au.ReactCurrentDispatcher,US=au.ReactCurrentOwner,Lt=0,Mi=null,Rr=null,ci=0,yu=0,jS=Kl(0),Yr=0,z1=null,sf=0,lm=0,of=0,BS=0,VS=null,HS=0,zS=1/0;function af(){zS=ai()+500}var ct=null,G1=!1,GS=null,Ho=null,tc=!1,cm=null,um=90,$S=[],WS=[],Fa=null,dm=0,qS=null,$1=-1,Ua=0,W1=0,fm=null,q1=!1;function cs(){return(Lt&48)!=0?ai():$1!==-1?$1:$1=ai()}function nc(t){if(t=t.mode,(t&2)==0)return 1;if((t&4)==0)return Qd()===99?1:2;if(Ua===0&&(Ua=sf),bne.transition!==0){W1!==0&&(W1=VS!==null?VS.pendingLanes:0),t=Ua;var e=4186112&~W1;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Qd(),(Lt&4)!=0&&t===98?t=c1(12,Ua):(t=xte(t),t=c1(t,Ua)),t}function rc(t,e,n){if(50<dm)throw dm=0,qS=null,Error(Ge(185));if(t=Y1(t,e),t===null)return null;u1(t,e,n),t===Mi&&(of|=e,Yr===4&&lf(t,ci));var i=Qd();e===1?(Lt&8)!=0&&(Lt&48)==0?YS(t):(js(t,n),Lt===0&&(af(),Uo())):((Lt&4)==0||i!==98&&i!==99||(Fa===null?Fa=new Set([t]):Fa.add(t)),js(t,n)),VS=t}function Y1(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function js(t,e){for(var n=t.callbackNode,i=t.suspendedLanes,o=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-Wl(a),c=1<<l,u=s[l];if(u===-1){if((c&i)==0||(c&o)!=0){u=e,Hd(c);var d=Fn;s[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=e&&(t.expiredLanes|=c);a&=~c}if(i=Up(t,t===Mi?ci:0),e=Fn,i===0)n!==null&&(n!==dS&&cS(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==dS&&cS(n)}e===15?(n=YS.bind(null,t),Na===null?(Na=[n],T1=lS(S1,S6)):Na.push(n),n=dS):e===14?n=Kp(99,YS.bind(null,t)):(n=Ste(e),n=Kp(n,bN.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function bN(t){if($1=-1,W1=Ua=0,(Lt&48)!=0)throw Error(Ge(327));var e=t.callbackNode;if(ic()&&t.callbackNode!==e)return null;var n=Up(t,t===Mi?ci:0);if(n===0)return null;var i=n,o=Lt;Lt|=16;var s=SN();(Mi!==t||ci!==i)&&(af(),cf(t,i));do try{Dne();break}catch(l){xN(t,l)}while(1);if(hS(),H1.current=s,Lt=o,Rr!==null?i=0:(Mi=null,ci=0,i=Yr),(sf&of)!=0)cf(t,0);else if(i!==0){if(i===2&&(Lt|=64,t.hydrate&&(t.hydrate=!1,iS(t.containerInfo)),n=LO(t),n!==0&&(i=hm(t,n))),i===1)throw e=z1,cf(t,0),lf(t,n),js(t,ai()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,i){case 0:case 1:throw Error(Ge(345));case 2:_u(t);break;case 3:if(lf(t,n),(n&62914560)===n&&(i=HS+500-ai(),10<i)){if(Up(t,0)!==0)break;if(o=t.suspendedLanes,(o&n)!==n){cs(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=u6(_u.bind(null,t),i);break}_u(t);break;case 4:if(lf(t,n),(n&4186112)===n)break;for(i=t.eventTimes,o=-1;0<n;){var a=31-Wl(n);s=1<<a,a=i[a],a>o&&(o=a),n&=~s}if(n=o,n=ai()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*One(n/1960))-n,10<n){t.timeoutHandle=u6(_u.bind(null,t),n);break}_u(t);break;case 5:_u(t);break;default:throw Error(Ge(329))}}return js(t,ai()),t.callbackNode===e?bN.bind(null,t):null}function lf(t,e){for(e&=~BS,e&=~of,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wl(e),i=1<<n;t[n]=-1,e&=~i}}function YS(t){if((Lt&48)!=0)throw Error(Ge(327));if(ic(),t===Mi&&(t.expiredLanes&ci)!=0){var e=ci,n=hm(t,e);(sf&of)!=0&&(e=Up(t,e),n=hm(t,e))}else e=Up(t,0),n=hm(t,e);if(t.tag!==0&&n===2&&(Lt|=64,t.hydrate&&(t.hydrate=!1,iS(t.containerInfo)),e=LO(t),e!==0&&(n=hm(t,e))),n===1)throw n=z1,cf(t,0),lf(t,e),js(t,ai()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,_u(t),js(t,ai()),null}function Nne(){if(Fa!==null){var t=Fa;Fa=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,js(e,ai())})}Uo()}function EN(t,e){var n=Lt;Lt|=1;try{return t(e)}finally{Lt=n,Lt===0&&(af(),Uo())}}function wN(t,e){var n=Lt;Lt&=-2,Lt|=8;try{return t(e)}finally{Lt=n,Lt===0&&(af(),Uo())}}function K1(t,e){ar(jS,yu),yu|=e,sf|=e}function KS(){yu=jS.current,zn(jS)}function cf(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pne(n)),Rr!==null)for(n=Rr.return;n!==null;){var i=n;switch(i.tag){case 1:i=i.type.childContextTypes,i!=null&&w1();break;case 3:nf(),zn(Hi),zn(oi),ES();break;case 5:yS(i);break;case 4:nf();break;case 13:zn(lr);break;case 19:zn(lr);break;case 10:pS(i);break;case 23:case 24:KS()}n=n.return}Mi=t,Rr=oc(t.current,null),ci=yu=sf=e,Yr=0,z1=null,BS=of=lm=0}function xN(t,e){do{var n=Rr;try{if(hS(),tm.current=B1,D1){for(var i=vr.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}D1=!1}if(nm=0,qr=li=vr=null,rm=!1,US.current=null,n===null||n.return===null){Yr=1,z1=e,Rr=null;break}e:{var s=t,a=n.return,l=n,c=e;if(e=ci,l.flags|=2048,l.firstEffect=l.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c;if((l.mode&2)==0){var d=l.alternate;d?(l.updateQueue=d.updateQueue,l.memoizedState=d.memoizedState,l.lanes=d.lanes):(l.updateQueue=null,l.memoizedState=null)}var f=(lr.current&1)!=0,h=a;do{var v;if(v=h.tag===13){var m=h.memoizedState;if(m!==null)v=m.dehydrated!==null;else{var _=h.memoizedProps;v=_.fallback===void 0?!1:_.unstable_avoidThisFallback!==!0?!0:!f}}if(v){var S=h.updateQueue;if(S===null){var E=new Set;E.add(u),h.updateQueue=E}else S.add(u);if((h.mode&2)==0){if(h.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var w=Zl(-1,1);w.tag=2,Ql(l,w)}l.lanes|=1;break e}c=void 0,l=e;var T=s.pingCache;if(T===null?(T=s.pingCache=new Ane,c=new Set,T.set(u,c)):(c=T.get(u),c===void 0&&(c=new Set,T.set(u,c))),!c.has(l)){c.add(l);var C=Vne.bind(null,s,u,l);u.then(C,C)}h.flags|=4096,h.lanes=e;break e}h=h.return}while(h!==null);c=Error((Fd(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Yr!==5&&(Yr=2),c=OS(c,l),h=a;do{switch(h.tag){case 3:s=c,h.flags|=4096,e&=-e,h.lanes|=e;var P=uN(h,s,e);M6(h,P);break e;case 1:s=c;var R=h.type,A=h.stateNode;if((h.flags&64)==0&&(typeof R.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ho===null||!Ho.has(A)))){h.flags|=4096,e&=-e,h.lanes|=e;var L=dN(h,s,e);M6(h,L);break e}}h=h.return}while(h!==null)}CN(n)}catch(k){e=k,Rr===n&&n!==null&&(Rr=n=n.return);continue}break}while(1)}function SN(){var t=H1.current;return H1.current=B1,t===null?B1:t}function hm(t,e){var n=Lt;Lt|=16;var i=SN();Mi===t&&ci===e||cf(t,e);do try{kne();break}catch(o){xN(t,o)}while(1);if(hS(),Lt=n,H1.current=i,Rr!==null)throw Error(Ge(261));return Mi=null,ci=0,Yr}function kne(){for(;Rr!==null;)TN(Rr)}function Dne(){for(;Rr!==null&&!vne();)TN(Rr)}function TN(t){var e=PN(t.alternate,t,yu);t.memoizedProps=t.pendingProps,e===null?CN(t):Rr=e,US.current=null}function CN(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&2048)==0){if(n=Cne(n,e,yu),n!==null){Rr=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||(yu&1073741824)!=0||(n.mode&4)==0){for(var i=0,o=n.child;o!==null;)i|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=i}t!==null&&(t.flags&2048)==0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(n=Mne(e),n!==null){n.flags&=2047,Rr=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){Rr=e;return}Rr=e=t}while(e!==null);Yr===0&&(Yr=5)}function _u(t){var e=Qd();return pu(99,Fne.bind(null,t,e)),null}function Fne(t,e){do ic();while(cm!==null);if((Lt&48)!=0)throw Error(Ge(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ge(177));t.callbackNode=null;var i=n.lanes|n.childLanes,o=i,s=t.pendingLanes&~o;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=o,t.mutableReadLanes&=o,t.entangledLanes&=o,o=t.entanglements;for(var a=t.eventTimes,l=t.expirationTimes;0<s;){var c=31-Wl(s),u=1<<c;o[c]=0,a[c]=-1,l[c]=-1,s&=~u}if(Fa!==null&&(i&24)==0&&Fa.has(t)&&Fa.delete(t),t===Mi&&(Rr=Mi=null,ci=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,i!==null){if(o=Lt,Lt|=32,US.current=null,tS=d1,a=JO(),Jx(a)){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&u.rangeCount!==0){l=u.anchorNode,s=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var d=0,f=-1,h=-1,v=0,m=0,_=a,S=null;t:for(;;){for(var E;_!==l||s!==0&&_.nodeType!==3||(f=d+s),_!==c||u!==0&&_.nodeType!==3||(h=d+u),_.nodeType===3&&(d+=_.nodeValue.length),(E=_.firstChild)!==null;)S=_,_=E;for(;;){if(_===a)break t;if(S===l&&++v===s&&(f=d),S===c&&++m===u&&(h=d),(E=_.nextSibling)!==null)break;_=S,S=_.parentNode}_=E}l=f===-1||h===-1?null:{start:f,end:h}}else l=null;l=l||{start:0,end:0}}else l=null;nS={focusedElem:a,selectionRange:l},d1=!1,fm=null,q1=!1,ct=i;do try{Une()}catch(k){if(ct===null)throw Error(Ge(330));sc(ct,k),ct=ct.nextEffect}while(ct!==null);fm=null,ct=i;do try{for(a=t;ct!==null;){var w=ct.flags;if(w&16&&Ap(ct.stateNode,""),w&128){var T=ct.alternate;if(T!==null){var C=T.ref;C!==null&&(typeof C=="function"?C(null):C.current=null)}}switch(w&1038){case 2:vN(ct),ct.flags&=-3;break;case 6:vN(ct),ct.flags&=-3,FS(ct.alternate,ct);break;case 1024:ct.flags&=-1025;break;case 1028:ct.flags&=-1025,FS(ct.alternate,ct);break;case 4:FS(ct.alternate,ct);break;case 8:l=ct,yN(a,l);var P=l.alternate;mN(l),P!==null&&mN(P)}ct=ct.nextEffect}}catch(k){if(ct===null)throw Error(Ge(330));sc(ct,k),ct=ct.nextEffect}while(ct!==null);if(C=nS,T=JO(),w=C.focusedElem,a=C.selectionRange,T!==w&&w&&w.ownerDocument&&XO(w.ownerDocument.documentElement,w)){for(a!==null&&Jx(w)&&(T=a.start,C=a.end,C===void 0&&(C=T),"selectionStart"in w?(w.selectionStart=T,w.selectionEnd=Math.min(C,w.value.length)):(C=(T=w.ownerDocument||document)&&T.defaultView||window,C.getSelection&&(C=C.getSelection(),l=w.textContent.length,P=Math.min(a.start,l),a=a.end===void 0?P:Math.min(a.end,l),!C.extend&&P>a&&(l=a,a=P,P=l),l=KO(w,P),s=KO(w,a),l&&s&&(C.rangeCount!==1||C.anchorNode!==l.node||C.anchorOffset!==l.offset||C.focusNode!==s.node||C.focusOffset!==s.offset)&&(T=T.createRange(),T.setStart(l.node,l.offset),C.removeAllRanges(),P>a?(C.addRange(T),C.extend(s.node,s.offset)):(T.setEnd(s.node,s.offset),C.addRange(T)))))),T=[],C=w;C=C.parentNode;)C.nodeType===1&&T.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<T.length;w++)C=T[w],C.element.scrollLeft=C.left,C.element.scrollTop=C.top}d1=!!tS,nS=tS=null,t.current=n,ct=i;do try{for(w=t;ct!==null;){var R=ct.flags;if(R&36&&Lne(w,ct.alternate,ct),R&128){T=void 0;var A=ct.ref;if(A!==null){var L=ct.stateNode;switch(ct.tag){case 5:T=L;break;default:T=L}typeof A=="function"?A(T):A.current=T}}ct=ct.nextEffect}}catch(k){if(ct===null)throw Error(Ge(330));sc(ct,k),ct=ct.nextEffect}while(ct!==null);ct=null,_ne(),Lt=o}else t.current=n;if(tc)tc=!1,cm=t,um=e;else for(ct=i;ct!==null;)e=ct.nextEffect,ct.nextEffect=null,ct.flags&8&&(R=ct,R.sibling=null,R.stateNode=null),ct=e;if(i=t.pendingLanes,i===0&&(Ho=null),i===1?t===qS?dm++:(dm=0,qS=t):dm=0,n=n.stateNode,hu&&typeof hu.onCommitFiberRoot=="function")try{hu.onCommitFiberRoot(aS,n,void 0,(n.current.flags&64)==64)}catch{}if(js(t,ai()),G1)throw G1=!1,t=GS,GS=null,t;return(Lt&8)!=0||Uo(),null}function Une(){for(;ct!==null;){var t=ct.alternate;q1||fm===null||((ct.flags&8)!=0?vO(ct,fm)&&(q1=!0):ct.tag===13&&Ine(t,ct)&&vO(ct,fm)&&(q1=!0));var e=ct.flags;(e&256)!=0&&Rne(t,ct),(e&512)==0||tc||(tc=!0,Kp(97,function(){return ic(),null})),ct=ct.nextEffect}}function ic(){if(um!==90){var t=97<um?97:um;return um=90,pu(t,Bne)}return!1}function jne(t,e){$S.push(e,t),tc||(tc=!0,Kp(97,function(){return ic(),null}))}function MN(t,e){WS.push(e,t),tc||(tc=!0,Kp(97,function(){return ic(),null}))}function Bne(){if(cm===null)return!1;var t=cm;if(cm=null,(Lt&48)!=0)throw Error(Ge(331));var e=Lt;Lt|=32;var n=WS;WS=[];for(var i=0;i<n.length;i+=2){var o=n[i],s=n[i+1],a=o.destroy;if(o.destroy=void 0,typeof a=="function")try{a()}catch(c){if(s===null)throw Error(Ge(330));sc(s,c)}}for(n=$S,$S=[],i=0;i<n.length;i+=2){o=n[i],s=n[i+1];try{var l=o.create;o.destroy=l()}catch(c){if(s===null)throw Error(Ge(330));sc(s,c)}}for(l=t.current.firstEffect;l!==null;)t=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=t;return Lt=e,Uo(),!0}function AN(t,e,n){e=OS(n,e),e=uN(t,e,1),Ql(t,e),e=cs(),t=Y1(t,1),t!==null&&(u1(t,1,e),js(t,e))}function sc(t,e){if(t.tag===3)AN(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){AN(n,t,e);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ho===null||!Ho.has(i))){t=OS(e,t);var o=dN(n,t,1);if(Ql(n,o),o=cs(),n=Y1(n,1),n!==null)u1(n,1,o),js(n,o);else if(typeof i.componentDidCatch=="function"&&(Ho===null||!Ho.has(i)))try{i.componentDidCatch(e,t)}catch{}break}}n=n.return}}function Vne(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=cs(),t.pingedLanes|=t.suspendedLanes&n,Mi===t&&(ci&n)===n&&(Yr===4||Yr===3&&(ci&62914560)===ci&&500>ai()-HS?cf(t,0):BS|=n),js(t,e)}function Hne(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,(e&2)==0?e=1:(e&4)==0?e=Qd()===99?1:2:(Ua===0&&(Ua=sf),e=zd(62914560&~Ua),e===0&&(e=4194304))),n=cs(),t=Y1(t,e),t!==null&&(u1(t,e,n),js(t,n))}var PN;PN=function(t,e,n){var i=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Hi.current)po=!0;else if((n&i)!=0)po=(t.flags&16384)!=0;else{switch(po=!1,e.tag){case 3:eN(e),bS();break;case 5:k6(e);break;case 1:zi(e.type)&&x1(e);break;case 4:vS(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value;var o=e.type._context;ar(C1,o._currentValue),o._currentValue=i;break;case 13:if(e.memoizedState!==null)return(n&e.child.childLanes)!=0?tN(t,e,n):(ar(lr,lr.current&1),e=Da(t,e,n),e!==null?e.sibling:null);ar(lr,lr.current&1);break;case 19:if(i=(n&e.childLanes)!=0,(t.flags&64)!=0){if(i)return oN(t,e,n);e.flags|=64}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ar(lr,lr.current),i)break;return null;case 23:case 24:return e.lanes=0,AS(t,e,n)}return Da(t,e,n)}else po=!1;switch(e.lanes=0,e.tag){case 2:if(i=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=Zd(e,oi.current),tf(e,n),o=xS(null,e,i,t,o,n),e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,zi(i)){var s=!0;x1(e)}else s=!1;e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,mS(e);var a=i.getDerivedStateFromProps;typeof a=="function"&&P1(e,i,a,t),o.updater=R1,e.stateNode=o,o._reactInternals=e,gS(e,i,t,n),e=RS(null,e,i,!0,s,n)}else e.tag=0,$i(null,e,o,n),e=e.child;return e;case 16:o=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=o._init,o=s(o._payload),e.type=o,s=e.tag=Gne(o),t=ho(o,t),s){case 0:e=PS(null,e,o,t,n);break e;case 1:e=Q6(null,e,o,t,n);break e;case 11:e=K6(null,e,o,t,n);break e;case 14:e=X6(null,e,o,ho(o.type,t),i,n);break e}throw Error(Ge(306,o,""))}return e;case 0:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ho(i,o),PS(t,e,i,o,n);case 1:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ho(i,o),Q6(t,e,i,o,n);case 3:if(eN(e),i=e.updateQueue,t===null||i===null)throw Error(Ge(282));if(i=e.pendingProps,o=e.memoizedState,o=o!==null?o.element:null,C6(t,e),Xp(e,i,null,n),i=e.memoizedState.element,i===o)bS(),e=Da(t,e,n);else{if(o=e.stateNode,(s=o.hydrate)&&(ec=Yd(e.stateNode.containerInfo.firstChild),ka=e,s=Bo=!0),s){if(t=o.mutableSourceEagerHydrationData,t!=null)for(o=0;o<t.length;o+=2)s=t[o],s._workInProgressVersionPrimary=t[o+1],rf.push(s);for(n=N6(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else $i(t,e,i,n),bS();e=e.child}return e;case 5:return k6(e),t===null&&_S(e),i=e.type,o=e.pendingProps,s=t!==null?t.memoizedProps:null,a=o.children,rS(i,o)?a=null:s!==null&&rS(i,s)&&(e.flags|=16),Z6(t,e),$i(t,e,a,n),e.child;case 6:return t===null&&_S(e),null;case 13:return tN(t,e,n);case 4:return vS(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=O1(e,null,i,n):$i(t,e,i,n),e.child;case 11:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ho(i,o),K6(t,e,i,o,n);case 7:return $i(t,e,e.pendingProps,n),e.child;case 8:return $i(t,e,e.pendingProps.children,n),e.child;case 12:return $i(t,e,e.pendingProps.children,n),e.child;case 10:e:{i=e.type._context,o=e.pendingProps,a=e.memoizedProps,s=o.value;var l=e.type._context;if(ar(C1,l._currentValue),l._currentValue=s,a!==null)if(l=a.value,s=Ds(l,s)?0:(typeof i._calculateChangedBits=="function"?i._calculateChangedBits(l,s):1073741823)|0,s===0){if(a.children===o.children&&!Hi.current){e=Da(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){a=l.child;for(var u=c.firstContext;u!==null;){if(u.context===i&&(u.observedBits&s)!=0){l.tag===1&&(u=Zl(-1,n&-n),u.tag=2,Ql(l,u)),l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),T6(l.return,n),c.lanes|=n;break}u=u.next}}else a=l.tag===10&&l.type===e.type?null:l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===e){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}$i(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,s=e.pendingProps,i=s.children,tf(e,n),o=Fs(o,s.unstable_observedBits),i=i(o),e.flags|=1,$i(t,e,i,n),e.child;case 14:return o=e.type,s=ho(o,e.pendingProps),s=ho(o.type,s),X6(t,e,o,s,i,n);case 15:return J6(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ho(i,o),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,zi(i)?(t=!0,x1(e)):t=!1,tf(e,n),L6(e,i,o),gS(e,i,o,n),RS(null,e,i,!0,t,n);case 19:return oN(t,e,n);case 23:return AS(t,e,n);case 24:return AS(t,e,n)}throw Error(Ge(156,e.tag))};function zne(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(t,e,n,i){return new zne(t,e,n,i)}function XS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gne(t){if(typeof t=="function")return XS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jv)return 11;if(t===Qv)return 14}return 2}function oc(t,e){var n=t.alternate;return n===null?(n=Bs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function X1(t,e,n,i,o,s){var a=2;if(i=t,typeof t=="function")XS(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Vl:return uf(n.children,o,s,e);case KI:a=8,o|=16;break;case ox:a=8,o|=1;break;case Sp:return t=Bs(12,n,e,o|8),t.elementType=Sp,t.type=Sp,t.lanes=s,t;case Tp:return t=Bs(13,n,e,o),t.type=Tp,t.elementType=Tp,t.lanes=s,t;case Zv:return t=Bs(19,n,e,o),t.elementType=Zv,t.lanes=s,t;case fx:return JS(n,o,s,e);case hx:return t=Bs(24,n,e,o),t.elementType=hx,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ax:a=10;break e;case lx:a=9;break e;case Jv:a=11;break e;case Qv:a=14;break e;case cx:a=16,i=null;break e;case ux:a=22;break e}throw Error(Ge(130,t==null?t:typeof t,""))}return e=Bs(a,n,e,o),e.elementType=t,e.type=i,e.lanes=s,e}function uf(t,e,n,i){return t=Bs(7,t,i,e),t.lanes=n,t}function JS(t,e,n,i){return t=Bs(23,t,i,e),t.elementType=fx,t.lanes=n,t}function ZS(t,e,n){return t=Bs(6,t,null,e),t.lanes=n,t}function QS(t,e,n){return e=Bs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $ne(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=jx(0),this.expirationTimes=jx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jx(0),this.mutableSourceEagerHydrationData=null}function Wne(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lu,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function J1(t,e,n,i){var o=e.current,s=cs(),a=nc(o);e:if(n){n=n._reactInternals;t:{if(uu(n)!==n||n.tag!==1)throw Error(Ge(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(zi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(Ge(171))}if(n.tag===1){var c=n.type;if(zi(c)){n=m6(n,c,l);break e}}n=l}else n=Xl;return e.context===null?e.context=n:e.pendingContext=n,e=Zl(s,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),Ql(o,e),rc(o,a,s),a}function e3(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function RN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function t3(t,e){RN(t,e),(t=t.alternate)&&RN(t,e)}function qne(){return null}function n3(t,e,n){var i=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new $ne(t,e,n!=null&&n.hydrate===!0),e=Bs(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,mS(e),t[Kd]=n.current,i6(t.nodeType===8?t.parentNode:t),i)for(t=0;t<i.length;t++){e=i[t];var o=e._getVersion;o=o(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,o]:n.mutableSourceEagerHydrationData.push(e,o)}this._internalRoot=n}n3.prototype.render=function(t){J1(t,this._internalRoot,null,null)};n3.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;J1(null,t,null,function(){e[Kd]=null})};function pm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yne(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new n3(t,0,e?{hydrate:!0}:void 0)}function Z1(t,e,n,i,o){var s=n._reactRootContainer;if(s){var a=s._internalRoot;if(typeof o=="function"){var l=o;o=function(){var u=e3(a);l.call(u)}}J1(e,a,t,o)}else{if(s=n._reactRootContainer=Yne(n,i),a=s._internalRoot,typeof o=="function"){var c=o;o=function(){var u=e3(a);c.call(u)}}wN(function(){J1(e,a,t,o)})}return e3(a)}yO=function(t){if(t.tag===13){var e=cs();rc(t,4,e),t3(t,4)}};Ox=function(t){if(t.tag===13){var e=cs();rc(t,67108864,e),t3(t,67108864)}};_O=function(t){if(t.tag===13){var e=cs(),n=nc(t);rc(t,n,e),t3(t,n)}};bO=function(t,e){return e()};Cx=function(t,e,n){switch(e){case"input":if(vx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=E1(i);if(!o)throw Error(Ge(90));ZI(i),vx(i,o)}}}break;case"textarea":rO(t,n);break;case"select":e=n.value,e!=null&&Ud(t,!!n.multiple,e,!1)}};Mx=EN;fO=function(t,e,n,i,o){var s=Lt;Lt|=4;try{return pu(98,t.bind(null,e,n,i,o))}finally{Lt=s,Lt===0&&(af(),Uo())}};Ax=function(){(Lt&49)==0&&(Nne(),ic())};hO=function(t,e){var n=Lt;Lt|=2;try{return t(e)}finally{Lt=n,Lt===0&&(af(),Uo())}};function LN(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pm(e))throw Error(Ge(200));return Wne(t,e,null,n)}var Kne={Events:[Yp,Xd,E1,uO,dO,ic,{current:!1}]},mm={findFiberByHostInstance:du,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Xne={bundleType:mm.bundleType,version:mm.version,rendererPackageName:mm.rendererPackageName,rendererConfig:mm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:au.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gO(t),t===null?null:t.stateNode},findFiberByHostInstance:mm.findFiberByHostInstance||qne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Q1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Q1.isDisabled&&Q1.supportsFiber)try{aS=Q1.inject(Xne),hu=Q1}catch{}}ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kne;ks.createPortal=LN;ks.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ge(188)):Error(Ge(268,Object.keys(t)));return t=gO(e),t=t===null?null:t.stateNode,t};ks.flushSync=function(t,e){var n=Lt;if((n&48)!=0)return t(e);Lt|=1;try{if(t)return pu(99,t.bind(null,e))}finally{Lt=n,Uo()}};ks.hydrate=function(t,e,n){if(!pm(e))throw Error(Ge(200));return Z1(null,t,e,!0,n)};ks.render=function(t,e,n){if(!pm(e))throw Error(Ge(200));return Z1(null,t,e,!1,n)};ks.unmountComponentAtNode=function(t){if(!pm(t))throw Error(Ge(40));return t._reactRootContainer?(wN(function(){Z1(null,null,t,!1,function(){t._reactRootContainer=null,t[Kd]=null})}),!0):!1};ks.unstable_batchedUpdates=EN;ks.unstable_createPortal=function(t,e){return LN(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};ks.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!pm(n))throw Error(Ge(200));if(t==null||t._reactInternals===void 0)throw Error(Ge(38));return Z1(t,e,n,!1,i)};ks.version="17.0.2";function IN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IN)}catch(t){console.error(t)}}IN(),nx.exports=ks;var Jne=nx.exports,ON={exports:{}},Zne=function(t,e,n){var i=this;return t=t instanceof Array?t:[t],i.bindMultiple(t,e,n),i},Qne=function(t,e,n){for(var i=this,o=0;o<t.length;++o)i.bindSingle(t[o],e,n)},ere=function(t,e){var n=this;return n.bind(t,function(){},e)},tre=function(t,e){var n=this;return n.directMap[t+":"+e]&&n.directMap[t+":"+e]({},t),this},nre=function(){var t=this;return t.callbacks={},t.directMap={},this},rre=function(t,e){if((" "+e.className+" ").indexOf(" combokeys ")>-1)return!1;var n=e.tagName.toLowerCase();return n==="input"||n==="select"||n==="textarea"||e.isContentEditable},r3=function(t){return t==="shift"||t==="ctrl"||t==="alt"||t==="meta"},ire=function(t,e,n){var i=this,o,s,a={},l=0,c=!1,u,d;for(o=i.getMatches(t,e,n),s=0;s<o.length;++s)o[s].seq&&(l=Math.max(l,o[s].level));for(s=0;s<o.length;++s){if(o[s].seq){if(o[s].level!==l)continue;c=!0,a[o[s].seq]=1,i.fireCallback(o[s].callback,n,o[s].combo,o[s].seq);continue}c||i.fireCallback(o[s].callback,n,o[s].combo)}d=n.type==="keypress"&&i.ignoreNextKeypress,u=r3,n.type===i.nextExpectedAction&&!u(t)&&!d&&i.resetSequences(a),i.ignoreNextKeypress=c&&n.type==="keydown"},gm={exports:{}};gm.exports=NN;gm.exports.on=NN;gm.exports.off=sre;function NN(t,e,n,i){return!t.addEventListener&&(e="on"+e),(t.addEventListener||t.attachEvent).call(t,e,n,i),n}function sre(t,e,n,i){return!t.removeEventListener&&(e="on"+e),(t.removeEventListener||t.detachEvent).call(t,e,n,i),n}var i3={exports:{}};(function(t){t.exports={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",187:"plus",189:"minus",224:"meta"};for(var e=1;e<20;++e)t.exports[111+e]="f"+e;for(e=0;e<=9;++e)t.exports[e+96]=e})(i3);var ore={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},kN=function(t){var e,n;if(e=i3.exports,n=ore,t.type==="keypress"){var i=String.fromCharCode(t.which);return t.shiftKey||(i=i.toLowerCase()),i}return e[t.which]?e[t.which]:n[t.which]?n[t.which]:String.fromCharCode(t.which).toLowerCase()},are=function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e},lre=function(t){var e=this,n,i;typeof t.which!="number"&&(t.which=t.keyCode),n=kN;var o=n(t);if(!!o){if(t.type==="keyup"&&e.ignoreNextKeyup===o){e.ignoreNextKeyup=!1;return}i=are,e.handleKey(o,i(t),t)}},cre=function(){var t=this,e=gm.exports,n=t.element;t.eventHandler=lre.bind(t),e(n,"keypress",t.eventHandler),e(n,"keydown",t.eventHandler),e(n,"keyup",t.eventHandler)},ure=function(t,e,n,i,o){var s=this;s.directMap[t+":"+n]=e,t=t.replace(/\s+/g," ");var a=t.split(" "),l;if(a.length>1){s.bindSequence(t,a,e,n);return}l=s.getKeyInfo(t,n),s.callbacks[l.key]=s.callbacks[l.key]||[],s.getMatches(l.key,l.modifiers,{type:l.action},i,t,o),s.callbacks[l.key][i?"unshift":"push"]({callback:e,modifiers:l.modifiers,action:l.action,seq:i,level:o,combo:t})},dre=function(t){return t==="+"?["+"]:t.split("+")},fre={option:"alt",command:"meta",return:"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},hre={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},pre=function(t,e){var n=this,i,o,s,a,l=[],c,u,d;for(i=dre,o=i(t),c=fre,u=hre,d=r3,a=0;a<o.length;++a)s=o[a],c[s]&&(s=c[s]),e&&e!=="keypress"&&u[s]&&(s=u[s],l.push("shift")),d(s)&&l.push(s);return e=n.pickBestAction(s,l,e),{key:s,modifiers:l,action:e}},mre=function(t,e,n){var i=this;return n||(n=i.getReverseMap()[t]?"keydown":"keypress"),n==="keypress"&&e.length&&(n="keydown"),n},gre=function(){var t=this,e=t.constructor,n;if(!e.REVERSE_MAP){e.REVERSE_MAP={},n=i3.exports;for(var i in n)i>95&&i<112||n.hasOwnProperty(i)&&(e.REVERSE_MAP[n[i]]=i)}return e.REVERSE_MAP},vre=function(t,e){return t.sort().join(",")===e.sort().join(",")},yre=function(t,e,n,i,o,s){var a=this,l,c,u=[],d=n.type,f,h;if(d==="keypress"&&!(n.code&&n.code.slice(0,5)==="Arrow")){var v=a.callbacks["any-character"]||[];v.forEach(function(S){u.push(S)})}if(!a.callbacks[t])return u;for(f=r3,d==="keyup"&&f(t)&&(e=[t]),l=0;l<a.callbacks[t].length;++l)if(c=a.callbacks[t][l],!(!i&&c.seq&&a.sequenceLevels[c.seq]!==c.level)&&d===c.action&&(h=vre,d==="keypress"&&!n.metaKey&&!n.ctrlKey||h(e,c.modifiers))){var m=!i&&c.combo===o,_=i&&c.seq===i&&c.level===s;(m||_)&&a.callbacks[t].splice(l,1),u.push(c)}return u},_re=function(t){var e=this;t=t||{};var n=!1,i;for(i in e.sequenceLevels){if(t[i]){n=!0;continue}e.sequenceLevels[i]=0}n||(e.nextExpectedAction=!1)},bre=function(t){if(t.preventDefault){t.preventDefault();return}t.returnValue=!1},Ere=function(t){if(t.stopPropagation){t.stopPropagation();return}t.cancelBubble=!0},wre=function(t,e,n,i){var o=this,s,a;o.stopCallback(e,e.target||e.srcElement,n,i)||t(e,n)===!1&&(s=bre,s(e),a=Ere,a(e))},xre=function(t,e,n,i){var o=this;o.sequenceLevels[t]=0;function s(d){return function(){o.nextExpectedAction=d,++o.sequenceLevels[t],o.resetSequenceTimer()}}function a(d){var f;o.fireCallback(n,d,t),i!=="keyup"&&(f=kN,o.ignoreNextKeyup=f(d)),setTimeout(function(){o.resetSequences()},10)}for(var l=0;l<e.length;++l){var c=l+1===e.length,u=c?a:s(i||o.getKeyInfo(e[l+1]).action);o.bindSingle(e[l],u,i,t,l)}},Sre=function(){var t=this;clearTimeout(t.resetTimer),t.resetTimer=setTimeout(function(){t.resetSequences()},1e3)},s3=gm.exports.off,Tre=function(){var t=this,e=t.element;s3(e,"keypress",t.eventHandler),s3(e,"keydown",t.eventHandler),s3(e,"keyup",t.eventHandler)},Cre=function(){var t=this;t.instances.forEach(function(e){e.reset()})};(function(t){t.exports=function(e){var n=this,i=n.constructor;return n.callbacks={},n.directMap={},n.sequenceLevels={},n.resetTimer,n.ignoreNextKeyup=!1,n.ignoreNextKeypress=!1,n.nextExpectedAction=!1,n.element=e,n.addEvents(),i.instances.push(n),n},t.exports.prototype.bind=Zne,t.exports.prototype.bindMultiple=Qne,t.exports.prototype.unbind=ere,t.exports.prototype.trigger=tre,t.exports.prototype.reset=nre,t.exports.prototype.stopCallback=rre,t.exports.prototype.handleKey=ire,t.exports.prototype.addEvents=cre,t.exports.prototype.bindSingle=ure,t.exports.prototype.getKeyInfo=pre,t.exports.prototype.pickBestAction=mre,t.exports.prototype.getReverseMap=gre,t.exports.prototype.getMatches=yre,t.exports.prototype.resetSequences=_re,t.exports.prototype.fireCallback=wre,t.exports.prototype.bindSequence=xre,t.exports.prototype.resetSequenceTimer=Sre,t.exports.prototype.detach=Tre,t.exports.instances=[],t.exports.reset=Cre,t.exports.REVERSE_MAP=null})(ON);var Mre=ON.exports,Are=function(t){var e={},n=t.stopCallback;return t.stopCallback=function(i,o,s,a){return e[s]||e[a]?!1:n(i,o,s)},t.bindGlobal=function(i,o,s){if(this.bind(i,o,s),i instanceof Array){for(var a=0;a<i.length;a++)e[i[a]]=!0;return}e[i]=!0},t};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var o3=function(t,e){return o3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},o3(t,e)};function vm(t,e){o3(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ze=function(){return ze=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ze.apply(this,arguments)};function Pre(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function ym(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function DN(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),o,s=[],a;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function cr(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(DN(arguments[e]));return t}var df;(function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"})(df||(df={}));var zo;(function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"})(zo||(zo={}));(function(t){function e(n){switch(n){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}t.fromString=e})(zo||(zo={}));var bu;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"})(bu||(bu={}));(function(t){function e(n){return n>=200&&n<300?t.Success:n===429?t.RateLimit:n>=400&&n<500?t.Invalid:n>=500?t.Failed:t.Unknown}t.fromHttpCode=e})(bu||(bu={}));function FN(t){switch(Object.prototype.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return ac(t,Error)}}function UN(t){return Object.prototype.toString.call(t)==="[object ErrorEvent]"}function jN(t){return Object.prototype.toString.call(t)==="[object DOMError]"}function Rre(t){return Object.prototype.toString.call(t)==="[object DOMException]"}function ff(t){return Object.prototype.toString.call(t)==="[object String]"}function _m(t){return t===null||typeof t!="object"&&typeof t!="function"}function ey(t){return Object.prototype.toString.call(t)==="[object Object]"}function a3(t){return typeof Event!="undefined"&&ac(t,Event)}function BN(t){return typeof Element!="undefined"&&ac(t,Element)}function Lre(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function l3(t){return Boolean(t&&t.then&&typeof t.then=="function")}function Ire(t){return ey(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function ac(t,e){try{return t instanceof e}catch{return!1}}function ty(t){try{for(var e=t,n=5,i=80,o=[],s=0,a=0,l=" > ",c=l.length,u=void 0;e&&s++<n&&(u=Ore(e),!(u==="html"||s>1&&a+o.length*c+u.length>=i));)o.push(u),a+=u.length,e=e.parentNode;return o.reverse().join(l)}catch{return"<unknown>"}}function Ore(t){var e=t,n=[],i,o,s,a,l;if(!e||!e.tagName)return"";if(n.push(e.tagName.toLowerCase()),e.id&&n.push("#"+e.id),i=e.className,i&&ff(i))for(o=i.split(/\s+/),l=0;l<o.length;l++)n.push("."+o[l]);var c=["type","name","title","alt"];for(l=0;l<c.length;l++)s=c[l],a=e.getAttribute(s),a&&n.push("["+s+'="'+a+'"]');return n.join("")}var Nre=Object.setPrototypeOf||({__proto__:[]}instanceof Array?kre:Dre);function kre(t,e){return t.__proto__=e,t}function Dre(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}var Kr=function(t){vm(e,t);function e(n){var i=this.constructor,o=t.call(this,n)||this;return o.message=n,o.name=i.prototype.constructor.name,Nre(o,i.prototype),o}return e}(Error),Fre=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,bm="Invalid Dsn",VN=function(){function t(e){typeof e=="string"?this._fromString(e):this._fromComponents(e),this._validate()}return t.prototype.toString=function(e){e===void 0&&(e=!1);var n=this,i=n.host,o=n.path,s=n.pass,a=n.port,l=n.projectId,c=n.protocol,u=n.user;return c+"://"+u+(e&&s?":"+s:"")+("@"+i+(a?":"+a:"")+"/"+(o&&o+"/")+l)},t.prototype._fromString=function(e){var n=Fre.exec(e);if(!n)throw new Kr(bm);var i=DN(n.slice(1),6),o=i[0],s=i[1],a=i[2],l=a===void 0?"":a,c=i[3],u=i[4],d=u===void 0?"":u,f=i[5],h="",v=f,m=v.split("/");if(m.length>1&&(h=m.slice(0,-1).join("/"),v=m.pop()),v){var _=v.match(/^\d+/);_&&(v=_[0])}this._fromComponents({host:c,pass:l,path:h,projectId:v,port:d,protocol:o,user:s})},t.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},t.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach(function(n){if(!e[n])throw new Kr(bm+": "+n+" missing")}),!this.projectId.match(/^\d+$/))throw new Kr(bm+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new Kr(bm+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Kr(bm+": Invalid port "+this.port)},t}(),Ure=function(){function t(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(e){if(this._hasWeakSet)return this._inner.has(e)?!0:(this._inner.add(e),!1);for(var n=0;n<this._inner.length;n++){var i=this._inner[n];if(i===e)return!0}return this._inner.push(e),!1},t.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var n=0;n<this._inner.length;n++)if(this._inner[n]===e){this._inner.splice(n,1);break}},t}(),c3="<anonymous>";function lc(t){try{return!t||typeof t!="function"?c3:t.name||c3}catch{return c3}}function Em(t,e){return e===void 0&&(e=0),typeof t!="string"||e===0||t.length<=e?t:t.substr(0,e)+"..."}function HN(t,e){if(!Array.isArray(t))return"";for(var n=[],i=0;i<t.length;i++){var o=t[i];try{n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function u3(t,e){return ff(t)?Lre(e)?e.test(t):typeof e=="string"?t.indexOf(e)!==-1:!1:!1}function jr(t,e,n){if(e in t){var i=t[e],o=n(i);if(typeof o=="function")try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry_original__:{enumerable:!1,value:i}})}catch{}t[e]=o}}function jre(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function zN(t){if(FN(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}if(a3(t)){var o=t,s={};s.type=o.type;try{s.target=BN(o.target)?ty(o.target):Object.prototype.toString.call(o.target)}catch{s.target="<unknown>"}try{s.currentTarget=BN(o.currentTarget)?ty(o.currentTarget):Object.prototype.toString.call(o.currentTarget)}catch{s.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&ac(t,CustomEvent)&&(s.detail=o.detail);for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(s[i]=o);return s}return t}function Bre(t){return~-encodeURI(t).split(/%..|./).length}function Vre(t){return Bre(JSON.stringify(t))}function GN(t,e,n){e===void 0&&(e=3),n===void 0&&(n=100*1024);var i=wm(t,e);return Vre(i)>n?GN(t,e-1,n):i}function Hre(t){var e=Object.prototype.toString.call(t);if(typeof t=="string")return t;if(e==="[object Object]")return"[Object]";if(e==="[object Array]")return"[Array]";var n=$N(t);return _m(n)?n:e}function $N(t,e){return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&t===global?"[Global]":typeof window!="undefined"&&t===window?"[Window]":typeof document!="undefined"&&t===document?"[Document]":Ire(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?"[Function: "+lc(t)+"]":typeof t=="symbol"?"["+String(t)+"]":typeof t=="bigint"?"[BigInt: "+String(t)+"]":t}function WN(t,e,n,i){if(n===void 0&&(n=1/0),i===void 0&&(i=new Ure),n===0)return Hre(e);if(e!=null&&typeof e.toJSON=="function")return e.toJSON();var o=$N(e,t);if(_m(o))return o;var s=zN(e),a=Array.isArray(e)?[]:{};if(i.memoize(e))return"[Circular ~]";for(var l in s)!Object.prototype.hasOwnProperty.call(s,l)||(a[l]=WN(l,s[l],n-1,i));return i.unmemoize(e),a}function wm(t,e){try{return JSON.parse(JSON.stringify(t,function(n,i){return WN(n,i,e)}))}catch{return"**non-serializable**"}}function zre(t,e){e===void 0&&(e=40);var n=Object.keys(zN(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return Em(n[0],e);for(var i=n.length;i>0;i--){var o=n.slice(0,i).join(", ");if(!(o.length>e))return i===n.length?o:Em(o,e)}return""}function ny(t){var e,n;if(ey(t)){var i=t,o={};try{for(var s=ym(Object.keys(i)),a=s.next();!a.done;a=s.next()){var l=a.value;typeof i[l]!="undefined"&&(o[l]=ny(i[l]))}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o}return Array.isArray(t)?t.map(ny):t}function d3(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function Gre(t,e){return t.require(e)}var $re={};function Lr(){return d3()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:$re}function hf(){var t=Lr(),e=t.crypto||t.msCrypto;if(e!==void 0&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=n[3]&4095|16384,n[4]=n[4]&16383|32768;var i=function(o){for(var s=o.toString(16);s.length<4;)s="0"+s;return s};return i(n[0])+i(n[1])+i(n[2])+i(n[3])+i(n[4])+i(n[5])+i(n[6])+i(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(o){var s=Math.random()*16|0,a=o==="x"?s:s&3|8;return a.toString(16)})}function f3(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+i}}function Eu(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function ry(t){var e=Lr(),n=["debug","info","warn","error","log","assert"];if(!("console"in e))return t();var i=e.console,o={};n.forEach(function(a){a in e.console&&i[a].__sentry_original__&&(o[a]=i[a],i[a]=i[a].__sentry_original__)});var s=t();return Object.keys(o).forEach(function(a){i[a]=o[a]}),s}function h3(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function pf(t,e){e===void 0&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(n){t.exception.values[0].mechanism[n]=e[n]})}catch{}}function Wre(){try{return document.location.href}catch{return""}}var qN=60*1e3;function qre(t,e){if(!e)return qN;var n=parseInt(""+e,10);if(!isNaN(n))return n*1e3;var i=Date.parse(""+e);return isNaN(i)?qN:i-t}var wu=Lr(),p3="Sentry Logger ",Yre=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!this._enabled||ry(function(){wu.console.log(p3+"[Log]: "+e.join(" "))})},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!this._enabled||ry(function(){wu.console.warn(p3+"[Warn]: "+e.join(" "))})},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!this._enabled||ry(function(){wu.console.error(p3+"[Error]: "+e.join(" "))})},t}();wu.__SENTRY__=wu.__SENTRY__||{};var Un=wu.__SENTRY__.logger||(wu.__SENTRY__.logger=new Yre);function m3(){if(!("fetch"in Lr()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function YN(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Kre(){if(!m3())return!1;var t=Lr();if(YN(t.fetch))return!0;var e=!1,n=t.document;if(n&&typeof n.createElement=="function")try{var i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i),i.contentWindow&&i.contentWindow.fetch&&(e=YN(i.contentWindow.fetch)),n.head.removeChild(i)}catch(o){Un.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",o)}return e}function Xre(){if(!m3())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}function Jre(){var t=Lr(),e=t.chrome,n=e&&e.app&&e.app.runtime,i="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&i}var rr=Lr(),xm={},KN={};function Zre(t){if(!KN[t])switch(KN[t]=!0,t){case"console":Qre();break;case"dom":sie();break;case"xhr":rie();break;case"fetch":eie();break;case"history":iie();break;case"error":aie();break;case"unhandledrejection":lie();break;default:Un.warn("unknown instrumentation type:",t)}}function xu(t){!t||typeof t.type!="string"||typeof t.callback!="function"||(xm[t.type]=xm[t.type]||[],xm[t.type].push(t.callback),Zre(t.type))}function ui(t,e){var n,i;if(!(!t||!xm[t]))try{for(var o=ym(xm[t]||[]),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(e)}catch(l){Un.error(`Error while triggering instrumentation handler.
Type: `+t+`
Name: `+lc(a)+`
Error: `+l)}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}function Qre(){"console"in rr&&["debug","info","warn","error","log","assert"].forEach(function(t){t in rr.console&&jr(rr.console,t,function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];ui("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,rr.console,n)}})})}function eie(){!Kre()||jr(rr,"fetch",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i={args:e,fetchData:{method:tie(e),url:nie(e)},startTimestamp:Date.now()};return ui("fetch",ze({},i)),t.apply(rr,e).then(function(o){return ui("fetch",ze(ze({},i),{endTimestamp:Date.now(),response:o})),o},function(o){throw ui("fetch",ze(ze({},i),{endTimestamp:Date.now(),error:o})),o})}})}function tie(t){return t===void 0&&(t=[]),"Request"in rr&&ac(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function nie(t){return t===void 0&&(t=[]),typeof t[0]=="string"?t[0]:"Request"in rr&&ac(t[0],Request)?t[0].url:String(t[0])}function rie(){if("XMLHttpRequest"in rr){var t=[],e=[],n=XMLHttpRequest.prototype;jr(n,"open",function(i){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=this,l=o[1];a.__sentry_xhr__={method:ff(o[0])?o[0].toUpperCase():o[0],url:o[1]},ff(l)&&a.__sentry_xhr__.method==="POST"&&l.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var c=function(){if(a.readyState===4){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch{}try{var u=t.indexOf(a);if(u!==-1){t.splice(u);var d=e.splice(u)[0];a.__sentry_xhr__&&d[0]!==void 0&&(a.__sentry_xhr__.body=d[0])}}catch{}ui("xhr",{args:o,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}};return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?jr(a,"onreadystatechange",function(u){return function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return c(),u.apply(a,d)}}):a.addEventListener("readystatechange",c),i.apply(a,o)}}),jr(n,"send",function(i){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t.push(this),e.push(o),ui("xhr",{args:o,startTimestamp:Date.now(),xhr:this}),i.apply(this,o)}})}}var iy;function iie(){if(!Jre())return;var t=rr.onpopstate;rr.onpopstate=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=rr.location.href,s=iy;if(iy=o,ui("history",{from:s,to:o}),t)return t.apply(this,n)};function e(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=i.length>2?i[2]:void 0;if(s){var a=iy,l=String(s);iy=l,ui("history",{from:a,to:l})}return n.apply(this,i)}}jr(rr.history,"pushState",e),jr(rr.history,"replaceState",e)}function sie(){"document"in rr&&(rr.document.addEventListener("click",sy("click",ui.bind(null,"dom")),!1),rr.document.addEventListener("keypress",v3(ui.bind(null,"dom")),!1),["EventTarget","Node"].forEach(function(t){var e=rr[t]&&rr[t].prototype;!e||!e.hasOwnProperty||!e.hasOwnProperty("addEventListener")||(jr(e,"addEventListener",function(n){return function(i,o,s){return o&&o.handleEvent?(i==="click"&&jr(o,"handleEvent",function(a){return function(l){return sy("click",ui.bind(null,"dom"))(l),a.call(this,l)}}),i==="keypress"&&jr(o,"handleEvent",function(a){return function(l){return v3(ui.bind(null,"dom"))(l),a.call(this,l)}})):(i==="click"&&sy("click",ui.bind(null,"dom"),!0)(this),i==="keypress"&&v3(ui.bind(null,"dom"))(this)),n.call(this,i,o,s)}}),jr(e,"removeEventListener",function(n){return function(i,o,s){try{n.call(this,i,o.__sentry_wrapped__,s)}catch{}return n.call(this,i,o,s)}}))}))}var oie=1e3,g3=0,Sm,XN;function sy(t,e,n){return n===void 0&&(n=!1),function(i){Sm=void 0,!(!i||XN===i)&&(XN=i,g3&&clearTimeout(g3),n?g3=setTimeout(function(){e({event:i,name:t})}):e({event:i,name:t}))}}function v3(t){return function(e){var n;try{n=e.target}catch{return}var i=n&&n.tagName;!i||i!=="INPUT"&&i!=="TEXTAREA"&&!n.isContentEditable||(Sm||sy("input",t)(e),clearTimeout(Sm),Sm=setTimeout(function(){Sm=void 0},oie))}}var y3=null;function aie(){y3=rr.onerror,rr.onerror=function(t,e,n,i,o){return ui("error",{column:i,error:o,line:n,msg:t,url:e}),y3?y3.apply(this,arguments):!1}}var _3=null;function lie(){_3=rr.onunhandledrejection,rr.onunhandledrejection=function(t){return ui("unhandledrejection",t),_3?_3.apply(this,arguments):!0}}var ja;(function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"})(ja||(ja={}));var Wi=function(){function t(e){var n=this;this._state=ja.PENDING,this._handlers=[],this._resolve=function(i){n._setResult(ja.RESOLVED,i)},this._reject=function(i){n._setResult(ja.REJECTED,i)},this._setResult=function(i,o){if(n._state===ja.PENDING){if(l3(o)){o.then(n._resolve,n._reject);return}n._state=i,n._value=o,n._executeHandlers()}},this._attachHandler=function(i){n._handlers=n._handlers.concat(i),n._executeHandlers()},this._executeHandlers=function(){if(n._state!==ja.PENDING){var i=n._handlers.slice();n._handlers=[],i.forEach(function(o){o.done||(n._state===ja.RESOLVED&&o.onfulfilled&&o.onfulfilled(n._value),n._state===ja.REJECTED&&o.onrejected&&o.onrejected(n._value),o.done=!0)})}};try{e(this._resolve,this._reject)}catch(i){this._reject(i)}}return t.resolve=function(e){return new t(function(n){n(e)})},t.reject=function(e){return new t(function(n,i){i(e)})},t.all=function(e){return new t(function(n,i){if(!Array.isArray(e)){i(new TypeError("Promise.all requires an array as input."));return}if(e.length===0){n([]);return}var o=e.length,s=[];e.forEach(function(a,l){t.resolve(a).then(function(c){s[l]=c,o-=1,o===0&&n(s)}).then(null,i)})})},t.prototype.then=function(e,n){var i=this;return new t(function(o,s){i._attachHandler({done:!1,onfulfilled:function(a){if(!e){o(a);return}try{o(e(a));return}catch(l){s(l);return}},onrejected:function(a){if(!n){s(a);return}try{o(n(a));return}catch(l){s(l);return}}})})},t.prototype.catch=function(e){return this.then(function(n){return n},e)},t.prototype.finally=function(e){var n=this;return new t(function(i,o){var s,a;return n.then(function(l){a=!1,s=l,e&&e()},function(l){a=!0,s=l,e&&e()}).then(function(){if(a){o(s);return}i(s)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),cie=function(){function t(e){this._limit=e,this._buffer=[]}return t.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},t.prototype.add=function(e){var n=this;return this.isReady()?(this._buffer.indexOf(e)===-1&&this._buffer.push(e),e.then(function(){return n.remove(e)}).then(null,function(){return n.remove(e).then(null,function(){})}),e):Wi.reject(new Kr("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(e){var n=this._buffer.splice(this._buffer.indexOf(e),1)[0];return n},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(e){var n=this;return new Wi(function(i){var o=setTimeout(function(){e&&e>0&&i(!1)},e);Wi.all(n._buffer).then(function(){clearTimeout(o),i(!0)}).then(null,function(){i(!0)})})},t}(),b3={nowSeconds:function(){return Date.now()/1e3}};function uie(){var t=Lr().performance;if(!(!t||!t.now)){var e=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:e}}}function die(){try{var t=Gre(J0,"perf_hooks");return t.performance}catch{return}}var E3=d3()?die():uie(),JN=E3===void 0?b3:{nowSeconds:function(){return(E3.timeOrigin+E3.now())/1e3}},w3=b3.nowSeconds.bind(b3);JN.nowSeconds.bind(JN);(function(){var t=Lr().performance;if(!!t)return t.timeOrigin?t.timeOrigin:t.timing&&t.timing.navigationStart||Date.now()})();var oy=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=cr(e._breadcrumbs),n._tags=ze({},e._tags),n._extra=ze({},e._extra),n._contexts=ze({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=cr(e._eventProcessors)),n},t.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},t.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},t.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.setTags=function(e){return this._tags=ze(ze({},this._tags),e),this._notifyScopeListeners(),this},t.prototype.setTag=function(e,n){var i;return this._tags=ze(ze({},this._tags),(i={},i[e]=n,i)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(e){return this._extra=ze(ze({},this._extra),e),this._notifyScopeListeners(),this},t.prototype.setExtra=function(e,n){var i;return this._extra=ze(ze({},this._extra),(i={},i[e]=n,i)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},t.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(e){return this.setTransactionName(e)},t.prototype.setContext=function(e,n){var i;return n===null?delete this._contexts[e]:this._contexts=ze(ze({},this._contexts),(i={},i[e]=n,i)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var e,n,i,o,s=this.getSpan();if((e=s)===null||e===void 0?void 0:e.transaction)return(n=s)===null||n===void 0?void 0:n.transaction;if((o=(i=s)===null||i===void 0?void 0:i.spanRecorder)===null||o===void 0?void 0:o.spans[0])return s.spanRecorder.spans[0]},t.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if(typeof e=="function"){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=ze(ze({},this._tags),e._tags),this._extra=ze(ze({},this._extra),e._extra),this._contexts=ze(ze({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):ey(e)&&(e=e,this._tags=ze(ze({},this._tags),e.tags),this._extra=ze(ze({},this._extra),e.extra),this._contexts=ze(ze({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(e,n){var i=ze({timestamp:w3()},e);return this._breadcrumbs=n!==void 0&&n>=0?cr(this._breadcrumbs,[i]).slice(-n):cr(this._breadcrumbs,[i]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(e,n){var i;if(this._extra&&Object.keys(this._extra).length&&(e.extra=ze(ze({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=ze(ze({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=ze(ze({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=ze(ze({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=ze({trace:this._span.getTraceContext()},e.contexts);var o=(i=this._span.transaction)===null||i===void 0?void 0:i.name;o&&(e.tags=ze({transaction:o},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=cr(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(cr(ZN(),this._eventProcessors),e,n)},t.prototype._notifyEventProcessors=function(e,n,i,o){var s=this;return o===void 0&&(o=0),new Wi(function(a,l){var c=e[o];if(n===null||typeof c!="function")a(n);else{var u=c(ze({},n),i);l3(u)?u.then(function(d){return s._notifyEventProcessors(e,d,i,o+1).then(a)}).then(null,l):s._notifyEventProcessors(e,u,i,o+1).then(a).then(null,l)}})},t.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(n){n(e)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},t}();function ZN(){var t=Lr();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function ay(t){ZN().push(t)}var fie=function(){function t(e){this.errors=0,this.sid=hf(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=df.Ok,e&&this.update(e)}return t.prototype.update=function(e){e===void 0&&(e={}),e.user&&(e.user.ip_address&&(this.ipAddress=e.user.ip_address),e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Date.now(),e.sid&&(this.sid=e.sid.length===32?e.sid:hf()),e.did&&(this.did=""+e.did),typeof e.started=="number"&&(this.started=e.started),typeof e.duration=="number"?this.duration=e.duration:this.duration=this.timestamp-this.started,e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),e.ipAddress&&(this.ipAddress=e.ipAddress),e.userAgent&&(this.userAgent=e.userAgent),typeof e.errors=="number"&&(this.errors=e.errors),e.status&&(this.status=e.status)},t.prototype.close=function(e){e?this.update({status:e}):this.status===df.Ok?this.update({status:df.Exited}):this.update()},t.prototype.toJSON=function(){return ny({sid:""+this.sid,init:!0,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:ny({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),x3=3,hie=100,pie=100,S3=function(){function t(e,n,i){n===void 0&&(n=new oy),i===void 0&&(i=x3),this._version=i,this._stack=[{}],this.getStackTop().scope=n,this.bindClient(e)}return t.prototype.isOlderThan=function(e){return this._version<e},t.prototype.bindClient=function(e){var n=this.getStackTop();n.client=e,e&&e.setupIntegrations&&e.setupIntegrations()},t.prototype.pushScope=function(){var e=oy.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},t.prototype.withScope=function(e){var n=this.pushScope();try{e(n)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(e,n){var i=this._lastEventId=hf(),o=n;if(!n){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(a){s=a}o={originalException:e,syntheticException:s}}return this._invokeClient("captureException",e,ze(ze({},o),{event_id:i})),i},t.prototype.captureMessage=function(e,n,i){var o=this._lastEventId=hf(),s=i;if(!i){var a=void 0;try{throw new Error(e)}catch(l){a=l}s={originalException:e,syntheticException:a}}return this._invokeClient("captureMessage",e,n,ze(ze({},s),{event_id:o})),o},t.prototype.captureEvent=function(e,n){var i=this._lastEventId=hf();return this._invokeClient("captureEvent",e,ze(ze({},n),{event_id:i})),i},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(e,n){var i=this.getStackTop(),o=i.scope,s=i.client;if(!(!o||!s)){var a=s.getOptions&&s.getOptions()||{},l=a.beforeBreadcrumb,c=l===void 0?null:l,u=a.maxBreadcrumbs,d=u===void 0?hie:u;if(!(d<=0)){var f=w3(),h=ze({timestamp:f},e),v=c?ry(function(){return c(h,n)}):h;v!==null&&o.addBreadcrumb(v,Math.min(d,pie))}}},t.prototype.setUser=function(e){var n=this.getScope();n&&n.setUser(e)},t.prototype.setTags=function(e){var n=this.getScope();n&&n.setTags(e)},t.prototype.setExtras=function(e){var n=this.getScope();n&&n.setExtras(e)},t.prototype.setTag=function(e,n){var i=this.getScope();i&&i.setTag(e,n)},t.prototype.setExtra=function(e,n){var i=this.getScope();i&&i.setExtra(e,n)},t.prototype.setContext=function(e,n){var i=this.getScope();i&&i.setContext(e,n)},t.prototype.configureScope=function(e){var n=this.getStackTop(),i=n.scope,o=n.client;i&&o&&e(i)},t.prototype.run=function(e){var n=QN(this);try{e(this)}finally{QN(n)}},t.prototype.getIntegration=function(e){var n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return Un.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},t.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},t.prototype.startTransaction=function(e,n){return this._callExtensionMethod("startTransaction",e,n)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.startSession=function(e){this.endSession();var n=this.getStackTop(),i=n.scope,o=n.client,s=o&&o.getOptions()||{},a=s.release,l=s.environment,c=new fie(ze(ze({release:a,environment:l},i&&{user:i.getUser()}),e));return i&&i.setSession(c),c},t.prototype.endSession=function(){var e=this.getStackTop(),n=e.scope,i=e.client;if(!!n){var o=n.getSession&&n.getSession();o&&(o.close(),i&&i.captureSession&&i.captureSession(o),n.setSession())}},t.prototype._invokeClient=function(e){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=this.getStackTop(),a=s.scope,l=s.client;l&&l[e]&&(n=l)[e].apply(n,cr(i,[a]))},t.prototype._callExtensionMethod=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=ly(),s=o.__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,n);Un.warn("Extension method "+e+" couldn't be found, doing nothing.")},t}();function ly(){var t=Lr();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function QN(t){var e=ly(),n=cc(e);return T3(e,t),n}function di(){var t=ly();return(!e8(t)||cc(t).isOlderThan(x3))&&T3(t,new S3),d3()?gie(t):cc(t)}function mie(){var t=ly().__SENTRY__;return t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active}function gie(t){try{var e=mie();if(!e)return cc(t);if(!e8(e)||cc(e).isOlderThan(x3)){var n=cc(t).getStackTop();T3(e,new S3(n.client,oy.clone(n.scope)))}return cc(e)}catch{return cc(t)}}function e8(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function cc(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new S3),t.__SENTRY__.hub}function T3(t,e){return t?(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0):!1}function C3(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=di();if(i&&i[t])return i[t].apply(i,cr(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function t8(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(i){n=i}return C3("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function vie(t){C3("configureScope",t)}function n8(t){C3("withScope",t)}var r8="7",i8=function(){function t(e){this.dsn=e,this._dsnObject=new VN(e)}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var e=this._dsnObject,n=e.protocol?e.protocol+":":"",i=e.port?":"+e.port:"";return n+"//"+e.host+i+(e.path?"/"+e.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},t.prototype.getRequestHeaders=function(e,n){var i=this._dsnObject,o=["Sentry sentry_version="+r8];return o.push("sentry_client="+e+"/"+n),o.push("sentry_key="+i.user),i.pass&&o.push("sentry_secret="+i.pass),{"Content-Type":"application/json","X-Sentry-Auth":o.join(", ")}},t.prototype.getReportDialogEndpoint=function(e){e===void 0&&(e={});var n=this._dsnObject,i=this.getBaseApiEndpoint()+"embed/error-page/",o=[];o.push("dsn="+n.toString());for(var s in e)if(s!=="dsn")if(s==="user"){if(!e.user)continue;e.user.name&&o.push("name="+encodeURIComponent(e.user.name)),e.user.email&&o.push("email="+encodeURIComponent(e.user.email))}else o.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return o.length?i+"?"+o.join("&"):i},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(e){var n=this.getBaseApiEndpoint(),i=this._dsnObject;return""+n+i.projectId+"/"+e+"/"},t.prototype._encodedAuth=function(){var e=this._dsnObject,n={sentry_key:e.user,sentry_version:r8};return jre(n)},t}(),s8=[];function yie(t){var e=t.defaultIntegrations&&cr(t.defaultIntegrations)||[],n=t.integrations,i=[];if(Array.isArray(n)){var o=n.map(function(c){return c.name}),s=[];e.forEach(function(c){o.indexOf(c.name)===-1&&s.indexOf(c.name)===-1&&(i.push(c),s.push(c.name))}),n.forEach(function(c){s.indexOf(c.name)===-1&&(i.push(c),s.push(c.name))})}else typeof n=="function"?(i=n(e),i=Array.isArray(i)?i:[i]):i=cr(e);var a=i.map(function(c){return c.name}),l="Debug";return a.indexOf(l)!==-1&&i.push.apply(i,cr(i.splice(a.indexOf(l),1))),i}function _ie(t){s8.indexOf(t.name)===-1&&(t.setupOnce(ay,di),s8.push(t.name),Un.log("Integration installed: "+t.name))}function bie(t){var e={};return yie(t).forEach(function(n){e[n.name]=n,_ie(n)}),e}var Eie=function(){function t(e,n){this._integrations={},this._processing=0,this._backend=new e(n),this._options=n,n.dsn&&(this._dsn=new VN(n.dsn))}return t.prototype.captureException=function(e,n,i){var o=this,s=n&&n.event_id;return this._process(this._getBackend().eventFromException(e,n).then(function(a){return o._captureEvent(a,n,i)}).then(function(a){s=a})),s},t.prototype.captureMessage=function(e,n,i,o){var s=this,a=i&&i.event_id,l=_m(e)?this._getBackend().eventFromMessage(String(e),n,i):this._getBackend().eventFromException(e,i);return this._process(l.then(function(c){return s._captureEvent(c,i,o)}).then(function(c){a=c})),a},t.prototype.captureEvent=function(e,n,i){var o=n&&n.event_id;return this._process(this._captureEvent(e,n,i).then(function(s){o=s})),o},t.prototype.captureSession=function(e){e.release?this._sendSession(e):Un.warn("Discarded session because of missing release")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(e){var n=this;return this._isClientProcessing(e).then(function(i){return n._getBackend().getTransport().close(e).then(function(o){return i&&o})})},t.prototype.close=function(e){var n=this;return this.flush(e).then(function(i){return n.getOptions().enabled=!1,i})},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=bie(this._options))},t.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch{return Un.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(e,n){var i,o,s=!1,a=!1,l,c=n.exception&&n.exception.values;if(c){a=!0;try{for(var u=ym(c),d=u.next();!d.done;d=u.next()){var f=d.value,h=f.mechanism;if(h&&h.handled===!1){s=!0;break}}}catch(S){i={error:S}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}var v=n.user;if(!e.userAgent){var m=n.request?n.request.headers:{};for(var _ in m)if(_.toLowerCase()==="user-agent"){l=m[_];break}}e.update(ze(ze({},s&&{status:df.Crashed}),{user:v,userAgent:l,errors:e.errors+Number(a||s)}))},t.prototype._sendSession=function(e){this._getBackend().sendSession(e)},t.prototype._isClientProcessing=function(e){var n=this;return new Wi(function(i){var o=0,s=1,a=setInterval(function(){n._processing==0?(clearInterval(a),i(!0)):(o+=s,e&&o>=e&&(clearInterval(a),i(!1)))},s)})},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},t.prototype._prepareEvent=function(e,n,i){var o=this,s=this.getOptions().normalizeDepth,a=s===void 0?3:s,l=ze(ze({},e),{event_id:e.event_id||(i&&i.event_id?i.event_id:hf()),timestamp:e.timestamp||w3()});this._applyClientOptions(l),this._applyIntegrationsMetadata(l);var c=n;i&&i.captureContext&&(c=oy.clone(c).update(i.captureContext));var u=Wi.resolve(l);return c&&(u=c.applyToEvent(l,i)),u.then(function(d){return typeof a=="number"&&a>0?o._normalizeEvent(d,a):d})},t.prototype._normalizeEvent=function(e,n){if(!e)return null;var i=ze(ze(ze(ze(ze({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(function(o){return ze(ze({},o),o.data&&{data:wm(o.data,n)})})}),e.user&&{user:wm(e.user,n)}),e.contexts&&{contexts:wm(e.contexts,n)}),e.extra&&{extra:wm(e.extra,n)});return e.contexts&&e.contexts.trace&&(i.contexts.trace=e.contexts.trace),i},t.prototype._applyClientOptions=function(e){var n=this.getOptions(),i=n.environment,o=n.release,s=n.dist,a=n.maxValueLength,l=a===void 0?250:a;"environment"in e||(e.environment="environment"in n?i:"production"),e.release===void 0&&o!==void 0&&(e.release=o),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=Em(e.message,l));var c=e.exception&&e.exception.values&&e.exception.values[0];c&&c.value&&(c.value=Em(c.value,l));var u=e.request;u&&u.url&&(u.url=Em(u.url,l))},t.prototype._applyIntegrationsMetadata=function(e){var n=e.sdk,i=Object.keys(this._integrations);n&&i.length>0&&(n.integrations=i)},t.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},t.prototype._captureEvent=function(e,n,i){return this._processEvent(e,n,i).then(function(o){return o.event_id},function(o){Un.error(o)})},t.prototype._processEvent=function(e,n,i){var o=this,s=this.getOptions(),a=s.beforeSend,l=s.sampleRate;if(!this._isEnabled())return Wi.reject(new Kr("SDK not enabled, will not send event."));var c=e.type==="transaction";return!c&&typeof l=="number"&&Math.random()>l?Wi.reject(new Kr("Discarding event because it's not included in the random sample (sampling rate = "+l+")")):this._prepareEvent(e,i,n).then(function(u){if(u===null)throw new Kr("An event processor returned null, will not send event.");var d=n&&n.data&&n.data.__sentry__===!0;if(d||c||!a)return u;var f=a(u,n);if(typeof f=="undefined")throw new Kr("`beforeSend` method has to return `null` or a valid event.");return l3(f)?f.then(function(h){return h},function(h){throw new Kr("beforeSend rejected with "+h)}):f}).then(function(u){if(u===null)throw new Kr("`beforeSend` returned `null`, will not send event.");var d=i&&i.getSession&&i.getSession();return!c&&d&&o._updateSessionFromEvent(d,u),o._sendEvent(u),u}).then(null,function(u){throw u instanceof Kr?u:(o.captureException(u,{data:{__sentry__:!0},originalException:u}),new Kr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+u))})},t.prototype._process=function(e){var n=this;this._processing+=1,e.then(function(i){return n._processing-=1,i},function(i){return n._processing-=1,i})},t}(),wie=function(){function t(){}return t.prototype.sendEvent=function(e){return Wi.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:bu.Skipped})},t.prototype.close=function(e){return Wi.resolve(!0)},t}(),xie=function(){function t(e){this._options=e,this._options.dsn||Un.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(e,n){throw new Kr("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(e,n,i){throw new Kr("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,function(n){Un.error("Error while sending event: "+n)})},t.prototype.sendSession=function(e){if(!this._transport.sendSession){Un.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(e).then(null,function(n){Un.error("Error while sending session: "+n)})},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new wie},t}();function o8(t,e){var n=JSON.stringify({sent_at:new Date().toISOString()}),i=JSON.stringify({type:"session"});return{body:n+`
`+i+`
`+JSON.stringify(t),type:"session",url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function a8(t,e){var n=t.tags||{},i=n.__sentry_samplingMethod,o=n.__sentry_sampleRate,s=Pre(n,["__sentry_samplingMethod","__sentry_sampleRate"]);t.tags=s;var a=t.type==="transaction",l={body:JSON.stringify(t),type:t.type||"event",url:a?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(a){var c=JSON.stringify({event_id:t.event_id,sent_at:new Date().toISOString()}),u=JSON.stringify({type:t.type,sample_rates:[{id:i,rate:o}]}),d=c+`
`+u+`
`+l.body;l.body=d}return l}function Sie(t,e){e.debug===!0&&Un.enable();var n=di(),i=new t(e);n.bindClient(i)}var l8,Tie=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){l8=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this.__sentry_original__||this;return l8.apply(i,e)}},t.id="FunctionToString",t}(),Cie=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Mie=function(){function t(e){e===void 0&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){ay(function(e){var n=di();if(!n)return e;var i=n.getIntegration(t);if(i){var o=n.getClient(),s=o?o.getOptions():{},a=i._mergeOptions(s);if(i._shouldDropEvent(e,a))return null}return e})},t.prototype._shouldDropEvent=function(e,n){return this._isSentryError(e,n)?(Un.warn(`Event dropped due to being internal Sentry Error.
Event: `+Eu(e)),!0):this._isIgnoredError(e,n)?(Un.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Eu(e)),!0):this._isDeniedUrl(e,n)?(Un.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Eu(e)+`.
Url: `+this._getEventFilterUrl(e)),!0):this._isAllowedUrl(e,n)?!1:(Un.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Eu(e)+`.
Url: `+this._getEventFilterUrl(e)),!0)},t.prototype._isSentryError=function(e,n){if(!n.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].type==="SentryError"||!1}catch{return!1}},t.prototype._isIgnoredError=function(e,n){return!n.ignoreErrors||!n.ignoreErrors.length?!1:this._getPossibleEventMessages(e).some(function(i){return n.ignoreErrors.some(function(o){return u3(i,o)})})},t.prototype._isDeniedUrl=function(e,n){if(!n.denyUrls||!n.denyUrls.length)return!1;var i=this._getEventFilterUrl(e);return i?n.denyUrls.some(function(o){return u3(i,o)}):!1},t.prototype._isAllowedUrl=function(e,n){if(!n.allowUrls||!n.allowUrls.length)return!0;var i=this._getEventFilterUrl(e);return i?n.allowUrls.some(function(o){return u3(i,o)}):!0},t.prototype._mergeOptions=function(e){return e===void 0&&(e={}),{allowUrls:cr(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:cr(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:cr(this._options.ignoreErrors||[],e.ignoreErrors||[],Cie),ignoreInternal:typeof this._options.ignoreInternal!="undefined"?this._options.ignoreInternal:!0}},t.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var n=e.exception.values&&e.exception.values[0]||{},i=n.type,o=i===void 0?"":i,s=n.value,a=s===void 0?"":s;return[""+a,o+": "+a]}catch{return Un.error("Cannot extract message for event "+Eu(e)),[]}return[]},t.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var n=e.stacktrace.frames;return n&&n[n.length-1].filename||null}if(e.exception){var i=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return i&&i[i.length-1].filename||null}return null}catch{return Un.error("Cannot extract url for event "+Eu(e)),null}},t.id="InboundFilters",t}(),Tm="?",Aie=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Pie=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Rie=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Lie=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Iie=/\((\S*)(?::(\d+))(?::(\d+))\)/,Oie=/Minified React error #\d+;/i;function Cm(t){var e=null,n=0;t&&(typeof t.framesToPop=="number"?n=t.framesToPop:Oie.test(t.message)&&(n=1));try{if(e=kie(t),e)return c8(e,n)}catch{}try{if(e=Nie(t),e)return c8(e,n)}catch{}return{message:M3(t),name:t&&t.name,stack:[],failed:!0}}function Nie(t){if(!t||!t.stack)return null;for(var e=[],n=t.stack.split(`
`),i,o,s,a,l=0;l<n.length;++l){if(s=Aie.exec(n[l])){var c=s[2]&&s[2].indexOf("native")===0;i=s[2]&&s[2].indexOf("eval")===0,i&&(o=Iie.exec(s[2]))&&(s[2]=o[1],s[3]=o[2],s[4]=o[3]),a={url:s[2]&&s[2].indexOf("address at ")===0?s[2].substr("address at ".length):s[2],func:s[1]||Tm,args:c?[s[2]]:[],line:s[3]?+s[3]:null,column:s[4]?+s[4]:null}}else if(s=Rie.exec(n[l]))a={url:s[2],func:s[1]||Tm,args:[],line:+s[3],column:s[4]?+s[4]:null};else if(s=Pie.exec(n[l]))i=s[3]&&s[3].indexOf(" > eval")>-1,i&&(o=Lie.exec(s[3]))?(s[1]=s[1]||"eval",s[3]=o[1],s[4]=o[2],s[5]=""):l===0&&!s[5]&&t.columnNumber!==void 0&&(e[0].column=t.columnNumber+1),a={url:s[3],func:s[1]||Tm,args:s[2]?s[2].split(","):[],line:s[4]?+s[4]:null,column:s[5]?+s[5]:null};else continue;!a.func&&a.line&&(a.func=Tm),e.push(a)}return e.length?{message:M3(t),name:t.name,stack:e}:null}function kie(t){if(!t||!t.stacktrace)return null;for(var e=t.stacktrace,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=e.split(`
`),s=[],a,l=0;l<o.length;l+=2){var c=null;(a=n.exec(o[l]))?c={url:a[2],func:a[3],args:[],line:+a[1],column:null}:(a=i.exec(o[l]))&&(c={url:a[6],func:a[3]||a[4],args:a[5]?a[5].split(","):[],line:+a[1],column:+a[2]}),c&&(!c.func&&c.line&&(c.func=Tm),s.push(c))}return s.length?{message:M3(t),name:t.name,stack:s}:null}function c8(t,e){try{return ze(ze({},t),{stack:t.stack.slice(e)})}catch{return t}}function M3(t){var e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}var Die=50;function u8(t){var e=A3(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function Fie(t,e,n){var i={exception:{values:[{type:a3(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+zre(t)}]},extra:{__serialized__:GN(t)}};if(e){var o=Cm(e),s=A3(o.stack);i.stacktrace={frames:s}}return i}function d8(t){var e=u8(t);return{exception:{values:[e]}}}function A3(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",i=e[e.length-1].func||"";return(n.indexOf("captureMessage")!==-1||n.indexOf("captureException")!==-1)&&(e=e.slice(1)),i.indexOf("sentryWrapped")!==-1&&(e=e.slice(0,-1)),e.slice(0,Die).map(function(o){return{colno:o.column===null?void 0:o.column,filename:o.url||e[0].url,function:o.func||"?",in_app:!0,lineno:o.line===null?void 0:o.line}}).reverse()}function Uie(t,e,n){var i=n&&n.syntheticException||void 0,o=P3(e,i,{attachStacktrace:t.attachStacktrace});return pf(o,{handled:!0,type:"generic"}),o.level=zo.Error,n&&n.event_id&&(o.event_id=n.event_id),Wi.resolve(o)}function jie(t,e,n,i){n===void 0&&(n=zo.Info);var o=i&&i.syntheticException||void 0,s=R3(e,o,{attachStacktrace:t.attachStacktrace});return s.level=n,i&&i.event_id&&(s.event_id=i.event_id),Wi.resolve(s)}function P3(t,e,n){n===void 0&&(n={});var i;if(UN(t)&&t.error){var o=t;return t=o.error,i=d8(Cm(t)),i}if(jN(t)||Rre(t)){var s=t,a=s.name||(jN(s)?"DOMError":"DOMException"),l=s.message?a+": "+s.message:a;return i=R3(l,e,n),h3(i,l),"code"in s&&(i.tags=ze(ze({},i.tags),{"DOMException.code":""+s.code})),i}if(FN(t))return i=d8(Cm(t)),i;if(ey(t)||a3(t)){var c=t;return i=Fie(c,e,n.rejection),pf(i,{synthetic:!0}),i}return i=R3(t,e,n),h3(i,""+t,void 0),pf(i,{synthetic:!0}),i}function R3(t,e,n){n===void 0&&(n={});var i={message:t};if(n.attachStacktrace&&e){var o=Cm(e),s=A3(o.stack);i.stacktrace={frames:s}}return i}var f8=function(){function t(e){this.options=e,this._buffer=new cie(30),this._rateLimits={},this._api=new i8(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(e){throw new Kr("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(e){return this._buffer.drain(e)},t.prototype._handleResponse=function(e){var n=e.requestType,i=e.response,o=e.headers,s=e.resolve,a=e.reject,l=bu.fromHttpCode(i.status),c=this._handleRateLimit(o);if(c&&Un.warn("Too many requests, backing off until: "+this._disabledUntil(n)),l===bu.Success){s({status:l});return}a(i)},t.prototype._disabledUntil=function(e){return this._rateLimits[e]||this._rateLimits.all},t.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},t.prototype._handleRateLimit=function(e){var n,i,o,s,a=Date.now(),l=e["x-sentry-rate-limits"],c=e["retry-after"];if(l){try{for(var u=ym(l.trim().split(",")),d=u.next();!d.done;d=u.next()){var f=d.value,h=f.split(":",2),v=parseInt(h[0],10),m=(isNaN(v)?60:v)*1e3;try{for(var _=(o=void 0,ym(h[1].split(";"))),S=_.next();!S.done;S=_.next()){var E=S.value;this._rateLimits[E||"all"]=new Date(a+m)}}catch(w){o={error:w}}finally{try{S&&!S.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}}}catch(w){n={error:w}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return!0}else if(c)return this._rateLimits.all=new Date(a+qre(a,c)),!0;return!1},t}(),Bie=Lr(),Vie=function(t){vm(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sendEvent=function(n){return this._sendRequest(a8(n,this._api),n)},e.prototype.sendSession=function(n){return this._sendRequest(o8(n,this._api),n)},e.prototype._sendRequest=function(n,i){var o=this;if(this._isRateLimited(n.type))return Promise.reject({event:i,type:n.type,reason:"Transport locked till "+this._disabledUntil(n.type)+" due to too many requests.",status:429});var s={body:n.body,method:"POST",referrerPolicy:Xre()?"origin":""};return this.options.fetchParameters!==void 0&&Object.assign(s,this.options.fetchParameters),this.options.headers!==void 0&&(s.headers=this.options.headers),this._buffer.add(new Wi(function(a,l){Bie.fetch(n.url,s).then(function(c){var u={"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")};o._handleResponse({requestType:n.type,response:c,headers:u,resolve:a,reject:l})}).catch(l)}))},e}(f8),Hie=function(t){vm(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sendEvent=function(n){return this._sendRequest(a8(n,this._api),n)},e.prototype.sendSession=function(n){return this._sendRequest(o8(n,this._api),n)},e.prototype._sendRequest=function(n,i){var o=this;return this._isRateLimited(n.type)?Promise.reject({event:i,type:n.type,reason:"Transport locked till "+this._disabledUntil(n.type)+" due to too many requests.",status:429}):this._buffer.add(new Wi(function(s,a){var l=new XMLHttpRequest;l.onreadystatechange=function(){if(l.readyState===4){var u={"x-sentry-rate-limits":l.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":l.getResponseHeader("Retry-After")};o._handleResponse({requestType:n.type,response:l,headers:u,resolve:s,reject:a})}},l.open("POST",n.url);for(var c in o.options.headers)o.options.headers.hasOwnProperty(c)&&l.setRequestHeader(c,o.options.headers[c]);l.send(n.body)}))},e}(f8),zie=function(t){vm(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.eventFromException=function(n,i){return Uie(this._options,n,i)},e.prototype.eventFromMessage=function(n,i,o){return i===void 0&&(i=zo.Info),jie(this._options,n,i,o)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var n=ze(ze({},this._options.transportOptions),{dsn:this._options.dsn});return this._options.transport?new this._options.transport(n):m3()?new Vie(n):new Hie(n)},e}(xie),L3=0;function h8(){return L3>0}function Gie(){L3+=1,setTimeout(function(){L3-=1})}function mf(t,e,n){if(e===void 0&&(e={}),typeof t!="function")return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch{return t}var i=function(){var a=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);var l=a.map(function(c){return mf(c,e)});return t.handleEvent?t.handleEvent.apply(this,l):t.apply(this,l)}catch(c){throw Gie(),n8(function(u){u.addEventProcessor(function(d){var f=ze({},d);return e.mechanism&&(h3(f,void 0,void 0),pf(f,e.mechanism)),f.extra=ze(ze({},f.extra),{arguments:a}),f}),t8(c)}),c}};try{for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}catch{}t.prototype=t.prototype||{},i.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:i}),Object.defineProperties(i,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{var s=Object.getOwnPropertyDescriptor(i,"name");s.configurable&&Object.defineProperty(i,"name",{get:function(){return t.name}})}catch{}return i}function $ie(t){if(t===void 0&&(t={}),!t.eventId){Un.error("Missing eventId option in showReportDialog call");return}if(!t.dsn){Un.error("Missing dsn option in showReportDialog call");return}var e=document.createElement("script");e.async=!0,e.src=new i8(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}var Wie=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=ze({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(Un.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(Un.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(xu({callback:function(n){var i=n.error,o=di(),s=o.getIntegration(t),a=i&&i.__sentry_own_request__===!0;if(!(!s||h8()||a)){var l=o.getClient(),c=_m(i)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(P3(i,void 0,{attachStacktrace:l&&l.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);pf(c,{handled:!1,type:"onerror"}),o.captureEvent(c,{originalException:i})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(xu({callback:function(n){var i=n;try{"reason"in n?i=n.reason:"detail"in n&&"reason"in n.detail&&(i=n.detail.reason)}catch{}var o=di(),s=o.getIntegration(t),a=i&&i.__sentry_own_request__===!0;if(!s||h8()||a)return!0;var l=o.getClient(),c=_m(i)?e._eventFromRejectionWithPrimitive(i):P3(i,void 0,{attachStacktrace:l&&l.getOptions().attachStacktrace,rejection:!0});c.level=zo.Error,pf(c,{handled:!1,type:"onunhandledrejection"}),o.captureEvent(c,{originalException:i})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(e,n,i,o){var s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,a=UN(e)?e.message:e,l;if(ff(a)){var c=a.match(s);c&&(l=c[1],a=c[2])}var u={exception:{values:[{type:l||"Error",value:a}]}};return this._enhanceEventWithInitialFrame(u,n,i,o)},t.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},t.prototype._enhanceEventWithInitialFrame=function(e,n,i,o){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var s=isNaN(parseInt(o,10))?void 0:o,a=isNaN(parseInt(i,10))?void 0:i,l=ff(n)&&n.length>0?n:Wre();return e.exception.values[0].stacktrace.frames.length===0&&e.exception.values[0].stacktrace.frames.push({colno:s,filename:l,function:"?",in_app:!0,lineno:a}),e},t.id="GlobalHandlers",t}(),qie=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Yie=function(){function t(e){this.name=t.id,this._options=ze({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var e=Lr();if(this._options.setTimeout&&jr(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&jr(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&jr(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&jr(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget){var n=Array.isArray(this._options.eventTarget)?this._options.eventTarget:qie;n.forEach(this._wrapEventTarget.bind(this))}},t.prototype._wrapTimeFunction=function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n[0];return n[0]=mf(o,{mechanism:{data:{function:lc(e)},handled:!0,type:"instrument"}}),e.apply(this,n)}},t.prototype._wrapRAF=function(e){return function(n){return e.call(this,mf(n,{mechanism:{data:{function:"requestAnimationFrame",handler:lc(e)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(e){var n=Lr(),i=n[e]&&n[e].prototype;!i||!i.hasOwnProperty||!i.hasOwnProperty("addEventListener")||(jr(i,"addEventListener",function(o){return function(s,a,l){try{typeof a.handleEvent=="function"&&(a.handleEvent=mf(a.handleEvent.bind(a),{mechanism:{data:{function:"handleEvent",handler:lc(a),target:e},handled:!0,type:"instrument"}}))}catch{}return o.call(this,s,mf(a,{mechanism:{data:{function:"addEventListener",handler:lc(a),target:e},handled:!0,type:"instrument"}}),l)}}),jr(i,"removeEventListener",function(o){return function(s,a,l){var c,u=a;try{var d=(c=u)===null||c===void 0?void 0:c.__sentry_wrapped__;d&&o.call(this,s,d,l)}catch{}return o.call(this,s,u,l)}}))},t.prototype._wrapXHR=function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s=["onload","onerror","onprogress","onreadystatechange"];return s.forEach(function(a){a in o&&typeof o[a]=="function"&&jr(o,a,function(l){var c={mechanism:{data:{function:a,handler:lc(l)},handled:!0,type:"instrument"}};return l.__sentry_original__&&(c.mechanism.data.handler=lc(l.__sentry_original__)),mf(l,c)})}),e.apply(this,n)}},t.id="TryCatch",t}(),p8=function(){function t(e){this.name=t.id,this._options=ze({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(e){!this._options.sentry||di().addBreadcrumb({category:"sentry."+(e.type==="transaction"?"transaction":"event"),event_id:e.event_id,level:e.level,message:Eu(e)},{event:e})},t.prototype.setupOnce=function(){var e=this;this._options.console&&xu({callback:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e._consoleBreadcrumb.apply(e,cr(n))},type:"console"}),this._options.dom&&xu({callback:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e._domBreadcrumb.apply(e,cr(n))},type:"dom"}),this._options.xhr&&xu({callback:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e._xhrBreadcrumb.apply(e,cr(n))},type:"xhr"}),this._options.fetch&&xu({callback:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e._fetchBreadcrumb.apply(e,cr(n))},type:"fetch"}),this._options.history&&xu({callback:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e._historyBreadcrumb.apply(e,cr(n))},type:"history"})},t.prototype._consoleBreadcrumb=function(e){var n={category:"console",data:{arguments:e.args,logger:"console"},level:zo.fromString(e.level),message:HN(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)n.message="Assertion failed: "+(HN(e.args.slice(1)," ")||"console.assert"),n.data.arguments=e.args.slice(1);else return;di().addBreadcrumb(n,{input:e.args,level:e.level})},t.prototype._domBreadcrumb=function(e){var n;try{n=e.event.target?ty(e.event.target):ty(e.event)}catch{n="<unknown>"}n.length!==0&&di().addBreadcrumb({category:"ui."+e.name,message:n},{event:e.event,name:e.name})},t.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var n=e.xhr.__sentry_xhr__||{},i=n.method,o=n.url,s=n.status_code,a=n.body;di().addBreadcrumb({category:"xhr",data:{method:i,url:o,status_code:s},type:"http"},{xhr:e.xhr,input:a});return}},t.prototype._fetchBreadcrumb=function(e){!e.endTimestamp||e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"||(e.error?di().addBreadcrumb({category:"fetch",data:e.fetchData,level:zo.Error,type:"http"},{data:e.error,input:e.args}):di().addBreadcrumb({category:"fetch",data:ze(ze({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response}))},t.prototype._historyBreadcrumb=function(e){var n=Lr(),i=e.from,o=e.to,s=f3(n.location.href),a=f3(i),l=f3(o);a.path||(a=s),s.protocol===l.protocol&&s.host===l.host&&(o=l.relative),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),di().addBreadcrumb({category:"navigation",data:{from:i,to:o}})},t.id="Breadcrumbs",t}(),Kie="cause",Xie=5,Jie=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._key=e.key||Kie,this._limit=e.limit||Xie}return t.prototype.setupOnce=function(){ay(function(e,n){var i=di().getIntegration(t);return i?i._handler(e,n):e})},t.prototype._handler=function(e,n){if(!e.exception||!e.exception.values||!n||!ac(n.originalException,Error))return e;var i=this._walkErrorTree(n.originalException,this._key);return e.exception.values=cr(i,e.exception.values),e},t.prototype._walkErrorTree=function(e,n,i){if(i===void 0&&(i=[]),!ac(e[n],Error)||i.length+1>=this._limit)return i;var o=Cm(e[n]),s=u8(o);return this._walkErrorTree(e[n],n,cr([s],i))},t.id="LinkedErrors",t}(),gf=Lr(),Zie=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){ay(function(e){var n,i,o;if(di().getIntegration(t)){if(!gf.navigator&&!gf.location&&!gf.document)return e;var s=((n=e.request)===null||n===void 0?void 0:n.url)||((i=gf.location)===null||i===void 0?void 0:i.href),a=(gf.document||{}).referrer,l=(gf.navigator||{}).userAgent,c=ze(ze(ze({},(o=e.request)===null||o===void 0?void 0:o.headers),a&&{Referer:a}),l&&{"User-Agent":l}),u=ze(ze({},s&&{url:s}),{headers:c});return ze(ze({},e),{request:u})}return e})},t.id="UserAgent",t}(),Qie="sentry.javascript.browser",m8="5.30.0",ese=function(t){vm(e,t);function e(n){return n===void 0&&(n={}),t.call(this,zie,n)||this}return e.prototype.showReportDialog=function(n){n===void 0&&(n={});var i=Lr().document;if(!!i){if(!this._isEnabled()){Un.error("Trying to call showReportDialog with Sentry Client disabled");return}$ie(ze(ze({},n),{dsn:n.dsn||this.getDsn()}))}},e.prototype._prepareEvent=function(n,i,o){return n.platform=n.platform||"javascript",n.sdk=ze(ze({},n.sdk),{name:Qie,packages:cr(n.sdk&&n.sdk.packages||[],[{name:"npm:@sentry/browser",version:m8}]),version:m8}),t.prototype._prepareEvent.call(this,n,i,o)},e.prototype._sendEvent=function(n){var i=this.getIntegration(p8);i&&i.addSentryBreadcrumb(n),t.prototype._sendEvent.call(this,n)},e}(Eie),tse=[new Mie,new Tie,new Yie,new p8,new Wie,new Jie,new Zie];function nse(t){if(t===void 0&&(t={}),t.defaultIntegrations===void 0&&(t.defaultIntegrations=tse),t.release===void 0){var e=Lr();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}t.autoSessionTracking===void 0&&(t.autoSessionTracking=!1),Sie(ese,t),t.autoSessionTracking&&rse()}function rse(){var t=Lr(),e=di(),n=document.readyState==="complete",i=!1,o=function(){i&&n&&e.endSession()},s=function(){n=!0,o(),t.removeEventListener("load",s)};e.startSession(),n||t.addEventListener("load",s);try{var a=new PerformanceObserver(function(c,u){c.getEntries().forEach(function(d){d.name==="first-contentful-paint"&&d.startTime<l&&(u.disconnect(),i=!0,o())})}),l=document.visibilityState==="hidden"?0:1/0;document.addEventListener("visibilitychange",function(c){l=Math.min(l,c.timeStamp)},{once:!0}),a.observe({type:"paint",buffered:!0})}catch{i=!0,o()}}var Rn={},Su={};Object.defineProperty(Su,"__esModule",{value:!0});var I3=function(){function t(){}return t.prototype.handleError=function(e){},t}();Su.NoopErrorHandler=I3;var O3=new I3;function ise(t){O3=t}Su.setErrorHandler=ise;function sse(){return O3}Su.getErrorHandler=sse;function ose(){O3=new I3}Su.resetErrorHandler=ose;var N3={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NOTSET=0]="NOTSET",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR"}(t.LogLevel||(t.LogLevel={}))})(N3);var uc={},At={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=cI;function n(){return e.v4()}t.generateUUID=n;function i(){return new Date().getTime()}t.getTimestamp=i;function o(f,h){for(var v=!1,m=Object.keys(f),_=0;_<m.length;_++)if(h===f[m[_]]){v=!0;break}return v}t.isValidEnum=o;function s(f,h){var v={};return f.forEach(function(m){var _=h(m);v[_]=v[_]||[],v[_].push(m)}),a(v)}t.groupBy=s;function a(f){return Object.keys(f).map(function(h){return f[h]})}t.objectValues=a;function l(f){return Object.keys(f).map(function(h){return[h,f[h]]})}t.objectEntries=l;function c(f,h){for(var v,m=0,_=f;m<_.length;m++){var S=_[m];if(h(S)){v=S;break}}return v}t.find=c;function u(f,h){var v={};return f.forEach(function(m){var _=h(m);v[_]=m}),v}t.keyBy=u;function d(f){for(var h=[],v=1;v<arguments.length;v++)h[v-1]=arguments[v];var m=0;return f.replace(/%s/g,function(){var _=h[m++],S=typeof _;return S==="function"?_():S==="string"?_:String(_)})}t.sprintf=d,function(f){f.ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",f.DECISION="DECISION:type, userId, attributes, decisionInfo",f.LOG_EVENT="LOG_EVENT:logEvent",f.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",f.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"}(t.NOTIFICATION_TYPES||(t.NOTIFICATION_TYPES={}))})(At);var ase=Wt&&Wt.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var s=arguments[e],a=0,l=s.length;a<l;a++,o++)i[o]=s[a];return i};Object.defineProperty(uc,"__esModule",{value:!0});var lse=Su,cy=At,wr=N3,g8={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4};function k3(t){return typeof t!="string"||(t=t.toUpperCase(),t==="WARN"&&(t="WARNING"),!g8[t])?t:g8[t]}var v8=function(){function t(){this.defaultLoggerFacade=new y8,this.loggers={}}return t.prototype.getLogger=function(e){return e?(this.loggers[e]||(this.loggers[e]=new y8({messagePrefix:e})),this.loggers[e]):this.defaultLoggerFacade},t}(),cse=function(){function t(e){e===void 0&&(e={}),this.logLevel=wr.LogLevel.NOTSET,e.logLevel!==void 0&&cy.isValidEnum(wr.LogLevel,e.logLevel)&&this.setLogLevel(e.logLevel),this.logToConsole=e.logToConsole!==void 0?!!e.logToConsole:!0,this.prefix=e.prefix!==void 0?e.prefix:"[OPTIMIZELY]"}return t.prototype.log=function(e,n){if(!(!this.shouldLog(e)||!this.logToConsole)){var i=this.prefix+" - "+this.getLogLevelName(e)+" "+this.getTime()+" "+n;this.consoleLog(e,[i])}},t.prototype.setLogLevel=function(e){e=k3(e),!cy.isValidEnum(wr.LogLevel,e)||e===void 0?this.logLevel=wr.LogLevel.ERROR:this.logLevel=e},t.prototype.getTime=function(){return new Date().toISOString()},t.prototype.shouldLog=function(e){return e>=this.logLevel},t.prototype.getLogLevelName=function(e){switch(e){case wr.LogLevel.DEBUG:return"DEBUG";case wr.LogLevel.INFO:return"INFO ";case wr.LogLevel.WARNING:return"WARN ";case wr.LogLevel.ERROR:return"ERROR";default:return"NOTSET"}},t.prototype.consoleLog=function(e,n){switch(e){case wr.LogLevel.DEBUG:console.log.apply(console,n);break;case wr.LogLevel.INFO:console.info.apply(console,n);break;case wr.LogLevel.WARNING:console.warn.apply(console,n);break;case wr.LogLevel.ERROR:console.error.apply(console,n);break;default:console.log.apply(console,n)}},t}();uc.ConsoleLogHandler=cse;var Mm=wr.LogLevel.NOTSET,D3=null,y8=function(){function t(e){e===void 0&&(e={}),this.messagePrefix="",e.messagePrefix&&(this.messagePrefix=e.messagePrefix)}return t.prototype.log=function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];this.internalLog(k3(e),{message:n,splat:i})},t.prototype.info=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.namedLog(wr.LogLevel.INFO,e,n)},t.prototype.debug=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.namedLog(wr.LogLevel.DEBUG,e,n)},t.prototype.warn=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.namedLog(wr.LogLevel.WARNING,e,n)},t.prototype.error=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.namedLog(wr.LogLevel.ERROR,e,n)},t.prototype.format=function(e){return""+(this.messagePrefix?this.messagePrefix+": ":"")+cy.sprintf.apply(void 0,ase([e.message],e.splat))},t.prototype.internalLog=function(e,n){!D3||e<Mm||(D3.log(e,this.format(n)),n.error&&n.error instanceof Error&&lse.getErrorHandler().handleError(n.error))},t.prototype.namedLog=function(e,n,i){var o;if(n instanceof Error){o=n,n=o.message,this.internalLog(e,{error:o,message:n,splat:i});return}if(i.length===0){this.internalLog(e,{message:n,splat:i});return}var s=i[i.length-1];s instanceof Error&&(o=s,i.splice(-1)),this.internalLog(e,{message:n,error:o,splat:i})},t}(),_8=new v8;function use(t){return _8.getLogger(t)}uc.getLogger=use;function dse(t){D3=t}uc.setLogHandler=dse;function fse(t){t=k3(t),!cy.isValidEnum(wr.LogLevel,t)||t===void 0?Mm=wr.LogLevel.ERROR:Mm=t}uc.setLogLevel=fse;function hse(){return Mm}uc.getLogLevel=hse;function pse(){_8=new v8,Mm=wr.LogLevel.NOTSET}uc.resetLogger=pse;(function(t){function e(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0}),e(Su),e(N3),e(uc)})(Rn);var Am={},Pm={};Object.defineProperty(Pm,"__esModule",{value:!0});Pm.areEventContextsEqual=void 0;function mse(t,e){var n=t.context,i=e.context;return n.accountId===i.accountId&&n.projectId===i.projectId&&n.clientName===i.clientName&&n.clientVersion===i.clientVersion&&n.revision===i.revision&&n.anonymizeIP===i.anonymizeIP&&n.botFiltering===i.botFiltering}Pm.areEventContextsEqual=mse;var F3={},vf={};Object.defineProperty(vf,"__esModule",{value:!0});vf.DefaultEventQueue=vf.SingleEventQueue=void 0;var gse=Rn,vse=gse.getLogger("EventProcessor"),yse=function(){function t(e){var n=e.timeout,i=e.callback;this.timeout=Math.max(n,0),this.callback=i}return t.prototype.start=function(){this.timeoutId=setTimeout(this.callback,this.timeout)},t.prototype.refresh=function(){this.stop(),this.start()},t.prototype.stop=function(){this.timeoutId&&clearTimeout(this.timeoutId)},t}(),_se=function(){function t(e){var n=e.sink;this.sink=n}return t.prototype.start=function(){},t.prototype.stop=function(){return Promise.resolve()},t.prototype.enqueue=function(e){this.sink([e])},t}();vf.SingleEventQueue=_se;var bse=function(){function t(e){var n=e.flushInterval,i=e.maxQueueSize,o=e.sink,s=e.batchComparator;this.buffer=[],this.maxQueueSize=Math.max(i,1),this.sink=o,this.batchComparator=s,this.timer=new yse({callback:this.flush.bind(this),timeout:n}),this.started=!1}return t.prototype.start=function(){this.started=!0},t.prototype.stop=function(){this.started=!1;var e=this.sink(this.buffer);return this.buffer=[],this.timer.stop(),e},t.prototype.enqueue=function(e){if(!this.started){vse.warn("Queue is stopped, not accepting event");return}var n=this.buffer[0];n&&!this.batchComparator(n,e)&&this.flush(),this.buffer.length===0&&this.timer.refresh(),this.buffer.push(e),this.buffer.length>=this.maxQueueSize&&this.flush()},t.prototype.flush=function(){this.sink(this.buffer),this.buffer=[],this.timer.stop()},t}();vf.DefaultEventQueue=bse;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sendEventNotification=t.getQueue=t.validateAndGetBatchSize=t.validateAndGetFlushInterval=t.DEFAULT_BATCH_SIZE=t.DEFAULT_FLUSH_INTERVAL=void 0;var e=vf,n=Rn,i=At;t.DEFAULT_FLUSH_INTERVAL=3e4,t.DEFAULT_BATCH_SIZE=10;var o=n.getLogger("EventProcessor");function s(u){return u<=0&&(o.warn("Invalid flushInterval "+u+", defaulting to "+t.DEFAULT_FLUSH_INTERVAL),u=t.DEFAULT_FLUSH_INTERVAL),u}t.validateAndGetFlushInterval=s;function a(u){return u=Math.floor(u),u<1&&(o.warn("Invalid batchSize "+u+", defaulting to "+t.DEFAULT_BATCH_SIZE),u=t.DEFAULT_BATCH_SIZE),u=Math.max(1,u),u}t.validateAndGetBatchSize=a;function l(u,d,f,h){var v;return u>1?v=new e.DefaultEventQueue({flushInterval:d,maxQueueSize:u,sink:f,batchComparator:h}):v=new e.SingleEventQueue({sink:f}),v}t.getQueue=l;function c(u,d){u&&u.sendNotifications(i.NOTIFICATION_TYPES.LOG_EVENT,d)}t.sendEventNotification=c})(F3);var b8={};Object.defineProperty(b8,"__esModule",{value:!0});var E8={};Object.defineProperty(E8,"__esModule",{value:!0});var yf={},uy={};Object.defineProperty(uy,"__esModule",{value:!0});uy.LocalStorageStore=void 0;var Ese=At,wse=Rn,w8=wse.getLogger("EventProcessor"),xse=function(){function t(e){var n=e.key,i=e.maxValues,o=i===void 0?1e3:i;this.LS_KEY=n,this.maxValues=o}return t.prototype.get=function(e){return this.getMap()[e]||null},t.prototype.set=function(e,n){var i=this.getMap();i[e]=n,this.replace(i)},t.prototype.remove=function(e){var n=this.getMap();delete n[e],this.replace(n)},t.prototype.values=function(){return Ese.objectValues(this.getMap())},t.prototype.clear=function(){this.replace({})},t.prototype.replace=function(e){try{window.localStorage&&localStorage.setItem(this.LS_KEY,JSON.stringify(e)),this.clean()}catch(n){w8.error(n)}},t.prototype.clean=function(){var e=this.getMap(),n=Object.keys(e),i=n.length-this.maxValues;if(!(i<1)){var o=n.map(function(a){return{key:a,value:e[a]}});o.sort(function(a,l){return a.value.timestamp-l.value.timestamp});for(var s=0;s<i;s++)delete e[o[s].key];this.replace(e)}},t.prototype.getMap=function(){try{var e=window.localStorage&&localStorage.getItem(this.LS_KEY);if(e)return JSON.parse(e)||{}}catch(n){w8.error(n)}return{}},t}();uy.LocalStorageStore=xse;var Sse=Wt&&Wt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},t(e,n)};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(yf,"__esModule",{value:!0});yf.LocalStoragePendingEventsDispatcher=yf.PendingEventsDispatcher=void 0;var Tse=Rn,Cse=uy,x8=At,Mse=Tse.getLogger("EventProcessor"),S8=function(){function t(e){var n=e.eventDispatcher,i=e.store;this.dispatcher=n,this.store=i}return t.prototype.dispatchEvent=function(e,n){this.send({uuid:x8.generateUUID(),timestamp:x8.getTimestamp(),request:e},n)},t.prototype.sendPendingEvents=function(){var e=this,n=this.store.values();Mse.debug("Sending %s pending events from previous page",n.length),n.forEach(function(i){try{e.send(i,function(){})}catch{}})},t.prototype.send=function(e,n){var i=this;this.store.set(e.uuid,e),this.dispatcher.dispatchEvent(e.request,function(o){i.store.remove(e.uuid),n(o)})},t}();yf.PendingEventsDispatcher=S8;var Ase=function(t){Sse(e,t);function e(n){var i=n.eventDispatcher;return t.call(this,{eventDispatcher:i,store:new Cse.LocalStorageStore({maxValues:100,key:"fs_optly_pending_events"})})||this}return e}(S8);yf.LocalStoragePendingEventsDispatcher=Ase;var mo={},U3=Wt&&Wt.__assign||function(){return U3=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},U3.apply(this,arguments)};Object.defineProperty(mo,"__esModule",{value:!0});mo.formatEvents=mo.buildConversionEventV1=mo.buildImpressionEventV1=mo.makeBatchedEventV1=void 0;var Pse="campaign_activated",Rse="custom",T8="$opt_bot_filtering";function C8(t){var e=[],n=t[0];return t.forEach(function(i){if(i.type==="conversion"||i.type==="impression"){var o=j3(i);i.type==="impression"?o.snapshots.push(A8(i)):i.type==="conversion"&&o.snapshots.push(M8(i)),e.push(o)}}),{client_name:n.context.clientName,client_version:n.context.clientVersion,account_id:n.context.accountId,project_id:n.context.projectId,revision:n.context.revision,anonymize_ip:n.context.anonymizeIP,enrich_decisions:!0,visitors:e}}mo.makeBatchedEventV1=C8;function M8(t){var e=U3({},t.tags);delete e.revenue,delete e.value;var n={entity_id:t.event.id,key:t.event.key,timestamp:t.timestamp,uuid:t.uuid};return t.tags&&(n.tags=t.tags),t.value!=null&&(n.value=t.value),t.revenue!=null&&(n.revenue=t.revenue),{events:[n]}}function A8(t){var e,n,i=t.layer,o=t.experiment,s=t.variation,a=t.ruleKey,l=t.flagKey,c=t.ruleType,u=t.enabled,d=i?i.id:null,f=(e=o==null?void 0:o.id)!==null&&e!==void 0?e:"",h=(n=s==null?void 0:s.id)!==null&&n!==void 0?n:"",v=s?s.key:"";return{decisions:[{campaign_id:d,experiment_id:f,variation_id:h,metadata:{flag_key:l,rule_key:a,rule_type:c,variation_key:v,enabled:u}}],events:[{entity_id:d,timestamp:t.timestamp,key:Pse,uuid:t.uuid}]}}function j3(t){var e={snapshots:[],visitor_id:t.user.id,attributes:[]};return t.user.attributes.forEach(function(n){e.attributes.push({entity_id:n.entityId,key:n.key,type:"custom",value:n.value})}),typeof t.context.botFiltering=="boolean"&&e.attributes.push({entity_id:T8,key:T8,type:Rse,value:t.context.botFiltering}),e}function Lse(t){var e=j3(t);return e.snapshots.push(A8(t)),{client_name:t.context.clientName,client_version:t.context.clientVersion,account_id:t.context.accountId,project_id:t.context.projectId,revision:t.context.revision,anonymize_ip:t.context.anonymizeIP,enrich_decisions:!0,visitors:[e]}}mo.buildImpressionEventV1=Lse;function Ise(t){var e=j3(t);return e.snapshots.push(M8(t)),{client_name:t.context.clientName,client_version:t.context.clientVersion,account_id:t.context.accountId,project_id:t.context.projectId,revision:t.context.revision,anonymize_ip:t.context.anonymizeIP,enrich_decisions:!0,visitors:[e]}}mo.buildConversionEventV1=Ise;function Ose(t){return{url:"https://logx.optimizely.com/v1/events",httpVerb:"POST",params:C8(t)}}mo.formatEvents=Ose;var dy={},B3={};Object.defineProperty(B3,"__esModule",{value:!0});var Nse=function(){function t(){this.reqsInFlightCount=0,this.reqsCompleteResolvers=[]}return t.prototype.trackRequest=function(e){var n=this;this.reqsInFlightCount++;var i=function(){n.reqsInFlightCount--,n.reqsInFlightCount===0&&(n.reqsCompleteResolvers.forEach(function(o){return o()}),n.reqsCompleteResolvers=[])};e.then(i,i)},t.prototype.onRequestsComplete=function(){var e=this;return new Promise(function(n){e.reqsInFlightCount===0?n():e.reqsCompleteResolvers.push(n)})},t}();B3.default=Nse;var kse=Wt&&Wt.__awaiter||function(t,e,n,i){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(i.next(d))}catch(f){a(f)}}function c(d){try{u(i.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):o(d.value).then(l,c)}u((i=i.apply(t,e||[])).next())})},Dse=Wt&&Wt.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],o=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Fse=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dy,"__esModule",{value:!0});dy.LogTierV1EventProcessor=void 0;var Use=Rn,_f=F3,jse=Fse(B3),Bse=Pm,Vse=mo,P8=Use.getLogger("LogTierV1EventProcessor"),Hse=function(){function t(e){var n=e.dispatcher,i=e.flushInterval,o=i===void 0?_f.DEFAULT_FLUSH_INTERVAL:i,s=e.batchSize,a=s===void 0?_f.DEFAULT_BATCH_SIZE:s,l=e.notificationCenter;this.dispatcher=n,this.notificationCenter=l,this.requestTracker=new jse.default,o=_f.validateAndGetFlushInterval(o),a=_f.validateAndGetBatchSize(a),this.queue=_f.getQueue(a,o,this.drainQueue.bind(this),Bse.areEventContextsEqual)}return t.prototype.drainQueue=function(e){var n=this,i=new Promise(function(o){if(P8.debug("draining queue with %s events",e.length),e.length===0){o();return}var s=Vse.formatEvents(e);n.dispatcher.dispatchEvent(s,function(){o()}),_f.sendEventNotification(n.notificationCenter,s)});return this.requestTracker.trackRequest(i),i},t.prototype.process=function(e){this.queue.enqueue(e)},t.prototype.stop=function(){try{return this.queue.stop(),this.requestTracker.onRequestsComplete()}catch(e){P8.error('Error stopping EventProcessor: "%s"',e.message,e)}return Promise.resolve()},t.prototype.start=function(){return kse(this,void 0,void 0,function(){return Dse(this,function(e){return this.queue.start(),[2]})})},t}();dy.LogTierV1EventProcessor=Hse;(function(t){var e=Wt&&Wt.__createBinding||(Object.create?function(i,o,s,a){a===void 0&&(a=s),Object.defineProperty(i,a,{enumerable:!0,get:function(){return o[s]}})}:function(i,o,s,a){a===void 0&&(a=s),i[a]=o[s]}),n=Wt&&Wt.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,i,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Pm,t),n(F3,t),n(b8,t),n(E8,t),n(yf,t),n(mo,t),n(dy,t)})(Am);var R8={exports:{}};(function(t){(function(){function e(o,s){for(var a=o.length,l=s^a,c=0,u;a>=4;)u=o.charCodeAt(c)&255|(o.charCodeAt(++c)&255)<<8|(o.charCodeAt(++c)&255)<<16|(o.charCodeAt(++c)&255)<<24,u=(u&65535)*1540483477+(((u>>>16)*1540483477&65535)<<16),u^=u>>>24,u=(u&65535)*1540483477+(((u>>>16)*1540483477&65535)<<16),l=(l&65535)*1540483477+(((l>>>16)*1540483477&65535)<<16)^u,a-=4,++c;switch(a){case 3:l^=(o.charCodeAt(c+2)&255)<<16;case 2:l^=(o.charCodeAt(c+1)&255)<<8;case 1:l^=o.charCodeAt(c)&255,l=(l&65535)*1540483477+(((l>>>16)*1540483477&65535)<<16)}return l^=l>>>13,l=(l&65535)*1540483477+(((l>>>16)*1540483477&65535)<<16),l^=l>>>15,l>>>0}function n(o,s){var a,l,c,u,d,f,h,v;for(a=o.length&3,l=o.length-a,c=s,d=3432918353,f=461845907,v=0;v<l;)h=o.charCodeAt(v)&255|(o.charCodeAt(++v)&255)<<8|(o.charCodeAt(++v)&255)<<16|(o.charCodeAt(++v)&255)<<24,++v,h=(h&65535)*d+(((h>>>16)*d&65535)<<16)&4294967295,h=h<<15|h>>>17,h=(h&65535)*f+(((h>>>16)*f&65535)<<16)&4294967295,c^=h,c=c<<13|c>>>19,u=(c&65535)*5+(((c>>>16)*5&65535)<<16)&4294967295,c=(u&65535)+27492+(((u>>>16)+58964&65535)<<16);switch(h=0,a){case 3:h^=(o.charCodeAt(v+2)&255)<<16;case 2:h^=(o.charCodeAt(v+1)&255)<<8;case 1:h^=o.charCodeAt(v)&255,h=(h&65535)*d+(((h>>>16)*d&65535)<<16)&4294967295,h=h<<15|h>>>17,h=(h&65535)*f+(((h>>>16)*f&65535)<<16)&4294967295,c^=h}return c^=o.length,c^=c>>>16,c=(c&65535)*2246822507+(((c>>>16)*2246822507&65535)<<16)&4294967295,c^=c>>>13,c=(c&65535)*3266489909+(((c>>>16)*3266489909&65535)<<16)&4294967295,c^=c>>>16,c>>>0}var i=n;i.v2=e,i.v3=n,t.exports=i})()})(R8);var zse=R8.exports,L8={},V3={},H3={},Go={};Object.defineProperty(Go,"__esModule",{value:!0});Go.DEFAULT_UPDATE_INTERVAL=5*60*1e3;Go.MIN_UPDATE_INTERVAL=1e3;Go.DEFAULT_URL_TEMPLATE="https://cdn.optimizely.com/datafiles/%s.json";Go.DEFAULT_AUTHENTICATED_URL_TEMPLATE="https://config.optimizely.com/datafiles/auth/%s.json";Go.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT=[0,8,16,32,64,128,256,512];Go.REQUEST_TIMEOUT_MS=60*1e3;Object.defineProperty(H3,"__esModule",{value:!0});var Gse=Go,$se=Rn,Wse=$se.getLogger("DatafileManager"),qse="GET",Yse=4;function Kse(t){var e=t.getAllResponseHeaders();if(e===null)return{};var n=e.split(`\r
`),i={};return n.forEach(function(o){var s=o.indexOf(": ");if(s>-1){var a=o.slice(0,s),l=o.slice(s+2);l.length>0&&(i[a]=l)}}),i}function Xse(t,e){Object.keys(t).forEach(function(n){var i=t[n];e.setRequestHeader(n,i)})}function Jse(t,e){var n=new XMLHttpRequest,i=new Promise(function(o,s){n.open(qse,t,!0),Xse(e,n),n.onreadystatechange=function(){if(n.readyState===Yse){var a=n.status;if(a===0){s(new Error("Request error"));return}var l=Kse(n),c={statusCode:n.status,body:n.responseText,headers:l};o(c)}},n.timeout=Gse.REQUEST_TIMEOUT_MS,n.ontimeout=function(){Wse.error("Request timed out")},n.send()});return{responsePromise:i,abort:function(){n.abort()}}}H3.makeGetRequest=Jse;var z3={},G3={};Object.defineProperty(G3,"__esModule",{value:!0});var Zse=function(){function t(){this.listeners={},this.listenerId=1}return t.prototype.on=function(e,n){var i=this;this.listeners[e]||(this.listeners[e]={});var o=String(this.listenerId);return this.listenerId++,this.listeners[e][o]=n,function(){i.listeners[e]&&delete i.listeners[e][o]}},t.prototype.emit=function(e,n){var i=this.listeners[e];i&&Object.keys(i).forEach(function(o){var s=i[o];s(n)})},t.prototype.removeAllListeners=function(){this.listeners={}},t}();G3.default=Zse;var $3={};Object.defineProperty($3,"__esModule",{value:!0});var W3=Go;function Qse(){return Math.round(Math.random()*1e3)}var eoe=function(){function t(){this.errorCount=0}return t.prototype.getDelay=function(){if(this.errorCount===0)return 0;var e=W3.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT[Math.min(W3.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1,this.errorCount)];return e*1e3+Qse()},t.prototype.countError=function(){this.errorCount<W3.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1&&this.errorCount++},t.prototype.reset=function(){this.errorCount=0},t}();$3.default=eoe;var fy=Wt&&Wt.__assign||function(){return fy=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},fy.apply(this,arguments)},I8=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(z3,"__esModule",{value:!0});var toe=Rn,noe=At,roe=I8(G3),Rm=Go,ioe=I8($3),Vs=toe.getLogger("DatafileManager"),soe="update";function ooe(t){return t>=Rm.MIN_UPDATE_INTERVAL}function O8(t){return t>=200&&t<400}var aoe={get:function(){return Promise.resolve("")},set:function(){return Promise.resolve()},contains:function(){return Promise.resolve(!1)},remove:function(){return Promise.resolve()}},loe=function(){function t(e){var n=this,i=fy(fy({},this.getConfigDefaults()),e),o=i.datafile,s=i.autoUpdate,a=s===void 0?!1:s,l=i.sdkKey,c=i.updateInterval,u=c===void 0?Rm.DEFAULT_UPDATE_INTERVAL:c,d=i.urlTemplate,f=d===void 0?Rm.DEFAULT_URL_TEMPLATE:d,h=i.cache,v=h===void 0?aoe:h;this.cache=v,this.cacheKey="opt-datafile-"+l,this.isReadyPromiseSettled=!1,this.readyPromiseResolver=function(){},this.readyPromiseRejecter=function(){},this.readyPromise=new Promise(function(m,_){n.readyPromiseResolver=m,n.readyPromiseRejecter=_}),o?(this.currentDatafile=o,l||this.resolveReadyPromise()):this.currentDatafile="",this.isStarted=!1,this.datafileUrl=noe.sprintf(f,l),this.emitter=new roe.default,this.autoUpdate=a,ooe(u)?this.updateInterval=u:(Vs.warn("Invalid updateInterval %s, defaulting to %s",u,Rm.DEFAULT_UPDATE_INTERVAL),this.updateInterval=Rm.DEFAULT_UPDATE_INTERVAL),this.currentTimeout=null,this.currentRequest=null,this.backoffController=new ioe.default,this.syncOnCurrentRequestComplete=!1}return t.prototype.get=function(){return this.currentDatafile},t.prototype.start=function(){this.isStarted||(Vs.debug("Datafile manager started"),this.isStarted=!0,this.backoffController.reset(),this.setDatafileFromCacheIfAvailable(),this.syncDatafile())},t.prototype.stop=function(){return Vs.debug("Datafile manager stopped"),this.isStarted=!1,this.currentTimeout&&(clearTimeout(this.currentTimeout),this.currentTimeout=null),this.emitter.removeAllListeners(),this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),Promise.resolve()},t.prototype.onReady=function(){return this.readyPromise},t.prototype.on=function(e,n){return this.emitter.on(e,n)},t.prototype.onRequestRejected=function(e){!this.isStarted||(this.backoffController.countError(),e instanceof Error?Vs.error("Error fetching datafile: %s",e.message,e):typeof e=="string"?Vs.error("Error fetching datafile: %s",e):Vs.error("Error fetching datafile"))},t.prototype.onRequestResolved=function(e){if(!!this.isStarted){typeof e.statusCode!="undefined"&&O8(e.statusCode)?this.backoffController.reset():this.backoffController.countError(),this.trySavingLastModified(e.headers);var n=this.getNextDatafileFromResponse(e);if(n!=="")if(Vs.info("Updating datafile from response"),this.currentDatafile=n,this.cache.set(this.cacheKey,n),!this.isReadyPromiseSettled)this.resolveReadyPromise();else{var i={datafile:n};this.emitter.emit(soe,i)}}},t.prototype.onRequestComplete=function(){!this.isStarted||(this.currentRequest=null,!this.isReadyPromiseSettled&&!this.autoUpdate&&this.rejectReadyPromise(new Error("Failed to become ready")),this.autoUpdate&&this.syncOnCurrentRequestComplete&&this.syncDatafile(),this.syncOnCurrentRequestComplete=!1)},t.prototype.syncDatafile=function(){var e=this,n={};this.lastResponseLastModified&&(n["if-modified-since"]=this.lastResponseLastModified),Vs.debug("Making datafile request to url %s with headers: %s",this.datafileUrl,function(){return JSON.stringify(n)}),this.currentRequest=this.makeGetRequest(this.datafileUrl,n);var i=function(){e.onRequestComplete()},o=function(a){e.onRequestResolved(a)},s=function(a){e.onRequestRejected(a)};this.currentRequest.responsePromise.then(o,s).then(i,i),this.autoUpdate&&this.scheduleNextUpdate()},t.prototype.resolveReadyPromise=function(){this.readyPromiseResolver(),this.isReadyPromiseSettled=!0},t.prototype.rejectReadyPromise=function(e){this.readyPromiseRejecter(e),this.isReadyPromiseSettled=!0},t.prototype.scheduleNextUpdate=function(){var e=this,n=this.backoffController.getDelay(),i=Math.max(n,this.updateInterval);Vs.debug("Scheduling sync in %s ms",i),this.currentTimeout=setTimeout(function(){e.currentRequest?e.syncOnCurrentRequestComplete=!0:e.syncDatafile()},i)},t.prototype.getNextDatafileFromResponse=function(e){return Vs.debug("Response status code: %s",e.statusCode),typeof e.statusCode=="undefined"||e.statusCode===304?"":O8(e.statusCode)?e.body:""},t.prototype.trySavingLastModified=function(e){var n=e["last-modified"]||e["Last-Modified"];typeof n!="undefined"&&(this.lastResponseLastModified=n,Vs.debug("Saved last modified header value from response: %s",this.lastResponseLastModified))},t.prototype.setDatafileFromCacheIfAvailable=function(){var e=this;this.cache.get(this.cacheKey).then(function(n){e.isStarted&&!e.isReadyPromiseSettled&&n!==""&&(Vs.debug("Using datafile from cache"),e.currentDatafile=n,e.resolveReadyPromise())})},t}();z3.default=loe;var coe=Wt&&Wt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])},t(e,n)};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),uoe=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(V3,"__esModule",{value:!0});var doe=H3,foe=uoe(z3),hoe=function(t){coe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeGetRequest=function(n,i){return doe.makeGetRequest(n,i)},e.prototype.getConfigDefaults=function(){return{autoUpdate:!1}},e}(foe.default);V3.default=hoe;Object.defineProperty(L8,"__esModule",{value:!0});var poe=V3,moe=L8.HttpPollingDatafileManager=poe.default;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tu=function(){return(Tu=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function q3(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var s=arguments[e],a=0,l=s.length;a<l;a++,o++)i[o]=s[a];return i}var Se={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},Mt={CONDITION_EVALUATOR_ERROR:"%s: Error evaluating audience condition of type %s: %s",DATAFILE_AND_SDK_KEY_MISSING:"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely",EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_CONFIG:"%s: Provided Optimizely config is in an invalid format.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},we={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EVENT_KEY_NOT_FOUND:"%s: Event key %s is not in datafile.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_DEFAULT_DECIDE_OPTIONS:"%s: Provided default decide options is not an array.",INVALID_DECIDE_OPTIONS:"%s: Provided decide options is not an array. Using default decide options.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is not in "Running" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",UNRECOGNIZED_DECIDE_OPTION:"%s: Unrecognized decide option %s provided.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned bucket %s to user with bucketing ID %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Feature "%s" is not enabled for user %s. Returning the default variable value "%s".',VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Variable "%s" is not used in variation "%s". Returning default value.',USER_RECEIVED_VARIABLE_VALUE:'%s: Got variable value "%s" for variable "%s" of feature flag "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for %s "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for %s %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",UPDATED_OPTIMIZELY_CONFIG:"%s: Updated Optimizely config to revision %s (project id %s)",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].',UNABLE_TO_ATTACH_UNLOAD:'%s: unable to bind optimizely.close() to page unload event: "%s"'},$o={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent",FORCED_DECISION_NULL_RULE_KEY:"$opt_null_rule_key"},Hs=At.NOTIFICATION_TYPES,Cu={AB_TEST:"ab-test",FEATURE:"feature",FEATURE_TEST:"feature-test",FEATURE_VARIABLE:"feature-variable",ALL_FEATURE_VARIABLES:"all-feature-variables",FLAG:"flag"},Xr={FEATURE_TEST:"feature-test",ROLLOUT:"rollout",EXPERIMENT:"experiment"},Y3={RULE:"rule",EXPERIMENT:"experiment"},us={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string",JSON:"json"},hy={V2:"2",V3:"3",V4:"4"},Mu={SDK_NOT_READY:"Optimizely SDK not configured properly yet.",FLAG_KEY_INVALID:'No flag was found for key "%s".',VARIABLE_VALUE_INVALID:'Variable value for key "%s" is invalid or wrong type.'},goe=Object.freeze({__proto__:null,LOG_LEVEL:Se,ERROR_MESSAGES:Mt,LOG_MESSAGES:we,CONTROL_ATTRIBUTES:$o,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",REACT_CLIENT_ENGINE:"react-sdk",REACT_NATIVE_CLIENT_ENGINE:"react-native-sdk",REACT_NATIVE_JS_CLIENT_ENGINE:"react-native-js-sdk",NODE_CLIENT_VERSION:"4.8.0",NOTIFICATION_TYPES:Hs,DECISION_NOTIFICATION_TYPES:Cu,DECISION_SOURCES:Xr,AUDIENCE_EVALUATION_TYPES:Y3,FEATURE_VARIABLE_TYPES:us,DATAFILE_VERSIONS:hy,DECISION_MESSAGES:Mu}),Au="CONFIG_VALIDATOR",voe=[hy.V2,hy.V3,hy.V4],yoe=function(t){if(typeof t=="object"&&t!==null){var e=t,n=e.errorHandler,i=e.eventDispatcher,o=e.logger;if(n&&typeof n.handleError!="function")throw new Error(At.sprintf(Mt.INVALID_ERROR_HANDLER,Au));if(i&&typeof i.dispatchEvent!="function")throw new Error(At.sprintf(Mt.INVALID_EVENT_DISPATCHER,Au));if(o&&typeof o.log!="function")throw new Error(At.sprintf(Mt.INVALID_LOGGER,Au));return!0}throw new Error(At.sprintf(Mt.INVALID_CONFIG,Au))},_oe=function(t){if(!t)throw new Error(At.sprintf(Mt.NO_DATAFILE_SPECIFIED,Au));if(typeof t=="string")try{t=JSON.parse(t)}catch{throw new Error(At.sprintf(Mt.INVALID_DATAFILE_MALFORMED,Au))}if(typeof t=="object"&&!Array.isArray(t)&&t!==null&&voe.indexOf(t.version)===-1)throw new Error(At.sprintf(Mt.INVALID_DATAFILE_VERSION,Au,t.version));return t},boe={handleError:function(){}},Eoe=function(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")},N8={dispatchEvent:function(t,e){var n,i=t.params,o=t.url;t.httpVerb==="POST"?((n=new XMLHttpRequest).open("POST",o,!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){if(n.readyState===4&&e&&typeof e=="function")try{e({statusCode:n.status})}catch{}},n.send(JSON.stringify(i))):(o+="?wxhr=true",i&&(o+="&"+Eoe(i)),(n=new XMLHttpRequest).open("GET",o,!0),n.onreadystatechange=function(){if(n.readyState===4&&e&&typeof e=="function")try{e({statusCode:n.status})}catch{}},n.send())}},k8=function(){function t(){}return t.prototype.log=function(){},t}();function D8(t){return new Rn.ConsoleLogHandler(t)}var F8,Wo,woe=Object.freeze({__proto__:null,NoOpLogger:k8,createLogger:D8,createNoOpLogger:function(){return new k8}});function U8(t,e,n){return{variationKey:null,enabled:!1,variables:{},ruleKey:null,flagKey:t,userContext:e,reasons:n}}(function(t){t.BOOLEAN="boolean",t.DOUBLE="double",t.INTEGER="integer",t.STRING="string",t.JSON="json"})(F8||(F8={})),function(t){t.DISABLE_DECISION_EVENT="DISABLE_DECISION_EVENT",t.ENABLED_FLAGS_ONLY="ENABLED_FLAGS_ONLY",t.IGNORE_USER_PROFILE_SERVICE="IGNORE_USER_PROFILE_SERVICE",t.INCLUDE_REASONS="INCLUDE_REASONS",t.EXCLUDE_VARIABLES="EXCLUDE_VARIABLES"}(Wo||(Wo={}));var dc=Rn.getLogger(),xoe=function(){function t(e){var n,i=e.optimizely,o=e.userId,s=e.attributes;this.optimizely=i,this.userId=o,this.attributes=(n=Tu({},s))!==null&&n!==void 0?n:{},this.forcedDecisionsMap={}}return t.prototype.setAttribute=function(e,n){this.attributes[e]=n},t.prototype.getUserId=function(){return this.userId},t.prototype.getAttributes=function(){return Tu({},this.attributes)},t.prototype.getOptimizely=function(){return this.optimizely},t.prototype.decide=function(e,n){return n===void 0&&(n=[]),this.optimizely.decide(this.cloneUserContext(),e,n)},t.prototype.decideForKeys=function(e,n){return n===void 0&&(n=[]),this.optimizely.decideForKeys(this.cloneUserContext(),e,n)},t.prototype.decideAll=function(e){return e===void 0&&(e=[]),this.optimizely.decideAll(this.cloneUserContext(),e)},t.prototype.trackEvent=function(e,n){this.optimizely.track(e,this.userId,this.attributes,n)},t.prototype.setForcedDecision=function(e,n){var i;if(!this.optimizely.isValidInstance())return dc.error(Mu.SDK_NOT_READY),!1;var o=e.flagKey,s=(i=e.ruleKey)!==null&&i!==void 0?i:$o.FORCED_DECISION_NULL_RULE_KEY,a={variationKey:n.variationKey};return this.forcedDecisionsMap[o]||(this.forcedDecisionsMap[o]={}),this.forcedDecisionsMap[o][s]=a,!0},t.prototype.getForcedDecision=function(e){return this.optimizely.isValidInstance()?this.findForcedDecision(e):(dc.error(Mu.SDK_NOT_READY),null)},t.prototype.removeForcedDecision=function(e){var n;if(!this.optimizely.isValidInstance())return dc.error(Mu.SDK_NOT_READY),!1;var i=(n=e.ruleKey)!==null&&n!==void 0?n:$o.FORCED_DECISION_NULL_RULE_KEY,o=e.flagKey,s=!1;return this.forcedDecisionsMap.hasOwnProperty(o)&&(this.forcedDecisionsMap[o].hasOwnProperty(i)&&(delete this.forcedDecisionsMap[o][i],s=!0),Object.keys(this.forcedDecisionsMap[o]).length===0&&delete this.forcedDecisionsMap[o]),s},t.prototype.removeAllForcedDecisions=function(){return this.optimizely.isValidInstance()?(this.forcedDecisionsMap={},!0):(dc.error(Mu.SDK_NOT_READY),!1)},t.prototype.findForcedDecision=function(e){var n,i=(n=e.ruleKey)!==null&&n!==void 0?n:$o.FORCED_DECISION_NULL_RULE_KEY,o=e.flagKey;if(this.forcedDecisionsMap.hasOwnProperty(e.flagKey)){var s=this.forcedDecisionsMap[o];if(s.hasOwnProperty(i))return{variationKey:s[i].variationKey}}return null},t.prototype.findValidatedForcedDecision=function(e,n){var i,o=[],s=this.findForcedDecision({flagKey:e,ruleKey:n}),a=null;return s&&(i=s.variationKey,(a=this.optimizely.getFlagVariationByKey(e,i))?n?(dc.info(we.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,i,e,n,this.userId),o.push([we.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,i,e,n,this.userId])):(dc.info(we.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,i,e,this.userId),o.push([we.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,i,e,this.userId])):n?(dc.info(we.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,e,n,this.userId),o.push([we.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,e,n,this.userId])):(dc.info(we.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,e,this.userId),o.push([we.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,e,this.userId]))),{result:a,reasons:o}},t.prototype.cloneUserContext=function(){var e=new t({optimizely:this.getOptimizely(),userId:this.getUserId(),attributes:this.getAttributes()});return Object.keys(this.forcedDecisionsMap).length>0&&(e.forcedDecisionsMap=Tu({},this.forcedDecisionsMap)),e},t}(),j8=["and","or","not"];function Lm(t,e){if(Array.isArray(t)){var n=t[0],i=t.slice(1);switch(typeof n=="string"&&j8.indexOf(n)===-1&&(n="or",i=t),n){case"and":return function(o,s){var a=!1;if(Array.isArray(o)){for(var l=0;l<o.length;l++){var c=Lm(o[l],s);if(c===!1)return!1;c===null&&(a=!0)}return!a||null}return null}(i,e);case"not":return function(o,s){if(Array.isArray(o)&&o.length>0){var a=Lm(o[0],s);return a===null?null:!a}return null}(i,e);default:return function(o,s){var a=!1;if(Array.isArray(o)){for(var l=0;l<o.length;l++){var c=Lm(o[l],s);if(c===!0)return!0;c===null&&(a=!0)}return!!a&&null}return null}(i,e)}}return e(t)}var Soe=function(){function t(e,n){var i,o;this.sdkKey=(i=e.sdkKey)!==null&&i!==void 0?i:"",this.environmentKey=(o=e.environmentKey)!==null&&o!==void 0?o:"",this.attributes=e.attributes,this.audiences=t.getAudiences(e),this.events=e.events,this.revision=e.revision;var s=(e.featureFlags||[]).reduce(function(l,c){return l[c.id]=c.variables,l},{}),a=t.getExperimentsMapById(e,s);this.experimentsMap=t.getExperimentsKeyMap(a),this.featuresMap=t.getFeaturesMap(e,s,a),this.datafile=n}return t.prototype.getDatafile=function(){return this.datafile},t.getAudiences=function(e){var n=[],i=[];return(e.typedAudiences||[]).forEach(function(o){n.push({id:o.id,conditions:JSON.stringify(o.conditions),name:o.name}),i.push(o.id)}),(e.audiences||[]).forEach(function(o){i.indexOf(o.id)===-1&&o.id!="$opt_dummy_audience"&&n.push({id:o.id,conditions:JSON.stringify(o.conditions),name:o.name})}),n},t.getSerializedAudiences=function(e,n){var i="";if(e){var o="";e.forEach(function(s){var a="";if(s instanceof Array)a="("+(a=t.getSerializedAudiences(s,n))+")";else if(j8.indexOf(s)>-1)o=s.toUpperCase();else{var l=n[s]?n[s].name:s;i||o==="NOT"?(o=o===""?"OR":o,i=i===""?o+' "'+n[s].name+'"':i.concat(" "+o+' "'+l+'"')):i='"'+l+'"'}a!==""&&(i!==""||o==="NOT"?(o=o===""?"OR":o,i=i===""?o+" "+a:i.concat(" "+o+" "+a)):i=i.concat(a))})}return i},t.getExperimentAudiences=function(e,n){return e.audienceConditions?t.getSerializedAudiences(e.audienceConditions,n.audiencesById):""},t.mergeFeatureVariables=function(e,n,i,o,s){var a=(e[i]||[]).reduce(function(l,c){return l[c.key]={id:c.id,key:c.key,type:c.type,value:c.defaultValue},l},{});return(o||[]).forEach(function(l){var c=n[l.id],u={id:l.id,key:c.key,type:c.type,value:s?l.value:c.defaultValue};a[c.key]=u}),a},t.getVariationsMap=function(e,n,i,o){return e.reduce(function(s,a){var l=t.mergeFeatureVariables(n,i,o,a.variables,a.featureEnabled);return s[a.key]={id:a.id,key:a.key,featureEnabled:a.featureEnabled,variablesMap:l},s},{})},t.getVariableIdMap=function(e){return(e.featureFlags||[]).reduce(function(n,i){return i.variables.forEach(function(o){n[o.id]=o}),n},{})},t.getDeliveryRules=function(e,n,i,o){var s=t.getVariableIdMap(e);return o.map(function(a){return{id:a.id,key:a.key,audiences:t.getExperimentAudiences(a,e),variationsMap:t.getVariationsMap(a.variations,n,s,i)}})},t.getRolloutExperimentIds=function(e){var n=[];return(e||[]).forEach(function(i){i.experiments.forEach(function(o){n.push(o.id)})}),n},t.getExperimentsMapById=function(e,n){var i=t.getVariableIdMap(e),o=this.getRolloutExperimentIds(e.rollouts);return(e.experiments||[]).reduce(function(s,a){if(o.indexOf(a.id)===-1){var l=e.experimentFeatureMap[a.id],c="";l&&l.length>0&&(c=l[0]);var u=t.getVariationsMap(a.variations,n,i,c.toString());s[a.id]={id:a.id,key:a.key,audiences:t.getExperimentAudiences(a,e),variationsMap:u}}return s},{})},t.getExperimentsKeyMap=function(e){var n={};for(var i in e){var o=e[i];n[o.key]=o}return n},t.getFeaturesMap=function(e,n,i){var o={};return e.featureFlags.forEach(function(s){var a={},l=[];s.experimentIds.forEach(function(f){var h=i[f];h&&(a[h.key]=h),l.push(i[f])});var c=(s.variables||[]).reduce(function(f,h){return f[h.key]={id:h.id,key:h.key,type:h.type,value:h.defaultValue},f},{}),u=[],d=e.rolloutIdMap[s.rolloutId];d&&(u=t.getDeliveryRules(e,n,s.id,d.experiments)),o[s.key]={id:s.id,key:s.key,experimentRules:l,deliveryRules:u,experimentsMap:a,variablesMap:c}}),o},t}(),Toe=Math.pow(2,53),St={assign:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t)return{};if(typeof Object.assign=="function")return Object.assign.apply(Object,q3([t],e));for(var i=Object(t),o=0;o<e.length;o++){var s=e[o];if(s!=null)for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},currentTimestamp:function(){return Math.round(new Date().getTime())},isSafeInteger:function(t){return typeof t=="number"&&Math.abs(t)<=Toe},keyBy:function(t,e){return t?At.keyBy(t,function(n){return n[e]}):{}},uuid:At.generateUUID,isNumber:function(t){return typeof t=="number"}},Jr="PROJECT_CONFIG",Coe=function(t,e){e===void 0&&(e=null);var n,i,o,s,a=(n=t,(s=St.assign({},n)).audiences=(n.audiences||[]).map(function(l){return St.assign({},l)}),s.experiments=(n.experiments||[]).map(function(l){return St.assign({},l)}),s.featureFlags=(n.featureFlags||[]).map(function(l){return St.assign({},l)}),s.groups=(n.groups||[]).map(function(l){var c=St.assign({},l);return c.experiments=(l.experiments||[]).map(function(u){return St.assign({},u)}),c}),s.rollouts=(n.rollouts||[]).map(function(l){var c=St.assign({},l);return c.experiments=(l.experiments||[]).map(function(u){return St.assign({},u)}),c}),s.environmentKey=(i=n.environmentKey)!==null&&i!==void 0?i:"",s.sdkKey=(o=n.sdkKey)!==null&&o!==void 0?o:"",s);return a.__datafileStr=e===null?JSON.stringify(t):e,(a.audiences||[]).forEach(function(l){l.conditions=JSON.parse(l.conditions)}),a.audiencesById=St.keyBy(a.audiences,"id"),St.assign(a.audiencesById,St.keyBy(a.typedAudiences,"id")),a.attributeKeyMap=St.keyBy(a.attributes,"key"),a.eventKeyMap=St.keyBy(a.events,"key"),a.groupIdMap=St.keyBy(a.groups,"id"),Object.keys(a.groupIdMap||{}).forEach(function(l){(a.groupIdMap[l].experiments||[]).forEach(function(c){a.experiments.push(St.assign(c,{groupId:l}))})}),a.rolloutIdMap=St.keyBy(a.rollouts||[],"id"),At.objectValues(a.rolloutIdMap||{}).forEach(function(l){(l.experiments||[]).forEach(function(c){a.experiments.push(c),c.variationKeyMap=St.keyBy(c.variations,"key")})}),a.experimentKeyMap=St.keyBy(a.experiments,"key"),a.experimentIdMap=St.keyBy(a.experiments,"id"),a.variationIdMap={},a.variationVariableUsageMap={},(a.experiments||[]).forEach(function(l){l.variationKeyMap=St.keyBy(l.variations,"key"),St.assign(a.variationIdMap,St.keyBy(l.variations,"id")),At.objectValues(l.variationKeyMap||{}).forEach(function(c){c.variables&&(a.variationVariableUsageMap[c.id]=St.keyBy(c.variables,"id"))})}),a.experimentFeatureMap={},a.featureKeyMap=St.keyBy(a.featureFlags||[],"key"),At.objectValues(a.featureKeyMap||{}).forEach(function(l){l.variables.forEach(function(c){c.type===us.STRING&&c.subType===us.JSON&&(c.type=us.JSON,delete c.subType)}),l.variableKeyMap=St.keyBy(l.variables,"key"),(l.experimentIds||[]).forEach(function(c){a.experimentFeatureMap[c]?a.experimentFeatureMap[c].push(l.id):a.experimentFeatureMap[c]=[l.id]})}),a.flagRulesMap={},(a.featureFlags||[]).forEach(function(l){var c=[];l.experimentIds.forEach(function(d){var f=a.experimentIdMap[d];f&&c.push(f)});var u=a.rolloutIdMap[l.rolloutId];u&&c.push.apply(c,u.experiments),a.flagRulesMap[l.key]=c}),a.flagVariationsMap={},At.objectEntries(a.flagRulesMap||{}).forEach(function(l){var c=l[0],u=l[1],d=[];u.forEach(function(f){f.variations.forEach(function(h){At.find(d,function(v){return v.id===h.id})||d.push(h)})}),a.flagVariationsMap[c]=d}),a},B8=function(t,e){var n=t.experimentIdMap[e];if(!n)throw new Error(At.sprintf(Mt.INVALID_EXPERIMENT_ID,Jr,e));return n.layerId},V8=function(t,e,n){var i=t.attributeKeyMap[e],o=e.indexOf("$opt_")===0;return i?(o&&n.log(Se.WARNING,"Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",e,"$opt_"),i.id):o?e:(n.log(Se.DEBUG,Mt.UNRECOGNIZED_ATTRIBUTE,Jr,e),null)},H8=function(t,e){var n=t.eventKeyMap[e];return n?n.id:null},z8=function(t,e){var n=t.experimentKeyMap[e];if(!n)throw new Error(At.sprintf(Mt.INVALID_EXPERIMENT_KEY,Jr,e));return n.status},G8=function(t,e){return t.variationIdMap.hasOwnProperty(e)?t.variationIdMap[e].key:null},K3=function(t,e){if(t.experimentKeyMap.hasOwnProperty(e)){var n=t.experimentKeyMap[e];if(n)return n}throw new Error(At.sprintf(Mt.EXPERIMENT_KEY_NOT_IN_DATAFILE,Jr,e))},Moe=function(t,e){var n=t.experimentIdMap[e];if(!n)throw new Error(At.sprintf(Mt.INVALID_EXPERIMENT_ID,Jr,e));return n.trafficAllocation},Aoe=function(t,e,n){if(t.experimentIdMap.hasOwnProperty(e)){var i=t.experimentIdMap[e];if(i)return i}return n.log(Se.ERROR,Mt.INVALID_EXPERIMENT_ID,Jr,e),null},X3=function(t,e,n){if(t.featureKeyMap.hasOwnProperty(e)){var i=t.featureKeyMap[e];if(i)return i}return n.log(Se.ERROR,Mt.FEATURE_NOT_IN_DATAFILE,Jr,e),null},$8=function(t){return t.__datafileStr},W8=function(t){var e;try{e=_oe(t.datafile)}catch(i){return{configObj:null,error:i}}if(t.jsonSchemaValidator)try{t.jsonSchemaValidator.validate(e),t.logger.log(Se.INFO,we.VALID_DATAFILE,Jr)}catch(i){return{configObj:null,error:i}}else t.logger.log(Se.INFO,we.SKIPPING_JSON_VALIDATION,Jr);var n=[e];return typeof t.datafile=="string"&&n.push(t.datafile),{configObj:Coe.apply(void 0,n),error:null}},q8=function(t){return!!t.sendFlagDecisions},py=Rn.getLogger();function bf(t,e){return t instanceof Error?t.message:e||"Unknown error"}var Poe=function(){function t(e){this.updateListeners=[],this.configObj=null,this.optimizelyConfigObj=null,this.datafileManager=null;try{if(this.jsonSchemaValidator=e.jsonSchemaValidator,!e.datafile&&!e.sdkKey){var n=new Error(At.sprintf(Mt.DATAFILE_AND_SDK_KEY_MISSING,"PROJECT_CONFIG_MANAGER"));return this.readyPromise=Promise.resolve({success:!1,reason:bf(n)}),void py.error(n)}var i=null;e.datafile&&(i=this.handleNewDatafile(e.datafile)),e.sdkKey&&e.datafileManager?(this.datafileManager=e.datafileManager,this.datafileManager.start(),this.readyPromise=this.datafileManager.onReady().then(this.onDatafileManagerReadyFulfill.bind(this),this.onDatafileManagerReadyReject.bind(this)),this.datafileManager.on("update",this.onDatafileManagerUpdate.bind(this))):this.configObj?this.readyPromise=Promise.resolve({success:!0}):this.readyPromise=Promise.resolve({success:!1,reason:bf(i,"Invalid datafile")})}catch(o){py.error(o),this.readyPromise=Promise.resolve({success:!1,reason:bf(o,"Error in initialize")})}}return t.prototype.onDatafileManagerReadyFulfill=function(){if(this.datafileManager){var e=this.handleNewDatafile(this.datafileManager.get());return e?{success:!1,reason:bf(e)}:{success:!0}}return{success:!1,reason:bf(null,"Datafile manager is not provided")}},t.prototype.onDatafileManagerReadyReject=function(e){return{success:!1,reason:bf(e,"Failed to become ready")}},t.prototype.onDatafileManagerUpdate=function(){this.datafileManager&&this.handleNewDatafile(this.datafileManager.get())},t.prototype.handleNewDatafile=function(e){var n=W8({datafile:e,jsonSchemaValidator:this.jsonSchemaValidator,logger:py}),i=n.configObj,o=n.error;if(o)py.error(o);else{var s=this.configObj?this.configObj.revision:"null";i&&s!==i.revision&&(this.configObj=i,this.optimizelyConfigObj=null,this.updateListeners.forEach(function(a){return a(i)}))}return o},t.prototype.getConfig=function(){return this.configObj},t.prototype.getOptimizelyConfig=function(){var e,n;return!this.optimizelyConfigObj&&this.configObj&&(this.optimizelyConfigObj=(e=this.configObj,n=$8(this.configObj),new Soe(e,n))),this.optimizelyConfigObj},t.prototype.onReady=function(){return this.readyPromise},t.prototype.onUpdate=function(e){var n=this;return this.updateListeners.push(e),function(){var i=n.updateListeners.indexOf(e);i>-1&&n.updateListeners.splice(i,1)}},t.prototype.stop=function(){this.datafileManager&&this.datafileManager.stop(),this.updateListeners=[]},t}(),Roe=Math.pow(2,32),Y8=function(t){var e=[],n=t.experimentIdMap[t.experimentId].groupId;if(n){var i=t.groupIdMap[n];if(!i)throw new Error(At.sprintf(Mt.INVALID_GROUP_ID,"BUCKETER",n));if(i.policy==="random"){var o=Loe(i,t.bucketingId,t.userId,t.logger);if(o===null)return t.logger.log(Se.INFO,we.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",t.userId,n),e.push([we.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",t.userId,n]),{result:null,reasons:e};if(o!==t.experimentId)return t.logger.log(Se.INFO,we.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",t.userId,t.experimentKey,n),e.push([we.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",t.userId,t.experimentKey,n]),{result:null,reasons:e};t.logger.log(Se.INFO,we.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",t.userId,t.experimentKey,n),e.push([we.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",t.userId,t.experimentKey,n])}}var s=""+t.bucketingId+t.experimentId,a=X8(s);t.logger.log(Se.DEBUG,we.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",a,t.userId),e.push([we.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",a,t.userId]);var l=K8(a,t.trafficAllocationConfig);return l===null||t.variationIdMap[l]?{result:l,reasons:e}:(l&&(t.logger.log(Se.WARNING,we.INVALID_VARIATION_ID,"BUCKETER"),e.push([we.INVALID_VARIATION_ID,"BUCKETER"])),{result:null,reasons:e})},Loe=function(t,e,n,i){var o=""+e+t.id,s=X8(o);i.log(Se.DEBUG,we.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",s,n);var a=t.trafficAllocation;return K8(s,a)},K8=function(t,e){for(var n=0;n<e.length;n++)if(t<e[n].endOfRange)return e[n].entityId;return null},X8=function(t){try{var e=zse.v3(t,1)/Roe;return Math.floor(1e4*e)}catch(n){throw new Error(At.sprintf(Mt.INVALID_BUCKETING_ID,"BUCKETER",t,n.message))}},my=Rn.getLogger();function J8(t){return/^\d+$/.test(t)}function fc(t){var e=t.indexOf("-"),n=t.indexOf("+");return!(e<0)&&(n<0||e<n)}function Z8(t){var e=t.indexOf("-"),n=t.indexOf("+");return!(n<0)&&(e<0||n<e)}function Q8(t){var e=t,n="";if(function(l){return/\s/.test(l)}(t))return my.warn(we.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",t),null;if(fc(t)?(e=t.substring(0,t.indexOf("-")),n=t.substring(t.indexOf("-")+1)):Z8(t)&&(e=t.substring(0,t.indexOf("+")),n=t.substring(t.indexOf("+")+1)),typeof e!="string"||typeof n!="string")return null;var i=e.split(".").length-1;if(i>2)return my.warn(we.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",t),null;var o=e.split(".");if(o.length!=i+1)return my.warn(we.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",t),null;for(var s=0,a=o;s<a.length;s++)if(!J8(a[s]))return my.warn(we.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",t),null;return n&&o.push(n),o}var fi="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",hi=Rn.getLogger(),Ioe=["exact","exists","gt","ge","lt","le","substring","semver_eq","semver_lt","semver_le","semver_gt","semver_ge"],ds={};function ek(t){return typeof t=="string"||typeof t=="boolean"||St.isNumber(t)}function tk(t,e){var n=t.value,i=typeof n,o=t.name,s=e[o],a=typeof s;return!ek(n)||St.isNumber(n)&&!St.isSafeInteger(n)?(hi.warn(we.UNEXPECTED_CONDITION_VALUE,fi,JSON.stringify(t)),null):s===null?(hi.debug(we.UNEXPECTED_TYPE_NULL,fi,JSON.stringify(t),o),null):ek(s)&&i===a?St.isNumber(s)&&!St.isSafeInteger(s)?(hi.warn(we.OUT_OF_BOUNDS,fi,JSON.stringify(t),o),null):n===s:(hi.warn(we.UNEXPECTED_TYPE,fi,JSON.stringify(t),a,o),null)}function gy(t,e){var n=t.name,i=e[n],o=typeof i,s=t.value;return s!==null&&St.isSafeInteger(s)?i===null?(hi.debug(we.UNEXPECTED_TYPE_NULL,fi,JSON.stringify(t),n),!1):St.isNumber(i)?!!St.isSafeInteger(i)||(hi.warn(we.OUT_OF_BOUNDS,fi,JSON.stringify(t),n),!1):(hi.warn(we.UNEXPECTED_TYPE,fi,JSON.stringify(t),o,n),!1):(hi.warn(we.UNEXPECTED_CONDITION_VALUE,fi,JSON.stringify(t)),!1)}function Im(t,e){var n=t.name,i=e[n],o=typeof i,s=t.value;return typeof s!="string"?(hi.warn(we.UNEXPECTED_CONDITION_VALUE,fi,JSON.stringify(t)),null):i===null?(hi.debug(we.UNEXPECTED_TYPE_NULL,fi,JSON.stringify(t),n),null):typeof i!="string"?(hi.warn(we.UNEXPECTED_TYPE,fi,JSON.stringify(t),o,n),null):function(a,l){var c=Q8(l),u=Q8(a);if(!c||!u)return null;for(var d=c.length,f=0;f<u.length;f++){if(d<=f)return fc(a)||Z8(a)?1:-1;if(J8(c[f])){var h=parseInt(c[f]),v=parseInt(u[f]);if(h>v)return 1;if(h<v)return-1}else{if(c[f]<u[f])return fc(a)&&!fc(l)?1:-1;if(c[f]>u[f])return!fc(a)&&fc(l)?-1:1}}return fc(l)&&!fc(a)?-1:0}(s,i)}ds.exact=tk,ds.exists=function(t,e){var n=e[t.name];return n!=null},ds.gt=function(t,e){var n=e[t.name],i=t.value;return!gy(t,e)||i===null?null:n>i},ds.ge=function(t,e){var n=e[t.name],i=t.value;return!gy(t,e)||i===null?null:n>=i},ds.lt=function(t,e){var n=e[t.name],i=t.value;return!gy(t,e)||i===null?null:n<i},ds.le=function(t,e){var n=e[t.name],i=t.value;return!gy(t,e)||i===null?null:n<=i},ds.substring=function(t,e){var n=t.name,i=e[t.name],o=typeof i,s=t.value;return typeof s!="string"?(hi.warn(we.UNEXPECTED_CONDITION_VALUE,fi,JSON.stringify(t)),null):i===null?(hi.debug(we.UNEXPECTED_TYPE_NULL,fi,JSON.stringify(t),n),null):typeof i!="string"?(hi.warn(we.UNEXPECTED_TYPE,fi,JSON.stringify(t),o,n),null):i.indexOf(s)!==-1},ds.semver_eq=function(t,e){var n=Im(t,e);return n===null?null:n===0},ds.semver_gt=function(t,e){var n=Im(t,e);return n===null?null:n>0},ds.semver_ge=function(t,e){var n=Im(t,e);return n===null?null:n>=0},ds.semver_lt=function(t,e){var n=Im(t,e);return n===null?null:n<0},ds.semver_le=function(t,e){var n=Im(t,e);return n===null?null:n<=0};var Ooe=Object.freeze({__proto__:null,evaluate:function(t,e){var n=t.match;if(n!==void 0&&Ioe.indexOf(n)===-1)return hi.warn(we.UNKNOWN_MATCH_TYPE,fi,JSON.stringify(t)),null;var i=t.name;return e.hasOwnProperty(i)||n=="exists"?(n&&ds[n]||tk)(t,e):(hi.debug(we.MISSING_ATTRIBUTE_VALUE,fi,JSON.stringify(t),i),null)}}),vy=Rn.getLogger(),Noe=function(){function t(e){this.typeToEvaluatorMap=St.assign({},e,{custom_attribute:Ooe})}return t.prototype.evaluate=function(e,n,i){var o=this;return i===void 0&&(i={}),!e||e.length===0?!0:!!Lm(e,function(s){var a=n[s];if(a){vy.log(Se.DEBUG,we.EVALUATING_AUDIENCE,"AUDIENCE_EVALUATOR",s,JSON.stringify(a.conditions));var l=Lm(a.conditions,o.evaluateConditionWithUserAttributes.bind(o,i)),c=l===null?"UNKNOWN":l.toString().toUpperCase();return vy.log(Se.DEBUG,we.AUDIENCE_EVALUATION_RESULT,"AUDIENCE_EVALUATOR",s,c),l}return null})},t.prototype.evaluateConditionWithUserAttributes=function(e,n){var i=this.typeToEvaluatorMap[n.type];if(!i)return vy.log(Se.WARNING,we.UNKNOWN_CONDITION_TYPE,"AUDIENCE_EVALUATOR",JSON.stringify(n)),null;try{return i.evaluate(n,e)}catch(o){vy.log(Se.ERROR,Mt.CONDITION_EVALUATOR_ERROR,"AUDIENCE_EVALUATOR",n.type,o.message)}return null},t}();function nk(t){return typeof t=="string"&&t!==""}var mt="DECISION_SERVICE",koe=function(){function t(e){var n;this.audienceEvaluator=(n=e.UNSTABLE_conditionEvaluators,new Noe(n)),this.forcedVariationMap={},this.logger=e.logger,this.userProfileService=e.userProfileService||null}return t.prototype.getVariation=function(e,n,i,o){o===void 0&&(o={});var s=i.getUserId(),a=i.getAttributes(),l=this.getBucketingId(s,a),c=[],u=n.key;if(!this.checkIfExperimentIsActive(e,u))return this.logger.log(Se.INFO,we.EXPERIMENT_NOT_RUNNING,mt,u),c.push([we.EXPERIMENT_NOT_RUNNING,mt,u]),{result:null,reasons:c};var d=this.getForcedVariation(e,u,s);c.push.apply(c,d.reasons);var f=d.result;if(f)return{result:f,reasons:c};var h=this.getWhitelistedVariation(n,s);c.push.apply(c,h.reasons);var v=h.result;if(v)return{result:v.key,reasons:c};var m=o[Wo.IGNORE_USER_PROFILE_SERVICE],_=this.resolveExperimentBucketMap(s,a);if(!m&&(v=this.getStoredVariation(e,n,s,_)))return this.logger.log(Se.INFO,we.RETURNING_STORED_VARIATION,mt,v.key,u,s),c.push([we.RETURNING_STORED_VARIATION,mt,v.key,u,s]),{result:v.key,reasons:c};var S=this.checkIfUserIsInAudience(e,n,Y3.EXPERIMENT,a,"");if(c.push.apply(c,S.reasons),!S.result)return this.logger.log(Se.INFO,we.USER_NOT_IN_EXPERIMENT,mt,s,u),c.push([we.USER_NOT_IN_EXPERIMENT,mt,s,u]),{result:null,reasons:c};var E=this.buildBucketerParams(e,n,l,s),w=Y8(E);c.push.apply(c,w.reasons);var T=w.result;return T&&(v=e.variationIdMap[T]),v?(this.logger.log(Se.INFO,we.USER_HAS_VARIATION,mt,s,v.key,u),c.push([we.USER_HAS_VARIATION,mt,s,v.key,u]),m||this.saveUserProfile(n,v,s,_),{result:v.key,reasons:c}):(this.logger.log(Se.DEBUG,we.USER_HAS_NO_VARIATION,mt,s,u),c.push([we.USER_HAS_NO_VARIATION,mt,s,u]),{result:null,reasons:c})},t.prototype.resolveExperimentBucketMap=function(e,n){n=n||{};var i=this.getUserProfile(e)||{},o=n[$o.STICKY_BUCKETING_KEY];return St.assign({},i.experiment_bucket_map,o)},t.prototype.checkIfExperimentIsActive=function(e,n){return function(i,o){return z8(i,o)==="Running"}(e,n)},t.prototype.getWhitelistedVariation=function(e,n){var i=[];if(e.forcedVariations&&e.forcedVariations.hasOwnProperty(n)){var o=e.forcedVariations[n];return e.variationKeyMap.hasOwnProperty(o)?(this.logger.log(Se.INFO,we.USER_FORCED_IN_VARIATION,mt,n,o),i.push([we.USER_FORCED_IN_VARIATION,mt,n,o]),{result:e.variationKeyMap[o],reasons:i}):(this.logger.log(Se.ERROR,we.FORCED_BUCKETING_FAILED,mt,o,n),i.push([we.FORCED_BUCKETING_FAILED,mt,o,n]),{result:null,reasons:i})}return{result:null,reasons:i}},t.prototype.checkIfUserIsInAudience=function(e,n,i,o,s){var a=[],l=function(d,f){var h=d.experimentIdMap[f];if(!h)throw new Error(At.sprintf(Mt.INVALID_EXPERIMENT_ID,Jr,f));return h.audienceConditions||h.audienceIds}(e,n.id),c=e.audiencesById;this.logger.log(Se.DEBUG,we.EVALUATING_AUDIENCES_COMBINED,mt,i,s||n.key,JSON.stringify(l)),a.push([we.EVALUATING_AUDIENCES_COMBINED,mt,i,s||n.key,JSON.stringify(l)]);var u=this.audienceEvaluator.evaluate(l,c,o);return this.logger.log(Se.INFO,we.AUDIENCE_EVALUATION_RESULT_COMBINED,mt,i,s||n.key,u.toString().toUpperCase()),a.push([we.AUDIENCE_EVALUATION_RESULT_COMBINED,mt,i,s||n.key,u.toString().toUpperCase()]),{result:u,reasons:a}},t.prototype.buildBucketerParams=function(e,n,i,o){return{bucketingId:i,experimentId:n.id,experimentKey:n.key,experimentIdMap:e.experimentIdMap,experimentKeyMap:e.experimentKeyMap,groupIdMap:e.groupIdMap,logger:this.logger,trafficAllocationConfig:Moe(e,n.id),userId:o,variationIdMap:e.variationIdMap}},t.prototype.getStoredVariation=function(e,n,i,o){if(o.hasOwnProperty(n.id)){var s=o[n.id],a=s.variation_id;if(e.variationIdMap.hasOwnProperty(a))return e.variationIdMap[s.variation_id];this.logger.log(Se.INFO,we.SAVED_VARIATION_NOT_FOUND,mt,i,a,n.key)}return null},t.prototype.getUserProfile=function(e){var n={user_id:e,experiment_bucket_map:{}};if(!this.userProfileService)return n;try{return this.userProfileService.lookup(e)}catch(i){this.logger.log(Se.ERROR,Mt.USER_PROFILE_LOOKUP_ERROR,mt,e,i.message)}return null},t.prototype.saveUserProfile=function(e,n,i,o){if(this.userProfileService)try{o[e.id]={variation_id:n.id},this.userProfileService.save({user_id:i,experiment_bucket_map:o}),this.logger.log(Se.INFO,we.SAVED_VARIATION,mt,n.key,e.key,i)}catch(s){this.logger.log(Se.ERROR,Mt.USER_PROFILE_SAVE_ERROR,mt,i,s.message)}},t.prototype.getVariationForFeature=function(e,n,i,o){o===void 0&&(o={});var s=[],a=this.getVariationForFeatureExperiment(e,n,i,o);s.push.apply(s,a.reasons);var l=a.result;if(l.variation!==null)return{result:l,reasons:s};var c=this.getVariationForRollout(e,n,i);s.push.apply(s,c.reasons);var u=c.result,d=i.getUserId();return u.variation?(this.logger.log(Se.DEBUG,we.USER_IN_ROLLOUT,mt,d,n.key),s.push([we.USER_IN_ROLLOUT,mt,d,n.key]),{result:u,reasons:s}):(this.logger.log(Se.DEBUG,we.USER_NOT_IN_ROLLOUT,mt,d,n.key),s.push([we.USER_NOT_IN_ROLLOUT,mt,d,n.key]),{result:u,reasons:s})},t.prototype.getVariationForFeatureExperiment=function(e,n,i,o){o===void 0&&(o={});var s,a,l=[],c=null;if(n.experimentIds.length>0)for(a=0;a<n.experimentIds.length;a++){var u=Aoe(e,n.experimentIds[a],this.logger);if(u&&(s=this.getVariationFromExperimentRule(e,n.key,u,i,o),l.push.apply(l,s.reasons),c=s.result))return{result:{experiment:u,variation:u.variationKeyMap[c],decisionSource:Xr.FEATURE_TEST},reasons:l}}else this.logger.log(Se.DEBUG,we.FEATURE_HAS_NO_EXPERIMENTS,mt,n.key),l.push([we.FEATURE_HAS_NO_EXPERIMENTS,mt,n.key]);return{result:{experiment:null,variation:null,decisionSource:Xr.FEATURE_TEST},reasons:l}},t.prototype.getVariationForRollout=function(e,n,i){var o=[];if(!n.rolloutId)return this.logger.log(Se.DEBUG,we.NO_ROLLOUT_EXISTS,mt,n.key),o.push([we.NO_ROLLOUT_EXISTS,mt,n.key]),{result:{experiment:null,variation:null,decisionSource:Xr.ROLLOUT},reasons:o};var s=e.rolloutIdMap[n.rolloutId];if(!s)return this.logger.log(Se.ERROR,Mt.INVALID_ROLLOUT_ID,mt,n.rolloutId,n.key),o.push([Mt.INVALID_ROLLOUT_ID,mt,n.rolloutId,n.key]),{result:{experiment:null,variation:null,decisionSource:Xr.ROLLOUT},reasons:o};var a,l,c,u=s.experiments;if(u.length===0)return this.logger.log(Se.ERROR,we.ROLLOUT_HAS_NO_EXPERIMENTS,mt,n.rolloutId),o.push([we.ROLLOUT_HAS_NO_EXPERIMENTS,mt,n.rolloutId]),{result:{experiment:null,variation:null,decisionSource:Xr.ROLLOUT},reasons:o};for(var d=0;d<u.length;){if(a=this.getVariationFromDeliveryRule(e,n.key,u,d,i),o.push.apply(o,a.reasons),c=a.result,l=a.skipToEveryoneElse,c)return{result:{experiment:e.experimentIdMap[u[d].id],variation:c,decisionSource:Xr.ROLLOUT},reasons:o};d=l?u.length-1:d+1}return{result:{experiment:null,variation:null,decisionSource:Xr.ROLLOUT},reasons:o}},t.prototype.getBucketingId=function(e,n){var i=e;return n!=null&&typeof n=="object"&&n.hasOwnProperty($o.BUCKETING_ID)&&(typeof n[$o.BUCKETING_ID]=="string"?(i=n[$o.BUCKETING_ID],this.logger.log(Se.DEBUG,we.VALID_BUCKETING_ID,mt,i)):this.logger.log(Se.WARNING,we.BUCKETING_ID_NOT_STRING,mt)),i},t.prototype.removeForcedVariation=function(e,n,i){if(!e)throw new Error(At.sprintf(Mt.INVALID_USER_ID,mt));if(!this.forcedVariationMap.hasOwnProperty(e))throw new Error(At.sprintf(Mt.USER_NOT_IN_FORCED_VARIATION,mt,e));delete this.forcedVariationMap[e][n],this.logger.log(Se.DEBUG,we.VARIATION_REMOVED_FOR_USER,mt,i,e)},t.prototype.setInForcedVariationMap=function(e,n,i){this.forcedVariationMap.hasOwnProperty(e)||(this.forcedVariationMap[e]={}),this.forcedVariationMap[e][n]=i,this.logger.log(Se.DEBUG,we.USER_MAPPED_TO_FORCED_VARIATION,mt,i,n,e)},t.prototype.getForcedVariation=function(e,n,i){var o,s=[],a=this.forcedVariationMap[i];if(!a)return this.logger.log(Se.DEBUG,we.USER_HAS_NO_FORCED_VARIATION,mt,i),{result:null,reasons:s};try{var l=K3(e,n);if(!l.hasOwnProperty("id"))return this.logger.log(Se.ERROR,Mt.IMPROPERLY_FORMATTED_EXPERIMENT,mt,n),s.push([Mt.IMPROPERLY_FORMATTED_EXPERIMENT,mt,n]),{result:null,reasons:s};o=l.id}catch(d){return this.logger.log(Se.ERROR,d.message),s.push(d.message),{result:null,reasons:s}}var c=a[o];if(!c)return this.logger.log(Se.DEBUG,we.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,mt,n,i),{result:null,reasons:s};var u=G8(e,c);return u?(this.logger.log(Se.DEBUG,we.USER_HAS_FORCED_VARIATION,mt,u,n,i),s.push([we.USER_HAS_FORCED_VARIATION,mt,u,n,i])):this.logger.log(Se.DEBUG,we.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,mt,n,i),{result:u,reasons:s}},t.prototype.setForcedVariation=function(e,n,i,o){if(o!=null&&!nk(o))return this.logger.log(Se.ERROR,Mt.INVALID_VARIATION_KEY,mt),!1;var s;try{var a=K3(e,n);if(!a.hasOwnProperty("id"))return this.logger.log(Se.ERROR,Mt.IMPROPERLY_FORMATTED_EXPERIMENT,mt,n),!1;s=a.id}catch(c){return this.logger.log(Se.ERROR,c.message),!1}if(o==null)try{return this.removeForcedVariation(i,s,n),!0}catch(c){return this.logger.log(Se.ERROR,c.message),!1}var l=function(c,u,d){var f=c.experimentKeyMap[u];return f.variationKeyMap.hasOwnProperty(d)?f.variationKeyMap[d].id:null}(e,n,o);if(!l)return this.logger.log(Se.ERROR,Mt.NO_VARIATION_FOR_EXPERIMENT_KEY,mt,o,n),!1;try{return this.setInForcedVariationMap(i,s,l),!0}catch(c){return this.logger.log(Se.ERROR,c.message),!1}},t.prototype.getVariationFromExperimentRule=function(e,n,i,o,s){s===void 0&&(s={});var a=[],l=o.findValidatedForcedDecision(n,i.key);a.push.apply(a,l.reasons);var c=l.result;if(c)return{result:c.key,reasons:a};var u=this.getVariation(e,i,o,s);return a.push.apply(a,u.reasons),{result:u.result,reasons:a}},t.prototype.getVariationFromDeliveryRule=function(e,n,i,o,s){var a=[],l=!1,c=i[o],u=s.findValidatedForcedDecision(n,c.key);a.push.apply(a,u.reasons);var d=u.result;if(d)return{result:d,reasons:a,skipToEveryoneElse:l};var f,h,v,m,_,S=s.getUserId(),E=s.getAttributes(),w=this.getBucketingId(S,E),T=o===i.length-1,C=T?"Everyone Else":o+1,P=null,R=this.checkIfUserIsInAudience(e,c,Y3.RULE,E,C);return a.push.apply(a,R.reasons),R.result?(this.logger.log(Se.DEBUG,we.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,mt,S,C),a.push([we.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,mt,S,C]),h=this.buildBucketerParams(e,c,w,S),v=Y8(h),a.push.apply(a,v.reasons),(f=v.result)&&(_=f,P=(m=e).variationIdMap.hasOwnProperty(_)?m.variationIdMap[_]:null),P?(this.logger.log(Se.DEBUG,we.USER_BUCKETED_INTO_TARGETING_RULE,mt,S,C),a.push([we.USER_BUCKETED_INTO_TARGETING_RULE,mt,S,C])):T||(this.logger.log(Se.DEBUG,we.USER_NOT_BUCKETED_INTO_TARGETING_RULE,mt,S,C),a.push([we.USER_NOT_BUCKETED_INTO_TARGETING_RULE,mt,S,C]),l=!0)):(this.logger.log(Se.DEBUG,we.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,mt,S,C),a.push([we.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,mt,S,C])),{result:P,reasons:a,skipToEveryoneElse:l}},t}();function rk(t,e){if(t.hasOwnProperty("revenue")){var n=t.revenue,i=void 0;return typeof n=="string"?(i=parseInt(n),isNaN(i)?(e.log(Se.INFO,we.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",n),null):(e.log(Se.INFO,we.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",i),i)):typeof n=="number"?(i=n,e.log(Se.INFO,we.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",i),i):null}return null}function ik(t,e){if(t.hasOwnProperty("value")){var n=t.value,i=void 0;return typeof n=="string"?(i=parseFloat(n),isNaN(i)?(e.log(Se.INFO,we.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",n),null):(e.log(Se.INFO,we.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",i),i)):typeof n=="number"?(i=n,e.log(Se.INFO,we.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",i),i):null}return null}function sk(t,e){return typeof t=="string"&&(typeof e=="string"||typeof e=="boolean"||St.isNumber(e)&&St.isSafeInteger(e))}var ok="https://logx.optimizely.com/v1/events";function ak(t){var e=t.attributes,n=t.userId,i=t.clientEngine,o=t.clientVersion,s=t.configObj,a=t.logger,l=!!s.anonymizeIP&&s.anonymizeIP,c=s.botFiltering,u={snapshots:[],visitor_id:n,attributes:[]},d={account_id:s.accountId,project_id:s.projectId,visitors:[u],revision:s.revision,client_name:i,client_version:o,anonymize_ip:l,enrich_decisions:!0};return e&&Object.keys(e||{}).forEach(function(f){if(sk(f,e[f])){var h=V8(s,f,a);h&&d.visitors[0].attributes.push({entity_id:h,key:f,type:"custom",value:e[f]})}}),typeof c=="boolean"&&d.visitors[0].attributes.push({entity_id:$o.BOT_FILTERING,key:$o.BOT_FILTERING,type:"custom",value:c}),d}function Doe(t){var e,n,i,o,s,a,l,c,u,d=ak(t),f=(e=t.configObj,n=t.experimentId,i=t.variationId,o=t.ruleKey,s=t.ruleType,a=t.flagKey,l=t.enabled,c=n?B8(e,n):null,u=i?G8(e,i):null,{decisions:[{campaign_id:c,experiment_id:n,variation_id:i,metadata:{flag_key:a,rule_key:o,rule_type:s,variation_key:u=u||"",enabled:l}}],events:[{entity_id:c,timestamp:St.currentTimestamp(),key:"campaign_activated",uuid:St.uuid()}]});return d.visitors[0].snapshots.push(f),{httpVerb:"POST",url:ok,params:d}}function Foe(t){var e=ak(t),n=function(i,o,s,a){var l={events:[]},c={entity_id:H8(i,o),timestamp:St.currentTimestamp(),uuid:St.uuid(),key:o};if(a){var u=rk(a,s);u!==null&&(c.revenue=u);var d=ik(a,s);d!==null&&(c.value=d),c.tags=a}return l.events.push(c),l}(t.configObj,t.eventKey,t.logger,t.eventTags);return e.visitors[0].snapshots=[n],{httpVerb:"POST",url:ok,params:e}}function J3(t){var e,n;return(n=(e=t.experiment)===null||e===void 0?void 0:e.key)!==null&&n!==void 0?n:""}function Z3(t){var e,n;return(n=(e=t.variation)===null||e===void 0?void 0:e.key)!==null&&n!==void 0?n:""}function yy(t){var e,n;return(n=(e=t.variation)===null||e===void 0?void 0:e.featureEnabled)!==null&&n!==void 0&&n}function lk(t){var e,n;return(n=(e=t.experiment)===null||e===void 0?void 0:e.id)!==null&&n!==void 0?n:null}function ck(t){var e,n;return(n=(e=t.variation)===null||e===void 0?void 0:e.id)!==null&&n!==void 0?n:null}var Q3=Rn.getLogger("EVENT_BUILDER");function uk(t,e){var n=[];return e&&Object.keys(e||{}).forEach(function(i){if(sk(i,e[i])){var o=V8(t,i,Q3);o&&n.push({entityId:o,key:i,value:e[i]})}}),n}var eT="USER_PROFILE_SERVICE_VALIDATOR",Uoe=function(){function t(e){var n,i=this,o=e.clientEngine;o||(e.logger.log(Se.INFO,we.INVALID_CLIENT_ENGINE,"OPTIMIZELY",o),o="node-sdk"),this.clientEngine=o,this.clientVersion=e.clientVersion||"4.8.0",this.errorHandler=e.errorHandler,this.isOptimizelyConfigValid=e.isValidInstance,this.logger=e.logger;var s=(n=e.defaultDecideOptions)!==null&&n!==void 0?n:[];Array.isArray(s)||(this.logger.log(Se.DEBUG,we.INVALID_DEFAULT_DECIDE_OPTIONS,"OPTIMIZELY"),s=[]);var a={};s.forEach(function(f){Wo[f]?a[f]=!0:i.logger.log(Se.WARNING,we.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",f)}),this.defaultDecideOptions=a,this.projectConfigManager=function(f){return new Poe(f)}({datafile:e.datafile,jsonSchemaValidator:e.jsonSchemaValidator,sdkKey:e.sdkKey,datafileManager:e.datafileManager}),this.disposeOnUpdate=this.projectConfigManager.onUpdate(function(f){i.logger.log(Se.INFO,we.UPDATED_OPTIMIZELY_CONFIG,"OPTIMIZELY",f.revision,f.projectId),i.notificationCenter.sendNotifications(Hs.OPTIMIZELY_CONFIG_UPDATE)});var l,c=this.projectConfigManager.onReady(),u=null;if(e.userProfileService)try{(function(f){if(typeof f=="object"&&f!==null){if(typeof f.lookup!="function")throw new Error(At.sprintf(Mt.INVALID_USER_PROFILE_SERVICE,eT,"Missing function 'lookup'"));if(typeof f.save!="function")throw new Error(At.sprintf(Mt.INVALID_USER_PROFILE_SERVICE,eT,"Missing function 'save'"));return!0}throw new Error(At.sprintf(Mt.INVALID_USER_PROFILE_SERVICE,eT))})(e.userProfileService)&&(u=e.userProfileService,this.logger.log(Se.INFO,we.VALID_USER_PROFILE_SERVICE,"OPTIMIZELY"))}catch(f){this.logger.log(Se.WARNING,f.message)}this.decisionService=(l={userProfileService:u,logger:this.logger,UNSTABLE_conditionEvaluators:e.UNSTABLE_conditionEvaluators},new koe(l)),this.notificationCenter=e.notificationCenter,this.eventProcessor=e.eventProcessor;var d=this.eventProcessor.start();this.readyPromise=Promise.all([c,d]).then(function(f){return f[0]}),this.readyTimeouts={},this.nextReadyTimeoutId=0}return t.prototype.isValidInstance=function(){return this.isOptimizelyConfigValid&&!!this.projectConfigManager.getConfig()},t.prototype.activate=function(e,n,i){try{if(!this.isValidInstance())return this.logger.log(Se.ERROR,we.INVALID_OBJECT,"OPTIMIZELY","activate"),null;if(!this.validateInputs({experiment_key:e,user_id:n},i))return this.notActivatingExperiment(e,n);var o=this.projectConfigManager.getConfig();if(!o)return null;try{var s=this.getVariation(e,n,i);if(s===null)return this.notActivatingExperiment(e,n);if(!function(c,u){return z8(c,u)==="Running"}(o,e))return this.logger.log(Se.DEBUG,we.SHOULD_NOT_DISPATCH_ACTIVATE,"OPTIMIZELY",e),s;var a=K3(o,e),l={experiment:a,variation:a.variationKeyMap[s],decisionSource:Xr.EXPERIMENT};return this.sendImpressionEvent(l,"",n,!0,i),s}catch(c){return this.logger.log(Se.ERROR,c.message),this.logger.log(Se.INFO,we.NOT_ACTIVATING_USER,"OPTIMIZELY",n,e),this.errorHandler.handleError(c),null}}catch(c){return this.logger.log(Se.ERROR,c.message),this.errorHandler.handleError(c),null}},t.prototype.sendImpressionEvent=function(e,n,i,o,s){var a=this.projectConfigManager.getConfig();if(a){var l=function(c){var u=c.configObj,d=c.decisionObj,f=c.userId,h=c.flagKey,v=c.enabled,m=c.userAttributes,_=c.clientEngine,S=c.clientVersion,E=d.decisionSource,w=J3(d),T=lk(d),C=Z3(d),P=ck(d),R=T!==null?B8(u,T):null;return{type:"impression",timestamp:St.currentTimestamp(),uuid:St.uuid(),user:{id:f,attributes:uk(u,m)},context:{accountId:u.accountId,projectId:u.projectId,revision:u.revision,clientName:_,clientVersion:S,anonymizeIP:u.anonymizeIP||!1,botFiltering:u.botFiltering},layer:{id:R},experiment:{id:T,key:w},variation:{id:P,key:C},ruleKey:w,flagKey:h,ruleType:E,enabled:v}}({decisionObj:e,flagKey:n,enabled:o,userId:i,userAttributes:s,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:a});this.eventProcessor.process(l),this.emitNotificationCenterActivate(e,n,i,o,s)}},t.prototype.emitNotificationCenterActivate=function(e,n,i,o,s){var a=this.projectConfigManager.getConfig();if(a){var l,c=e.decisionSource,u=J3(e),d=lk(e),f=Z3(e),h=ck(e);d!==null&&f!==""&&(l=a.experimentIdMap[d]);var v,m=Doe({attributes:s,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:a,experimentId:d,ruleKey:u,flagKey:n,ruleType:c,userId:i,enabled:o,variationId:h,logger:this.logger});l&&l.variationKeyMap&&f!==""&&(v=l.variationKeyMap[f]),this.notificationCenter.sendNotifications(Hs.ACTIVATE,{experiment:l,userId:i,attributes:s,variation:v,logEvent:m})}},t.prototype.track=function(e,n,i,o){try{if(!this.isValidInstance())return void this.logger.log(Se.ERROR,we.INVALID_OBJECT,"OPTIMIZELY","track");if(!this.validateInputs({user_id:n,event_key:e},i,o))return;var s=this.projectConfigManager.getConfig();if(!s)return;if(!function(l,c){return l.eventKeyMap.hasOwnProperty(c)}(s,e))return this.logger.log(Se.WARNING,we.EVENT_KEY_NOT_FOUND,"OPTIMIZELY",e),void this.logger.log(Se.WARNING,we.NOT_TRACKING_USER,"OPTIMIZELY",n);var a=function(l){var c=l.configObj,u=l.userId,d=l.userAttributes,f=l.clientEngine,h=l.clientVersion,v=l.eventKey,m=l.eventTags,_=H8(c,v),S=m?rk(m,Q3):null,E=m?ik(m,Q3):null;return{type:"conversion",timestamp:St.currentTimestamp(),uuid:St.uuid(),user:{id:u,attributes:uk(c,d)},context:{accountId:c.accountId,projectId:c.projectId,revision:c.revision,clientName:f,clientVersion:h,anonymizeIP:c.anonymizeIP||!1,botFiltering:c.botFiltering},event:{id:_,key:v},revenue:S,value:E,tags:m}}({eventKey:e,eventTags:o=this.filterEmptyValues(o),userId:n,userAttributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:s});this.logger.log(Se.INFO,we.TRACK_EVENT,"OPTIMIZELY",e,n),this.eventProcessor.process(a),this.emitNotificationCenterTrack(e,n,i,o)}catch(l){this.logger.log(Se.ERROR,l.message),this.errorHandler.handleError(l),this.logger.log(Se.ERROR,we.NOT_TRACKING_USER,"OPTIMIZELY",n)}},t.prototype.emitNotificationCenterTrack=function(e,n,i,o){try{var s=this.projectConfigManager.getConfig();if(!s)return;var a=Foe({attributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:s,eventKey:e,eventTags:o,logger:this.logger,userId:n});this.notificationCenter.sendNotifications(Hs.TRACK,{eventKey:e,userId:n,attributes:i,eventTags:o,logEvent:a})}catch(l){this.logger.log(Se.ERROR,l.message),this.errorHandler.handleError(l)}},t.prototype.getVariation=function(e,n,i){try{if(!this.isValidInstance())return this.logger.log(Se.ERROR,we.INVALID_OBJECT,"OPTIMIZELY","getVariation"),null;try{if(!this.validateInputs({experiment_key:e,user_id:n},i))return null;var o=this.projectConfigManager.getConfig();if(!o)return null;var s=o.experimentKeyMap[e];if(!s)return this.logger.log(Se.DEBUG,Mt.INVALID_EXPERIMENT_KEY,"OPTIMIZELY",e),null;var a=this.decisionService.getVariation(o,s,this.createUserContext(n,i)).result,l=(c=o,u=s.id,c.experimentFeatureMap.hasOwnProperty(u)?Cu.FEATURE_TEST:Cu.AB_TEST);return this.notificationCenter.sendNotifications(Hs.DECISION,{type:l,userId:n,attributes:i||{},decisionInfo:{experimentKey:e,variationKey:a}}),a}catch(d){return this.logger.log(Se.ERROR,d.message),this.errorHandler.handleError(d),null}}catch(d){return this.logger.log(Se.ERROR,d.message),this.errorHandler.handleError(d),null}var c,u},t.prototype.setForcedVariation=function(e,n,i){if(!this.validateInputs({experiment_key:e,user_id:n}))return!1;var o=this.projectConfigManager.getConfig();if(!o)return!1;try{return this.decisionService.setForcedVariation(o,e,n,i)}catch(s){return this.logger.log(Se.ERROR,s.message),this.errorHandler.handleError(s),!1}},t.prototype.getForcedVariation=function(e,n){if(!this.validateInputs({experiment_key:e,user_id:n}))return null;var i=this.projectConfigManager.getConfig();if(!i)return null;try{return this.decisionService.getForcedVariation(i,e,n).result}catch(o){return this.logger.log(Se.ERROR,o.message),this.errorHandler.handleError(o),null}},t.prototype.validateInputs=function(e,n,i){try{if(e.hasOwnProperty("user_id")){var o=e.user_id;if(typeof o!="string"||o===null||o==="undefined")throw new Error(At.sprintf(Mt.INVALID_INPUT_FORMAT,"OPTIMIZELY","user_id"));delete e.user_id}return Object.keys(e).forEach(function(s){if(!nk(e[s]))throw new Error(At.sprintf(Mt.INVALID_INPUT_FORMAT,"OPTIMIZELY",s))}),n&&function(s){if(typeof s!="object"||Array.isArray(s)||s===null)throw new Error(At.sprintf(Mt.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));Object.keys(s).forEach(function(a){if(s[a]===void 0)throw new Error(At.sprintf(Mt.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",a))})}(n),i&&function(s){if(typeof s!="object"||Array.isArray(s)||s===null)throw new Error(At.sprintf(Mt.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"))}(i),!0}catch(s){return this.logger.log(Se.ERROR,s.message),this.errorHandler.handleError(s),!1}},t.prototype.notActivatingExperiment=function(e,n){return this.logger.log(Se.INFO,we.NOT_ACTIVATING_USER,"OPTIMIZELY",n,e),null},t.prototype.filterEmptyValues=function(e){for(var n in e)!e.hasOwnProperty(n)||e[n]!==null&&e[n]!==void 0||delete e[n];return e},t.prototype.isFeatureEnabled=function(e,n,i){try{if(!this.isValidInstance())return this.logger.log(Se.ERROR,we.INVALID_OBJECT,"OPTIMIZELY","isFeatureEnabled"),!1;if(!this.validateInputs({feature_key:e,user_id:n},i))return!1;var o=this.projectConfigManager.getConfig();if(!o)return!1;var s=X3(o,e,this.logger);if(!s)return!1;var a={},l=this.createUserContext(n,i),c=this.decisionService.getVariationForFeature(o,s,l).result,u=c.decisionSource,d=J3(c),f=Z3(c),h=yy(c);u===Xr.FEATURE_TEST&&(a={experimentKey:d,variationKey:f}),(u===Xr.FEATURE_TEST||u===Xr.ROLLOUT&&q8(o))&&this.sendImpressionEvent(c,s.key,n,h,i),h===!0?this.logger.log(Se.INFO,we.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",e,n):(this.logger.log(Se.INFO,we.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",e,n),h=!1);var v={featureKey:e,featureEnabled:h,source:c.decisionSource,sourceInfo:a};return this.notificationCenter.sendNotifications(Hs.DECISION,{type:Cu.FEATURE,userId:n,attributes:i||{},decisionInfo:v}),h}catch(m){return this.logger.log(Se.ERROR,m.message),this.errorHandler.handleError(m),!1}},t.prototype.getEnabledFeatures=function(e,n){var i=this;try{var o=[];if(!this.isValidInstance())return this.logger.log(Se.ERROR,we.INVALID_OBJECT,"OPTIMIZELY","getEnabledFeatures"),o;if(!this.validateInputs({user_id:e}))return o;var s=this.projectConfigManager.getConfig();return s&&At.objectValues(s.featureKeyMap).forEach(function(a){i.isFeatureEnabled(a.key,e,n)&&o.push(a.key)}),o}catch(a){return this.logger.log(Se.ERROR,a.message),this.errorHandler.handleError(a),[]}},t.prototype.getFeatureVariable=function(e,n,i,o){try{return this.isValidInstance()?this.getFeatureVariableForType(e,n,null,i,o):(this.logger.log(Se.ERROR,we.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariable"),null)}catch(s){return this.logger.log(Se.ERROR,s.message),this.errorHandler.handleError(s),null}},t.prototype.getFeatureVariableForType=function(e,n,i,o,s){if(!this.validateInputs({feature_key:e,variable_key:n,user_id:o},s))return null;var a=this.projectConfigManager.getConfig();if(!a)return null;var l=X3(a,e,this.logger);if(!l)return null;var c=function(m,_,S,E){var w=m.featureKeyMap[_];if(!w)return E.log(Se.ERROR,Mt.FEATURE_NOT_IN_DATAFILE,Jr,_),null;var T=w.variableKeyMap[S];return T||(E.log(Se.ERROR,Mt.VARIABLE_KEY_NOT_IN_DATAFILE,Jr,S,_),null)}(a,e,n,this.logger);if(!c)return null;if(i&&c.type!==i)return this.logger.log(Se.WARNING,we.VARIABLE_REQUESTED_WITH_WRONG_TYPE,"OPTIMIZELY",i,c.type),null;var u=this.createUserContext(o,s),d=this.decisionService.getVariationForFeature(a,l,u).result,f=yy(d),h=this.getFeatureVariableValueFromVariation(e,f,d.variation,c,o),v={};return d.decisionSource===Xr.FEATURE_TEST&&d.experiment!==null&&d.variation!==null&&(v={experimentKey:d.experiment.key,variationKey:d.variation.key}),this.notificationCenter.sendNotifications(Hs.DECISION,{type:Cu.FEATURE_VARIABLE,userId:o,attributes:s||{},decisionInfo:{featureKey:e,featureEnabled:f,source:d.decisionSource,variableKey:n,variableValue:h,variableType:c.type,sourceInfo:v}}),h},t.prototype.getFeatureVariableValueFromVariation=function(e,n,i,o,s){var a=this.projectConfigManager.getConfig();if(!a)return null;var l=o.defaultValue;if(i!==null){var c=function(u,d,f,h){if(!d||!f)return null;if(!u.variationVariableUsageMap.hasOwnProperty(f.id))return h.log(Se.ERROR,Mt.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,Jr,f.id),null;var v=u.variationVariableUsageMap[f.id][d.id];return v?v.value:null}(a,o,i,this.logger);c!==null?n?(l=c,this.logger.log(Se.INFO,we.USER_RECEIVED_VARIABLE_VALUE,"OPTIMIZELY",l,o.key,e)):this.logger.log(Se.INFO,we.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",e,s,l):this.logger.log(Se.INFO,we.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",o.key,i.key)}else this.logger.log(Se.INFO,we.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",s,o.key,e);return function(u,d,f){var h;switch(d){case us.BOOLEAN:u!=="true"&&u!=="false"?(f.log(Se.ERROR,Mt.UNABLE_TO_CAST_VALUE,Jr,u,d),h=null):h=u==="true";break;case us.INTEGER:h=parseInt(u,10),isNaN(h)&&(f.log(Se.ERROR,Mt.UNABLE_TO_CAST_VALUE,Jr,u,d),h=null);break;case us.DOUBLE:h=parseFloat(u),isNaN(h)&&(f.log(Se.ERROR,Mt.UNABLE_TO_CAST_VALUE,Jr,u,d),h=null);break;case us.JSON:try{h=JSON.parse(u)}catch{f.log(Se.ERROR,Mt.UNABLE_TO_CAST_VALUE,Jr,u,d),h=null}break;default:h=u}return h}(l,o.type,this.logger)},t.prototype.getFeatureVariableBoolean=function(e,n,i,o){try{return this.isValidInstance()?this.getFeatureVariableForType(e,n,us.BOOLEAN,i,o):(this.logger.log(Se.ERROR,we.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableBoolean"),null)}catch(s){return this.logger.log(Se.ERROR,s.message),this.errorHandler.handleError(s),null}},t.prototype.getFeatureVariableDouble=function(e,n,i,o){try{return this.isValidInstance()?this.getFeatureVariableForType(e,n,us.DOUBLE,i,o):(this.logger.log(Se.ERROR,we.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableDouble"),null)}catch(s){return this.logger.log(Se.ERROR,s.message),this.errorHandler.handleError(s),null}},t.prototype.getFeatureVariableInteger=function(e,n,i,o){try{return this.isValidInstance()?this.getFeatureVariableForType(e,n,us.INTEGER,i,o):(this.logger.log(Se.ERROR,we.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableInteger"),null)}catch(s){return this.logger.log(Se.ERROR,s.message),this.errorHandler.handleError(s),null}},t.prototype.getFeatureVariableString=function(e,n,i,o){try{return this.isValidInstance()?this.getFeatureVariableForType(e,n,us.STRING,i,o):(this.logger.log(Se.ERROR,we.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableString"),null)}catch(s){return this.logger.log(Se.ERROR,s.message),this.errorHandler.handleError(s),null}},t.prototype.getFeatureVariableJSON=function(e,n,i,o){try{return this.isValidInstance()?this.getFeatureVariableForType(e,n,us.JSON,i,o):(this.logger.log(Se.ERROR,we.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableJSON"),null)}catch(s){return this.logger.log(Se.ERROR,s.message),this.errorHandler.handleError(s),null}},t.prototype.getAllFeatureVariables=function(e,n,i){var o=this;try{if(!this.isValidInstance())return this.logger.log(Se.ERROR,we.INVALID_OBJECT,"OPTIMIZELY","getAllFeatureVariables"),null;if(!this.validateInputs({feature_key:e,user_id:n},i))return null;var s=this.projectConfigManager.getConfig();if(!s)return null;var a=X3(s,e,this.logger);if(!a)return null;var l=this.createUserContext(n,i),c=this.decisionService.getVariationForFeature(s,a,l).result,u=yy(c),d={};a.variables.forEach(function(h){d[h.key]=o.getFeatureVariableValueFromVariation(e,u,c.variation,h,n)});var f={};return c.decisionSource===Xr.FEATURE_TEST&&c.experiment!==null&&c.variation!==null&&(f={experimentKey:c.experiment.key,variationKey:c.variation.key}),this.notificationCenter.sendNotifications(Hs.DECISION,{type:Cu.ALL_FEATURE_VARIABLES,userId:n,attributes:i||{},decisionInfo:{featureKey:e,featureEnabled:u,source:c.decisionSource,variableValues:d,sourceInfo:f}}),d}catch(h){return this.logger.log(Se.ERROR,h.message),this.errorHandler.handleError(h),null}},t.prototype.getOptimizelyConfig=function(){try{return this.projectConfigManager.getConfig()?this.projectConfigManager.getOptimizelyConfig():null}catch(e){return this.logger.log(Se.ERROR,e.message),this.errorHandler.handleError(e),null}},t.prototype.close=function(){var e=this;try{var n=this.eventProcessor.stop();return this.disposeOnUpdate&&(this.disposeOnUpdate(),this.disposeOnUpdate=null),this.projectConfigManager&&this.projectConfigManager.stop(),Object.keys(this.readyTimeouts).forEach(function(i){var o=e.readyTimeouts[i];clearTimeout(o.readyTimeout),o.onClose()}),this.readyTimeouts={},n.then(function(){return{success:!0}},function(i){return{success:!1,reason:String(i)}})}catch(i){return this.logger.log(Se.ERROR,i.message),this.errorHandler.handleError(i),Promise.resolve({success:!1,reason:String(i)})}},t.prototype.onReady=function(e){var n,i,o=this;typeof e=="object"&&e!==null&&e.timeout!==void 0&&(n=e.timeout),St.isSafeInteger(n)||(n=3e4);var s=new Promise(function(c){i=c}),a=this.nextReadyTimeoutId;this.nextReadyTimeoutId++;var l=setTimeout(function(){delete o.readyTimeouts[a],i({success:!1,reason:At.sprintf("onReady timeout expired after %s ms",n)})},n);return this.readyTimeouts[a]={readyTimeout:l,onClose:function(){i({success:!1,reason:"Instance closed"})}},this.readyPromise.then(function(){clearTimeout(l),delete o.readyTimeouts[a],i({success:!0})}),Promise.race([this.readyPromise,s])},t.prototype.createUserContext=function(e,n){return this.validateInputs({user_id:e},n)?new xoe({optimizely:this,userId:e,attributes:n}):null},t.prototype.decide=function(e,n,i){var o,s,a,l,c=this;i===void 0&&(i=[]);var u,d=e.getUserId(),f=e.getAttributes(),h=this.projectConfigManager.getConfig(),v=[];if(!this.isValidInstance()||!h)return this.logger.log(Se.INFO,we.INVALID_OBJECT,"OPTIMIZELY","decide"),U8(n,e,[Mu.SDK_NOT_READY]);var m=h.featureKeyMap[n];if(!m)return this.logger.log(Se.ERROR,Mt.FEATURE_NOT_IN_DATAFILE,"OPTIMIZELY",n),U8(n,e,[At.sprintf(Mu.FLAG_KEY_INVALID,n)]);var _=this.getAllDecideOptions(i),S=e.findValidatedForcedDecision(n);v.push.apply(v,S.reasons);var E=S.result;if(E)u={experiment:null,variation:E,decisionSource:Xr.FEATURE_TEST};else{var w=this.decisionService.getVariationForFeature(h,m,e,_);v.push.apply(v,w.reasons),u=w.result}var T=u.decisionSource,C=(s=(o=u.experiment)===null||o===void 0?void 0:o.key)!==null&&s!==void 0?s:null,P=(l=(a=u.variation)===null||a===void 0?void 0:a.key)!==null&&l!==void 0?l:null,R=yy(u);R===!0?this.logger.log(Se.INFO,we.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",n,d):this.logger.log(Se.INFO,we.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",n,d);var A={},L=!1;_[Wo.EXCLUDE_VARIABLES]||m.variables.forEach(function(N){A[N.key]=c.getFeatureVariableValueFromVariation(n,R,u.variation,N,d)}),!_[Wo.DISABLE_DECISION_EVENT]&&(T===Xr.FEATURE_TEST||T===Xr.ROLLOUT&&q8(h))&&(this.sendImpressionEvent(u,n,d,R,f),L=!0);var k=[];_[Wo.INCLUDE_REASONS]&&(k=v.map(function(N){return At.sprintf.apply(void 0,q3([N[0]],N.slice(1)))}));var U={flagKey:n,enabled:R,variationKey:P,ruleKey:C,variables:A,reasons:k,decisionEventDispatched:L};return this.notificationCenter.sendNotifications(Hs.DECISION,{type:Cu.FLAG,userId:d,attributes:f,decisionInfo:U}),{variationKey:P,enabled:R,variables:A,ruleKey:C,flagKey:n,userContext:e,reasons:k}},t.prototype.getAllDecideOptions=function(e){var n=this,i=Tu({},this.defaultDecideOptions);return Array.isArray(e)?e.forEach(function(o){Wo[o]?i[o]=!0:n.logger.log(Se.WARNING,we.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",o)}):this.logger.log(Se.DEBUG,we.INVALID_DECIDE_OPTIONS,"OPTIMIZELY"),i},t.prototype.decideForKeys=function(e,n,i){var o=this;i===void 0&&(i=[]);var s={};if(!this.isValidInstance())return this.logger.log(Se.ERROR,we.INVALID_OBJECT,"OPTIMIZELY","decideForKeys"),s;if(n.length===0)return s;var a=this.getAllDecideOptions(i);return n.forEach(function(l){var c=o.decide(e,l,i);a[Wo.ENABLED_FLAGS_ONLY]&&!c.enabled||(s[l]=c)}),s},t.prototype.decideAll=function(e,n){n===void 0&&(n=[]);var i=this.projectConfigManager.getConfig();if(!this.isValidInstance()||!i)return this.logger.log(Se.ERROR,we.INVALID_OBJECT,"OPTIMIZELY","decideAll"),{};var o=Object.keys(i.featureKeyMap);return this.decideForKeys(e,o,n)},t.prototype.getFlagVariationByKey=function(e,n){var i=this.projectConfigManager.getConfig();if(!i)return null;var o=i.flagVariationsMap[e],s=At.find(o,function(a){return a.key===n});return s||null},t}(),joe=function(t){return!(typeof t!="number"||!St.isSafeInteger(t))&&t>=1},Boe=function(t){return!(typeof t!="number"||!St.isSafeInteger(t))&&t>0},Voe=function(){function t(e){var n=this;this.logger=e.logger,this.errorHandler=e.errorHandler,this.notificationListeners={},At.objectValues(Hs).forEach(function(i){n.notificationListeners[i]=[]}),this.listenerId=1}return t.prototype.addNotificationListener=function(e,n){try{if(!(At.objectValues(Hs).indexOf(e)>-1))return-1;this.notificationListeners[e]||(this.notificationListeners[e]=[]);var i=!1;if((this.notificationListeners[e]||[]).forEach(function(s){s.callback!==n||(i=!0)}),i)return-1;this.notificationListeners[e].push({id:this.listenerId,callback:n});var o=this.listenerId;return this.listenerId+=1,o}catch(s){return this.logger.log(Se.ERROR,s.message),this.errorHandler.handleError(s),-1}},t.prototype.removeNotificationListener=function(e){var n=this;try{var i,o;if(Object.keys(this.notificationListeners).some(function(s){return(n.notificationListeners[s]||[]).every(function(a,l){return a.id!==e||(i=l,o=s,!1)}),i!==void 0&&o!==void 0}),i!==void 0&&o!==void 0)return this.notificationListeners[o].splice(i,1),!0}catch(s){this.logger.log(Se.ERROR,s.message),this.errorHandler.handleError(s)}return!1},t.prototype.clearAllNotificationListeners=function(){var e=this;try{At.objectValues(Hs).forEach(function(n){e.notificationListeners[n]=[]})}catch(n){this.logger.log(Se.ERROR,n.message),this.errorHandler.handleError(n)}},t.prototype.clearNotificationListeners=function(e){try{this.notificationListeners[e]=[]}catch(n){this.logger.log(Se.ERROR,n.message),this.errorHandler.handleError(n)}},t.prototype.sendNotifications=function(e,n){var i=this;try{(this.notificationListeners[e]||[]).forEach(function(o){var s=o.callback;try{s(n)}catch(a){i.logger.log(Se.ERROR,we.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,a.message)}})}catch(o){this.logger.log(Se.ERROR,o.message),this.errorHandler.handleError(o)}},t}(),Hoe={createEventProcessor:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new(Am.LogTierV1EventProcessor.bind.apply(Am.LogTierV1EventProcessor,q3([void 0],t)))},LocalStoragePendingEventsDispatcher:Am.LocalStoragePendingEventsDispatcher};function zoe(t,e,n,i){var o={sdkKey:t};if((i===void 0||typeof i=="object"&&i!==null)&&St.assign(o,i),n){var s=W8({datafile:n,jsonSchemaValidator:void 0,logger:e}),a=s.configObj,l=s.error;l&&e.error(l),a&&(o.datafile=$8(a))}return new moe(o)}var hc=Rn.getLogger();Rn.setLogHandler(D8()),Rn.setLogLevel(Rn.LogLevel.INFO);var tT=!1,Goe=function(t){try{t.errorHandler&&Rn.setErrorHandler(t.errorHandler),t.logger&&(Rn.setLogHandler(t.logger),Rn.setLogLevel(Rn.LogLevel.NOTSET)),t.logLevel!==void 0&&Rn.setLogLevel(t.logLevel);try{yoe(t),t.isValidInstance=!0}catch(d){hc.error(d),t.isValidInstance=!1}var e=void 0;t.eventDispatcher==null?(e=new Am.LocalStoragePendingEventsDispatcher({eventDispatcher:N8}),tT||(e.sendPendingEvents(),tT=!0)):e=t.eventDispatcher;var n=t.eventBatchSize,i=t.eventFlushInterval;joe(t.eventBatchSize)||(hc.warn("Invalid eventBatchSize %s, defaulting to %s",t.eventBatchSize,10),n=10),Boe(t.eventFlushInterval)||(hc.warn("Invalid eventFlushInterval %s, defaulting to %s",t.eventFlushInterval,1e3),i=1e3);var o=Rn.getErrorHandler(),s=new Voe({logger:hc,errorHandler:o}),a={dispatcher:e,flushInterval:i,batchSize:n,maxQueueSize:t.eventMaxQueueSize||1e4,notificationCenter:s},l=Tu(Tu({clientEngine:"javascript-sdk"},t),{eventProcessor:Hoe.createEventProcessor(a),logger:hc,errorHandler:o,datafileManager:t.sdkKey?zoe(t.sdkKey,hc,t.datafile,t.datafileOptions):void 0,notificationCenter:s}),c=new Uoe(l);try{if(typeof window.addEventListener=="function"){var u="onpagehide"in window?"pagehide":"unload";window.addEventListener(u,function(){c.close()},!1)}}catch(d){hc.error(we.UNABLE_TO_ATTACH_UNLOAD,"INDEX_BROWSER",d.message)}return c}catch(d){return hc.error(d),null}},$oe=function(){tT=!1},_y={logging:woe,errorHandler:boe,eventDispatcher:N8,enums:goe,setLogger:Rn.setLogHandler,setLogLevel:Rn.setLogLevel,createInstance:Goe,__internalResetRetryState:$oe,OptimizelyDecideOption:Wo};const Woe={production:{ENVIRONMENT:"production",BASE_URL:"glitch.com",API_URL:"https://api.glitch.com",CDN_URL:"https://cdn.glitch.global",PROJECT_URL:"https://%s.glitch.me",GITHUB_CLIENT_ID:"b4cb743ed07e20abf0b2",FACEBOOK_CLIENT_ID:"660180164153542",SEGMENT_WRITE_KEY:"N8NetCAuTbHYGqtQtb44FFBSPUXwsAu2",FIREBASE_AUTH_CLIENT_ID:"713678572461-k1aepj16cvnbcaiaif34mgavgpj10gjg.apps.googleusercontent.com",SENTRY_DSN:"https://029cb06346934232bbc4ea4f4c16f1b7@sentry.io/1247156",GRECAPTCHA_SITE_KEY:"6LcqF6gZAAAAAHE-lzA_9GAux7eX9OHaQ5VdEo0C",OPTIMIZELY_KEY:"GZMqH7Aou8QmcPV2hm16wj",OPTIMIZELY_LOG_LEVEL:_y.enums.LOG_LEVEL.ERROR},staging:{ENVIRONMENT:"staging",BASE_URL:"staging.glitch.com",API_URL:"https://api.staging.glitch.com",CDN_URL:"https://cdn.staging.glitch.me",PROJECT_URL:"https://%s.staging.glitch.me",GITHUB_CLIENT_ID:"65efbd87382354ca25e7",FACEBOOK_CLIENT_ID:"1858825521057112",SEGMENT_WRITE_KEY:"K88LAtKLCZzZw7SgC76KnGuWjMOhGwLL",FIREBASE_AUTH_CLIENT_ID:"292092233942-jl40ieeai1kksd1e363suup8o72hu7u0.apps.googleusercontent.com",SENTRY_DSN:"https://029cb06346934232bbc4ea4f4c16f1b7@sentry.io/1247156",GRECAPTCHA_SITE_KEY:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",OPTIMIZELY_KEY:"E93QJ2WwhcfKwSLR9Bi3ow"},development:{ENVIRONMENT:"development",BASE_URL:"glitch.com",API_URL:"https://api.glitch.com",CDN_URL:"https://cdn.glitch.global",PROJECT_URL:"https://%s.glitch.me",GITHUB_CLIENT_ID:"5d4f1392f69bcdf73d9f",FACEBOOK_CLIENT_ID:"1121393391305429",SEGMENT_WRITE_KEY:"Oa74eP053IozA1ouL7my4svHW36qGGmM",FIREBASE_AUTH_CLIENT_ID:"292092233942-jl40ieeai1kksd1e363suup8o72hu7u0.apps.googleusercontent.com",SENTRY_DSN:null,GRECAPTCHA_SITE_KEY:"6LcqF6gZAAAAAHE-lzA_9GAux7eX9OHaQ5VdEo0C",OPTIMIZELY_KEY:"BnMXF26DExxBgum3wFLmc1"},backend_development:{ENVIRONMENT:"development",BASE_URL:"glitch.development",API_URL:"https://api.glitch.development",CDN_URL:"https://s3.amazonaws.com/hyperdev-development",PROJECT_URL:"https://%s.glitch.development",GITHUB_CLIENT_ID:"5d4f1392f69bcdf73d9f",FACEBOOK_CLIENT_ID:"1121393391305429",SEGMENT_WRITE_KEY:"Oa74eP053IozA1ouL7my4svHW36qGGmM",FIREBASE_AUTH_CLIENT_ID:"292092233942-jl40ieeai1kksd1e363suup8o72hu7u0.apps.googleusercontent.com",SENTRY_DSN:null,GRECAPTCHA_SITE_KEY:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",OPTIMIZELY_KEY:"BnMXF26DExxBgum3wFLmc1"},local_projecthost_development:{ENVIRONMENT:"development",BASE_URL:"glitch.localprojecthost:3031",API_URL:"http://api.glitch.localprojecthost:3031",CDN_URL:"https://s3.amazonaws.com/hyperdev-development",PROJECT_URL:"http://%s.glitch.localprojecthost:3031",GITHUB_CLIENT_ID:"5d4f1392f69bcdf73d9f",FACEBOOK_CLIENT_ID:"1121393391305429",SEGMENT_WRITE_KEY:"Oa74eP053IozA1ouL7my4svHW36qGGmM",FIREBASE_AUTH_CLIENT_ID:"292092233942-jl40ieeai1kksd1e363suup8o72hu7u0.apps.googleusercontent.com",SENTRY_DSN:null,GRECAPTCHA_SITE_KEY:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",OPTIMIZELY_KEY:"BnMXF26DExxBgum3wFLmc1"},test:{ENVIRONMENT:"test",BASE_URL:"glitch.com",API_URL:"https://api.glitch.com",CDN_URL:"https://cdn.glitch.global",PROJECT_URL:"https://%s.glitch.me",GITHUB_CLIENT_ID:"5d4f1392f69bcdf73d9f",FACEBOOK_CLIENT_ID:"1121393391305429",SEGMENT_WRITE_KEY:"Oa74eP053IozA1ouL7my4svHW36qGGmM",FIREBASE_AUTH_CLIENT_ID:"292092233942-jl40ieeai1kksd1e363suup8o72hu7u0.apps.googleusercontent.com",SENTRY_DSN:null,GRECAPTCHA_SITE_KEY:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",OPTIMIZELY_KEY:null},integration:{ENVIRONMENT:"test",BASE_URL:"testing.staging.glitch.com",API_URL:"https://api.testing.staging.glitch.com",CDN_URL:"https://s3.amazonaws.com/hyperdev-development",PROJECT_URL:"https://%s.testing.staging.glitch.com",GITHUB_CLIENT_ID:"5d4f1392f69bcdf73d9f",FACEBOOK_CLIENT_ID:"1121393391305429",SEGMENT_WRITE_KEY:"Oa74eP053IozA1ouL7my4svHW36qGGmM",FIREBASE_AUTH_CLIENT_ID:"292092233942-jl40ieeai1kksd1e363suup8o72hu7u0.apps.googleusercontent.com",SENTRY_DSN:null,GRECAPTCHA_SITE_KEY:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",OPTIMIZELY_KEY:"kGzmyXiGAJTsrui83yBRz1lDLHU7ROY9"}};let by="production",Ey="glitch.com";by="production",Ey={}.BACKEND_HOSTNAME;typeof window!="undefined"&&(window.location.origin==="https://staging.glitch.com"?by="staging":window.location.origin==="https://glitch.development"&&(by="backend_development"));let nT=Woe[by];Ey&&(nT=qe(he({},nT),{API_URL:`https://api.${Ey}`,PROJECT_URL:`https://%s.${Ey}`}));const{ENVIRONMENT:Om,BASE_URL:qoe,API_URL:zs,CDN_URL:rT,PROJECT_URL:dk,GITHUB_CLIENT_ID:Yoe,FACEBOOK_CLIENT_ID:_Ue,SEGMENT_WRITE_KEY:Koe,FIREBASE_AUTH_CLIENT_ID:Xoe,SENTRY_DSN:fk,GRECAPTCHA_SITE_KEY:Joe,OPTIMIZELY_KEY:hk,OPTIMIZELY_LOG_LEVEL:Zoe}=nT;var Qoe=/(Edge\/(16(?:\.0)?|16(?:\.([1-9]|\d{2,}))?|(1[7-9]|[2-9]\d|\d{3,})(?:\.\d+)?|79(?:\.0)?|79(?:\.([1-9]|\d{2,}))?|([8-9]\d|\d{3,})(?:\.\d+)?|83(?:\.0)?|83(?:\.([1-9]|\d{2,}))?|(8[4-9]|9\d|\d{3,})(?:\.\d+)?))|(HeadlessChrome((?:\/41\.0\.\d+)?|(?:\/41\.([1-9]|\d{2,})\.\d+)?|(?:\/(4[2-9]|[5-9]\d|\d{3,})\.\d+\.\d+)?|(?:\/83\.0\.\d+)?|(?:\/83\.([1-9]|\d{2,})\.\d+)?|(?:\/(8[4-9]|9\d|\d{3,})\.\d+\.\d+)?))|((Chromium|Chrome)\/(41\.0|41\.([1-9]|\d{2,})|(4[2-9]|[5-9]\d|\d{3,})\.\d+|83\.0|83\.([1-9]|\d{2,})|(8[4-9]|9\d|\d{3,})\.\d+)(?:\.\d+)?([\d.]+$|.*Safari\/(?![\d.]+ Edge\/[\d.]+$)))|(Firefox\/(60\.0|60\.([1-9]|\d{2,})|(6[1-9]|[7-9]\d|\d{3,})\.\d+)\.\d+)|(Firefox\/(60\.0|60\.([1-9]|\d{2,})|(6[1-9]|[7-9]\d|\d{3,})\.\d+)(pre|[ab]\d+[a-z]*)?)/;function pk(t,e){const n=JSON.stringify(t);return JSON.parse(n,(i,o)=>{for(const s of e)if(s instanceof RegExp&&i.match&&i.match(s)||i===s)return"[FILTERED]";try{const s=JSON.parse(o);if(s&&typeof s=="object"){const a=pk(s,e);return JSON.stringify(a)}}catch{}return o})}function eae(t){return pk(t,["email","password",/\w+Token/])}function qi(t,e={}){Om==="development"&&(console.group("Captured error for Sentry"),console.error(t),console.groupEnd()),n8(n=>{n.setTags(e.tags),t8(t)})}function tae(){try{fk&&window.navigator.userAgent.match(Qoe)&&nse({dsn:fk,environment:Om,release:"glitch-frontend@e13f708b32cb1403ca1b2257d12dd5437cf83f19",whitelistUrls:[/glitch\.com/,/glitch\.me/,/localhost/,/localhost\:8000/,/webpack/],beforeSend(t){return eae(t)}})}catch(t){console.error("Error while setting up Sentry:"),console.error(t)}}function nae(t,e){vie(n=>{n.setTag(t,e)})}var rae=Array.isArray,qo=rae,iae=typeof Wt=="object"&&Wt&&Wt.Object===Object&&Wt,mk=iae,sae=mk,oae=typeof self=="object"&&self&&self.Object===Object&&self,aae=sae||oae||Function("return this")(),Yo=aae,lae=Yo,cae=lae.Symbol,Nm=cae,gk=Nm,vk=Object.prototype,uae=vk.hasOwnProperty,dae=vk.toString,km=gk?gk.toStringTag:void 0;function fae(t){var e=uae.call(t,km),n=t[km];try{t[km]=void 0;var i=!0}catch{}var o=dae.call(t);return i&&(e?t[km]=n:delete t[km]),o}var hae=fae,pae=Object.prototype,mae=pae.toString;function gae(t){return mae.call(t)}var vae=gae,yk=Nm,yae=hae,_ae=vae,bae="[object Null]",Eae="[object Undefined]",_k=yk?yk.toStringTag:void 0;function wae(t){return t==null?t===void 0?Eae:bae:_k&&_k in Object(t)?yae(t):_ae(t)}var Dm=wae;function xae(t){return t!=null&&typeof t=="object"}var Fm=xae,Sae=Dm,Tae=Fm,Cae="[object Symbol]";function Mae(t){return typeof t=="symbol"||Tae(t)&&Sae(t)==Cae}var wy=Mae,Aae=qo,Pae=wy,Rae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lae=/^\w*$/;function Iae(t,e){if(Aae(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Pae(t)?!0:Lae.test(t)||!Rae.test(t)||e!=null&&t in Object(e)}var iT=Iae;function Oae(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ba=Oae,Nae=Dm,kae=Ba,Dae="[object AsyncFunction]",Fae="[object Function]",Uae="[object GeneratorFunction]",jae="[object Proxy]";function Bae(t){if(!kae(t))return!1;var e=Nae(t);return e==Fae||e==Uae||e==Dae||e==jae}var bk=Bae,Vae=Yo,Hae=Vae["__core-js_shared__"],zae=Hae,sT=zae,Ek=function(){var t=/[^.]+$/.exec(sT&&sT.keys&&sT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Gae(t){return!!Ek&&Ek in t}var $ae=Gae,Wae=Function.prototype,qae=Wae.toString;function Yae(t){if(t!=null){try{return qae.call(t)}catch{}try{return t+""}catch{}}return""}var wk=Yae,Kae=bk,Xae=$ae,Jae=Ba,Zae=wk,Qae=/[\\^$.*+?()[\]{}|]/g,ele=/^\[object .+?Constructor\]$/,tle=Function.prototype,nle=Object.prototype,rle=tle.toString,ile=nle.hasOwnProperty,sle=RegExp("^"+rle.call(ile).replace(Qae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ole(t){if(!Jae(t)||Xae(t))return!1;var e=Kae(t)?sle:ele;return e.test(Zae(t))}var ale=ole;function lle(t,e){return t==null?void 0:t[e]}var cle=lle,ule=ale,dle=cle;function fle(t,e){var n=dle(t,e);return ule(n)?n:void 0}var Pu=fle,hle=Pu,ple=hle(Object,"create"),xy=ple,xk=xy;function mle(){this.__data__=xk?xk(null):{},this.size=0}var gle=mle;function vle(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var yle=vle,_le=xy,ble="__lodash_hash_undefined__",Ele=Object.prototype,wle=Ele.hasOwnProperty;function xle(t){var e=this.__data__;if(_le){var n=e[t];return n===ble?void 0:n}return wle.call(e,t)?e[t]:void 0}var Sle=xle,Tle=xy,Cle=Object.prototype,Mle=Cle.hasOwnProperty;function Ale(t){var e=this.__data__;return Tle?e[t]!==void 0:Mle.call(e,t)}var Ple=Ale,Rle=xy,Lle="__lodash_hash_undefined__";function Ile(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Rle&&e===void 0?Lle:e,this}var Ole=Ile,Nle=gle,kle=yle,Dle=Sle,Fle=Ple,Ule=Ole;function Ef(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ef.prototype.clear=Nle;Ef.prototype.delete=kle;Ef.prototype.get=Dle;Ef.prototype.has=Fle;Ef.prototype.set=Ule;var jle=Ef;function Ble(){this.__data__=[],this.size=0}var Vle=Ble;function Hle(t,e){return t===e||t!==t&&e!==e}var Um=Hle,zle=Um;function Gle(t,e){for(var n=t.length;n--;)if(zle(t[n][0],e))return n;return-1}var Sy=Gle,$le=Sy,Wle=Array.prototype,qle=Wle.splice;function Yle(t){var e=this.__data__,n=$le(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():qle.call(e,n,1),--this.size,!0}var Kle=Yle,Xle=Sy;function Jle(t){var e=this.__data__,n=Xle(e,t);return n<0?void 0:e[n][1]}var Zle=Jle,Qle=Sy;function ece(t){return Qle(this.__data__,t)>-1}var tce=ece,nce=Sy;function rce(t,e){var n=this.__data__,i=nce(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var ice=rce,sce=Vle,oce=Kle,ace=Zle,lce=tce,cce=ice;function wf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}wf.prototype.clear=sce;wf.prototype.delete=oce;wf.prototype.get=ace;wf.prototype.has=lce;wf.prototype.set=cce;var Ty=wf,uce=Pu,dce=Yo,fce=uce(dce,"Map"),oT=fce,Sk=jle,hce=Ty,pce=oT;function mce(){this.size=0,this.__data__={hash:new Sk,map:new(pce||hce),string:new Sk}}var gce=mce;function vce(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var yce=vce,_ce=yce;function bce(t,e){var n=t.__data__;return _ce(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Cy=bce,Ece=Cy;function wce(t){var e=Ece(this,t).delete(t);return this.size-=e?1:0,e}var xce=wce,Sce=Cy;function Tce(t){return Sce(this,t).get(t)}var Cce=Tce,Mce=Cy;function Ace(t){return Mce(this,t).has(t)}var Pce=Ace,Rce=Cy;function Lce(t,e){var n=Rce(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}var Ice=Lce,Oce=gce,Nce=xce,kce=Cce,Dce=Pce,Fce=Ice;function xf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}xf.prototype.clear=Oce;xf.prototype.delete=Nce;xf.prototype.get=kce;xf.prototype.has=Dce;xf.prototype.set=Fce;var aT=xf,Tk=aT,Uce="Expected a function";function lT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Uce);var n=function(){var i=arguments,o=e?e.apply(this,i):i[0],s=n.cache;if(s.has(o))return s.get(o);var a=t.apply(this,i);return n.cache=s.set(o,a)||s,a};return n.cache=new(lT.Cache||Tk),n}lT.Cache=Tk;var jce=lT,Bce=jce,Vce=500;function Hce(t){var e=Bce(t,function(i){return n.size===Vce&&n.clear(),i}),n=e.cache;return e}var zce=Hce,Gce=zce,$ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wce=/\\(\\)?/g,qce=Gce(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($ce,function(n,i,o,s){e.push(o?s.replace(Wce,"$1"):i||n)}),e}),Yce=qce;function Kce(t,e){for(var n=-1,i=t==null?0:t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o}var Ck=Kce,Mk=Nm,Xce=Ck,Jce=qo,Zce=wy,Qce=1/0,Ak=Mk?Mk.prototype:void 0,Pk=Ak?Ak.toString:void 0;function Rk(t){if(typeof t=="string")return t;if(Jce(t))return Xce(t,Rk)+"";if(Zce(t))return Pk?Pk.call(t):"";var e=t+"";return e=="0"&&1/t==-Qce?"-0":e}var eue=Rk,tue=eue;function nue(t){return t==null?"":tue(t)}var Lk=nue,rue=qo,iue=iT,sue=Yce,oue=Lk;function aue(t,e){return rue(t)?t:iue(t,e)?[t]:sue(oue(t))}var My=aue,lue=wy,cue=1/0;function uue(t){if(typeof t=="string"||lue(t))return t;var e=t+"";return e=="0"&&1/t==-cue?"-0":e}var jm=uue,due=My,fue=jm;function hue(t,e){e=due(e,t);for(var n=0,i=e.length;t!=null&&n<i;)t=t[fue(e[n++])];return n&&n==i?t:void 0}var cT=hue,pue=Pu,mue=function(){try{var t=pue(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ik=mue,Ok=Ik;function gue(t,e,n){e=="__proto__"&&Ok?Ok(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var vue=gue,yue=vue,_ue=Um,bue=Object.prototype,Eue=bue.hasOwnProperty;function wue(t,e,n){var i=t[e];(!(Eue.call(t,e)&&_ue(i,n))||n===void 0&&!(e in t))&&yue(t,e,n)}var xue=wue,Sue=9007199254740991,Tue=/^(?:0|[1-9]\d*)$/;function Cue(t,e){var n=typeof t;return e=e==null?Sue:e,!!e&&(n=="number"||n!="symbol"&&Tue.test(t))&&t>-1&&t%1==0&&t<e}var Ay=Cue,Mue=xue,Aue=My,Pue=Ay,Nk=Ba,Rue=jm;function Lue(t,e,n,i){if(!Nk(t))return t;e=Aue(e,t);for(var o=-1,s=e.length,a=s-1,l=t;l!=null&&++o<s;){var c=Rue(e[o]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(o!=a){var d=l[c];u=i?i(d,c,l):void 0,u===void 0&&(u=Nk(d)?d:Pue(e[o+1])?[]:{})}Mue(l,c,u),l=l[c]}return t}var Iue=Lue,Oue=cT,Nue=Iue,kue=My;function Due(t,e,n){for(var i=-1,o=e.length,s={};++i<o;){var a=e[i],l=Oue(t,a);n(l,a)&&Nue(s,kue(a,t),l)}return s}var Fue=Due;function Uue(t,e){return t!=null&&e in Object(t)}var jue=Uue,Bue=Dm,Vue=Fm,Hue="[object Arguments]";function zue(t){return Vue(t)&&Bue(t)==Hue}var Gue=zue,kk=Gue,$ue=Fm,Dk=Object.prototype,Wue=Dk.hasOwnProperty,que=Dk.propertyIsEnumerable,Yue=kk(function(){return arguments}())?kk:function(t){return $ue(t)&&Wue.call(t,"callee")&&!que.call(t,"callee")},uT=Yue,Kue=9007199254740991;function Xue(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Kue}var dT=Xue,Jue=My,Zue=uT,Que=qo,ede=Ay,tde=dT,nde=jm;function rde(t,e,n){e=Jue(e,t);for(var i=-1,o=e.length,s=!1;++i<o;){var a=nde(e[i]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++i!=o?s:(o=t==null?0:t.length,!!o&&tde(o)&&ede(a,o)&&(Que(t)||Zue(t)))}var ide=rde,sde=jue,ode=ide;function ade(t,e){return t!=null&&ode(t,e,sde)}var Fk=ade,lde=Fue,cde=Fk;function ude(t,e){return lde(t,e,function(n,i){return cde(t,i)})}var dde=ude;function fde(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}var Uk=fde,jk=Nm,hde=uT,pde=qo,Bk=jk?jk.isConcatSpreadable:void 0;function mde(t){return pde(t)||hde(t)||!!(Bk&&t&&t[Bk])}var gde=mde,vde=Uk,yde=gde;function Vk(t,e,n,i,o){var s=-1,a=t.length;for(n||(n=yde),o||(o=[]);++s<a;){var l=t[s];e>0&&n(l)?e>1?Vk(l,e-1,n,i,o):vde(o,l):i||(o[o.length]=l)}return o}var _de=Vk,bde=_de;function Ede(t){var e=t==null?0:t.length;return e?bde(t,1):[]}var wde=Ede;function xde(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Sde=xde,Tde=Sde,Hk=Math.max;function Cde(t,e,n){return e=Hk(e===void 0?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=Hk(i.length-e,0),a=Array(s);++o<s;)a[o]=i[e+o];o=-1;for(var l=Array(e+1);++o<e;)l[o]=i[o];return l[e]=n(a),Tde(t,this,l)}}var zk=Cde;function Mde(t){return function(){return t}}var Ade=Mde;function Pde(t){return t}var Py=Pde,Rde=Ade,Gk=Ik,Lde=Py,Ide=Gk?function(t,e){return Gk(t,"toString",{configurable:!0,enumerable:!1,value:Rde(e),writable:!0})}:Lde,Ode=Ide,Nde=800,kde=16,Dde=Date.now;function Fde(t){var e=0,n=0;return function(){var i=Dde(),o=kde-(i-n);if(n=i,o>0){if(++e>=Nde)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ude=Fde,jde=Ode,Bde=Ude,Vde=Bde(jde),$k=Vde,Hde=wde,zde=zk,Gde=$k;function $de(t){return Gde(zde(t,void 0,Hde),t+"")}var Wde=$de,qde=dde,Yde=Wde,Kde=Yde(function(t,e){return t==null?{}:qde(t,e)}),Wk=Kde;const qk=t=>`glitch/${t}`,fT=(t,e)=>({type:t,payload:e}),Xde=qk("go-to-line"),Yk=qk("update-embed-state"),Bm=t=>fT(Yk,t);function Jde(t){let e;return e={userBroadcast(){return t.broadcastUser(),t.removeStaleUsers()},activityCheck(n){const i=30*60*1e3;let o=Date.now();return n.addEventListener("keydown",function(){return o=Date.now(),t.userIsIdle(!1)}),n.addEventListener("mousemove",function(){return o=Date.now(),t.userIsIdle(!1)}),function(){if(Date.now()-o>i)return t.userIsIdle(!0)}},notifyAnonUserLimitsVisible(){const n=t.currentProject();if(!n)return;const o=n.users().some(l=>l.login),s=t.currentUser().loggedIn();if(!(t.projectIsReadOnlyForCurrentUser()||s))return o?t.notifyAnonUserLimits(!0):t.notifyAnonProjectLimits(!0)},editorOrigin(n=window){return n.location.port?`http://${n.location.hostname}:${n.location.port}`:`https://${n.location.hostname}`},loginFromCommunityAuth(n){const i=document.querySelector("#community-auth-iframe");n.success?t.closeAllPopOvers():t.signInCodeIsValid(!1),i.remove(),t.userIsLoggingIn(!1)},receivePostMessage(n){const{source:i,origin:o,data:s}=n;if(!(o!==e.editorOrigin()&&i!==window.parent&&t.publishedUrl()!==o&&i!==window.parent)){if(s.type===Xde||s.type==="GoToMessage"){if(!s.payload)return;const{filePath:a,line:l}=s.payload,c=t.fileByPath(a);if(!c)return;t.selectFileByUuid(c.uuid()).then(()=>{try{t.goToLine(parseInt(l,10))}catch{console.warn("Invalid line number")}})}if(o===e.editorOrigin()&&s.type===Yk){const a=Wk(s.payload,["embedAppPreviewSize","embedSelectedFilePath","embedAttributionHidden","embedParentIsGlitch","embedSidebarCollapsed"]),l=Object.entries(a);l.forEach(([c,u])=>{t[c](u)}),l.length>0&&t.refreshEditor()}}},mouseenter(){t.applicationHovered(!0)},mouseleave(){t.applicationHovered(!1)},focus(n){t.applicationFocused(!0)},blur(n){t.applicationFocused(!1),t.updateUrlWithPosition()},refreshCheck(n){const{key:i}=n;i==="F5"&&t.updateUrlWithPosition()},securitypolicyviolation(n){t.cspViolations.push({violatedDirective:n.violatedDirective,blockedURI:n.blockedURI})}}}function Zde(t,e){let n=e.isMacOS?["command+p","command+k","ctrl+;"]:["command+p","ctrl+p","command+k","ctrl+k","ctrl+;"];t.bindGlobal(n,()=>(e.closeAllPopOvers(),e.focusOnGlobalSearch(),!1)),t.bindGlobal(["command+shift+f","ctrl+shift+f"],()=>{const o=e.editor().getSelection();return e.projectSearchFilesOverlayVisible.toggle(),e.projectSearchFilesOverlayVisible()&&o&&e.fileSearch.searchValue(o),!1}),t.bindGlobal(["command+s","ctrl+s"],()=>(e.notifyAutosave(!0),!1)),t.bindGlobal(["command+i","ctrl+i"],()=>(e.actionInterface.sidebarToggle(),!1)),t.bindGlobal(["command+shift+u","ctrl+shift+u"],()=>(e.actionInterface.toggleAppPreview(),!1)),t.bindGlobal(["esc"],()=>{e.closeAllPopOvers()}),t.bind(["backspace","del","ctrl+d","command+d"],()=>!1),t.bindGlobal(["command+shift+r","ctrl+shift+r"],()=>(e.refreshPreview(),!1));var i=e.isMacOS?["command+shift+e"]:["command+shift+e","ctrl+shift+e"];t.bindGlobal(i,()=>(e.exportToGitHub(),!1)),t.bindGlobal(["command+shift+l","ctrl+shift+l"],()=>(e.logsPanelVisible.toggle(),!1)),t.bindGlobal(["command+shift+x","ctrl+shift+x"],()=>(e.consolePanelVisible.toggle(),!1)),t.bindGlobal(["command+shift+m","ctrl+shift+m"],()=>(e.rewindPanelVisible.toggle(),!1)),t.bindGlobal(["command+option+s","ctrl+alt+s"],async()=>(e.editorRangeSelections().length<=1&&await e.formatCode({actionTrigger:"keyboardShortcut",withAnimation:!1}),!1)),t.bindGlobal(["?"],()=>{const o=document.activeElement===document.body||document.activeElement===null;if(e.analytics.track("Keyboard Shortcuts Viewed"),o)return e.keyboardShortcutsOverlayVisible.toggle(),!1})}let hT,Kk,pT,Xk,Va,Ry,Jk;const Zk=[].slice;var te=function(t,e){let n,i,o,s,a;return typeof(t!=null?t.observe:void 0)=="function"?t:(o=[],s=l=>Kk(o).forEach(c=>c(l)),typeof t=="function"?(i=t,a=function(){return Va(a),t},a.releaseDependencies=function(){let l;return(l=a._observableDependencies)!=null?l.forEach(c=>c.stopObserving(n)):void 0},n=function(){let l;return l=new Set,t=Jk(l,i,e),a.releaseDependencies(),a._observableDependencies=l,l.forEach(c=>c.observe(n)),s(t)},n()):(a=function(l){return arguments.length>0?t!==l&&(t=l,s(l)):Va(a),t},a.releaseDependencies=Ry),Array.isArray(t)&&(["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some"].forEach(l=>a[l]=function(){let c;return c=arguments.length>=1?Zk.call(arguments,0):[],Va(a),t[l].apply(t,c)}),["pop","push","reverse","shift","splice","sort","unshift"].forEach(l=>a[l]=function(){let c,u;return c=arguments.length>=1?Zk.call(arguments,0):[],u=t[l].apply(t,c),s(t),u}),hT&&Object.defineProperty(a,"length",{get(){return Va(a),t.length},set(l){let c;return c=t.length=l,s(t),c}}),pT(a,{remove(l){let c,u;if(c=t.indexOf(l),c>=0)return u=t.splice(c,1)[0],s(t),u},get(l){return Va(a),t[l]},first(){return Va(a),t[0]},last(){return Va(a),t[t.length-1]},size(){return Va(a),t.length}})),pT(a,{listeners:o,observe(l){o.push(l)},stopObserving(l){Qde(o,l)},toggle(){return a(!a())},increment(l){return l==null&&(l=1),a(t+l)},decrement(l){return l==null&&(l=1),a(t-l)},toString}),a)};pT=Object.assign;const Ly=window||{};Ly.OBSERVABLE_ROOT_HACK=[];Va=function(t){let e;if(e=Xk(Ly.OBSERVABLE_ROOT_HACK),e)return e.add(t)};Jk=function(t,e,n){Ly.OBSERVABLE_ROOT_HACK.push(t);try{return e.call(n)}finally{Ly.OBSERVABLE_ROOT_HACK.pop()}};const Qde=function(t,e){let n;if(n=t.indexOf(e),n>=0)return t.splice(n,1)[0]};Kk=t=>t.concat([]);Xk=t=>t[t.length-1];Ry=function(){};try{Object.defineProperty(function(){},"length",{get:Ry,set:Ry}),hT=!0}catch{hT=!1}function fs(){return fs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},fs.apply(this,arguments)}function Iy(t){return t.charAt(0)==="/"}function mT(t,e){for(var n=e,i=n+1,o=t.length;i<o;n+=1,i+=1)t[n]=t[i];t.pop()}function efe(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],i=e&&e.split("/")||[],o=t&&Iy(t),s=e&&Iy(e),a=o||s;if(t&&Iy(t)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var l;if(i.length){var c=i[i.length-1];l=c==="."||c===".."||c===""}else l=!1;for(var u=0,d=i.length;d>=0;d--){var f=i[d];f==="."?mT(i,d):f===".."?(mT(i,d),u++):u&&(mT(i,d),u--)}if(!a)for(;u--;u)i.unshift("..");a&&i[0]!==""&&(!i[0]||!Iy(i[0]))&&i.unshift("");var h=i.join("/");return l&&h.substr(-1)!=="/"&&(h+="/"),h}function Qk(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function Oy(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(o,s){return Oy(o,e[s])});if(typeof t=="object"||typeof e=="object"){var n=Qk(t),i=Qk(e);return n!==t||i!==e?Oy(n,i):Object.keys(Object.assign({},t,e)).every(function(o){return Oy(t[o],e[o])})}return!1}var tfe=!0,gT="Invariant failed";function Vm(t,e){if(!t){if(tfe)throw new Error(gT);var n=typeof e=="function"?e():e,i=n?gT+": "+n:gT;throw new Error(i)}}function Ny(t){return t.charAt(0)==="/"?t:"/"+t}function e9(t){return t.charAt(0)==="/"?t.substr(1):t}function nfe(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function rfe(t,e){return nfe(t,e)?t.substr(e.length):t}function ife(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function sfe(t){var e=t||"/",n="",i="",o=e.indexOf("#");o!==-1&&(i=e.substr(o),e=e.substr(0,o));var s=e.indexOf("?");return s!==-1&&(n=e.substr(s),e=e.substr(0,s)),{pathname:e,search:n==="?"?"":n,hash:i==="#"?"":i}}function go(t){var e=t.pathname,n=t.search,i=t.hash,o=e||"/";return n&&n!=="?"&&(o+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(o+=i.charAt(0)==="#"?i:"#"+i),o}function vo(t,e,n,i){var o;typeof t=="string"?(o=sfe(t),o.state=e):(o=fs({},t),o.pathname===void 0&&(o.pathname=""),o.search?o.search.charAt(0)!=="?"&&(o.search="?"+o.search):o.search="",o.hash?o.hash.charAt(0)!=="#"&&(o.hash="#"+o.hash):o.hash="",e!==void 0&&o.state===void 0&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?o.pathname.charAt(0)!=="/"&&(o.pathname=efe(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function ofe(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Oy(t.state,e.state)}function t9(){var t=null;function e(a){return t=a,function(){t===a&&(t=null)}}function n(a,l,c,u){if(t!=null){var d=typeof t=="function"?t(a,l):t;typeof d=="string"?typeof c=="function"?c(d,u):u(!0):u(d!==!1)}else u(!0)}var i=[];function o(a){var l=!0;function c(){l&&a.apply(void 0,arguments)}return i.push(c),function(){l=!1,i=i.filter(function(u){return u!==c})}}function s(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];i.forEach(function(u){return u.apply(void 0,l)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:o,notifyListeners:s}}var afe=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function lfe(t,e){e(window.confirm(t))}function cfe(){return window.navigator.userAgent.indexOf("Firefox")===-1}var n9="hashchange",ufe={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+e9(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:e9,decodePath:Ny},slash:{encodePath:Ny,decodePath:Ny}};function r9(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Hm(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function dfe(t){window.location.hash=t}function vT(t){window.location.replace(r9(window.location.href)+"#"+t)}function ffe(t){t===void 0&&(t={}),afe||Vm(!1);var e=window.history;cfe();var n=t,i=n.getUserConfirmation,o=i===void 0?lfe:i,s=n.hashType,a=s===void 0?"slash":s,l=t.basename?ife(Ny(t.basename)):"",c=ufe[a],u=c.encodePath,d=c.decodePath;function f(){var G=d(Hm());return l&&(G=rfe(G,l)),vo(G)}var h=t9();function v(G){fs(W,G),W.length=e.length,h.notifyListeners(W.location,W.action)}var m=!1,_=null;function S(G,q){return G.pathname===q.pathname&&G.search===q.search&&G.hash===q.hash}function E(){var G=Hm(),q=u(G);if(G!==q)vT(q);else{var re=f(),se=W.location;if(!m&&S(se,re)||_===go(re))return;_=null,w(re)}}function w(G){if(m)m=!1,v();else{var q="POP";h.confirmTransitionTo(G,q,o,function(re){re?v({action:q,location:G}):T(G)})}}function T(G){var q=W.location,re=A.lastIndexOf(go(q));re===-1&&(re=0);var se=A.lastIndexOf(go(G));se===-1&&(se=0);var ge=re-se;ge&&(m=!0,N(ge))}var C=Hm(),P=u(C);C!==P&&vT(P);var R=f(),A=[go(R)];function L(G){var q=document.querySelector("base"),re="";return q&&q.getAttribute("href")&&(re=r9(window.location.href)),re+"#"+u(l+go(G))}function k(G,q){var re="PUSH",se=vo(G,void 0,void 0,W.location);h.confirmTransitionTo(se,re,o,function(ge){if(!!ge){var _e=go(se),pe=u(l+_e),ae=Hm()!==pe;if(ae){_=_e,dfe(pe);var le=A.lastIndexOf(go(W.location)),ce=A.slice(0,le+1);ce.push(_e),A=ce,v({action:re,location:se})}else v()}})}function U(G,q){var re="REPLACE",se=vo(G,void 0,void 0,W.location);h.confirmTransitionTo(se,re,o,function(ge){if(!!ge){var _e=go(se),pe=u(l+_e),ae=Hm()!==pe;ae&&(_=_e,vT(pe));var le=A.indexOf(go(W.location));le!==-1&&(A[le]=_e),v({action:re,location:se})}})}function N(G){e.go(G)}function I(){N(-1)}function F(){N(1)}var O=0;function V(G){O+=G,O===1&&G===1?window.addEventListener(n9,E):O===0&&window.removeEventListener(n9,E)}var z=!1;function B(G){G===void 0&&(G=!1);var q=h.setPrompt(G);return z||(V(1),z=!0),function(){return z&&(z=!1,V(-1)),q()}}function H(G){var q=h.appendListener(G);return V(1),function(){V(-1),q()}}var W={length:e.length,action:"POP",location:R,createHref:L,push:k,replace:U,go:N,goBack:I,goForward:F,block:B,listen:H};return W}function i9(t,e,n){return Math.min(Math.max(t,e),n)}function hfe(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=i===void 0?["/"]:i,s=e.initialIndex,a=s===void 0?0:s,l=e.keyLength,c=l===void 0?6:l,u=t9();function d(L){fs(A,L),A.length=A.entries.length,u.notifyListeners(A.location,A.action)}function f(){return Math.random().toString(36).substr(2,c)}var h=i9(a,0,o.length-1),v=o.map(function(L){return typeof L=="string"?vo(L,void 0,f()):vo(L,void 0,L.key||f())}),m=go;function _(L,k){var U="PUSH",N=vo(L,k,f(),A.location);u.confirmTransitionTo(N,U,n,function(I){if(!!I){var F=A.index,O=F+1,V=A.entries.slice(0);V.length>O?V.splice(O,V.length-O,N):V.push(N),d({action:U,location:N,index:O,entries:V})}})}function S(L,k){var U="REPLACE",N=vo(L,k,f(),A.location);u.confirmTransitionTo(N,U,n,function(I){!I||(A.entries[A.index]=N,d({action:U,location:N}))})}function E(L){var k=i9(A.index+L,0,A.entries.length-1),U="POP",N=A.entries[k];u.confirmTransitionTo(N,U,n,function(I){I?d({action:U,location:N,index:k}):d()})}function w(){E(-1)}function T(){E(1)}function C(L){var k=A.index+L;return k>=0&&k<A.entries.length}function P(L){return L===void 0&&(L=!1),u.setPrompt(L)}function R(L){return u.appendListener(L)}var A={length:v.length,action:"POP",location:v[h],index:h,entries:v,createHref:m,push:_,replace:S,go:E,goBack:w,goForward:T,canGo:C,block:P,listen:R};return A}const yT=Symbol("singleComment"),s9=Symbol("multiComment"),pfe=()=>"",mfe=(t,e,n)=>t.slice(e,n).replace(/\S/g," "),gfe=(t,e)=>{let n=e-1,i=0;for(;t[n]==="\\";)n-=1,i+=1;return Boolean(i%2)};var o9=(t,e={})=>{if(typeof t!="string")throw new TypeError(`Expected argument \`jsonString\` to be a \`string\`, got \`${typeof t}\``);const n=e.whitespace===!1?pfe:mfe;let i=!1,o=!1,s=0,a="";for(let l=0;l<t.length;l++){const c=t[l],u=t[l+1];if(!o&&c==='"'&&(gfe(t,l)||(i=!i)),!i){if(!o&&c+u==="//")a+=t.slice(s,l),s=l,o=yT,l++;else if(o===yT&&c+u===`\r
`){l++,o=!1,a+=n(t,s,l),s=l;continue}else if(o===yT&&c===`
`)o=!1,a+=n(t,s,l),s=l;else if(!o&&c+u==="/*"){a+=t.slice(s,l),s=l,o=s9,l++;continue}else if(o===s9&&c+u==="*/"){l++,o=!1,a+=n(t,s,l+1),s=l+1;continue}}}return a+(o?n(t.slice(s)):t.slice(s))};function Br(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var a9=Br;Br.EventEmitter=Br;Br.prototype._events=void 0;Br.prototype._maxListeners=void 0;Br.defaultMaxListeners=10;Br.prototype.setMaxListeners=function(t){if(!vfe(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this};Br.prototype.emit=function(t){var e,n,i,o,s,a;if(this._events||(this._events={}),t==="error"&&(!this._events.error||zm(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(n=this._events[t],l9(n))return!1;if(Ha(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(zm(n))for(o=Array.prototype.slice.call(arguments,1),a=n.slice(),i=a.length,s=0;s<i;s++)a[s].apply(this,o);return!0};Br.prototype.addListener=function(t,e){var n;if(!Ha(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,Ha(e.listener)?e.listener:e),this._events[t]?zm(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,zm(this._events[t])&&!this._events[t].warned&&(l9(this._maxListeners)?n=Br.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),typeof console.trace=="function"&&console.trace())),this};Br.prototype.on=Br.prototype.addListener;Br.prototype.once=function(t,e){if(!Ha(e))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this};Br.prototype.removeListener=function(t,e){var n,i,o,s;if(!Ha(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,i=-1,n===e||Ha(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(zm(n)){for(s=o;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){i=s;break}if(i<0)return this;n.length===1?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this};Br.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[t]&&delete this._events[t],this;if(arguments.length===0){for(e in this._events)e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],Ha(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this};Br.prototype.listeners=function(t){var e;return!this._events||!this._events[t]?e=[]:Ha(this._events[t])?e=[this._events[t]]:e=this._events[t].slice(),e};Br.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(Ha(e))return 1;if(e)return e.length}return 0};Br.listenerCount=function(t,e){return t.listenerCount(e)};function Ha(t){return typeof t=="function"}function vfe(t){return typeof t=="number"}function zm(t){return typeof t=="object"&&t!==null}function l9(t){return t===void 0}//! moment.js
//! version : 2.29.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var c9;function $e(){return c9.apply(null,arguments)}function yfe(t){c9=t}function yo(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Ru(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function fn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _T(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(fn(t,e))return!1;return!0}function Yi(t){return t===void 0}function za(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Gm(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function u9(t,e){var n=[],i;for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function pc(t,e){for(var n in e)fn(e,n)&&(t[n]=e[n]);return fn(e,"toString")&&(t.toString=e.toString),fn(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Ko(t,e,n,i){return D9(t,e,n,i,!0).utc()}function _fe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Bt(t){return t._pf==null&&(t._pf=_fe()),t._pf}var bT;Array.prototype.some?bT=Array.prototype.some:bT=function(t){var e=Object(this),n=e.length>>>0,i;for(i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};function ET(t){if(t._isValid==null){var e=Bt(t),n=bT.call(e.parsedDateParts,function(o){return o!=null}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=i;else return i}return t._isValid}function ky(t){var e=Ko(NaN);return t!=null?pc(Bt(e),t):Bt(e).userInvalidated=!0,e}var wT=$e.momentProperties=[],xT=!1;function ST(t,e){var n,i,o;if(Yi(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Yi(e._i)||(t._i=e._i),Yi(e._f)||(t._f=e._f),Yi(e._l)||(t._l=e._l),Yi(e._strict)||(t._strict=e._strict),Yi(e._tzm)||(t._tzm=e._tzm),Yi(e._isUTC)||(t._isUTC=e._isUTC),Yi(e._offset)||(t._offset=e._offset),Yi(e._pf)||(t._pf=Bt(e)),Yi(e._locale)||(t._locale=e._locale),wT.length>0)for(n=0;n<wT.length;n++)i=wT[n],o=e[i],Yi(o)||(t[i]=o);return t}function $m(t){ST(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),xT===!1&&(xT=!0,$e.updateOffset(this),xT=!1)}function _o(t){return t instanceof $m||t!=null&&t._isAMomentObject!=null}function d9(t){$e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+t)}function Gs(t,e){var n=!0;return pc(function(){if($e.deprecationHandler!=null&&$e.deprecationHandler(null,t),n){var i=[],o,s,a;for(s=0;s<arguments.length;s++){if(o="",typeof arguments[s]=="object"){o+=`
[`+s+"] ";for(a in arguments[0])fn(arguments[0],a)&&(o+=a+": "+arguments[0][a]+", ");o=o.slice(0,-2)}else o=arguments[s];i.push(o)}d9(t+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var f9={};function h9(t,e){$e.deprecationHandler!=null&&$e.deprecationHandler(t,e),f9[t]||(d9(e),f9[t]=!0)}$e.suppressDeprecationWarnings=!1;$e.deprecationHandler=null;function Xo(t){return typeof Function!="undefined"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function bfe(t){var e,n;for(n in t)fn(t,n)&&(e=t[n],Xo(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function TT(t,e){var n=pc({},t),i;for(i in e)fn(e,i)&&(Ru(t[i])&&Ru(e[i])?(n[i]={},pc(n[i],t[i]),pc(n[i],e[i])):e[i]!=null?n[i]=e[i]:delete n[i]);for(i in t)fn(t,i)&&!fn(e,i)&&Ru(t[i])&&(n[i]=pc({},n[i]));return n}function CT(t){t!=null&&this.set(t)}var MT;Object.keys?MT=Object.keys:MT=function(t){var e,n=[];for(e in t)fn(t,e)&&n.push(e);return n};var Efe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function wfe(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return Xo(i)?i.call(e,n):i}function Jo(t,e,n){var i=""+Math.abs(t),o=e-i.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}var AT=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Dy=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,PT={},Sf={};function yt(t,e,n,i){var o=i;typeof i=="string"&&(o=function(){return this[i]()}),t&&(Sf[t]=o),e&&(Sf[e[0]]=function(){return Jo(o.apply(this,arguments),e[1],e[2])}),n&&(Sf[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function xfe(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Sfe(t){var e=t.match(AT),n,i;for(n=0,i=e.length;n<i;n++)Sf[e[n]]?e[n]=Sf[e[n]]:e[n]=xfe(e[n]);return function(o){var s="",a;for(a=0;a<i;a++)s+=Xo(e[a])?e[a].call(o,t):e[a];return s}}function Fy(t,e){return t.isValid()?(e=p9(e,t.localeData()),PT[e]=PT[e]||Sfe(e),PT[e](t)):t.localeData().invalidDate()}function p9(t,e){var n=5;function i(o){return e.longDateFormat(o)||o}for(Dy.lastIndex=0;n>=0&&Dy.test(t);)t=t.replace(Dy,i),Dy.lastIndex=0,n-=1;return t}var Tfe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Cfe(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(AT).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[t])}var Mfe="Invalid date";function Afe(){return this._invalidDate}var Pfe="%d",Rfe=/\d{1,2}/;function Lfe(t){return this._ordinal.replace("%d",t)}var Ife={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ofe(t,e,n,i){var o=this._relativeTime[n];return Xo(o)?o(t,e,n,i):o.replace(/%d/i,t)}function Nfe(t,e){var n=this._relativeTime[t>0?"future":"past"];return Xo(n)?n(e):n.replace(/%s/i,e)}var Wm={};function pi(t,e){var n=t.toLowerCase();Wm[n]=Wm[n+"s"]=Wm[e]=t}function $s(t){return typeof t=="string"?Wm[t]||Wm[t.toLowerCase()]:void 0}function RT(t){var e={},n,i;for(i in t)fn(t,i)&&(n=$s(i),n&&(e[n]=t[i]));return e}var m9={};function mi(t,e){m9[t]=e}function kfe(t){var e=[],n;for(n in t)fn(t,n)&&e.push({unit:n,priority:m9[n]});return e.sort(function(i,o){return i.priority-o.priority}),e}function Uy(t){return t%4==0&&t%100!=0||t%400==0}function Ws(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Yt(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Ws(e)),n}function Tf(t,e){return function(n){return n!=null?(g9(this,t,n),$e.updateOffset(this,e),this):jy(this,t)}}function jy(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function g9(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&Uy(t.year())&&t.month()===1&&t.date()===29?(n=Yt(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Wy(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Dfe(t){return t=$s(t),Xo(this[t])?this[t]():this}function Ffe(t,e){if(typeof t=="object"){t=RT(t);var n=kfe(t),i;for(i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=$s(t),Xo(this[t]))return this[t](e);return this}var v9=/\d/,hs=/\d\d/,y9=/\d{3}/,LT=/\d{4}/,By=/[+-]?\d{6}/,Gn=/\d\d?/,_9=/\d\d\d\d?/,b9=/\d\d\d\d\d\d?/,Vy=/\d{1,3}/,IT=/\d{1,4}/,Hy=/[+-]?\d{1,6}/,Cf=/\d+/,zy=/[+-]?\d+/,Ufe=/Z|[+-]\d\d:?\d\d/gi,Gy=/Z|[+-]\d\d(?::?\d\d)?/gi,jfe=/[+-]?\d+(\.\d{1,3})?/,qm=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,$y;$y={};function ot(t,e,n){$y[t]=Xo(e)?e:function(i,o){return i&&n?n:e}}function Bfe(t,e){return fn($y,t)?$y[t](e._strict,e._locale):new RegExp(Vfe(t))}function Vfe(t){return ps(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,i,o,s){return n||i||o||s}))}function ps(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var OT={};function Tn(t,e){var n,i=e;for(typeof t=="string"&&(t=[t]),za(e)&&(i=function(o,s){s[e]=Yt(o)}),n=0;n<t.length;n++)OT[t[n]]=i}function Ym(t,e){Tn(t,function(n,i,o,s){o._w=o._w||{},e(n,o._w,o,s)})}function Hfe(t,e,n){e!=null&&fn(OT,t)&&OT[t](e,n._a,n,t)}var gi=0,Ga=1,Zo=2,Ir=3,bo=4,$a=5,Lu=6,zfe=7,Gfe=8;function $fe(t,e){return(t%e+e)%e}var yr;Array.prototype.indexOf?yr=Array.prototype.indexOf:yr=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Wy(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=$fe(e,12);return t+=(e-n)/12,n===1?Uy(t)?29:28:31-n%7%2}yt("M",["MM",2],"Mo",function(){return this.month()+1});yt("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});yt("MMMM",0,0,function(t){return this.localeData().months(this,t)});pi("month","M");mi("month",8);ot("M",Gn);ot("MM",Gn,hs);ot("MMM",function(t,e){return e.monthsShortRegex(t)});ot("MMMM",function(t,e){return e.monthsRegex(t)});Tn(["M","MM"],function(t,e){e[Ga]=Yt(t)-1});Tn(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);o!=null?e[Ga]=o:Bt(n).invalidMonth=t});var Wfe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),E9="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),w9=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,qfe=qm,Yfe=qm;function Kfe(t,e){return t?yo(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||w9).test(e)?"format":"standalone"][t.month()]:yo(this._months)?this._months:this._months.standalone}function Xfe(t,e){return t?yo(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[w9.test(e)?"format":"standalone"][t.month()]:yo(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Jfe(t,e,n){var i,o,s,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=Ko([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(o=yr.call(this._shortMonthsParse,a),o!==-1?o:null):(o=yr.call(this._longMonthsParse,a),o!==-1?o:null):e==="MMM"?(o=yr.call(this._shortMonthsParse,a),o!==-1?o:(o=yr.call(this._longMonthsParse,a),o!==-1?o:null)):(o=yr.call(this._longMonthsParse,a),o!==-1?o:(o=yr.call(this._shortMonthsParse,a),o!==-1?o:null))}function Zfe(t,e,n){var i,o,s;if(this._monthsParseExact)return Jfe.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=Ko([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[i]&&(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[i].test(t))return i;if(n&&e==="MMM"&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function x9(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Yt(e);else if(e=t.localeData().monthsParse(e),!za(e))return t}return n=Math.min(t.date(),Wy(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function S9(t){return t!=null?(x9(this,t),$e.updateOffset(this,!0),this):jy(this,"Month")}function Qfe(){return Wy(this.year(),this.month())}function ehe(t){return this._monthsParseExact?(fn(this,"_monthsRegex")||T9.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(fn(this,"_monthsShortRegex")||(this._monthsShortRegex=qfe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function the(t){return this._monthsParseExact?(fn(this,"_monthsRegex")||T9.call(this),t?this._monthsStrictRegex:this._monthsRegex):(fn(this,"_monthsRegex")||(this._monthsRegex=Yfe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function T9(){function t(a,l){return l.length-a.length}var e=[],n=[],i=[],o,s;for(o=0;o<12;o++)s=Ko([2e3,o]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),i.push(this.months(s,"")),i.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),i.sort(t),o=0;o<12;o++)e[o]=ps(e[o]),n[o]=ps(n[o]);for(o=0;o<24;o++)i[o]=ps(i[o]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}yt("Y",0,0,function(){var t=this.year();return t<=9999?Jo(t,4):"+"+t});yt(0,["YY",2],0,function(){return this.year()%100});yt(0,["YYYY",4],0,"year");yt(0,["YYYYY",5],0,"year");yt(0,["YYYYYY",6,!0],0,"year");pi("year","y");mi("year",1);ot("Y",zy);ot("YY",Gn,hs);ot("YYYY",IT,LT);ot("YYYYY",Hy,By);ot("YYYYYY",Hy,By);Tn(["YYYYY","YYYYYY"],gi);Tn("YYYY",function(t,e){e[gi]=t.length===2?$e.parseTwoDigitYear(t):Yt(t)});Tn("YY",function(t,e){e[gi]=$e.parseTwoDigitYear(t)});Tn("Y",function(t,e){e[gi]=parseInt(t,10)});function Km(t){return Uy(t)?366:365}$e.parseTwoDigitYear=function(t){return Yt(t)+(Yt(t)>68?1900:2e3)};var C9=Tf("FullYear",!0);function nhe(){return Uy(this.year())}function rhe(t,e,n,i,o,s,a){var l;return t<100&&t>=0?(l=new Date(t+400,e,n,i,o,s,a),isFinite(l.getFullYear())&&l.setFullYear(t)):l=new Date(t,e,n,i,o,s,a),l}function Xm(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function qy(t,e,n){var i=7+e-n,o=(7+Xm(t,0,i).getUTCDay()-e)%7;return-o+i-1}function M9(t,e,n,i,o){var s=(7+n-i)%7,a=qy(t,i,o),l=1+7*(e-1)+s+a,c,u;return l<=0?(c=t-1,u=Km(c)+l):l>Km(t)?(c=t+1,u=l-Km(t)):(c=t,u=l),{year:c,dayOfYear:u}}function Jm(t,e,n){var i=qy(t.year(),e,n),o=Math.floor((t.dayOfYear()-i-1)/7)+1,s,a;return o<1?(a=t.year()-1,s=o+Wa(a,e,n)):o>Wa(t.year(),e,n)?(s=o-Wa(t.year(),e,n),a=t.year()+1):(a=t.year(),s=o),{week:s,year:a}}function Wa(t,e,n){var i=qy(t,e,n),o=qy(t+1,e,n);return(Km(t)-i+o)/7}yt("w",["ww",2],"wo","week");yt("W",["WW",2],"Wo","isoWeek");pi("week","w");pi("isoWeek","W");mi("week",5);mi("isoWeek",5);ot("w",Gn);ot("ww",Gn,hs);ot("W",Gn);ot("WW",Gn,hs);Ym(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=Yt(t)});function ihe(t){return Jm(t,this._week.dow,this._week.doy).week}var she={dow:0,doy:6};function ohe(){return this._week.dow}function ahe(){return this._week.doy}function lhe(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function che(t){var e=Jm(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}yt("d",0,"do","day");yt("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});yt("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});yt("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});yt("e",0,0,"weekday");yt("E",0,0,"isoWeekday");pi("day","d");pi("weekday","e");pi("isoWeekday","E");mi("day",11);mi("weekday",11);mi("isoWeekday",11);ot("d",Gn);ot("e",Gn);ot("E",Gn);ot("dd",function(t,e){return e.weekdaysMinRegex(t)});ot("ddd",function(t,e){return e.weekdaysShortRegex(t)});ot("dddd",function(t,e){return e.weekdaysRegex(t)});Ym(["dd","ddd","dddd"],function(t,e,n,i){var o=n._locale.weekdaysParse(t,i,n._strict);o!=null?e.d=o:Bt(n).invalidWeekday=t});Ym(["d","e","E"],function(t,e,n,i){e[i]=Yt(t)});function uhe(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function dhe(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function NT(t,e){return t.slice(e,7).concat(t.slice(0,e))}var fhe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),A9="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),hhe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),phe=qm,mhe=qm,ghe=qm;function vhe(t,e){var n=yo(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?NT(n,this._week.dow):t?n[t.day()]:n}function yhe(t){return t===!0?NT(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function _he(t){return t===!0?NT(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function bhe(t,e,n){var i,o,s,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=Ko([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(o=yr.call(this._weekdaysParse,a),o!==-1?o:null):e==="ddd"?(o=yr.call(this._shortWeekdaysParse,a),o!==-1?o:null):(o=yr.call(this._minWeekdaysParse,a),o!==-1?o:null):e==="dddd"?(o=yr.call(this._weekdaysParse,a),o!==-1||(o=yr.call(this._shortWeekdaysParse,a),o!==-1)?o:(o=yr.call(this._minWeekdaysParse,a),o!==-1?o:null)):e==="ddd"?(o=yr.call(this._shortWeekdaysParse,a),o!==-1||(o=yr.call(this._weekdaysParse,a),o!==-1)?o:(o=yr.call(this._minWeekdaysParse,a),o!==-1?o:null)):(o=yr.call(this._minWeekdaysParse,a),o!==-1||(o=yr.call(this._weekdaysParse,a),o!==-1)?o:(o=yr.call(this._shortWeekdaysParse,a),o!==-1?o:null))}function Ehe(t,e,n){var i,o,s;if(this._weekdaysParseExact)return bhe.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=Ko([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[i].test(t))return i;if(n&&e==="ddd"&&this._shortWeekdaysParse[i].test(t))return i;if(n&&e==="dd"&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function whe(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=uhe(t,this.localeData()),this.add(t-e,"d")):e}function xhe(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function She(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=dhe(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function The(t){return this._weekdaysParseExact?(fn(this,"_weekdaysRegex")||kT.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(fn(this,"_weekdaysRegex")||(this._weekdaysRegex=phe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Che(t){return this._weekdaysParseExact?(fn(this,"_weekdaysRegex")||kT.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(fn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=mhe),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Mhe(t){return this._weekdaysParseExact?(fn(this,"_weekdaysRegex")||kT.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(fn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ghe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function kT(){function t(d,f){return f.length-d.length}var e=[],n=[],i=[],o=[],s,a,l,c,u;for(s=0;s<7;s++)a=Ko([2e3,1]).day(s),l=ps(this.weekdaysMin(a,"")),c=ps(this.weekdaysShort(a,"")),u=ps(this.weekdays(a,"")),e.push(l),n.push(c),i.push(u),o.push(l),o.push(c),o.push(u);e.sort(t),n.sort(t),i.sort(t),o.sort(t),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function DT(){return this.hours()%12||12}function Ahe(){return this.hours()||24}yt("H",["HH",2],0,"hour");yt("h",["hh",2],0,DT);yt("k",["kk",2],0,Ahe);yt("hmm",0,0,function(){return""+DT.apply(this)+Jo(this.minutes(),2)});yt("hmmss",0,0,function(){return""+DT.apply(this)+Jo(this.minutes(),2)+Jo(this.seconds(),2)});yt("Hmm",0,0,function(){return""+this.hours()+Jo(this.minutes(),2)});yt("Hmmss",0,0,function(){return""+this.hours()+Jo(this.minutes(),2)+Jo(this.seconds(),2)});function P9(t,e){yt(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}P9("a",!0);P9("A",!1);pi("hour","h");mi("hour",13);function R9(t,e){return e._meridiemParse}ot("a",R9);ot("A",R9);ot("H",Gn);ot("h",Gn);ot("k",Gn);ot("HH",Gn,hs);ot("hh",Gn,hs);ot("kk",Gn,hs);ot("hmm",_9);ot("hmmss",b9);ot("Hmm",_9);ot("Hmmss",b9);Tn(["H","HH"],Ir);Tn(["k","kk"],function(t,e,n){var i=Yt(t);e[Ir]=i===24?0:i});Tn(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Tn(["h","hh"],function(t,e,n){e[Ir]=Yt(t),Bt(n).bigHour=!0});Tn("hmm",function(t,e,n){var i=t.length-2;e[Ir]=Yt(t.substr(0,i)),e[bo]=Yt(t.substr(i)),Bt(n).bigHour=!0});Tn("hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[Ir]=Yt(t.substr(0,i)),e[bo]=Yt(t.substr(i,2)),e[$a]=Yt(t.substr(o)),Bt(n).bigHour=!0});Tn("Hmm",function(t,e,n){var i=t.length-2;e[Ir]=Yt(t.substr(0,i)),e[bo]=Yt(t.substr(i))});Tn("Hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[Ir]=Yt(t.substr(0,i)),e[bo]=Yt(t.substr(i,2)),e[$a]=Yt(t.substr(o))});function Phe(t){return(t+"").toLowerCase().charAt(0)==="p"}var Rhe=/[ap]\.?m?\.?/i,Lhe=Tf("Hours",!0);function Ihe(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var L9={calendar:Efe,longDateFormat:Tfe,invalidDate:Mfe,ordinal:Pfe,dayOfMonthOrdinalParse:Rfe,relativeTime:Ife,months:Wfe,monthsShort:E9,week:she,weekdays:fhe,weekdaysMin:hhe,weekdaysShort:A9,meridiemParse:Rhe},Zn={},Zm={},Qm;function Ohe(t,e){var n,i=Math.min(t.length,e.length);for(n=0;n<i;n+=1)if(t[n]!==e[n])return n;return i}function I9(t){return t&&t.toLowerCase().replace("_","-")}function Nhe(t){for(var e=0,n,i,o,s;e<t.length;){for(s=I9(t[e]).split("-"),n=s.length,i=I9(t[e+1]),i=i?i.split("-"):null;n>0;){if(o=Yy(s.slice(0,n).join("-")),o)return o;if(i&&i.length>=n&&Ohe(s,i)>=n-1)break;n--}e++}return Qm}function Yy(t){var e=null,n;if(Zn[t]===void 0&&typeof J0!="undefined"&&J0&&J0.exports)try{e=Qm._abbr,n=require,n("./locale/"+t),mc(e)}catch{Zn[t]=null}return Zn[t]}function mc(t,e){var n;return t&&(Yi(e)?n=qa(t):n=FT(t,e),n?Qm=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Qm._abbr}function FT(t,e){if(e!==null){var n,i=L9;if(e.abbr=t,Zn[t]!=null)h9("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Zn[t]._config;else if(e.parentLocale!=null)if(Zn[e.parentLocale]!=null)i=Zn[e.parentLocale]._config;else if(n=Yy(e.parentLocale),n!=null)i=n._config;else return Zm[e.parentLocale]||(Zm[e.parentLocale]=[]),Zm[e.parentLocale].push({name:t,config:e}),null;return Zn[t]=new CT(TT(i,e)),Zm[t]&&Zm[t].forEach(function(o){FT(o.name,o.config)}),mc(t),Zn[t]}else return delete Zn[t],null}function khe(t,e){if(e!=null){var n,i,o=L9;Zn[t]!=null&&Zn[t].parentLocale!=null?Zn[t].set(TT(Zn[t]._config,e)):(i=Yy(t),i!=null&&(o=i._config),e=TT(o,e),i==null&&(e.abbr=t),n=new CT(e),n.parentLocale=Zn[t],Zn[t]=n),mc(t)}else Zn[t]!=null&&(Zn[t].parentLocale!=null?(Zn[t]=Zn[t].parentLocale,t===mc()&&mc(t)):Zn[t]!=null&&delete Zn[t]);return Zn[t]}function qa(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Qm;if(!yo(t)){if(e=Yy(t),e)return e;t=[t]}return Nhe(t)}function Dhe(){return MT(Zn)}function UT(t){var e,n=t._a;return n&&Bt(t).overflow===-2&&(e=n[Ga]<0||n[Ga]>11?Ga:n[Zo]<1||n[Zo]>Wy(n[gi],n[Ga])?Zo:n[Ir]<0||n[Ir]>24||n[Ir]===24&&(n[bo]!==0||n[$a]!==0||n[Lu]!==0)?Ir:n[bo]<0||n[bo]>59?bo:n[$a]<0||n[$a]>59?$a:n[Lu]<0||n[Lu]>999?Lu:-1,Bt(t)._overflowDayOfYear&&(e<gi||e>Zo)&&(e=Zo),Bt(t)._overflowWeeks&&e===-1&&(e=zfe),Bt(t)._overflowWeekday&&e===-1&&(e=Gfe),Bt(t).overflow=e),t}var Fhe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Uhe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jhe=/Z|[+-]\d\d(?::?\d\d)?/,Ky=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],jT=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Bhe=/^\/?Date\((-?\d+)/i,Vhe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Hhe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function O9(t){var e,n,i=t._i,o=Fhe.exec(i)||Uhe.exec(i),s,a,l,c;if(o){for(Bt(t).iso=!0,e=0,n=Ky.length;e<n;e++)if(Ky[e][1].exec(o[1])){a=Ky[e][0],s=Ky[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(o[3]){for(e=0,n=jT.length;e<n;e++)if(jT[e][1].exec(o[3])){l=(o[2]||" ")+jT[e][0];break}if(l==null){t._isValid=!1;return}}if(!s&&l!=null){t._isValid=!1;return}if(o[4])if(jhe.exec(o[4]))c="Z";else{t._isValid=!1;return}t._f=a+(l||"")+(c||""),VT(t)}else t._isValid=!1}function zhe(t,e,n,i,o,s){var a=[Ghe(t),E9.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(o,10)];return s&&a.push(parseInt(s,10)),a}function Ghe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function $he(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Whe(t,e,n){if(t){var i=A9.indexOf(t),o=new Date(e[0],e[1],e[2]).getDay();if(i!==o)return Bt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function qhe(t,e,n){if(t)return Hhe[t];if(e)return 0;var i=parseInt(n,10),o=i%100,s=(i-o)/100;return s*60+o}function N9(t){var e=Vhe.exec($he(t._i)),n;if(e){if(n=zhe(e[4],e[3],e[2],e[5],e[6],e[7]),!Whe(e[1],n,t))return;t._a=n,t._tzm=qhe(e[8],e[9],e[10]),t._d=Xm.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Bt(t).rfc2822=!0}else t._isValid=!1}function Yhe(t){var e=Bhe.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(O9(t),t._isValid===!1)delete t._isValid;else return;if(N9(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:$e.createFromInputFallback(t)}$e.createFromInputFallback=Gs("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Mf(t,e,n){return t!=null?t:e!=null?e:n}function Khe(t){var e=new Date($e.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function BT(t){var e,n,i=[],o,s,a;if(!t._d){for(o=Khe(t),t._w&&t._a[Zo]==null&&t._a[Ga]==null&&Xhe(t),t._dayOfYear!=null&&(a=Mf(t._a[gi],o[gi]),(t._dayOfYear>Km(a)||t._dayOfYear===0)&&(Bt(t)._overflowDayOfYear=!0),n=Xm(a,0,t._dayOfYear),t._a[Ga]=n.getUTCMonth(),t._a[Zo]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=i[e]=o[e];for(;e<7;e++)t._a[e]=i[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Ir]===24&&t._a[bo]===0&&t._a[$a]===0&&t._a[Lu]===0&&(t._nextDay=!0,t._a[Ir]=0),t._d=(t._useUTC?Xm:rhe).apply(null,i),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ir]=24),t._w&&typeof t._w.d!="undefined"&&t._w.d!==s&&(Bt(t).weekdayMismatch=!0)}}function Xhe(t){var e,n,i,o,s,a,l,c,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,a=4,n=Mf(e.GG,t._a[gi],Jm($n(),1,4).year),i=Mf(e.W,1),o=Mf(e.E,1),(o<1||o>7)&&(c=!0)):(s=t._locale._week.dow,a=t._locale._week.doy,u=Jm($n(),s,a),n=Mf(e.gg,t._a[gi],u.year),i=Mf(e.w,u.week),e.d!=null?(o=e.d,(o<0||o>6)&&(c=!0)):e.e!=null?(o=e.e+s,(e.e<0||e.e>6)&&(c=!0)):o=s),i<1||i>Wa(n,s,a)?Bt(t)._overflowWeeks=!0:c!=null?Bt(t)._overflowWeekday=!0:(l=M9(n,i,o,s,a),t._a[gi]=l.year,t._dayOfYear=l.dayOfYear)}$e.ISO_8601=function(){};$e.RFC_2822=function(){};function VT(t){if(t._f===$e.ISO_8601){O9(t);return}if(t._f===$e.RFC_2822){N9(t);return}t._a=[],Bt(t).empty=!0;var e=""+t._i,n,i,o,s,a,l=e.length,c=0,u;for(o=p9(t._f,t._locale).match(AT)||[],n=0;n<o.length;n++)s=o[n],i=(e.match(Bfe(s,t))||[])[0],i&&(a=e.substr(0,e.indexOf(i)),a.length>0&&Bt(t).unusedInput.push(a),e=e.slice(e.indexOf(i)+i.length),c+=i.length),Sf[s]?(i?Bt(t).empty=!1:Bt(t).unusedTokens.push(s),Hfe(s,i,t)):t._strict&&!i&&Bt(t).unusedTokens.push(s);Bt(t).charsLeftOver=l-c,e.length>0&&Bt(t).unusedInput.push(e),t._a[Ir]<=12&&Bt(t).bigHour===!0&&t._a[Ir]>0&&(Bt(t).bigHour=void 0),Bt(t).parsedDateParts=t._a.slice(0),Bt(t).meridiem=t._meridiem,t._a[Ir]=Jhe(t._locale,t._a[Ir],t._meridiem),u=Bt(t).era,u!==null&&(t._a[gi]=t._locale.erasConvertYear(u,t._a[gi])),BT(t),UT(t)}function Jhe(t,e,n){var i;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(i=t.isPM(n),i&&e<12&&(e+=12),!i&&e===12&&(e=0)),e)}function Zhe(t){var e,n,i,o,s,a,l=!1;if(t._f.length===0){Bt(t).invalidFormat=!0,t._d=new Date(NaN);return}for(o=0;o<t._f.length;o++)s=0,a=!1,e=ST({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[o],VT(e),ET(e)&&(a=!0),s+=Bt(e).charsLeftOver,s+=Bt(e).unusedTokens.length*10,Bt(e).score=s,l?s<i&&(i=s,n=e):(i==null||s<i||a)&&(i=s,n=e,a&&(l=!0));pc(t,n||e)}function Qhe(t){if(!t._d){var e=RT(t._i),n=e.day===void 0?e.date:e.day;t._a=u9([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(i){return i&&parseInt(i,10)}),BT(t)}}function epe(t){var e=new $m(UT(k9(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function k9(t){var e=t._i,n=t._f;return t._locale=t._locale||qa(t._l),e===null||n===void 0&&e===""?ky({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),_o(e)?new $m(UT(e)):(Gm(e)?t._d=e:yo(n)?Zhe(t):n?VT(t):tpe(t),ET(t)||(t._d=null),t))}function tpe(t){var e=t._i;Yi(e)?t._d=new Date($e.now()):Gm(e)?t._d=new Date(e.valueOf()):typeof e=="string"?Yhe(t):yo(e)?(t._a=u9(e.slice(0),function(n){return parseInt(n,10)}),BT(t)):Ru(e)?Qhe(t):za(e)?t._d=new Date(e):$e.createFromInputFallback(t)}function D9(t,e,n,i,o){var s={};return(e===!0||e===!1)&&(i=e,e=void 0),(n===!0||n===!1)&&(i=n,n=void 0),(Ru(t)&&_T(t)||yo(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=n,s._i=t,s._f=e,s._strict=i,epe(s)}function $n(t,e,n,i){return D9(t,e,n,i,!1)}var npe=Gs("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=$n.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:ky()}),rpe=Gs("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=$n.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:ky()});function F9(t,e){var n,i;if(e.length===1&&yo(e[0])&&(e=e[0]),!e.length)return $n();for(n=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][t](n))&&(n=e[i]);return n}function ipe(){var t=[].slice.call(arguments,0);return F9("isBefore",t)}function spe(){var t=[].slice.call(arguments,0);return F9("isAfter",t)}var ope=function(){return Date.now?Date.now():+new Date},eg=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ape(t){var e,n=!1,i;for(e in t)if(fn(t,e)&&!(yr.call(eg,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(i=0;i<eg.length;++i)if(t[eg[i]]){if(n)return!1;parseFloat(t[eg[i]])!==Yt(t[eg[i]])&&(n=!0)}return!0}function lpe(){return this._isValid}function cpe(){return Eo(NaN)}function Xy(t){var e=RT(t),n=e.year||0,i=e.quarter||0,o=e.month||0,s=e.week||e.isoWeek||0,a=e.day||0,l=e.hour||0,c=e.minute||0,u=e.second||0,d=e.millisecond||0;this._isValid=ape(e),this._milliseconds=+d+u*1e3+c*6e4+l*1e3*60*60,this._days=+a+s*7,this._months=+o+i*3+n*12,this._data={},this._locale=qa(),this._bubble()}function Jy(t){return t instanceof Xy}function HT(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function upe(t,e,n){var i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0,a;for(a=0;a<i;a++)(n&&t[a]!==e[a]||!n&&Yt(t[a])!==Yt(e[a]))&&s++;return s+o}function U9(t,e){yt(t,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+Jo(~~(n/60),2)+e+Jo(~~n%60,2)})}U9("Z",":");U9("ZZ","");ot("Z",Gy);ot("ZZ",Gy);Tn(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=zT(Gy,t)});var dpe=/([\+\-]|\d\d)/gi;function zT(t,e){var n=(e||"").match(t),i,o,s;return n===null?null:(i=n[n.length-1]||[],o=(i+"").match(dpe)||["-",0,0],s=+(o[1]*60)+Yt(o[2]),s===0?0:o[0]==="+"?s:-s)}function GT(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(_o(t)||Gm(t)?t.valueOf():$n(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),$e.updateOffset(n,!1),n):$n(t).local()}function $T(t){return-Math.round(t._d.getTimezoneOffset())}$e.updateOffset=function(){};function fpe(t,e,n){var i=this._offset||0,o;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=zT(Gy,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(o=$T(this)),this._offset=t,this._isUTC=!0,o!=null&&this.add(o,"m"),i!==t&&(!e||this._changeInProgress?H9(this,Eo(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,$e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:$T(this)}function hpe(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function ppe(t){return this.utcOffset(0,t)}function mpe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract($T(this),"m")),this}function gpe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=zT(Ufe,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function vpe(t){return this.isValid()?(t=t?$n(t).utcOffset():0,(this.utcOffset()-t)%60==0):!1}function ype(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _pe(){if(!Yi(this._isDSTShifted))return this._isDSTShifted;var t={},e;return ST(t,this),t=k9(t),t._a?(e=t._isUTC?Ko(t._a):$n(t._a),this._isDSTShifted=this.isValid()&&upe(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function bpe(){return this.isValid()?!this._isUTC:!1}function Epe(){return this.isValid()?this._isUTC:!1}function j9(){return this.isValid()?this._isUTC&&this._offset===0:!1}var wpe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,xpe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Eo(t,e){var n=t,i=null,o,s,a;return Jy(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:za(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(i=wpe.exec(t))?(o=i[1]==="-"?-1:1,n={y:0,d:Yt(i[Zo])*o,h:Yt(i[Ir])*o,m:Yt(i[bo])*o,s:Yt(i[$a])*o,ms:Yt(HT(i[Lu]*1e3))*o}):(i=xpe.exec(t))?(o=i[1]==="-"?-1:1,n={y:Iu(i[2],o),M:Iu(i[3],o),w:Iu(i[4],o),d:Iu(i[5],o),h:Iu(i[6],o),m:Iu(i[7],o),s:Iu(i[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=Spe($n(n.from),$n(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),s=new Xy(n),Jy(t)&&fn(t,"_locale")&&(s._locale=t._locale),Jy(t)&&fn(t,"_isValid")&&(s._isValid=t._isValid),s}Eo.fn=Xy.prototype;Eo.invalid=cpe;function Iu(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function B9(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Spe(t,e){var n;return t.isValid()&&e.isValid()?(e=GT(e,t),t.isBefore(e)?n=B9(t,e):(n=B9(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function V9(t,e){return function(n,i){var o,s;return i!==null&&!isNaN(+i)&&(h9(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=i,i=s),o=Eo(n,i),H9(this,o,t),this}}function H9(t,e,n,i){var o=e._milliseconds,s=HT(e._days),a=HT(e._months);!t.isValid()||(i=i==null?!0:i,a&&x9(t,jy(t,"Month")+a*n),s&&g9(t,"Date",jy(t,"Date")+s*n),o&&t._d.setTime(t._d.valueOf()+o*n),i&&$e.updateOffset(t,s||a))}var Tpe=V9(1,"add"),Cpe=V9(-1,"subtract");function z9(t){return typeof t=="string"||t instanceof String}function Mpe(t){return _o(t)||Gm(t)||z9(t)||za(t)||Ppe(t)||Ape(t)||t===null||t===void 0}function Ape(t){var e=Ru(t)&&!_T(t),n=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,s;for(o=0;o<i.length;o+=1)s=i[o],n=n||fn(t,s);return e&&n}function Ppe(t){var e=yo(t),n=!1;return e&&(n=t.filter(function(i){return!za(i)&&z9(t)}).length===0),e&&n}function Rpe(t){var e=Ru(t)&&!_T(t),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,s;for(o=0;o<i.length;o+=1)s=i[o],n=n||fn(t,s);return e&&n}function Lpe(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ipe(t,e){arguments.length===1&&(arguments[0]?Mpe(arguments[0])?(t=arguments[0],e=void 0):Rpe(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||$n(),i=GT(n,this).startOf("day"),o=$e.calendarFormat(this,i)||"sameElse",s=e&&(Xo(e[o])?e[o].call(this,n):e[o]);return this.format(s||this.localeData().calendar(o,this,$n(n)))}function Ope(){return new $m(this)}function Npe(t,e){var n=_o(t)?t:$n(t);return this.isValid()&&n.isValid()?(e=$s(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function kpe(t,e){var n=_o(t)?t:$n(t);return this.isValid()&&n.isValid()?(e=$s(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Dpe(t,e,n,i){var o=_o(t)?t:$n(t),s=_o(e)?e:$n(e);return this.isValid()&&o.isValid()&&s.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(i[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function Fpe(t,e){var n=_o(t)?t:$n(t),i;return this.isValid()&&n.isValid()?(e=$s(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())):!1}function Upe(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function jpe(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Bpe(t,e,n){var i,o,s;if(!this.isValid())return NaN;if(i=GT(t,this),!i.isValid())return NaN;switch(o=(i.utcOffset()-this.utcOffset())*6e4,e=$s(e),e){case"year":s=Zy(this,i)/12;break;case"month":s=Zy(this,i);break;case"quarter":s=Zy(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-o)/864e5;break;case"week":s=(this-i-o)/6048e5;break;default:s=this-i}return n?s:Ws(s)}function Zy(t,e){if(t.date()<e.date())return-Zy(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),i=t.clone().add(n,"months"),o,s;return e-i<0?(o=t.clone().add(n-1,"months"),s=(e-i)/(i-o)):(o=t.clone().add(n+1,"months"),s=(e-i)/(o-i)),-(n+s)||0}$e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";$e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Vpe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Hpe(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Fy(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Xo(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Fy(n,"Z")):Fy(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function zpe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,i,o,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+i+o+s)}function Gpe(t){t||(t=this.isUtc()?$e.defaultFormatUtc:$e.defaultFormat);var e=Fy(this,t);return this.localeData().postformat(e)}function $pe(t,e){return this.isValid()&&(_o(t)&&t.isValid()||$n(t).isValid())?Eo({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Wpe(t){return this.from($n(),t)}function qpe(t,e){return this.isValid()&&(_o(t)&&t.isValid()||$n(t).isValid())?Eo({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Ype(t){return this.to($n(),t)}function G9(t){var e;return t===void 0?this._locale._abbr:(e=qa(t),e!=null&&(this._locale=e),this)}var $9=Gs("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function W9(){return this._locale}var Qy=1e3,Af=60*Qy,e_=60*Af,q9=(365*400+97)*24*e_;function Pf(t,e){return(t%e+e)%e}function Y9(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-q9:new Date(t,e,n).valueOf()}function K9(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-q9:Date.UTC(t,e,n)}function Kpe(t){var e,n;if(t=$s(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?K9:Y9,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Pf(e+(this._isUTC?0:this.utcOffset()*Af),e_);break;case"minute":e=this._d.valueOf(),e-=Pf(e,Af);break;case"second":e=this._d.valueOf(),e-=Pf(e,Qy);break}return this._d.setTime(e),$e.updateOffset(this,!0),this}function Xpe(t){var e,n;if(t=$s(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?K9:Y9,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=e_-Pf(e+(this._isUTC?0:this.utcOffset()*Af),e_)-1;break;case"minute":e=this._d.valueOf(),e+=Af-Pf(e,Af)-1;break;case"second":e=this._d.valueOf(),e+=Qy-Pf(e,Qy)-1;break}return this._d.setTime(e),$e.updateOffset(this,!0),this}function Jpe(){return this._d.valueOf()-(this._offset||0)*6e4}function Zpe(){return Math.floor(this.valueOf()/1e3)}function Qpe(){return new Date(this.valueOf())}function eme(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function tme(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function nme(){return this.isValid()?this.toISOString():null}function rme(){return ET(this)}function ime(){return pc({},Bt(this))}function sme(){return Bt(this).overflow}function ome(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}yt("N",0,0,"eraAbbr");yt("NN",0,0,"eraAbbr");yt("NNN",0,0,"eraAbbr");yt("NNNN",0,0,"eraName");yt("NNNNN",0,0,"eraNarrow");yt("y",["y",1],"yo","eraYear");yt("y",["yy",2],0,"eraYear");yt("y",["yyy",3],0,"eraYear");yt("y",["yyyy",4],0,"eraYear");ot("N",WT);ot("NN",WT);ot("NNN",WT);ot("NNNN",vme);ot("NNNNN",yme);Tn(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,i){var o=n._locale.erasParse(t,i,n._strict);o?Bt(n).era=o:Bt(n).invalidEra=t});ot("y",Cf);ot("yy",Cf);ot("yyy",Cf);ot("yyyy",Cf);ot("yo",_me);Tn(["y","yy","yyy","yyyy"],gi);Tn(["yo"],function(t,e,n,i){var o;n._locale._eraYearOrdinalRegex&&(o=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[gi]=n._locale.eraYearOrdinalParse(t,o):e[gi]=parseInt(t,10)});function ame(t,e){var n,i,o,s=this._eras||qa("en")._eras;for(n=0,i=s.length;n<i;++n){switch(typeof s[n].since){case"string":o=$e(s[n].since).startOf("day"),s[n].since=o.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":o=$e(s[n].until).startOf("day").valueOf(),s[n].until=o.valueOf();break}}return s}function lme(t,e,n){var i,o,s=this.eras(),a,l,c;for(t=t.toUpperCase(),i=0,o=s.length;i<o;++i)if(a=s[i].name.toUpperCase(),l=s[i].abbr.toUpperCase(),c=s[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(l===t)return s[i];break;case"NNNN":if(a===t)return s[i];break;case"NNNNN":if(c===t)return s[i];break}else if([a,l,c].indexOf(t)>=0)return s[i]}function cme(t,e){var n=t.since<=t.until?1:-1;return e===void 0?$e(t.since).year():$e(t.since).year()+(e-t.offset)*n}function ume(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].name;return""}function dme(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].narrow;return""}function fme(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].abbr;return""}function hme(){var t,e,n,i,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t)if(n=o[t].since<=o[t].until?1:-1,i=this.clone().startOf("day").valueOf(),o[t].since<=i&&i<=o[t].until||o[t].until<=i&&i<=o[t].since)return(this.year()-$e(o[t].since).year())*n+o[t].offset;return this.year()}function pme(t){return fn(this,"_erasNameRegex")||qT.call(this),t?this._erasNameRegex:this._erasRegex}function mme(t){return fn(this,"_erasAbbrRegex")||qT.call(this),t?this._erasAbbrRegex:this._erasRegex}function gme(t){return fn(this,"_erasNarrowRegex")||qT.call(this),t?this._erasNarrowRegex:this._erasRegex}function WT(t,e){return e.erasAbbrRegex(t)}function vme(t,e){return e.erasNameRegex(t)}function yme(t,e){return e.erasNarrowRegex(t)}function _me(t,e){return e._eraYearOrdinalRegex||Cf}function qT(){var t=[],e=[],n=[],i=[],o,s,a=this.eras();for(o=0,s=a.length;o<s;++o)e.push(ps(a[o].name)),t.push(ps(a[o].abbr)),n.push(ps(a[o].narrow)),i.push(ps(a[o].name)),i.push(ps(a[o].abbr)),i.push(ps(a[o].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}yt(0,["gg",2],0,function(){return this.weekYear()%100});yt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function t_(t,e){yt(0,[t,t.length],0,e)}t_("gggg","weekYear");t_("ggggg","weekYear");t_("GGGG","isoWeekYear");t_("GGGGG","isoWeekYear");pi("weekYear","gg");pi("isoWeekYear","GG");mi("weekYear",1);mi("isoWeekYear",1);ot("G",zy);ot("g",zy);ot("GG",Gn,hs);ot("gg",Gn,hs);ot("GGGG",IT,LT);ot("gggg",IT,LT);ot("GGGGG",Hy,By);ot("ggggg",Hy,By);Ym(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=Yt(t)});Ym(["gg","GG"],function(t,e,n,i){e[i]=$e.parseTwoDigitYear(t)});function bme(t){return X9.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Eme(t){return X9.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function wme(){return Wa(this.year(),1,4)}function xme(){return Wa(this.isoWeekYear(),1,4)}function Sme(){var t=this.localeData()._week;return Wa(this.year(),t.dow,t.doy)}function Tme(){var t=this.localeData()._week;return Wa(this.weekYear(),t.dow,t.doy)}function X9(t,e,n,i,o){var s;return t==null?Jm(this,i,o).year:(s=Wa(t,i,o),e>s&&(e=s),Cme.call(this,t,e,n,i,o))}function Cme(t,e,n,i,o){var s=M9(t,e,n,i,o),a=Xm(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}yt("Q",0,"Qo","quarter");pi("quarter","Q");mi("quarter",7);ot("Q",v9);Tn("Q",function(t,e){e[Ga]=(Yt(t)-1)*3});function Mme(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}yt("D",["DD",2],"Do","date");pi("date","D");mi("date",9);ot("D",Gn);ot("DD",Gn,hs);ot("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Tn(["D","DD"],Zo);Tn("Do",function(t,e){e[Zo]=Yt(t.match(Gn)[0])});var J9=Tf("Date",!0);yt("DDD",["DDDD",3],"DDDo","dayOfYear");pi("dayOfYear","DDD");mi("dayOfYear",4);ot("DDD",Vy);ot("DDDD",y9);Tn(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Yt(t)});function Ame(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}yt("m",["mm",2],0,"minute");pi("minute","m");mi("minute",14);ot("m",Gn);ot("mm",Gn,hs);Tn(["m","mm"],bo);var Pme=Tf("Minutes",!1);yt("s",["ss",2],0,"second");pi("second","s");mi("second",15);ot("s",Gn);ot("ss",Gn,hs);Tn(["s","ss"],$a);var Rme=Tf("Seconds",!1);yt("S",0,0,function(){return~~(this.millisecond()/100)});yt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});yt(0,["SSS",3],0,"millisecond");yt(0,["SSSS",4],0,function(){return this.millisecond()*10});yt(0,["SSSSS",5],0,function(){return this.millisecond()*100});yt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});yt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});yt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});yt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});pi("millisecond","ms");mi("millisecond",16);ot("S",Vy,v9);ot("SS",Vy,hs);ot("SSS",Vy,y9);var gc,Z9;for(gc="SSSS";gc.length<=9;gc+="S")ot(gc,Cf);function Lme(t,e){e[Lu]=Yt(("0."+t)*1e3)}for(gc="S";gc.length<=9;gc+="S")Tn(gc,Lme);Z9=Tf("Milliseconds",!1);yt("z",0,0,"zoneAbbr");yt("zz",0,0,"zoneName");function Ime(){return this._isUTC?"UTC":""}function Ome(){return this._isUTC?"Coordinated Universal Time":""}var je=$m.prototype;je.add=Tpe;je.calendar=Ipe;je.clone=Ope;je.diff=Bpe;je.endOf=Xpe;je.format=Gpe;je.from=$pe;je.fromNow=Wpe;je.to=qpe;je.toNow=Ype;je.get=Dfe;je.invalidAt=sme;je.isAfter=Npe;je.isBefore=kpe;je.isBetween=Dpe;je.isSame=Fpe;je.isSameOrAfter=Upe;je.isSameOrBefore=jpe;je.isValid=rme;je.lang=$9;je.locale=G9;je.localeData=W9;je.max=rpe;je.min=npe;je.parsingFlags=ime;je.set=Ffe;je.startOf=Kpe;je.subtract=Cpe;je.toArray=eme;je.toObject=tme;je.toDate=Qpe;je.toISOString=Hpe;je.inspect=zpe;typeof Symbol!="undefined"&&Symbol.for!=null&&(je[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});je.toJSON=nme;je.toString=Vpe;je.unix=Zpe;je.valueOf=Jpe;je.creationData=ome;je.eraName=ume;je.eraNarrow=dme;je.eraAbbr=fme;je.eraYear=hme;je.year=C9;je.isLeapYear=nhe;je.weekYear=bme;je.isoWeekYear=Eme;je.quarter=je.quarters=Mme;je.month=S9;je.daysInMonth=Qfe;je.week=je.weeks=lhe;je.isoWeek=je.isoWeeks=che;je.weeksInYear=Sme;je.weeksInWeekYear=Tme;je.isoWeeksInYear=wme;je.isoWeeksInISOWeekYear=xme;je.date=J9;je.day=je.days=whe;je.weekday=xhe;je.isoWeekday=She;je.dayOfYear=Ame;je.hour=je.hours=Lhe;je.minute=je.minutes=Pme;je.second=je.seconds=Rme;je.millisecond=je.milliseconds=Z9;je.utcOffset=fpe;je.utc=ppe;je.local=mpe;je.parseZone=gpe;je.hasAlignedHourOffset=vpe;je.isDST=ype;je.isLocal=bpe;je.isUtcOffset=Epe;je.isUtc=j9;je.isUTC=j9;je.zoneAbbr=Ime;je.zoneName=Ome;je.dates=Gs("dates accessor is deprecated. Use date instead.",J9);je.months=Gs("months accessor is deprecated. Use month instead",S9);je.years=Gs("years accessor is deprecated. Use year instead",C9);je.zone=Gs("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",hpe);je.isDSTShifted=Gs("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_pe);function Nme(t){return $n(t*1e3)}function kme(){return $n.apply(null,arguments).parseZone()}function Q9(t){return t}var hn=CT.prototype;hn.calendar=wfe;hn.longDateFormat=Cfe;hn.invalidDate=Afe;hn.ordinal=Lfe;hn.preparse=Q9;hn.postformat=Q9;hn.relativeTime=Ofe;hn.pastFuture=Nfe;hn.set=bfe;hn.eras=ame;hn.erasParse=lme;hn.erasConvertYear=cme;hn.erasAbbrRegex=mme;hn.erasNameRegex=pme;hn.erasNarrowRegex=gme;hn.months=Kfe;hn.monthsShort=Xfe;hn.monthsParse=Zfe;hn.monthsRegex=the;hn.monthsShortRegex=ehe;hn.week=ihe;hn.firstDayOfYear=ahe;hn.firstDayOfWeek=ohe;hn.weekdays=vhe;hn.weekdaysMin=_he;hn.weekdaysShort=yhe;hn.weekdaysParse=Ehe;hn.weekdaysRegex=The;hn.weekdaysShortRegex=Che;hn.weekdaysMinRegex=Mhe;hn.isPM=Phe;hn.meridiem=Ihe;function n_(t,e,n,i){var o=qa(),s=Ko().set(i,e);return o[n](s,t)}function e7(t,e,n){if(za(t)&&(e=t,t=void 0),t=t||"",e!=null)return n_(t,e,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=n_(t,i,n,"month");return o}function YT(t,e,n,i){typeof t=="boolean"?(za(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,za(e)&&(n=e,e=void 0),e=e||"");var o=qa(),s=t?o._week.dow:0,a,l=[];if(n!=null)return n_(e,(n+s)%7,i,"day");for(a=0;a<7;a++)l[a]=n_(e,(a+s)%7,i,"day");return l}function Dme(t,e){return e7(t,e,"months")}function Fme(t,e){return e7(t,e,"monthsShort")}function Ume(t,e,n){return YT(t,e,n,"weekdays")}function jme(t,e,n){return YT(t,e,n,"weekdaysShort")}function Bme(t,e,n){return YT(t,e,n,"weekdaysMin")}mc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Yt(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});$e.lang=Gs("moment.lang is deprecated. Use moment.locale instead.",mc);$e.langData=Gs("moment.langData is deprecated. Use moment.localeData instead.",qa);var Ya=Math.abs;function Vme(){var t=this._data;return this._milliseconds=Ya(this._milliseconds),this._days=Ya(this._days),this._months=Ya(this._months),t.milliseconds=Ya(t.milliseconds),t.seconds=Ya(t.seconds),t.minutes=Ya(t.minutes),t.hours=Ya(t.hours),t.months=Ya(t.months),t.years=Ya(t.years),this}function t7(t,e,n,i){var o=Eo(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function Hme(t,e){return t7(this,t,e,1)}function zme(t,e){return t7(this,t,e,-1)}function n7(t){return t<0?Math.floor(t):Math.ceil(t)}function Gme(){var t=this._milliseconds,e=this._days,n=this._months,i=this._data,o,s,a,l,c;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=n7(KT(n)+e)*864e5,e=0,n=0),i.milliseconds=t%1e3,o=Ws(t/1e3),i.seconds=o%60,s=Ws(o/60),i.minutes=s%60,a=Ws(s/60),i.hours=a%24,e+=Ws(a/24),c=Ws(r7(e)),n+=c,e-=n7(KT(c)),l=Ws(n/12),n%=12,i.days=e,i.months=n,i.years=l,this}function r7(t){return t*4800/146097}function KT(t){return t*146097/4800}function $me(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if(t=$s(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+i/864e5,n=this._months+r7(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(KT(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return e*24+i/36e5;case"minute":return e*1440+i/6e4;case"second":return e*86400+i/1e3;case"millisecond":return Math.floor(e*864e5)+i;default:throw new Error("Unknown unit "+t)}}function Wme(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Yt(this._months/12)*31536e6:NaN}function Ka(t){return function(){return this.as(t)}}var qme=Ka("ms"),Yme=Ka("s"),Kme=Ka("m"),Xme=Ka("h"),Jme=Ka("d"),Zme=Ka("w"),Qme=Ka("M"),ege=Ka("Q"),tge=Ka("y");function nge(){return Eo(this)}function rge(t){return t=$s(t),this.isValid()?this[t+"s"]():NaN}function Ou(t){return function(){return this.isValid()?this._data[t]:NaN}}var ige=Ou("milliseconds"),sge=Ou("seconds"),oge=Ou("minutes"),age=Ou("hours"),lge=Ou("days"),cge=Ou("months"),uge=Ou("years");function dge(){return Ws(this.days()/7)}var Xa=Math.round,Rf={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function fge(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function hge(t,e,n,i){var o=Eo(t).abs(),s=Xa(o.as("s")),a=Xa(o.as("m")),l=Xa(o.as("h")),c=Xa(o.as("d")),u=Xa(o.as("M")),d=Xa(o.as("w")),f=Xa(o.as("y")),h=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||a<=1&&["m"]||a<n.m&&["mm",a]||l<=1&&["h"]||l<n.h&&["hh",l]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(h=h||d<=1&&["w"]||d<n.w&&["ww",d]),h=h||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],h[2]=e,h[3]=+t>0,h[4]=i,fge.apply(null,h)}function pge(t){return t===void 0?Xa:typeof t=="function"?(Xa=t,!0):!1}function mge(t,e){return Rf[t]===void 0?!1:e===void 0?Rf[t]:(Rf[t]=e,t==="s"&&(Rf.ss=e-1),!0)}function gge(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=Rf,o,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(i=Object.assign({},Rf,e),e.s!=null&&e.ss==null&&(i.ss=e.s-1)),o=this.localeData(),s=hge(this,!n,i,o),n&&(s=o.pastFuture(+this,s)),o.postformat(s)}var XT=Math.abs;function Lf(t){return(t>0)-(t<0)||+t}function r_(){if(!this.isValid())return this.localeData().invalidDate();var t=XT(this._milliseconds)/1e3,e=XT(this._days),n=XT(this._months),i,o,s,a,l=this.asSeconds(),c,u,d,f;return l?(i=Ws(t/60),o=Ws(i/60),t%=60,i%=60,s=Ws(n/12),n%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",u=Lf(this._months)!==Lf(l)?"-":"",d=Lf(this._days)!==Lf(l)?"-":"",f=Lf(this._milliseconds)!==Lf(l)?"-":"",c+"P"+(s?u+s+"Y":"")+(n?u+n+"M":"")+(e?d+e+"D":"")+(o||i||t?"T":"")+(o?f+o+"H":"")+(i?f+i+"M":"")+(t?f+a+"S":"")):"P0D"}var on=Xy.prototype;on.isValid=lpe;on.abs=Vme;on.add=Hme;on.subtract=zme;on.as=$me;on.asMilliseconds=qme;on.asSeconds=Yme;on.asMinutes=Kme;on.asHours=Xme;on.asDays=Jme;on.asWeeks=Zme;on.asMonths=Qme;on.asQuarters=ege;on.asYears=tge;on.valueOf=Wme;on._bubble=Gme;on.clone=nge;on.get=rge;on.milliseconds=ige;on.seconds=sge;on.minutes=oge;on.hours=age;on.days=lge;on.weeks=dge;on.months=cge;on.years=uge;on.humanize=gge;on.toISOString=r_;on.toString=r_;on.toJSON=r_;on.locale=G9;on.localeData=W9;on.toIsoString=Gs("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",r_);on.lang=$9;yt("X",0,0,"unix");yt("x",0,0,"valueOf");ot("x",zy);ot("X",jfe);Tn("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Tn("x",function(t,e,n){n._d=new Date(Yt(t))});//! moment.js
$e.version="2.29.1";yfe($n);$e.fn=je;$e.min=ipe;$e.max=spe;$e.now=ope;$e.utc=Ko;$e.unix=Nme;$e.months=Dme;$e.isDate=Gm;$e.locale=mc;$e.invalid=ky;$e.duration=Eo;$e.isMoment=_o;$e.weekdays=Ume;$e.parseZone=kme;$e.localeData=qa;$e.isDuration=Jy;$e.monthsShort=Fme;$e.weekdaysMin=Bme;$e.defineLocale=FT;$e.updateLocale=khe;$e.locales=Dhe;$e.weekdaysShort=jme;$e.normalizeUnits=$s;$e.relativeTimeRounding=pge;$e.relativeTimeThreshold=mge;$e.calendarFormat=Lpe;$e.prototype=je;$e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var vge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$e}),yge=Yo,_ge=function(){return yge.Date.now()},bge=_ge,Ege=/\s/;function wge(t){for(var e=t.length;e--&&Ege.test(t.charAt(e)););return e}var xge=wge,Sge=xge,Tge=/^\s+/;function Cge(t){return t&&t.slice(0,Sge(t)+1).replace(Tge,"")}var Mge=Cge,Age=Mge,i7=Ba,Pge=wy,s7=0/0,Rge=/^[-+]0x[0-9a-f]+$/i,Lge=/^0b[01]+$/i,Ige=/^0o[0-7]+$/i,Oge=parseInt;function Nge(t){if(typeof t=="number")return t;if(Pge(t))return s7;if(i7(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=i7(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Age(t);var n=Lge.test(t);return n||Ige.test(t)?Oge(t.slice(2),n?2:8):Rge.test(t)?s7:+t}var JT=Nge,kge=Ba,ZT=bge,o7=JT,Dge="Expected a function",Fge=Math.max,Uge=Math.min;function jge(t,e,n){var i,o,s,a,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Dge);e=o7(e)||0,kge(n)&&(d=!!n.leading,f="maxWait"in n,s=f?Fge(o7(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function v(R){var A=i,L=o;return i=o=void 0,u=R,a=t.apply(L,A),a}function m(R){return u=R,l=setTimeout(E,e),d?v(R):a}function _(R){var A=R-c,L=R-u,k=e-A;return f?Uge(k,s-L):k}function S(R){var A=R-c,L=R-u;return c===void 0||A>=e||A<0||f&&L>=s}function E(){var R=ZT();if(S(R))return w(R);l=setTimeout(E,_(R))}function w(R){return l=void 0,h&&i?v(R):(i=o=void 0,a)}function T(){l!==void 0&&clearTimeout(l),u=0,i=c=o=l=void 0}function C(){return l===void 0?a:w(ZT())}function P(){var R=ZT(),A=S(R);if(i=arguments,o=this,c=R,A){if(l===void 0)return m(c);if(f)return clearTimeout(l),l=setTimeout(E,e),v(c)}return l===void 0&&(l=setTimeout(E,e)),a}return P.cancel=T,P.flush=C,P}var tg=jge,Bge=Py,Vge=zk,Hge=$k;function zge(t,e){return Hge(Vge(t,e,Bge),t+"")}var Gge=zge,$ge=bk,Wge=dT;function qge(t){return t!=null&&Wge(t.length)&&!$ge(t)}var QT=qge,Yge=Um,Kge=QT,Xge=Ay,Jge=Ba;function Zge(t,e,n){if(!Jge(n))return!1;var i=typeof e;return(i=="number"?Kge(n)&&Xge(e,n.length):i=="string"&&e in n)?Yge(n[e],t):!1}var Qge=Zge;function e0e(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var a7=e0e,i_={exports:{}};function t0e(){return!1}var n0e=t0e;(function(t,e){var n=Yo,i=n0e,o=e&&!e.nodeType&&e,s=o&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===o,l=a?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||i;t.exports=u})(i_,i_.exports);var r0e=Dm,i0e=dT,s0e=Fm,o0e="[object Arguments]",a0e="[object Array]",l0e="[object Boolean]",c0e="[object Date]",u0e="[object Error]",d0e="[object Function]",f0e="[object Map]",h0e="[object Number]",p0e="[object Object]",m0e="[object RegExp]",g0e="[object Set]",v0e="[object String]",y0e="[object WeakMap]",_0e="[object ArrayBuffer]",b0e="[object DataView]",E0e="[object Float32Array]",w0e="[object Float64Array]",x0e="[object Int8Array]",S0e="[object Int16Array]",T0e="[object Int32Array]",C0e="[object Uint8Array]",M0e="[object Uint8ClampedArray]",A0e="[object Uint16Array]",P0e="[object Uint32Array]",Wn={};Wn[E0e]=Wn[w0e]=Wn[x0e]=Wn[S0e]=Wn[T0e]=Wn[C0e]=Wn[M0e]=Wn[A0e]=Wn[P0e]=!0;Wn[o0e]=Wn[a0e]=Wn[_0e]=Wn[l0e]=Wn[b0e]=Wn[c0e]=Wn[u0e]=Wn[d0e]=Wn[f0e]=Wn[h0e]=Wn[p0e]=Wn[m0e]=Wn[g0e]=Wn[v0e]=Wn[y0e]=!1;function R0e(t){return s0e(t)&&i0e(t.length)&&!!Wn[r0e(t)]}var L0e=R0e;function I0e(t){return function(e){return t(e)}}var O0e=I0e,e5={exports:{}};(function(t,e){var n=mk,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s&&n.process,l=function(){try{var c=o&&o.require&&o.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();t.exports=l})(e5,e5.exports);var N0e=L0e,k0e=O0e,l7=e5.exports,c7=l7&&l7.isTypedArray,D0e=c7?k0e(c7):N0e,u7=D0e,F0e=a7,U0e=uT,j0e=qo,B0e=i_.exports,V0e=Ay,H0e=u7,z0e=Object.prototype,G0e=z0e.hasOwnProperty;function $0e(t,e){var n=j0e(t),i=!n&&U0e(t),o=!n&&!i&&B0e(t),s=!n&&!i&&!o&&H0e(t),a=n||i||o||s,l=a?F0e(t.length,String):[],c=l.length;for(var u in t)(e||G0e.call(t,u))&&!(a&&(u=="length"||o&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||V0e(u,c)))&&l.push(u);return l}var d7=$0e,W0e=Object.prototype;function q0e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||W0e;return t===n}var f7=q0e;function Y0e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var K0e=Y0e,X0e=Ba,J0e=f7,Z0e=K0e,Q0e=Object.prototype,eve=Q0e.hasOwnProperty;function tve(t){if(!X0e(t))return Z0e(t);var e=J0e(t),n=[];for(var i in t)i=="constructor"&&(e||!eve.call(t,i))||n.push(i);return n}var nve=tve,rve=d7,ive=nve,sve=QT;function ove(t){return sve(t)?rve(t,!0):ive(t)}var ave=ove,lve=Gge,cve=Um,uve=Qge,dve=ave,h7=Object.prototype,fve=h7.hasOwnProperty,hve=lve(function(t,e){t=Object(t);var n=-1,i=e.length,o=i>2?e[2]:void 0;for(o&&uve(e[0],e[1],o)&&(i=1);++n<i;)for(var s=e[n],a=dve(s),l=-1,c=a.length;++l<c;){var u=a[l],d=t[u];(d===void 0||cve(d,h7[u])&&!fve.call(t,u))&&(t[u]=s[u])}return t}),Nu=hve;const p7=Symbol("Comlink.proxy"),pve=Symbol("Comlink.endpoint"),m7=Symbol("Comlink.releaseProxy"),t5=Symbol("Comlink.thrown"),g7=t=>typeof t=="object"&&t!==null||typeof t=="function",mve={canHandle:t=>g7(t)&&t[p7],serialize(t){const{port1:e,port2:n}=new MessageChannel;return y7(t,e),[n,[n]]},deserialize(t){return t.start(),b7(t)}},gve={canHandle:t=>g7(t)&&t5 in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},v7=new Map([["proxy",mve],["throw",gve]]);function y7(t,e=self){e.addEventListener("message",function n(i){if(!i||!i.data)return;const{id:o,type:s,path:a}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(ku);let c;try{const u=a.slice(0,-1).reduce((f,h)=>f[h],t),d=a.reduce((f,h)=>f[h],t);switch(s){case"GET":c=d;break;case"SET":u[a.slice(-1)[0]]=ku(i.data.value),c=!0;break;case"APPLY":c=d.apply(u,l);break;case"CONSTRUCT":{const f=new d(...l);c=bve(f)}break;case"ENDPOINT":{const{port1:f,port2:h}=new MessageChannel;y7(t,h),c=_ve(f,[f])}break;case"RELEASE":c=void 0;break;default:return}}catch(u){c={value:u,[t5]:0}}Promise.resolve(c).catch(u=>({value:u,[t5]:0})).then(u=>{const[d,f]=r5(u);e.postMessage(Object.assign(Object.assign({},d),{id:o}),f),s==="RELEASE"&&(e.removeEventListener("message",n),_7(e))})}),e.start&&e.start()}function vve(t){return t.constructor.name==="MessagePort"}function _7(t){vve(t)&&t.close()}function b7(t,e){return n5(t,[],e)}function s_(t){if(t)throw new Error("Proxy has been released and is not useable")}function n5(t,e=[],n=function(){}){let i=!1;const o=new Proxy(n,{get(s,a){if(s_(i),a===m7)return()=>If(t,{type:"RELEASE",path:e.map(l=>l.toString())}).then(()=>{_7(t),i=!0});if(a==="then"){if(e.length===0)return{then:()=>o};const l=If(t,{type:"GET",path:e.map(c=>c.toString())}).then(ku);return l.then.bind(l)}return n5(t,[...e,a])},set(s,a,l){s_(i);const[c,u]=r5(l);return If(t,{type:"SET",path:[...e,a].map(d=>d.toString()),value:c},u).then(ku)},apply(s,a,l){s_(i);const c=e[e.length-1];if(c===pve)return If(t,{type:"ENDPOINT"}).then(ku);if(c==="bind")return n5(t,e.slice(0,-1));const[u,d]=E7(l);return If(t,{type:"APPLY",path:e.map(f=>f.toString()),argumentList:u},d).then(ku)},construct(s,a){s_(i);const[l,c]=E7(a);return If(t,{type:"CONSTRUCT",path:e.map(u=>u.toString()),argumentList:l},c).then(ku)}});return o}function yve(t){return Array.prototype.concat.apply([],t)}function E7(t){const e=t.map(r5);return[e.map(n=>n[0]),yve(e.map(n=>n[1]))]}const w7=new WeakMap;function _ve(t,e){return w7.set(t,e),t}function bve(t){return Object.assign(t,{[p7]:!0})}function r5(t){for(const[e,n]of v7)if(n.canHandle(t)){const[i,o]=n.serialize(t);return[{type:"HANDLER",name:e,value:i},o]}return[{type:"RAW",value:t},w7.get(t)||[]]}function ku(t){switch(t.type){case"HANDLER":return v7.get(t.name).deserialize(t.value);case"RAW":return t.value}}function If(t,e,n){return new Promise(i=>{const o=Eve();t.addEventListener("message",function s(a){!a.data||!a.data.id||a.data.id!==o||(t.removeEventListener("message",s),i(a.data))}),t.start&&t.start(),t.postMessage(Object.assign({id:o},e),n)})}function Eve(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var i5={},wve={},xve=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wve}),x7=$Q(xve),s5={};(function(t){function e(s,a){for(var l=0,c=s.length-1;c>=0;c--){var u=s[c];u==="."?s.splice(c,1):u===".."?(s.splice(c,1),l++):l&&(s.splice(c,1),l--)}if(a)for(;l--;l)s.unshift("..");return s}t.resolve=function(){for(var s="",a=!1,l=arguments.length-1;l>=-1&&!a;l--){var c=l>=0?arguments[l]:process.cwd();if(typeof c!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!c)continue;s=c+"/"+s,a=c.charAt(0)==="/"}return s=e(i(s.split("/"),function(u){return!!u}),!a).join("/"),(a?"/":"")+s||"."},t.normalize=function(s){var a=t.isAbsolute(s),l=o(s,-1)==="/";return s=e(i(s.split("/"),function(c){return!!c}),!a).join("/"),!s&&!a&&(s="."),s&&l&&(s+="/"),(a?"/":"")+s},t.isAbsolute=function(s){return s.charAt(0)==="/"},t.join=function(){var s=Array.prototype.slice.call(arguments,0);return t.normalize(i(s,function(a,l){if(typeof a!="string")throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},t.relative=function(s,a){s=t.resolve(s).substr(1),a=t.resolve(a).substr(1);function l(m){for(var _=0;_<m.length&&m[_]==="";_++);for(var S=m.length-1;S>=0&&m[S]==="";S--);return _>S?[]:m.slice(_,S-_+1)}for(var c=l(s.split("/")),u=l(a.split("/")),d=Math.min(c.length,u.length),f=d,h=0;h<d;h++)if(c[h]!==u[h]){f=h;break}for(var v=[],h=f;h<c.length;h++)v.push("..");return v=v.concat(u.slice(f)),v.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(s){if(typeof s!="string"&&(s=s+""),s.length===0)return".";for(var a=s.charCodeAt(0),l=a===47,c=-1,u=!0,d=s.length-1;d>=1;--d)if(a=s.charCodeAt(d),a===47){if(!u){c=d;break}}else u=!1;return c===-1?l?"/":".":l&&c===1?"/":s.slice(0,c)};function n(s){typeof s!="string"&&(s=s+"");var a=0,l=-1,c=!0,u;for(u=s.length-1;u>=0;--u)if(s.charCodeAt(u)===47){if(!c){a=u+1;break}}else l===-1&&(c=!1,l=u+1);return l===-1?"":s.slice(a,l)}t.basename=function(s,a){var l=n(s);return a&&l.substr(-1*a.length)===a&&(l=l.substr(0,l.length-a.length)),l},t.extname=function(s){typeof s!="string"&&(s=s+"");for(var a=-1,l=0,c=-1,u=!0,d=0,f=s.length-1;f>=0;--f){var h=s.charCodeAt(f);if(h===47){if(!u){l=f+1;break}continue}c===-1&&(u=!1,c=f+1),h===46?a===-1?a=f:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===l+1?"":s.slice(a,c)};function i(s,a){if(s.filter)return s.filter(a);for(var l=[],c=0;c<s.length;c++)a(s[c],c,s)&&l.push(s[c]);return l}var o="ab".substr(-1)==="b"?function(s,a,l){return s.substr(a,l)}:function(s,a,l){return a<0&&(a=s.length+a),s.substr(a,l)}})(s5);const Sve=x7,S7=s5,Tve=x7;function T7(t){console.log(`[dotenv][DEBUG] ${t}`)}const Cve=`
`,Mve=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,Ave=/\\n/g,Pve=/\r\n|\n|\r/;function C7(t,e){const n=Boolean(e&&e.debug),i={};return t.toString().split(Pve).forEach(function(o,s){const a=o.match(Mve);if(a!=null){const l=a[1];let c=a[2]||"";const u=c.length-1,d=c[0]==='"'&&c[u]==='"';c[0]==="'"&&c[u]==="'"||d?(c=c.substring(1,u),d&&(c=c.replace(Ave,Cve))):c=c.trim(),i[l]=c}else n&&T7(`did not match key and value when parsing line ${s+1}: ${o}`)}),i}function Rve(t){return t[0]==="~"?S7.join(Tve.homedir(),t.slice(1)):t}function Lve(t){let e=S7.resolve(process.cwd(),".env"),n="utf8",i=!1;t&&(t.path!=null&&(e=Rve(t.path)),t.encoding!=null&&(n=t.encoding),t.debug!=null&&(i=!0));try{const o=C7(Sve.readFileSync(e,{encoding:n}),{debug:i});return Object.keys(o).forEach(function(s){Object.prototype.hasOwnProperty.call(process.env,s)?i&&T7(`"${s}" is already defined in \`process.env\` and will not be overwritten`):process.env[s]=o[s]}),{parsed:o}}catch(o){return{error:o}}}i5.config=Lve;i5.parse=C7;var M7=function(){if(!("WebSocket"in window))return function(){return{open:function(){},setURL:function(){},close:function(){}}};function t(e,n,i){var o={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null,binaryType:"blob"};i||(i={});for(var s in o)typeof i[s]!="undefined"?this[s]=i[s]:this[s]=o[s];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var a=this,l,c=!1,u=!1,d=document.createElement("div");d.addEventListener("open",function(h){a.onopen(h)}),d.addEventListener("close",function(h){a.onclose(h)}),d.addEventListener("connecting",function(h){a.onconnecting(h)}),d.addEventListener("message",function(h){a.onmessage(h)}),d.addEventListener("error",function(h){a.onerror(h)}),this.addEventListener=d.addEventListener.bind(d),this.removeEventListener=d.removeEventListener.bind(d),this.dispatchEvent=d.dispatchEvent.bind(d);function f(h,v=null){var m=document.createEvent("CustomEvent");return m.initCustomEvent(h,!1,!1,v),m}this.open=function(h){if(c=!1,l=new WebSocket(a.url,n||[]),l.binaryType=this.binaryType,h){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else d.dispatchEvent(f("connecting")),this.reconnectAttempts=0;(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",a.url);var v=l,m=setTimeout(function(){(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",a.url),u=!0,v.close(),u=!1},a.timeoutInterval);l.onopen=function(_){clearTimeout(m),(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","onopen",a.url),a.protocol=l.protocol,a.readyState=WebSocket.OPEN,a.reconnectAttempts=0;var S=f("open");S.isReconnect=h,h=!1,d.dispatchEvent(S)},l.onclose=function(_){if(clearTimeout(E),l=null,c)a.readyState=WebSocket.CLOSED,d.dispatchEvent(f("close")),c=!1;else{a.readyState=WebSocket.CONNECTING;var S=f("connecting");S.code=_.code,S.reason=_.reason,S.wasClean=_.wasClean,d.dispatchEvent(S),!h&&!u&&((a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","onclose",a.url),d.dispatchEvent(f("close")));var E=a.reconnectInterval*Math.pow(a.reconnectDecay,a.reconnectAttempts);setTimeout(function(){a.reconnectAttempts++,a.open(!0)},E>a.maxReconnectInterval?a.maxReconnectInterval:E)}},l.onmessage=function(_){(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",a.url,_.data);var S=f("message");S.data=_.data,d.dispatchEvent(S)},l.onerror=function(_){(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","onerror",a.url,_),d.dispatchEvent(f("error"))}},this.automaticOpen==!0&&this.open(!1),this.send=function(h){if(l)return(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","send",a.url,h),l.send(h);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(h,v){typeof h=="undefined"&&(h=1e3),c=!0,l&&l.close(h,v)},this.refresh=function(){l&&l.close()},this.setURL=function(h){this.url=h}}return t.prototype.onopen=function(e){},t.prototype.onclose=function(e){},t.prototype.onconnecting=function(e){},t.prototype.onmessage=function(e){},t.prototype.onerror=function(e){},t.debugAll=!1,t.CONNECTING=WebSocket.CONNECTING,t.OPEN=WebSocket.OPEN,t.CLOSING=WebSocket.CLOSING,t.CLOSED=WebSocket.CLOSED,t}();const A7=window||{};function Ive({randomId:t,setTimeoutMock:e,clearTimeoutMock:n,application:i}){const o=e||A7.setTimeout,s=n||A7.clearTimeout,a=t();let l=null;const c={};let u=null,d=null;const f=new Map,h=[],v=function(B){return(B.force||z.ws.isOpen)&&z.ws.send(JSON.stringify(B)),z.ws.isOpen},m=function(B){const H=JSON.parse(JSON.stringify(B));return l.stripAddedFields(H),v({type:"client-oplist",opList:H})},_=function(B,H){let{content:W}=B;for(let G=H.length-1;G>=0;G--){const q=H[G];for(let re=q.ops.length-1;re>=0;re--){const se=q.ops[re];if(se.docId===B.docId)switch(se.type){case"insert":W=W.substring(0,se.position)+W.substring(se.position+se.text.length);break;case"remove":W=W.substring(0,se.position)+se.text+W.substring(se.position);break}}}return W},S=function(){const B=[u.opList];(d!=null?d.opList.ops.length:void 0)>0&&B.push(d.opList);const H={},W={},G={};for(const re of B)for(const se of re.ops)se.type==="unlink"&&(W[se.docId]=!0);const q=[];for(const re of B)for(const se of re.ops){switch(se.type){case"add":if(H[se.docId]=!0,W[se.docId])continue;G[se.docId]=!0;break;case"rename":if(H[se.docId]&&W[se.docId])continue;break;case"unlink":if(H[se.docId])continue;break;case"insert":case"remove":if(W[se.docId])continue;if(!G[se.docId]){const ge=_(l.document(se.docId),B),_e=l.applyEdit(ge,se);se.type="set-content",se.content=_e,delete se.text,G[se.docId]=!0}break}q.push(se)}if(q.length>0)return v({type:"resolve-offline-edits",ops:q,force:!0})},E=function(B){if(i.editorIsPreviewingRewind()){i.receivedMasterStateDuringRewind(!0);return}u&&S(),l=nee({state:B});for(const H in c){const W=c[H];s(W),delete c[H]}u&&u.resolve(),(d!=null?d.opList.ops.length:void 0)>0&&d.resolve(),u=null,U(),z.ws.isOpen=!0,O("connected",z.ws.isOpen),O("new-state",B)},w=function(B){var W;let H;if(i.editorIsPreviewingRewind()){i.receivedMasterStateDuringRewind(!0);return}B[0]&&B[0].id===((W=u==null?void 0:u.opList)==null?void 0:W.id)&&(l.setVersion(B[0].version+1),H=B.shift(),u.resolve(H),u=null);for(H of B)T(H,{doNotHandleQueued:!0});z.ws.isOpen=!0,O("connected",z.ws.isOpen),k()},T=function(B,{doNotHandleQueued:H}={}){if(i.editorIsPreviewingRewind()){h.push(B);return}I(B),l.apply(B),l.setVersion(B.version+1),O("oplist",B),H||k()},C=function({document:B,missingDocId:H}){let W;if(H){W=l.document(H),W.reject(new Error(`document ${W.docId} not found on the server`));return}W=l.document(B.docId),l.registerDocument(B.docId,B),W.resolve(W)},P=function(B){s(c[B.id]),delete c[B.id]},R=function(B){l.setVersion(B.version+1),s(c[B.id]),delete c[B.id],u.resolve(B),u=null,k()},A=function(B){l.setVersion(B+1),O("accepted-offline-edits")},L=B=>O("broadcast",B),k=function(){!u&&d.opList.ops.length>0&&(u=d,U()),u&&(u.opList.id=t(),u.opList.version=l.version(),m(u.opList)&&(c[u.opList.id]=o(N(u.opList),5e3)))},U=function(){d={opList:{ops:[]}};const B=new Promise(function(H,W){d.resolve=H,d.reject=W});d.promise=B},N=B=>function(){delete c[B.id],z.ws.refresh()},I=function(B){u&&z.updateOps(u.opList.ops,B.ops),z.updateOps(d.opList.ops,B.ops)},F=()=>v({type:"master-state",clientId:a,lastSync:l!=null?l.lastSync():void 0,registeredDocIds:l!=null?l.registeredDocIds():void 0,force:!0}),O=(B,H=null)=>Array.from(f.values()).map(W=>W(B,H)),V=function(B){l.apply(B),O("oplist",B)},z={ws:new M7(void 0,null,{automaticOpen:!1,timeoutInterval:15e3,reconnectInterval:1e3,maxReconnectInterval:5e3}),handleEvent(B){switch(B.type){case"open":F();break;case"message":const H=JSON.parse(B.data);switch(H.type){case"master-state":E(H.state);break;case"master-state-update":w(H.opLists);break;case"master-oplist":T(H.opList);break;case"register-document":C(H);break;case"rejected-oplist":P(H.opList);break;case"accepted-oplist":R(H.opList);break;case"accepted-offline-edits":A(H.version);break;case"broadcast":L(H.payload);break;case"lint-results":i.updateBackendLintingResults(H.filePath,H.results);break;case"error":H.errorCode==="OWNER_NOT_IN_GOOD_STANDING"?i.ownerNotInGoodStandingOverlayVisible(!0):H.errorCode==="UPTIME_LIMITS_EXCEEDED"?i.uptimeLimitsExceededOverlayVisible(!0):H.errorCode==="ANONYMOUS_PROJECT_DELETED"?i.anonymousProjectDeletedOverlayVisible(!0):H.errorCode==="GLITCH_SUBSCRIPTION_REQUIRED"&&i.glitchSubscriptionRequiredOverlayVisible(!0),z.ws.close(3e3);break}H.canBroadcast!=null&&O("can-broadcast",H.canBroadcast);break;case"close":z.ws.isOpen=!1;for(const W in c){const G=c[W];s(G),delete c[W]}O("connected",z.ws.isOpen);break}},connect(B){return new Promise((H,W)=>{i.notifyConnectionNotEstablished(!1),i.notifyGenericError(!1),z.ws.setURL(B);let G=3;z.ws.isOpen?z.ws.refresh():(z.ws.open(),z.ws.onclose=q=>{if(q.code!==1e3){if(q.code===3e3||i.uptimeLimitsExceededOverlayVisible()||i.anonymousProjectDeletedOverlayVisible()||i.glitchSubscriptionRequiredOverlayVisible())return;navigator.onLine||i.notifyGenericError({message:"You are offline. Please connect to the Internet and try again."})}z.handleEvent(q)},z.ws.onopen=q=>{z.handleEvent(q)},z.ws.onerror=()=>{G-=1,G<=0&&(qi(new Error("Connection Error"),{tags:{errorType:"connectionError"}}),i.notifyConnectionNotEstablished(!0),z.ws.close(),W())},z.ws.onmessage=q=>{JSON.parse(q.data).type==="master-state"&&H(),G=3,z.handleEvent(q)})})},disconnect(){z.ws.close()},clientId(){return a},ot(){return l},isConnected(){return z.ws.isOpen},sendOps(B){let H;const W={id:t(),version:l.version(),ops:JSON.parse(JSON.stringify(B))};l.apply(W,{registerOnAdd:!0}),W.ops.some(q=>["add","rename","unlink"].includes(q.type))&&O("filetree-updated"),W.ops.forEach(q=>delete q.content);const G={id:W.id,version:W.version,ops:W.ops};return W.ops=B,u?(d.opList.ops=d.opList.ops.concat(G.ops),d.promise):(u={},H=new Promise(function(re,se){return u.resolve=re,u.reject=se}),u.promise=H,u.opList=G,m(W)&&(c[W.id]=o(N(W),5e3)),H)},sendBroadcast(B){return v({type:"broadcast",payload:B})},document(B){const H=l.document(B);if(H!=null?H.promise:void 0)return H.promise;const W=new Promise(function(G,q){var se;if(!H)return i.projectMachine.send({type:"CONNECT_TO_PROJECT",data:{domain:(se=i==null?void 0:i.currentProject())==null?void 0:se.domain()}}),q(new Error(`document ${B} not found`));if(H.resolve=G,H.reject=q,!v({type:"register-document",docId:B}))return q(new Error("connection is closed, retry"))});return H!=null&&(H.promise=W),W},async documentByPath(B){const H=l.documentByPath(B);if(!H)throw new Error(`document ${B} not found`);return await z.document(H.docId)},documentImmediate(B){return l.document(B)},documentByPathImmediate(B){return l.documentByPath(B)},idToPath(B){return l.idToPath(B)},updateOps(B,H){return B.map(W=>H.map(G=>l.updateOp(W,G,V)))},addEventListener(B,H){return f.set(B,H)},removeEventListener(B){return f.delete(B)},awaitAck(){return u},pending(){return d},timeoutHandlers(){return c},opListsReceivedDuringRewind(){return h}};return z}const Ove={coffee:!0,cson:!0,jade:!0,json:!0,pug:!0,ruby:!0,styl:!0,csv:!0},Nve=/(^text\/)|(^application\/json$)|(^application\/(x-)?javascript$)|(application\/xhtml\+xml$)/;function o5(t){let e;return t&&(e=t.match(/\.([^\.\/]*)$/))?e[1]:""}function P7(t){return t===".env"?"env":[{type:"image",extensions:["gif","ico","jpeg","jpg","png","svg"]},{type:"audio",extensions:["ogg","mp3","wav"]},{type:"pdf",extensions:["pdf"]},{type:"logic",extensions:["js","jsx","coffee","ts","rb","ruby","py","swift","tsx"]},{type:"data",extensions:["json","cson"]},{type:"info",extensions:["md","markdown","mdown","txt"]},{type:"view",extensions:["html","jade","jadelet","haml","hbs","ejs","pug"]},{type:"style",extensions:["css","less","stylus","styl"]}].reduce(function(n,i){return i.extensions.forEach(o=>n[o]=i.type),n},{})[o5(t)]||"other"}function ng(t){return t.preventDefault(),!1}function kve(t,e,n){for(var i=t.length,o=-1;n--&&o++<i&&(o=t.indexOf(e,o),!(o<0)););return o}function Dve(t){return[37,38,39,40,16,91,18,17].includes(t)}function o_(t){return t.type.match(Nve)||t.type===""&&Ove[o5(t.name).toLowerCase()]}function Fve(t,e){return e=e||"readAsText",new Promise(function(n,i){const o=new window.FileReader;return o.onload=()=>n(o.result),o.onerror=i,o[e](t)})}function Of(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15].map(()=>t[Math.floor(Math.random()*t.length)]).join("")}function a5(t){const e=["..","$","~","\\","*"];for(let n of e)if(t.indexOf(n)>-1)return!0;if(t.substring(0,1)==="/"||t.substr(-1)==="/")return!0}function R7(t){return t?t.replace(/https?\:\/\/[^\/]+\/[^\/]+\//,`${rT}/`):""}function L7(t){return new Promise(function(e,n){const i=new Image;return i.onload=()=>e(i),i.onerror=n,i.src=URL.createObjectURL(t)})}function I7(){try{return!!window.localStorage}catch{return!1}}function Uve({application:t,editor:e,otClient:n,randomId:i}){let o;i==null&&(i=Of);const s=st.Doc(""),a=500;let l=!1;const c={};let u=!1,d=!1,f=Promise.resolve(),h={},v=null;const m={},_=function(O,V,z=""){let B;return O.getEditor()&&(u=!0),O.getEditor()?B=O.getEditor().operation.bind(O.getEditor()):B=H=>H(),B(()=>(()=>{const H=[];for(let q of V){var W,G;switch((q.type==="insert"||q.type==="remove")&&(G=O.posFromIndex(q.position),W=O.posFromIndex(q.position+q.text.length)),q.type){case"insert":H.push(O.replaceRange(q.text,G,G,z));break;case"remove":H.push(O.replaceRange("",G,W,z));break;case"unlink":H.push(o.close(O.docId));break;default:H.push(void 0)}}return H})())},S=function(O){const V=w(O.ops);for(let z in V){const B=V[z];_(c[z],B),c[z]&&(E(c[z].undoStack,JSON.parse(JSON.stringify(B))),E(c[z].redoStack,B))}return f.then(o.renderRemoteSelections)};var E=function(O,V){if(!!O)return O.map(z=>n.updateOps(z,V))},w=function(O){const V=["insert","remove","unlink"],z={};for(let B of O)B.clientId||!c[B.docId]||V.indexOf(B.type)<0||(B.type==="insert"||B.type==="remove")&&B.text.length===0||(z[B.docId]||(z[B.docId]=[]),z[B.docId].push(B));return z};const T=O=>o.close(),C=function(O,V){if(!(!O||!O.readOnly&&!!jve(O.lastCursor(),z=>z.clientId)&&O.lastCursor().clientId!==V.clientId))return V.selection?O.lastCursor({documentId:V.selection.docId,cursor:V.selection.cursor,clientId:V.clientId}):O.lastCursor(null)},P=function({selection:O}){if(O){const V=t.remoteUserByClientId(O.clientId);O.selection?(m[O.clientId]||(m[O.clientId]={}),m[O.clientId].selection=O.selection):((m[O.clientId]!=null?m[O.clientId].marker:void 0)&&m[O.clientId].marker.clear(),delete m[O.clientId]),C(V,O),f.then(o.renderRemoteSelections)}},R=function(O,V){if(!t.editorIsPreviewingRewind()){if(!u){let z;const[B,H]=Array.from(o.cmChangesToOps(O.getDoc(),V));f=n.sendOps(B),(z=O.getDoc()).undoStack==null&&(z.undoStack=[]),o.addOpsToStack(O.getDoc().undoStack,H,a),O.getDoc().redoStack=[]}return u=!1,d=!1,N()}},A=function(O){const V=[];for(let z of O)V.unshift({docId:z.docId,text:z.text,position:z.position,type:z.type==="insert"?"remove":"insert"});return V},L=function(O,...V){const z=V[0],B=z[z.length-1];return B.type==="insert"?O.setCursor(O.posFromIndex(B.position+B.text.length)):O.setCursor(O.posFromIndex(B.position)),e.scrollIntoView(null,200)},k=function(O,V){const z=document.createElement("div");z.style.display="inline-block",z.style.width=z.style.height=0;const B=document.createElement("div");return B.style.position="relative",B.style.top=`-${e.defaultTextHeight()*.75}px`,B.style.left="-1px",B.style.width="2px",B.style.height=`${e.defaultTextHeight()}px`,B.style.backgroundColor=O,V||(B.style.filter="grayscale(50%)"),z.appendChild(B),z},U=function(){if(!t.editorIsPreviewingRewind())return d=!0};var N=function(){if(t.updateCurrentPositionState(),!d)return F(o.broadcastSelection,100)};let I=null;var F=function(O,V){return I&&clearTimeout(I),I=setTimeout(O,V)};return o={connect(){return st.commands.undo=o.undo,st.commands.redo=o.redo,e.on("change",U),e.on("changes",R),e.on("cursorActivity",N),n.addEventListener(o,o.handleOTEvent),e.swapDoc(s),e.setOption("readOnly",!0),v=setInterval(()=>o.broadcastSelection({force:!0}),15e3)},disconnect(){return e.off("change",U),e.off("changes",R),e.off("cursorActivity",N),n.removeEventListener(o),clearInterval(v),e.swapDoc(s),e.setOption("readOnly",!0)},createPathOps(O){const V=[];let z=n.documentByPathImmediate("."),B=z.docId;O.forEach(function(W){let G;if(z&&(G=z.children[W]))return z=n.documentImmediate(G),B=z.docId;{const q=i();return V.push({type:"add",name:W,docId:q,docType:"directory",parentId:B}),z=null,B=q}});const H=z?z.docId:B;return{ops:V,leafId:H}},createFile(O){const V=st.Doc("");V.docId=O.id(),c[O.id()]=V;const z=O.path().split("/"),B=z.pop(),{ops:H,leafId:W}=o.createPathOps(z);return H.push({type:"add",name:B,docId:O.id(),docType:"file",parentId:W}),n.sendOps(H)},deleteFile(O){return n.sendOps([{type:"unlink",docId:O.id()}])},deleteFolder(O){return n.sendOps([{type:"unlink",docId:O}])},renameFile(O){const V=O.path().split("/"),z=V.pop(),{ops:B,leafId:H}=o.createPathOps(V);return B.push({type:"rename",docId:O.id(),newName:z,newParentId:H}),n.sendOps(B)},renameFolder(O,V){const z=n.documentImmediate(O);return n.sendOps([{type:"rename",docId:O,newName:V,newParentId:z.parentId}])},getCMDoc(O){let V;if(c[O])return V=c[O];{if(!n.ot().isRegistered(O))throw new Error(`document ${O} not registered`);const z=n.ot().document(O);return V=st.Doc(z.content),V.docId=O,c[O]=V}},open(O){const V=o.getCMDoc(O);return e.swapDoc(V),e.setOption("readOnly",l),!t.editorIsEmbedded()&&document.activeElement!==document.querySelector(".console-frame")&&e.focus(),o.renderRemoteSelections(),o.broadcastSelection({force:!0}),V},close(O){if(O==null&&({docId:O}=e.getDoc()),!c[O])return;const V=c[O];if(delete c[O],V.getEditor())return e.swapDoc(s),e.setOption("readOnly",!0)},handleOTEvent(O,V){switch(O){case"oplist":return S(V);case"new-state":return T();case"broadcast":return P(V)}},selectionAlreadySent(O){return O&&!h||!O&&h?!1:h.docId===O.docId&&h.startIndex===O.startIndex&&h.endIndex===O.endIndex},broadcastSelection({force:O}={}){if(!(!n.ot()||!t.canBroadcast())&&typeof f.then=="function")return f.then(function(){let V;const z=t.currentUser(),B=e.getDoc();if(B===s)V=null,z.lastCursor(null);else{let H,W;const G=e.listSelections()[0],q=e.indexFromPos(G.anchor),re=e.indexFromPos(G.head);q<=re?[W,H]=Array.from([q,re]):[W,H]=Array.from([re,q]);const se=B.posFromIndex(W);if(V={docId:B.docId,startIndex:W,endIndex:H,cursor:se,version:n.ot().version(),color:typeof z.color=="function"?z.color():void 0,focus:document.hasFocus(),readOnly:t.projectIsReadOnlyForCurrentUser()},z.lastCursor({cursor:se,documentId:B.docId,clientId:n.clientId()}),!O&&o.selectionAlreadySent(V))return}return h=V,n.sendBroadcast({selection:{clientId:n.clientId(),userId:t.currentUser().id(),selection:V}})})},renderRemoteSelections(){return(()=>{const O=[];for(let z in m){var V;const B=m[z],{marker:H,selection:W}=B;if(W.version!==n.ot().version()||W.readOnly||(H!=null&&H.clear(),!c[W.docId]))continue;const G=c[W.docId];W.startIndex===W.endIndex?V={inclusiveRight:!0,clearWhenEmpty:!1,replacedWith:k(W.color,W.focus)}:V={css:`background-color: ${W.color}`,inclusiveRight:!0};const[q,re]=Array.from([G.posFromIndex(W.startIndex),G.posFromIndex(W.endIndex)]);O.push(B.marker=G.markText(q,re,V))}return O})()},cmChangesToOps(O,V){const z=[],B=[];let H=ge=>O.indexFromPos(ge);const W=ge=>ge[ge.length-1],G=function(ge){if(ge.length===0)return 0;let _e=0;for(let pe of ge)_e+=pe.length;return _e+ge.length-1},q=function(ge,_e){return ge.line<_e.line?-1:ge.line>_e.line?1:ge.ch<_e.ch?-1:ge.ch>_e.ch?1:0},re=(ge,_e)=>q(ge,_e)<=0,se=(ge,_e)=>function(pe){let ae;return re(pe,_e.from)?ge(pe):re(_e.to,pe)?(_e.to.line<pe.line?{ch:ae}=pe:_e.text.length<=1?ae=pe.ch-(_e.to.ch-_e.from.ch)+G(_e.text):ae=pe.ch-_e.to.ch+W(_e.text).length,ge({line:pe.line+_e.text.length-1-(_e.to.line-_e.from.line),ch:ae})+G(_e.removed)-G(_e.text)):_e.from.line===pe.line?ge(_e.from)+pe.ch-_e.from.ch:ge(_e.from)+G(_e.removed.slice(0,pe.line-_e.from.line))+1+pe.ch};for(let ge=V.length-1;ge>=0;ge--){const _e=V[ge];H=se(H,_e);const pe=H(_e.from),ae=_e.text.join(`
`),le=_e.removed.join(`
`);ae.length>0&&(z.unshift({docId:O.docId,type:"insert",text:ae,position:pe}),B.push({docId:O.docId,type:"remove",text:ae,position:pe})),le.length>0&&(z.unshift({docId:O.docId,type:"remove",text:le,position:pe}),B.push({docId:O.docId,type:"insert",text:le,position:pe}))}return[z,B]},addOpsToStack(O,V,z){const B=V.concat(O[0]);if(O.length>0&&o.continuousOps(B)?O[0]=B:O.unshift(V),z&&O.length>z)return O.splice(z)},continuousOps(O){const V=O[0],z=O[0].text.match(/\s/),B=O[0].type;let H=O[0].position;for(let W of O){if(W!==V){if(W.type==="remove"&&W.position+W.text.length!==H||W.type==="insert"&&W.position-W.text.length!==H)return!1;H=W.position}if(W.type!==B||W.text.length>1||z&&!W.text.match(/\s/)||!z&&W.text.match(/\s/))return!1}return!0},setReadOnly(O){return l=O},undo(){const O=e.getDoc();if(!((O.undoStack!=null?O.undoStack.length:void 0)>0))return;const V=O.undoStack.shift();return _(O,V,"+input"),L(O,V),O.redoStack.unshift(A(V)),f=n.sendOps(V)},redo(){const O=e.getDoc();if(!((O.redoStack!=null?O.redoStack.length:void 0)>0))return;const V=O.redoStack.shift();return _(O,V,"+input"),L(O,V),O.undoStack.unshift(A(V)),f=n.sendOps(V)},cmDocuments(){return c},remoteSelections(){return m}}}function jve(t,e){return typeof t!="undefined"&&t!==null?e(t):void 0}const Bve=(t,e)=>t[e]=function(n){return arguments.length>0?(t.I[e]=n,t):t.I[e]};var Qo=(t={},e={})=>(t=t||{},e=e||{},O7(e,{I:t,attrAccessor(...n){return n.forEach(i=>Bve(e,i)),e},attrReader(...n){return n.forEach(i=>e[i]=()=>t[i]),e},extend(...n){return O7(e,...Array.from(n))},async include(n){return n(t,e)},attrObservable(...n){return n.forEach(function(i){return e[i]=te(t[i]),e[i].observe(o=>t[i]=o)}),e},attrDatum(n,i){let o;return t[n]=o=i(t[n]),e[n]=te(o),e[n].observe(s=>t[n]=s),e},attrData(n,i){const o=(t[n]||[]).map(s=>i(s));return e[n]=te(o),e[n].observe(s=>t[n]=s.map(a=>i(a))),e},attrModel(n,i){const o=i(t[n]);return e[n]=te(o),e[n].observe(s=>t[n]=s.I),e},attrModels(n,i){const o=(t[n]||[]).map(s=>i(s));return e[n]=te(o),e[n].observe(s=>t[n]=s.map(a=>a.I)),e},toJSON(){return t}})),O7=function(t,...e){for(let n of e)for(let i in n)t[i]=n[i];return t};const qs=function(t={}){if(t=t||{},Nu(t,{uuid:Of(),content:"",base64Content:void 0,extensionType:"",path:"",modifiedByRewind:!1,addedByRewind:!1,deletedByRewind:!1,rewindPatches:void 0}),!t.path)throw new Error("File must have a path");const e=Qo(t);return e.attrAccessor("projectId"),e.attrObservable(...Array.from(Object.keys(t)||[])),e.attrObservable("renaming"),e.extend({extension(){return o5(e.path())},withoutExtension(){return e.path().replace(/\.[^\.\/]*$/,"")},name(){return e.path().replace(/(.*\/)/g,"")},id(){return e.uuid()},folders(){const n=e.path().split("/");return n.splice(0,n.length-1)},isMedia(){return e.base64Content()!=null},type(){return"file"},hasImmutableFilename(){return e.path()===".env"||e.path().startsWith(".data/")}}),e.extensionType(P7(e.path())),e};qs.randomUUID=Of;const N7=function(t={}){if(t=t||{},Nu(t,{name:"",children:[],uuid:Of(),level:0,rewindPreviewPath:null}),!t.name)throw new Error("Folder must have a folder name");const e=Qo(t);return e.attrAccessor("name"),e.attrObservable("children","uuid","level","rewindPreviewPath"),e.attrObservable("renaming"),e.extend({sortChildren(){e.children().sort((n,i)=>n.type()===i.type()?n.name()>=i.name()?1:-1:n.type()==="folder"?-1:1)},id(){return e.uuid()},type(){return"folder"}}),e.children.observe(e.sortChildren),e},a_=function(t={},e){return t=t||{},e=e||Qo(t),Nu(t,{files:[]}),e.attrModels("files",qs),e};class k7 extends Error{constructor(e,n,i){const o=e.status||e.status===0?e.status:"",s=e.statusText||"",a=`${o} ${s}`.trim(),l=a?`status code ${a}`:"an unknown error";super(`Request failed with ${l}`);this.name="HTTPError",this.response=e,this.request=n,this.options=i}}class D7 extends Error{constructor(e){super("Request timed out");this.name="TimeoutError",this.request=e}}const l_=t=>t!==null&&typeof t=="object",c_=(...t)=>{for(const e of t)if((!l_(e)||Array.isArray(e))&&typeof e!="undefined")throw new TypeError("The `options` argument must be an object");return l5({},...t)},F7=(t={},e={})=>{const n=new globalThis.Headers(t),i=e instanceof globalThis.Headers,o=new globalThis.Headers(e);for(const[s,a]of o.entries())i&&a==="undefined"||a===void 0?n.delete(s):n.set(s,a);return n},l5=(...t)=>{let e={},n={};for(const i of t)if(Array.isArray(i))Array.isArray(e)||(e=[]),e=[...e,...i];else if(l_(i)){for(let[o,s]of Object.entries(i))l_(s)&&o in e&&(s=l5(e[o],s)),e=qe(he({},e),{[o]:s});l_(i.headers)&&(n=F7(n,i.headers),e.headers=n)}return e},Vve=typeof globalThis.AbortController=="function",Hve=typeof globalThis.ReadableStream=="function",zve=typeof globalThis.FormData=="function",U7=["get","post","put","patch","head","delete"],Gve={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},c5=2147483647,j7=Symbol("stop"),$ve=t=>U7.includes(t)?t.toUpperCase():t,Wve=["get","put","head","delete","options","trace"],qve=[408,413,429,500,502,503,504],B7=[413,429,503],V7={limit:2,methods:Wve,statusCodes:qve,afterStatusCodes:B7,maxRetryAfter:Number.POSITIVE_INFINITY},Yve=(t={})=>{if(typeof t=="number")return qe(he({},V7),{limit:t});if(t.methods&&!Array.isArray(t.methods))throw new Error("retry.methods must be an array");if(t.statusCodes&&!Array.isArray(t.statusCodes))throw new Error("retry.statusCodes must be an array");return qe(he(he({},V7),t),{afterStatusCodes:B7})},Kve=async(t,e,n)=>new Promise((i,o)=>{const s=setTimeout(()=>{e&&e.abort(),o(new D7(t))},n.timeout);n.fetch(t).then(i).catch(o).then(()=>{clearTimeout(s)})}),Xve=async t=>new Promise(e=>{setTimeout(e,t)});class u_{constructor(e,n={}){var i,o;if(this._retryCount=0,this._input=e,this._options=qe(he({credentials:this._input.credentials||"same-origin"},n),{headers:F7(this._input.headers,n.headers),hooks:l5({beforeRequest:[],beforeRetry:[],afterResponse:[]},n.hooks),method:$ve((i=n.method)!==null&&i!==void 0?i:this._input.method),prefixUrl:String(n.prefixUrl||""),retry:Yve(n.retry),throwHttpErrors:n.throwHttpErrors!==!1,timeout:typeof n.timeout=="undefined"?1e4:n.timeout,fetch:(o=n.fetch)!==null&&o!==void 0?o:globalThis.fetch.bind(globalThis)}),typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(Vve&&(this.abortController=new globalThis.AbortController,this._options.signal&&this._options.signal.addEventListener("abort",()=>{this.abortController.abort()}),this._options.signal=this.abortController.signal),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const s=typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString(),a="?"+s,l=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,a);(zve&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(l,this.request),this._options)}this._options.json!==void 0&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type","application/json"),this.request=new globalThis.Request(this.request,{body:this._options.body}))}static create(e,n){const i=new u_(e,n),o=async()=>{if(i._options.timeout>c5)throw new RangeError(`The \`timeout\` option cannot be greater than ${c5}`);await Promise.resolve();let l=await i._fetch();for(const c of i._options.hooks.afterResponse){const u=await c(i.request,i._options,i._decorateResponse(l.clone()));u instanceof globalThis.Response&&(l=u)}if(i._decorateResponse(l),!l.ok&&i._options.throwHttpErrors)throw new k7(l,i.request,i._options);if(i._options.onDownloadProgress){if(typeof i._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!Hve)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return i._stream(l.clone(),i._options.onDownloadProgress)}return l},a=i._options.retry.methods.includes(i.request.method.toLowerCase())?i._retry(o):o();for(const[l,c]of Object.entries(Gve))a[l]=async()=>{i.request.headers.set("accept",i.request.headers.get("accept")||c);const u=(await a).clone();if(l==="json"){if(u.status===204)return"";if(n.parseJson)return n.parseJson(await u.text())}return u[l]()};return a}_calculateRetryDelay(e){if(this._retryCount++,this._retryCount<this._options.retry.limit&&!(e instanceof D7)){if(e instanceof k7){if(!this._options.retry.statusCodes.includes(e.response.status))return 0;const i=e.response.headers.get("Retry-After");if(i&&this._options.retry.afterStatusCodes.includes(e.response.status)){let o=Number(i);return Number.isNaN(o)?o=Date.parse(i)-Date.now():o*=1e3,typeof this._options.retry.maxRetryAfter!="undefined"&&o>this._options.retry.maxRetryAfter?0:o}if(e.response.status===413)return 0}return .3*2**(this._retryCount-1)*1e3}return 0}_decorateResponse(e){return this._options.parseJson&&(e.json=async()=>this._options.parseJson(await e.text())),e}async _retry(e){try{return await e()}catch(n){const i=Math.min(this._calculateRetryDelay(n),c5);if(i!==0&&this._retryCount>0){await Xve(i);for(const o of this._options.hooks.beforeRetry)if(await o({request:this.request,options:this._options,error:n,retryCount:this._retryCount})===j7)return;return this._retry(e)}throw n}}async _fetch(){for(const e of this._options.hooks.beforeRequest){const n=await e(this.request,this._options);if(n instanceof Request){this.request=n;break}if(n instanceof Response)return n}return this._options.timeout===!1?this._options.fetch(this.request.clone()):Kve(this.request.clone(),this.abortController,this._options)}_stream(e,n){const i=Number(e.headers.get("content-length"))||0;let o=0;return new globalThis.Response(new globalThis.ReadableStream({async start(s){const a=e.body.getReader();n&&n({percent:0,transferredBytes:0,totalBytes:i},new Uint8Array);async function l(){const{done:c,value:u}=await a.read();if(c){s.close();return}if(n){o+=u.byteLength;const d=i===0?0:o/i;n({percent:d,transferredBytes:o,totalBytes:i},u)}s.enqueue(u),await l()}await l()}}))}}/*! MIT License © Sindre Sorhus */const u5=t=>{const e=(n,i)=>u_.create(n,c_(t,i));for(const n of U7)e[n]=(i,o)=>u_.create(i,c_(t,o,{method:n}));return e.create=n=>u5(c_(n)),e.extend=n=>u5(c_(t,n)),e.stop=j7,e},Jve=u5();var Ja=Jve;class d_{constructor(e=null){this.token=e,this.client=Ja.extend({credentials:"omit",prefixUrl:"https://api.github.com",hooks:{beforeRequest:[n=>{if(window.Cypress&&e){n.headers.set("Authorization",`Basic ${btoa(`glitch-test:${e}`)}`);return}this.token!==null&&n.headers.set("Authorization",`token ${this.token}`)}]}})}setToken(e){this.token=e}async getOAuthScopes(){return((await this.client.head("")).headers.get("X-OAuth-Scopes")||"").split(", ")}getRepo(e){return this.client.get(`repos/${e}`).json()}getUser(){return this.client.get("user").json()}getRepoContents(e){return this.client.get(`repos/${e}/contents`).json()}ensureRepoExists(e){return this.client.head(`repos/${e}`).then(()=>!0,()=>!1)}getProjectPermissionsForUser(e,n){return this.client.get(`repos/${e}/collaborators/${n}/permission`).json()}getLicense(e){return this.client.get(`licenses/${e}`,{headers:{accept:"application/vnd.github.drax-preview+json"}}).json()}getCodeOfConduct(e){return this.client.get(`codes_of_conduct/${e}`,{headers:{accept:"application/vnd.github.scarlet-witch-preview+json"}}).json()}static authorizationUrl(e,n="user:email"){const i=`https://${window.location.hostname}/login/github`,o=encodeURIComponent(i);return`https://github.com/login/oauth/authorize?client_id=${e}&scope=${n}&redirect_uri=${o}`}static codeToUserUrl(e){return`${zs}/auth/github/${e}`}static providerName(){return"GitHub"}}Pd(d_,"HTTPError",Ja.HTTPError),Pd(d_,"TimeoutError",Ja.TimeoutError);const d5=function(t,e){return t=t||{},e=e||Qo(t),Nu(t,{id:0,name:"hello-team",url:"hello-team",description:"",hasCoverImage:!1,hasAvatarImage:!1,isVerified:!1}),e.attrObservable("id","name","url","description","backgroundColor","createdAt","updatedAt","hasCoverImage","location","isVerified","hasAvatarImage"),e.extend({avatarUrl(n,i=window.application){return n=n||"small",e.hasAvatarImage()?`https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/team-avatar/${e.id()}/${n}`:"https://cdn.glitch.me/55f8497b-3334-43ca-851e-6c9780082244%2Fdefault-team-avatar.svg?1503510366819"},teamPageUrl(){return`/@${e.url()}`}}),e},vc=".glitch-assets",f5=".glitchdotcom.json",Tt={NONE:0,MEMBER:20,ADMIN:30},H7=90,z7=75,G7=/\r\n|[\n\v\f\r\x85\u2028\u2029]/,Zve="boosted-apps",Qve=["*.log","*.pid","*.pid.lock","*.pyc","*.save.*","*.seed","*.tgz",".bash_history",".bashrc",".bundle",".cache",".cargo",".config",".data",".env",".eslintcache",".glitch-meta",".glitchdotcom.json",".gomix-meta",".grunt",".local",".lock-wscript",".next",".node-gyp",".node_repl_history",".npm",".npmrc",".nuget",".nyc_output",".profile",".pnpm-modules",".pnpm_node_modules",".ssh",".subversion",".viminfo",".yarn-integrity","bower_components","build/Release","coverage","jspm_packages","lib-cov","logs","node_modules","npm-debug.log*","pnpm-debug.log*","package-lock.json","pids","target","typings","yarn-debug.log*","yarn-error.log*",".git-credentials","shrinkwrap.yaml",".config","*.ttf","*.eot","*.woff","*.sqlite3","*.cur","*.zip"],e1e=Object.freeze(["a9975ea6-8949-4bab-addb-8a95021dc2da","c62efef6-1e75-45cf-b248-afeccdda9477","2f80c958-3bc4-4f47-8e97-6a5c8684ac2c","cad20829-cd7f-405a-95e8-5e17b206a304","67d48f87-b878-4afe-81c6-dc588981ce7a"]),$7="glitch-hello-node",h5="33ebcb39-397a-4ab9-bc6a-868aeb7914e1",t1e=()=>["glitch-hello-website","glitch-hello-node","glitch-hello-react","glitch-hello-eleventy","glitch-hello-sqlite"],n1e=["avatarUpdatedAt","description","domain","private","privacy"],p5=()=>document.location.pathname.replace(/^\/embed/,"/edit"),yc=function(t={},e){return t=t||{},e=e||Qo(t),Nu(t,{name:"hello-world",domain:"hello-world",description:"",users:[],teams:[],projectOnProductionOnly:!1}),e.attrModel("filetree",a_),e.attrModels("teams",d5),e.attrObservable("avatarUpdatedAt","description","avatarUrl","gitRepoUrl","domain","privacy","private","updatedAt","remixChain","users","projectOnProductionOnly","suspendedReason","isBoosted","hostingBackend","appType","edgeBadgeMode"),e.attrReader("id","baseId","createdAt","inviteToken"),e.extend({name(){return e.domain()},publishedUrl(){return dk.replace("%s",e.domain())},editorUrl(){return`${`${document.location.origin}${p5()}`}#!/${e.domain()}`},remixUrl(){return`${`${document.location.origin}${p5()}`}#!/remix/${e.domain()}`},gitAccessToken(){return`${window.application.currentUser().gitAccessToken()}`},readGitUrl(){return`${zs}/git/${e.domain()}`},previewSizeQuery(n){return n||n===0?`&previewSize=${Math.round(n)}`:""},attributionHiddenQuery(n){return n?`&attributionHidden=${n}`:""},previewFirstQuery(n){return n?`&previewFirst=${n}`:""},sidebarCollapsedQuery(n){return n?`&sidebarCollapsed=${n}`:""},embedUrl(n){const i=`${document.location.origin}/embed/#!/embed/${e.domain()}`,o=e.previewSizeQuery(n.previewSize),s=e.attributionHiddenQuery(n.attributionHidden),a=e.previewFirstQuery(n.previewFirst),l=e.sidebarCollapsedQuery(n.sidebarCollapsed);return`${i}?path=${n.path}${o}${s}${a}${l}`},files(){return e.filetree().files()},accessLevel(n){if(n.isSupport())return Tt.ADMIN;const[i]=Array.from(e.users().filter(({id:o})=>o===n.id()));return i?i.projectPermission.accessLevel:0},readOnlyFor(n){return e.accessLevel(n)===0},temporaryAvatar:te(null),avatarUrl(){""+document.location.origin+p5();const n=+new Date(e.avatarUpdatedAt()),i=n?`?${n}`:"";return e.projectOnProductionOnly()?`https://cdn.glitch.me/project-avatar/${e.id()}.png${i}`:`${rT}/project-avatar/${e.id()}.png${i}`},hasAvatar(){if(!e.avatarUpdatedAt())return!1;const n=$e(e.updatedAt()),i=yc.AVATAR_SUPPORT_DATE;return n.diff(i)>0},avatar(){const n=e.temporaryAvatar(),i=e.avatarUrl(),o=e.hasAvatar();if(n)return n;if(o)return i},defaultFile(){const n=e.files().filter(function(s){const a=s.path();return!(a===".env"||a===vc||a.startsWith(".data/"))}),[i]=Array.from(n.filter(function(s){return s.path().toLowerCase().match(/^(glitch_)?readme\.(md|mdown|markdown)$/i)})),[o]=Array.from(n.filter(function(s){return s.path().toLowerCase()==="server.js"}));return i||o||n[0]},saveData(n){const i=he(he({},t),n);return Wk(i,n1e)},saveImmediate(n,i={}){if(window.application.projectIsReadOnlyForCurrentUser())return null;const o=e.id(),s=e.saveData(i);return n.updateProject(o,s)},adminUsers(){return e.users()},getOwner(){const n=e.users().sort((o,s)=>o.projectPermission.createdAt>s.projectPermission.createdAt?1:-1),i=n.filter(o=>o.projectPermission.accessLevel===Tt.ADMIN)[0];return i||n.filter(o=>o.projectPermission.accessLevel===Tt.MEMBER)[0]},getType(){return e.baseId()===h5?"gitImport":e1e.includes(e.baseId())?"starterProject":"remix"},projectUser(n){n=parseInt(n);const[i]=Array.from(e.users().filter(o=>o.id===n));return i},touchImmediate(n){const i=e.id(),o={};if(n.editorIsEmbedded()&&(o.isEmbedded=!0),!n.projectIsReadOnlyForCurrentUser())return n.glitchApi().v0.projectTouch(i,o).catch(s=>qi(s))},hasTeams(){if(e.teams().length)return!0},projectPageUrl(){return`/~${e.domain()}`}}),e.save=tg(e.saveImmediate,1e3),e.touch=tg(e.touchImmediate,5e3,{leading:!0}),e};yc.AVATAR_SUPPORT_DATE=$e("2016-10-27T01:31:53.559Z");var r1e={rgb2hsl:rg,rgb2hsv:f_,rgb2hwb:ig,rgb2cmyk:sg,rgb2keyword:og,rgb2xyz:m5,rgb2lab:g5,rgb2lch:i1e,hsl2rgb:h_,hsl2hsv:s1e,hsl2hwb:o1e,hsl2cmyk:a1e,hsl2keyword:l1e,hsv2rgb:p_,hsv2hsl:c1e,hsv2hwb:u1e,hsv2cmyk:d1e,hsv2keyword:f1e,hwb2rgb:ag,hwb2hsl:h1e,hwb2hsv:p1e,hwb2cmyk:m1e,hwb2keyword:g1e,cmyk2rgb:lg,cmyk2hsl:v1e,cmyk2hsv:y1e,cmyk2hwb:_1e,cmyk2keyword:b1e,keyword2rgb:Du,keyword2hsl:S1e,keyword2hsv:T1e,keyword2hwb:C1e,keyword2cmyk:M1e,keyword2lab:A1e,keyword2xyz:P1e,xyz2rgb:W7,xyz2lab:q7,xyz2lch:E1e,lab2xyz:v5,lab2rgb:Y7,lab2lch:y5,lch2lab:_5,lch2xyz:w1e,lch2rgb:x1e};function rg(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255,o=Math.min(e,n,i),s=Math.max(e,n,i),a=s-o,l,c,u;return s==o?l=0:e==s?l=(n-i)/a:n==s?l=2+(i-e)/a:i==s&&(l=4+(e-n)/a),l=Math.min(l*60,360),l<0&&(l+=360),u=(o+s)/2,s==o?c=0:u<=.5?c=a/(s+o):c=a/(2-s-o),[l,c*100,u*100]}function f_(t){var e=t[0],n=t[1],i=t[2],o=Math.min(e,n,i),s=Math.max(e,n,i),a=s-o,l,c,u;return s==0?c=0:c=a/s*1e3/10,s==o?l=0:e==s?l=(n-i)/a:n==s?l=2+(i-e)/a:i==s&&(l=4+(e-n)/a),l=Math.min(l*60,360),l<0&&(l+=360),u=s/255*1e3/10,[l,c,u]}function ig(t){var e=t[0],n=t[1],i=t[2],o=rg(t)[0],s=1/255*Math.min(e,Math.min(n,i)),i=1-1/255*Math.max(e,Math.max(n,i));return[o,s*100,i*100]}function sg(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255,o,s,a,l;return l=Math.min(1-e,1-n,1-i),o=(1-e-l)/(1-l)||0,s=(1-n-l)/(1-l)||0,a=(1-i-l)/(1-l)||0,[o*100,s*100,a*100,l*100]}function og(t){return K7[JSON.stringify(t)]}function m5(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var o=e*.4124+n*.3576+i*.1805,s=e*.2126+n*.7152+i*.0722,a=e*.0193+n*.1192+i*.9505;return[o*100,s*100,a*100]}function g5(t){var e=m5(t),n=e[0],i=e[1],o=e[2],s,a,l;return n/=95.047,i/=100,o/=108.883,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=116*i-16,a=500*(n-i),l=200*(i-o),[s,a,l]}function i1e(t){return y5(g5(t))}function h_(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100,o,s,a,l,c;if(n==0)return c=i*255,[c,c,c];i<.5?s=i*(1+n):s=i+n-i*n,o=2*i-s,l=[0,0,0];for(var u=0;u<3;u++)a=e+1/3*-(u-1),a<0&&a++,a>1&&a--,6*a<1?c=o+(s-o)*6*a:2*a<1?c=s:3*a<2?c=o+(s-o)*(2/3-a)*6:c=o,l[u]=c*255;return l}function s1e(t){var e=t[0],n=t[1]/100,i=t[2]/100,o,s;return i===0?[0,0,0]:(i*=2,n*=i<=1?i:2-i,s=(i+n)/2,o=2*n/(i+n),[e,o*100,s*100])}function o1e(t){return ig(h_(t))}function a1e(t){return sg(h_(t))}function l1e(t){return og(h_(t))}function p_(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,o=Math.floor(e)%6,s=e-Math.floor(e),a=255*i*(1-n),l=255*i*(1-n*s),c=255*i*(1-n*(1-s)),i=255*i;switch(o){case 0:return[i,c,a];case 1:return[l,i,a];case 2:return[a,i,c];case 3:return[a,l,i];case 4:return[c,a,i];case 5:return[i,a,l]}}function c1e(t){var e=t[0],n=t[1]/100,i=t[2]/100,o,s;return s=(2-n)*i,o=n*i,o/=s<=1?s:2-s,o=o||0,s/=2,[e,o*100,s*100]}function u1e(t){return ig(p_(t))}function d1e(t){return sg(p_(t))}function f1e(t){return og(p_(t))}function ag(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100,o=n+i,s,a,l,c;switch(o>1&&(n/=o,i/=o),s=Math.floor(6*e),a=1-i,l=6*e-s,(s&1)!=0&&(l=1-l),c=n+l*(a-n),s){default:case 6:case 0:r=a,g=c,b=n;break;case 1:r=c,g=a,b=n;break;case 2:r=n,g=a,b=c;break;case 3:r=n,g=c,b=a;break;case 4:r=c,g=n,b=a;break;case 5:r=a,g=n,b=c;break}return[r*255,g*255,b*255]}function h1e(t){return rg(ag(t))}function p1e(t){return f_(ag(t))}function m1e(t){return sg(ag(t))}function g1e(t){return og(ag(t))}function lg(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,o=t[3]/100,s,a,l;return s=1-Math.min(1,e*(1-o)+o),a=1-Math.min(1,n*(1-o)+o),l=1-Math.min(1,i*(1-o)+o),[s*255,a*255,l*255]}function v1e(t){return rg(lg(t))}function y1e(t){return f_(lg(t))}function _1e(t){return ig(lg(t))}function b1e(t){return og(lg(t))}function W7(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,o,s,a;return o=e*3.2406+n*-1.5372+i*-.4986,s=e*-.9689+n*1.8758+i*.0415,a=e*.0557+n*-.204+i*1.057,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),[o*255,s*255,a*255]}function q7(t){var e=t[0],n=t[1],i=t[2],o,s,a;return e/=95.047,n/=100,i/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,o=116*n-16,s=500*(e-n),a=200*(n-i),[o,s,a]}function E1e(t){return y5(q7(t))}function v5(t){var e=t[0],n=t[1],i=t[2],o,s,a,l;return e<=8?(s=e*100/903.3,l=7.787*(s/100)+16/116):(s=100*Math.pow((e+16)/116,3),l=Math.pow(s/100,1/3)),o=o/95.047<=.008856?o=95.047*(n/500+l-16/116)/7.787:95.047*Math.pow(n/500+l,3),a=a/108.883<=.008859?a=108.883*(l-i/200-16/116)/7.787:108.883*Math.pow(l-i/200,3),[o,s,a]}function y5(t){var e=t[0],n=t[1],i=t[2],o,s,a;return o=Math.atan2(i,n),s=o*360/2/Math.PI,s<0&&(s+=360),a=Math.sqrt(n*n+i*i),[e,a,s]}function Y7(t){return W7(v5(t))}function _5(t){var e=t[0],n=t[1],i=t[2],o,s,a;return a=i/360*2*Math.PI,o=n*Math.cos(a),s=n*Math.sin(a),[e,o,s]}function w1e(t){return v5(_5(t))}function x1e(t){return Y7(_5(t))}function Du(t){return b5[t]}function S1e(t){return rg(Du(t))}function T1e(t){return f_(Du(t))}function C1e(t){return ig(Du(t))}function M1e(t){return sg(Du(t))}function A1e(t){return g5(Du(t))}function P1e(t){return m5(Du(t))}var b5={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},K7={};for(var X7 in b5)K7[JSON.stringify(b5[X7])]=X7;var E5=r1e,Fu=function(){return new ug};for(var cg in E5){Fu[cg+"Raw"]=function(t){return function(e){return typeof e=="number"&&(e=Array.prototype.slice.call(arguments)),E5[t](e)}}(cg);var J7=/(\w+)2(\w+)/.exec(cg),w5=J7[1],R1e=J7[2];Fu[w5]=Fu[w5]||{},Fu[w5][R1e]=Fu[cg]=function(t){return function(e){typeof e=="number"&&(e=Array.prototype.slice.call(arguments));var n=E5[t](e);if(typeof n=="string"||n===void 0)return n;for(var i=0;i<n.length;i++)n[i]=Math.round(n[i]);return n}}(cg)}var ug=function(){this.convs={}};ug.prototype.routeSpace=function(t,e){var n=e[0];return n===void 0?this.getValues(t):(typeof n=="number"&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))};ug.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this};ug.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,i=this.convs[n];e=Fu[n][t](i),this.convs[t]=e}return e};["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){ug.prototype[t]=function(e){return this.routeSpace(t,arguments)}});var L1e=Fu,I1e={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},x5=I1e,O1e={getRgba:S5,getHsla:T5,getRgb:N1e,getHsl:k1e,getHwb:Z7,getAlpha:D1e,hexString:F1e,rgbString:U1e,rgbaString:Q7,percentString:j1e,percentaString:eD,hslString:B1e,hslaString:tD,hwbString:V1e,keyword:H1e};function S5(t){if(!!t){var e=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,s=/(\D+)/,a=[0,0,0],l=1,c=t.match(e);if(c){c=c[1];for(var u=0;u<a.length;u++)a[u]=parseInt(c[u]+c[u],16)}else if(c=t.match(n)){c=c[1];for(var u=0;u<a.length;u++)a[u]=parseInt(c.slice(u*2,u*2+2),16)}else if(c=t.match(i)){for(var u=0;u<a.length;u++)a[u]=parseInt(c[u+1]);l=parseFloat(c[4])}else if(c=t.match(o)){for(var u=0;u<a.length;u++)a[u]=Math.round(parseFloat(c[u+1])*2.55);l=parseFloat(c[4])}else if(c=t.match(s)){if(c[1]=="transparent")return[0,0,0,0];if(a=x5[c[1]],!a)return}for(var u=0;u<a.length;u++)a[u]=ea(a[u],0,255);return!l&&l!=0?l=1:l=ea(l,0,1),a[3]=l,a}}function T5(t){if(!!t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]),o=ea(parseInt(n[1]),0,360),s=ea(parseFloat(n[2]),0,100),a=ea(parseFloat(n[3]),0,100),l=ea(isNaN(i)?1:i,0,1);return[o,s,a,l]}}}function Z7(t){if(!!t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]),o=ea(parseInt(n[1]),0,360),s=ea(parseFloat(n[2]),0,100),a=ea(parseFloat(n[3]),0,100),l=ea(isNaN(i)?1:i,0,1);return[o,s,a,l]}}}function N1e(t){var e=S5(t);return e&&e.slice(0,3)}function k1e(t){var e=T5(t);return e&&e.slice(0,3)}function D1e(t){var e=S5(t);if(e)return e[3];if(e=T5(t))return e[3];if(e=Z7(t))return e[3]}function F1e(t){return"#"+C5(t[0])+C5(t[1])+C5(t[2])}function U1e(t,e){return e<1||t[3]&&t[3]<1?Q7(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function Q7(t,e){return e===void 0&&(e=t[3]!==void 0?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function j1e(t,e){if(e<1||t[3]&&t[3]<1)return eD(t,e);var n=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return"rgb("+n+"%, "+i+"%, "+o+"%)"}function eD(t,e){var n=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return"rgba("+n+"%, "+i+"%, "+o+"%, "+(e||t[3]||1)+")"}function B1e(t,e){return e<1||t[3]&&t[3]<1?tD(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function tD(t,e){return e===void 0&&(e=t[3]!==void 0?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function V1e(t,e){return e===void 0&&(e=t[3]!==void 0?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(e!==void 0&&e!==1?", "+e:"")+")"}function H1e(t){return nD[t.slice(0,3)]}function ea(t,e,n){return Math.min(Math.max(e,t),n)}function C5(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var nD={};for(var rD in x5)nD[x5[rD]]=rD;var z1e=L1e,wo=O1e,ta=function(t){if(t instanceof ta)return t;if(!(this instanceof ta))return new ta(t);if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},typeof t=="string"){var e=wo.getRgba(t);if(e)this.setValues("rgb",e);else if(e=wo.getHsla(t))this.setValues("hsl",e);else if(e=wo.getHwb(t))this.setValues("hwb",e);else throw new Error('Unable to parse color from string "'+t+'"')}else if(typeof t=="object"){var e=t;if(e.r!==void 0||e.red!==void 0)this.setValues("rgb",e);else if(e.l!==void 0||e.lightness!==void 0)this.setValues("hsl",e);else if(e.v!==void 0||e.value!==void 0)this.setValues("hsv",e);else if(e.w!==void 0||e.whiteness!==void 0)this.setValues("hwb",e);else if(e.c!==void 0||e.cyan!==void 0)this.setValues("cmyk",e);else throw new Error("Unable to parse color from object "+JSON.stringify(t))}};ta.prototype={rgb:function(t){return this.setSpace("rgb",arguments)},hsl:function(t){return this.setSpace("hsl",arguments)},hsv:function(t){return this.setSpace("hsv",arguments)},hwb:function(t){return this.setSpace("hwb",arguments)},cmyk:function(t){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return this.values.alpha!==1?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values.rgb;return t.concat([this.values.alpha])},hslaArray:function(){var t=this.values.hsl;return t.concat([this.values.alpha])},alpha:function(t){return t===void 0?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return wo.hexString(this.values.rgb)},rgbString:function(){return wo.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return wo.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return wo.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return wo.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return wo.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return wo.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return wo.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){return this.values.hsl[2]+=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},darken:function(t){return this.values.hsl[2]-=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},saturate:function(t){return this.values.hsl[1]+=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},desaturate:function(t){return this.values.hsl[1]-=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},whiten:function(t){return this.values.hwb[1]+=this.values.hwb[1]*t,this.setValues("hwb",this.values.hwb),this},blacken:function(t){return this.values.hwb[2]+=this.values.hwb[2]*t,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var t=this.values.rgb,e=t[0]*.3+t[1]*.59+t[2]*.11;return this.setValues("rgb",[e,e,e]),this},clearer:function(t){return this.setValues("alpha",this.values.alpha-this.values.alpha*t),this},opaquer:function(t){return this.setValues("alpha",this.values.alpha+this.values.alpha*t),this},rotate:function(t){var e=this.values.hsl[0];return e=(e+t)%360,e=e<0?360+e:e,this.values.hsl[0]=e,this.setValues("hsl",this.values.hsl),this},mix:function(t,e){var n=this,i=t,o=e!==void 0?e:.5,s=2*o-1,a=n.alpha()-i.alpha(),l=((s*a==-1?s:(s+a)/(1+s*a))+1)/2,c=1-l;return this.rgb(l*n.red()+c*i.red(),l*n.green()+c*i.green(),l*n.blue()+c*i.blue()).alpha(n.alpha()*o+i.alpha()*(1-o))},toJSON:function(){return this.rgb()},clone:function(){return new ta(this.rgb())}};ta.prototype.getValues=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=this.values[t][n];return this.values.alpha!=1&&(e.a=this.values.alpha),e};ta.prototype.setValues=function(t,e){var n={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},i={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o=1;if(t=="alpha")o=e;else if(e.length)this.values[t]=e.slice(0,t.length),o=e[t.length];else if(e[t.charAt(0)]!==void 0){for(var s=0;s<t.length;s++)this.values[t][s]=e[t.charAt(s)];o=e.a}else if(e[n[t][0]]!==void 0){for(var a=n[t],s=0;s<t.length;s++)this.values[t][s]=e[a[s]];o=e.alpha}if(this.values.alpha=Math.max(0,Math.min(1,o!==void 0?o:this.values.alpha)),t!="alpha"){for(var s=0;s<t.length;s++){var l=Math.max(0,Math.min(i[t][s],this.values[t][s]));this.values[t][s]=Math.round(l)}for(var c in n){c!=t&&(this.values[c]=z1e[t][c](this.values[t]));for(var s=0;s<c.length;s++){var l=Math.max(0,Math.min(i[c][s],this.values[c][s]));this.values[c][s]=Math.round(l)}}return!0}};ta.prototype.setSpace=function(t,e){var n=e[0];return n===void 0?this.getValues(t):(typeof n=="number"&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)};ta.prototype.setChannel=function(t,e,n){return n===void 0?this.values[t][e]:(this.values[t][e]=n,this.setValues(t,this.values[t]),this)};var iD=ta,M5={exports:{}};(function(t,e){(function(n,i){{var o=i();t&&t.exports&&(e=t.exports=o),e.randomColor=o}})(Wt,function(){var n=null,i={};E();var o=[],s=function(A){if(A=A||{},A.seed!==void 0&&A.seed!==null&&A.seed===parseInt(A.seed,10))n=A.seed;else if(typeof A.seed=="string")n=P(A.seed);else{if(A.seed!==void 0&&A.seed!==null)throw new TypeError("The seed value must be an integer or string");n=null}var L,k,U;if(A.count!==null&&A.count!==void 0){for(var N=A.count,I=[],F=0;F<A.count;F++)o.push(!1);for(A.count=null;N>I.length;){var O=s(A);n!==null&&(A.seed=n),I.push(O)}return A.count=N,I}return L=a(A),k=l(L,A),U=c(L,k,A),u([L,k,U],A)};function a(A){if(o.length>0){var L=R(A.hue),k=m(L),U=(L[1]-L[0])/o.length,N=parseInt((k-L[0])/U);o[N]===!0?N=(N+2)%o.length:o[N]=!0;var I=(L[0]+N*U)%359,F=(L[0]+(N+1)*U)%359;return L=[I,F],k=m(L),k<0&&(k=360+k),k}else{var L=f(A.hue);return k=m(L),k<0&&(k=360+k),k}}function l(A,L){if(L.hue==="monochrome")return 0;if(L.luminosity==="random")return m([0,100]);var k=h(A),U=k[0],N=k[1];switch(L.luminosity){case"bright":U=55;break;case"dark":U=N-10;break;case"light":N=55;break}return m([U,N])}function c(A,L,k){var U=d(A,L),N=100;switch(k.luminosity){case"dark":N=U+20;break;case"light":U=(N+U)/2;break;case"random":U=0,N=100;break}return m([U,N])}function u(A,L){switch(L.format){case"hsvArray":return A;case"hslArray":return C(A);case"hsl":var k=C(A);return"hsl("+k[0]+", "+k[1]+"%, "+k[2]+"%)";case"hsla":var U=C(A),N=L.alpha||Math.random();return"hsla("+U[0]+", "+U[1]+"%, "+U[2]+"%, "+N+")";case"rgbArray":return w(A);case"rgb":var I=w(A);return"rgb("+I.join(", ")+")";case"rgba":var F=w(A),N=L.alpha||Math.random();return"rgba("+F.join(", ")+", "+N+")";default:return _(A)}}function d(A,L){for(var k=v(A).lowerBounds,U=0;U<k.length-1;U++){var N=k[U][0],I=k[U][1],F=k[U+1][0],O=k[U+1][1];if(L>=N&&L<=F){var V=(O-I)/(F-N),z=I-V*N;return V*L+z}}return 0}function f(A){if(typeof parseInt(A)=="number"){var L=parseInt(A);if(L<360&&L>0)return[L,L]}if(typeof A=="string"){if(i[A]){var k=i[A];if(k.hueRange)return k.hueRange}else if(A.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var U=T(A)[0];return[U,U]}}return[0,360]}function h(A){return v(A).saturationRange}function v(A){A>=334&&A<=360&&(A-=360);for(var L in i){var k=i[L];if(k.hueRange&&A>=k.hueRange[0]&&A<=k.hueRange[1])return i[L]}return"Color not found"}function m(A){if(n===null){var L=.618033988749895,k=Math.random();return k+=L,k%=1,Math.floor(A[0]+k*(A[1]+1-A[0]))}else{var U=A[1]||1,N=A[0]||0;n=(n*9301+49297)%233280;var I=n/233280;return Math.floor(N+I*(U-N))}}function _(A){var L=w(A);function k(N){var I=N.toString(16);return I.length==1?"0"+I:I}var U="#"+k(L[0])+k(L[1])+k(L[2]);return U}function S(A,L,k){var U=k[0][0],N=k[k.length-1][0],I=k[k.length-1][1],F=k[0][1];i[A]={hueRange:L,lowerBounds:k,saturationRange:[U,N],brightnessRange:[I,F]}}function E(){S("monochrome",null,[[0,0],[100,0]]),S("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),S("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),S("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),S("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),S("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),S("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),S("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function w(A){var L=A[0];L===0&&(L=1),L===360&&(L=359),L=L/360;var k=A[1]/100,U=A[2]/100,N=Math.floor(L*6),I=L*6-N,F=U*(1-k),O=U*(1-I*k),V=U*(1-(1-I)*k),z=256,B=256,H=256;switch(N){case 0:z=U,B=V,H=F;break;case 1:z=O,B=U,H=F;break;case 2:z=F,B=U,H=V;break;case 3:z=F,B=O,H=U;break;case 4:z=V,B=F,H=U;break;case 5:z=U,B=F,H=O;break}var W=[Math.floor(z*255),Math.floor(B*255),Math.floor(H*255)];return W}function T(A){A=A.replace(/^#/,""),A=A.length===3?A.replace(/(.)/g,"$1$1"):A;var L=parseInt(A.substr(0,2),16)/255,k=parseInt(A.substr(2,2),16)/255,U=parseInt(A.substr(4,2),16)/255,N=Math.max(L,k,U),I=N-Math.min(L,k,U),F=N?I/N:0;switch(N){case L:return[60*((k-U)/I%6)||0,F,N];case k:return[60*((U-L)/I+2)||0,F,N];case U:return[60*((L-k)/I+4)||0,F,N]}}function C(A){var L=A[0],k=A[1]/100,U=A[2]/100,N=(2-k)*U;return[L,Math.round(k*U/(N<1?N:2-N)*1e4)/100,N/2*100]}function P(A){for(var L=0,k=0;k!==A.length&&!(L>=Number.MAX_SAFE_INTEGER);k++)L+=A.charCodeAt(k);return L}function R(A){if(isNaN(A)){if(typeof A=="string"){if(i[A]){var k=i[A];if(k.hueRange)return k.hueRange}else if(A.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var U=T(A)[0];return v(U).hueRange}}}else{var L=parseInt(A);if(L<360&&L>0)return v(A).hueRange}return[0,360]}return s})})(M5,M5.exports);var na=M5.exports;const G1e=100,$1e=()=>na({luminosity:"light"}),W1e=(t,e)=>t.uuid()===e.uuid()&&t.projectId()===e.projectId(),q1e=(t,e,n)=>t.filter(i=>!W1e(e,i)).concat([e]).slice(-n),Ys=function(t={},e){t=t||{},e=e||Qo(t),Nu(t,{avatarThumbnailUrl:null,avatarUrl:null,awaitingInvite:!1,color:$1e(),hasLikedCurrentProject:!1,id:-Math.floor(Math.random()*65536),lastSeen:Date.now(),login:null,name:null,recentFiles:[],isOnline:!0,teams:[],tabId:`${Math.floor(Math.random()*65536)}`,gitUser:null,isGlitchRewind:!1,emails:[],features:[],gitAccessToken:null,description:""});const n=t.removeAwaitingInviteTimeout!=null?t.removeAwaitingInviteTimeout:15*1e3;return e.attrAccessor("avatarThumbnailUrl","avatarUrl","githubToken","facebookToken","login","name","color","createdAt","tabId","facebookId","isSupport","description"),e.attrObservable("thanksReceived","thanksCount","isThankedByCurrentUser","isOnline","awaitingInvite","emails","id","lastSeen","hasLikedCurrentProject","paidPlan","isFetching","gitUser","isGlitchRewind","features","gitAccessToken","persistentToken"),e.attrModels("recentFiles",qs),e.attrModels("teams",d5),e.attrObservable("lastCursor"),e.extend({broadcastData({project:i}={}){const o={avatarUrl:e.avatarUrl(),avatarThumbnailUrl:e.avatarThumbnailUrl(),awaitingInvite:e.awaitingInvite(),id:t.id,name:t.name,login:t.login,color:t.color,lastCursor:e.lastCursor(),thanksReceived:!1,tabId:e.tabId(),teams:e.teams()};return i&&(o.readOnly=i.readOnlyFor(e),o.projectPermission={userId:t.id,projectId:i.id(),accessLevel:i.accessLevel(e)}),o},primaryEmail(){return e.emails().find(i=>i.verified&&i.primary)},currentDocument(){var i,o;return((i=e.recentFiles.last())==null?void 0:i.uuid())||((o=e.lastCursor())==null?void 0:o.documentId)},secondaryColor(){return iD(t.color).darken(.1).rgbString()},addRecentFile(i,o){const s=qs({uuid:i.uuid(),path:i.path(),projectId:o}),a=e.recentFiles();if(i.path()!==".env"&&!i.path().startsWith(".data/"))return e.recentFiles(q1e(a,s,G1e))},loggedIn(){return!!e.login()},registerAnon(i){return i.post("v1/users/anon").then(function({id:o,persistentToken:s,color:a}){return e.persistentToken(s),e.id(o),e.color(a)})},update(i){return Object.keys(i).forEach(function(o){var s;if(!(o==="lastCursor"&&((s=e.lastCursor())==null?void 0:s.clientId)&&(!i[o]||e.lastCursor().clientId!==i[o].clientId))){if(o==="awaitingInvite"&&e.awaitingInvite()){i.awaitingInvite?(clearTimeout(e.removeAwaitingInviteHandler),e.removeAwaitingInviteHandler=null,e.awaitingInvite(!0)):e.removeAwaitingInviteHandler||(e.removeAwaitingInviteHandler=setTimeout(function(){return e.removeAwaitingInviteHandler=null,e.awaitingInvite(!1)},n));return}if(e[o])return o==="teams"?e[o](i[o].map(a=>d5(a))):e[o](i[o])}})},isAnon(){if(!e.login())return!0},userAvatarUrl(i){if(i=i||"small",!e.isAnon())return i==="large"?e.avatarUrl():e.avatarThumbnailUrl()},profileUrl(){return e.login()?`/@${e.login()}`:`/user/${e.id()}`},updateThanks(i){return i.glitchApi().v0.getThanks(e.id()).then(function(o){e.thanksCount(o.length);const[s]=Array.from(o.filter(({thankerUserId:a})=>a===i.currentUser().id()));return e.isThankedByCurrentUser(!!s)}).catch(function(o){console.warn(`Could not fetch updated thanks count for @${e.login()}: ${o.response.status} ${o.response.statusText}`)})},addThanks(i){return e.isThankedByCurrentUser(!0),e.thanksCount.increment(1),i.glitchApi().addThanks(e.id()).then(function(){const o={user:e.broadcastData()};return o.user.thankedBy=i.currentUser().id(),i.broadcast(o)})},removeThanks(i){return e.isThankedByCurrentUser(!1),e.thanksCount.decrement(1),i.glitchApi().deleteThanks(e.id()).then(function(){const o={user:e.broadcastData()};return o.user.unThankedBy=i.currentUser().id(),i.broadcast(o)})}}),e};Ys.Anon=Ys({login:"I should sign in",name:"Anonymous"},null);class sD{constructor(e,n,i=!1){this.editorIsEmbedded=e,this.analyticsOverride=n,this.currentProject=void 0,this.currentUser=void 0,this.debugMode=i}setCurrentProject(e){this.currentProject=e}setCurrentUser(e){this.currentUser=e}accessLevelToAnalyticsLabel(e,n,i){const o=()=>{const a=i?i.teams():[],l=n?n.teams():[];return a.some(c=>l.some(u=>u.id()===c.id()))};let s;switch(e){case Tt.ADMIN:s="admin";break;case Tt.MEMBER:s="projectMember";break;default:o()?s="teamMember":s="visitor";break}return s}glitchMetadata(){let e={isEmbedded:this.editorIsEmbedded()};if(this.currentProject){const n=this.currentProject.getOwner(),i=this.currentProject.getType();if(e=qe(he({},e),{projectId:this.currentProject.id(),projectName:this.currentProject.domain(),projectType:i,projectVisibility:this.currentProject.private()?"private":"public",projectPrivacy:this.currentProject.privacy(),remixedFromProjectId:this.currentProject.baseId(),ownerId:n&&n.id,ownerHandle:n&&n.login,numberProjectMembers:this.currentProject.users().length,numberTeams:this.currentProject.teams().length,appType:this.currentProject.appType()}),this.currentUser){const o=this.currentProject.accessLevel(this.currentUser),s=this.accessLevelToAnalyticsLabel(o,this.currentUser,this.currentProject);e=qe(he({},e),{accessLevel:s})}}return e}page(e,n){n=he({name:e,isEmbedded:this.editorIsEmbedded()},n),typeof this.analytics().page=="function"&&this.analytics().page(n),this.debugMode&&(console.info("ANALYTICS: Page Viewed"),n&&console.info(n))}track(e,n){n=he(he({},this.glitchMetadata()),n),typeof this.analytics().track=="function"&&this.analytics().track(e,n),this.debugMode&&(console.info(`ANALYTICS: "${e}" Event`),n&&console.info(n))}identify(e){if(!e||!e.loggedIn())return;const n={name:e.name(),userHandle:e.login(),email:e.primaryEmail()&&e.primaryEmail().email,createdAt:e.createdAt(),teamCount:e.teams().length};typeof this.analytics().identify=="function"&&this.analytics().identify(e.id(),n),this.debugMode&&(console.info("ANALYTICS: Identify User"),n&&console.info(n))}analytics(){return this.analyticsOverride||window.analytics}}class Y1e{page(){}track(){}}function K1e(t,e,n=null){return["http://www.google.com/bot.html","http://www.google.com/adsbot.html","http://www.bing.com/bingbot.htm","http://help.yahoo.com/help/us/ysearch/slurp","http://duckduckgo.com/duckduckbot.html","http://www.baidu.com/search/spider.html","http://yandex.com/bots","http://www.sogou.com/docs/help/webmasters.htm#07","Sogou-Test-Spider/4.0 (compatible; MSIE 5.5; Windows 98)","http://www.exabot.com/go/robot","Mozilla/5.0 (compatible; Konqueror/3.5; Linux) KHTML/3.5.5 (like Gecko) (Exabot-Thumbnails)","http://www.facebook.com/externalhit_uatext.php","facebot","http://www.alexa.com/site/help/webmasters"].find(s=>t.includes(s))?new Y1e:Om==="development"?new sD(e,n,!0):new sD(e,n)}function X1e(t){let e=/Chrome/i.test(t)&&!/Edge/i.test(t),n=/iPhone|iPad|Android/i.test(t),i=/android/i.test(t),o=/iPad|iPhone|iPod/.test(t)&&!window.MSStream,s=/Mac/i.test(t);return{isChrome:e,isMobile:n,isAndroid:i,isIOS:o,isMacOS:s,isAppleDevice:o||s}}function J1e(t,e){let n=0,i=0,o=[];for(;n<t.length&&i<e.length;)t[n]<e[i]?n++:(e[i]<t[n]||(o.push(t[n]),n++),i++);return o}const oD=K.exports.createContext(null);function Z1e({application:t,children:e}){return p.createElement(oD.Provider,{value:t},e)}function Te(){const t=K.exports.useContext(oD);return t||new Error("useApplication can only be used in a child of the Application component.")}const m_="userPrefs";function dg(t){return`changed:${t}`}const Uu=new a9;function g_(t){try{return JSON.parse(window.localStorage.getItem(t))}catch{return null}}function A5(t,e){try{window.localStorage.setItem(t,JSON.stringify(e)),Uu.emit(dg(t),e)}catch{console.warn("Could not save to localStorage. (localStorage is disabled in private Safari windows)")}}function Q1e(t){try{window.localStorage.removeItem(t)}catch{}}function aD(t){if(Uu.listenerCount(dg(t.key))>0)try{Uu.emit(dg(t.key),JSON.parse(t.newValue))}catch{}}function lD(t,e){Uu.listenerCount()===0&&window.addEventListener("storage",aD),Uu.on(dg(t),e)}function cD(t,e){Uu.off(dg(t),e),Uu.listenerCount()===0&&window.removeEventListener("storage",aD)}function eye(t={},e=null){t=t||{},e=e||Qo(t);const n=new WeakMap;return e.extend({getLocal:g_,storeLocal:A5,removeLocal:Q1e,getUserPrefs(){return g_(m_)||{}},getUserPref(i){return e.getUserPrefs()[i]},updateUserPrefs(i,o){const s=e.getUserPrefs();s[i]=o,e.storeLocal(m_,s)},onUserPrefChange(i,o){let s=e.getUserPrefs();const a=l=>{s[i]!==l[i]&&o(l[i]),s=l};n.set(o,a),lD(m_,a)},removeUserPrefChangeListener(i,o){const s=n.get(o);n.delete(o),cD(m_,s)}})}function xo(t){return Object.entries(t).flatMap(([e,n])=>Array.isArray(n)?n.map(o=>[e,o]):[[e,n]]).filter(([e,n])=>n!=null)}const P5={accessLevel:Tt.MEMBER};class tye{constructor(e){Pd(this,"customDomainPreviewHostName");this.client=e}getProject(e,o={}){var s=o,{showDeleted:n=!1}=s,i=cn(s,["showDeleted"]);return this.client.get(`projects/${e}`,he({searchParams:xo({showDeleted:n.toString()})},i)).json()}boot(i={}){var o=i,{latestProjectOnly:e="false"}=o,n=cn(o,["latestProjectOnly"]);return this.client.get("boot",he({searchParams:xo({latestProjectOnly:e})},n)).json()}projectSetEnv(e,n,i={}){return this.client.post(`projects/${e}/setenv`,he({json:{env:n}},i)).json()}projectExec(e,n,i={}){return this.client.post(`projects/${e}/exec`,he({json:{command:n},timeout:6e4},i)).json()}projectTouch(e,n,i={}){return this.client.patch(`projects/${e}/touch`,he({json:n},i)).json()}projectEdited(e,n,i={}){return this.client.post(`projects/${e}/edited`,he({json:n},i)).json()}projectDomainChanged(e,n={}){return this.client.post("project/domainChanged",he({searchParams:xo({projectId:e})},n)).json()}projectGithubExport(e,n,i,o={}){return this.client.post("project/githubExport",he({searchParams:xo({projectId:e,repo:n,commitMessage:i}),timeout:3e4},o))}projectGithubImport(e,n,s={}){var a=s,{path:i}=a,o=cn(a,["path"]);return this.client.post("project/githubImport",he({searchParams:xo({projectId:e,repo:n,path:i}),timeout:3e4},o))}importGitRepoIntoProject(e,n,o={}){var i=cn(o,[]);return this.client.post(`projects/${e}/git/import`,he({json:{repoUrl:n},timeout:3e4},i))}getProjectGitCommits(e,n={}){return this.client.get(`projects/${e}/git/commits`,he({timeout:120*1e3},n)).json()}getProjectGitDiff(e,n,i={}){return this.client.get(`projects/${e}/git/diff/${n}`,he({timeout:120*1e3},i)).json()}projectGitCommitChanges(e,n={}){return this.client.post(`projects/${e}/git/commitChanges`,he({timeout:120*1e3},n)).json()}projectGitRevert(e,n,i={}){return this.client.post(`projects/${e}/git/revert/${n}`,he({timeout:120*1e3,json:{ots:[]}},i))}projectJoin(e,n={}){return this.client.post(`projects/${e}/join`,n).json()}createProjectPermission(e,n,i,o={}){return this.client.post(`project_permissions/${e}`,he({json:{userId:n,projectId:e,accessLevel:i}},o)).json()}teamProjectJoin(e,n,i={}){return this.client.post(`teams/${e}/projects/${n}/join`,i).json()}getUser(e,n={}){return this.client.get(`users/${e}`,n).json()}getThanks(e,n={}){return this.client.get(`thanks/${e}`,n).json()}}class uD extends Error{constructor(e,...n){super(...n);this.gitRepoUrl=e}}const NP=class{constructor(e=null){this.token=e,this.client=Ja.extend({credentials:"include",timeout:2e4,prefixUrl:zs,hooks:{beforeRequest:[n=>{this.token!==null&&n.headers.set("Authorization",this.token)}]}}),this.v0=new tye(this.client)}setToken(e){this.token=e}getProject(e,n={}){return this.client.get("v1/projects/by/id",he({searchParams:xo({id:e})},n)).json()}getProjectsByDomain(e,n={}){return this.client.get("v1/projects/by/domain",he({searchParams:xo({domain:e}),timeout:6e4},n)).json()}getProjectCollections(e,o={}){var s=o,{limit:n=10}=s,i=cn(s,["limit"]);return this.client.get("v1/projects/by/id/collections",he({searchParams:xo({id:e,limit:n})},i)).json()}createProject(e,n={}){return this.client.post("v1/projects",he({json:e},n)).json()}remixProject(e,n,i={}){return this.client.post(`v1/projects/${e}/remix`,he({json:n},i)).json().catch(o=>{if(o instanceof NP.HTTPError&&o.response.status===404&&n.gitRepoUrl)throw new uD(n.gitRepoUrl)})}remixProjectByDomain(e,n,i={}){return this.client.post(`v1/projects/by/domain/${e}/remix`,he({json:n},i)).json()}updateProject(e,n,i={}){return this.client.patch(`v1/projects/${e}`,he({json:n},i)).json()}deleteProject(e,n={}){return this.client.delete(`v1/projects/${e}`,n).json()}restoreProject(e,n={}){return this.client.post(`v1/projects/${e}/undelete`,n).json()}deleteProjectUser(e,n,i={}){return this.client.delete(`v1/projects/${e}/users/${n}`,i).json()}transferOwnership(e,n,i={}){return this.client.post(`v1/projects/${e}/owner/${n}`,i).json()}copyAsset(e,n,i,o={}){return this.client.put(`v1/projects/${e}/asset/${n}`,he({json:i},o)).json()}async getPendingInvites(e,n={}){var o;const i=await this.client.get(`v1/projects/${e}/invites`,n).json();return i.invites=(o=i.invites)==null?void 0:o.map(s=>qe(he({},s),{projectPermission:P5})),i}cancelInvite(e,n,i={}){return this.client.delete(`v1/projects/${e}/invites/${n}`,i).json()}async inviteUserToProject(e,n,i={}){const o=await this.client.post(`v1/projects/${e}/invites`,he({json:{userId:n}},i)).json();return o.projectPermission=P5,o}async inviteEmailToProject(e,n,i={}){const o=await this.client.post(`v1/projects/${e}/invites`,he({json:{email:n}},i)).json();return o.projectPermission=P5,o}getProjectPolicy(e,o={}){var s=o,{contentType:n}=s,i=cn(s,["contentType"]);return this.client.get(`v1/projects/${e}/policy`,he({searchParams:xo({contentType:n})},i)).json()}getProjectAvatarPolicy(e,n={}){return this.client.get(`v1/projects/${e}/avatar/policy`,n).json()}createAnonymousUser(e={}){return this.client.post("v1/users/anon",e).json()}getUserGlitchPro(e,n={}){return this.client.get(`v1/users/${e}/glitchPro`,n).json()}updateUser(e,n,i={}){return this.client.patch(`v1/users/${e}`,he({json:n},i)).json()}addThanks(e,n={}){return this.client.put(`v1/users/${e}/thanks`,n).json()}deleteThanks(e,n={}){return this.client.delete(`v1/users/${e}/thanks`,n).json()}getGlitchPro(e={}){return this.client.get("v1/payments/glitchPro",e).json()}getCollection(e,o={}){var s=o,{limit:n}=s,i=cn(s,["limit"]);return this.client.get(`v1/collections/${e}/projects`,he({searchParams:xo({limit:n})},i)).json()}getCollectionByFullUrl(e,n={}){return this.client.get("v1/collections/by/fullUrl",he({searchParams:xo({fullUrl:e})},n)).json()}addProjectToCollection(e,n,i={}){return this.client.put(`v1/collections/${e}/projects/${n}`,i).json()}removeProjectFromCollection(e,n,i={}){return this.client.delete(`v1/collections/${e}/projects/${n}`,i).json()}getSearchCreds(e={}){return this.client.get("v1/search/creds",e).json()}createAuthorizationToken(e,n={}){return this.client.post("v1/auth/authorizationToken",he({json:{requestToken:e}},n)).json()}getProjectDomains(e){return this.client.get(`v1/projects/${e}/domains`).json()}addProjectDomain(e,n){return this.client.post(`v1/projects/${e}/domains`,{json:{domain:n}}).json()}removeProjectDomain(e,n){return this.client.delete(`v1/projects/${e}/domains`,{json:{domain:n}}).json()}deployToFastly(e){return this.client.post(`v1/projects/${e}/publish`).json()}getMarketingDetails(){}signUpForFastly(e){return this.client.post(`v1/marketingLeads/${e}`).json()}};let ms=NP;Pd(ms,"HTTPError",Ja.HTTPError),Pd(ms,"TimeoutError",Ja.TimeoutError);const dD="cachedUser",fD=t=>`editor.user.${t}.recentFiles`,nye=100;function rye(){const t=g_(dD);return t!==null&&typeof t=="object"&&"persistentToken"in t?t:null}function iye(t){const e=g_(fD(t));return Array.isArray(e)===!1?[]:e}function sye(t){return A5(dD,t)}function oye(t,e){return A5(fD(t),e)}const aye=uI({id:"user",initial:"loading",context:{error:null,user:null,recentFiles:null},states:{loading:{invoke:{src:"fetchOrCreateUser",onDone:{target:"active",actions:["assignUser","fetchAndAssignRecentFiles"]},onError:"error"}},active:{type:"parallel",entry:"saveToCache",states:{awaitingInvite:{initial:"idle",states:{idle:{on:{TOGGLE_AWAITING_INVITE:"active"}},active:{on:{TOGGLE_AWAITING_INVITE:"idle"}}}}},on:{FILE_OPENED:{actions:["addRecentFile","saveToCache"]},TEXT_SELECTED:{actions:["assignLastCursor"]},CACHED_USER_CHANGE:[{cond:"persistentTokenIsSame",actions:["assignUser"]},{cond:"notInCypress",actions:["reloadPage"]}]}},error:{entry:"assignError",on:{RETRY:"loading"}}}});function lye(){return{actions:{assignError:yp({error:(t,e)=>e.data}),assignLastCursor:yp({lastCursor:(t,e)=>e.data}),assignUser:yp({user:(t,e)=>e.data}),addRecentFile:yp({recentFiles:(t,e)=>{const n=e.data;return(t.recentFiles||[]).filter(a=>a.path!==n.path||a.projectId!==n.projectId).concat(n).slice(-nye)}}),fetchAndAssignRecentFiles:yp({recentFiles:(t,e)=>iye(t.user.id)}),reloadPage:()=>{window.document.location.reload()},saveToCache:t=>{try{sye(t.user),oye(t.user.id,t.recentFiles)}catch{console.error("Could not set cachedUser in localStorage")}}},services:{fetchOrCreateUser:async()=>{let t=rye();const e=new ms(t&&t.persistentToken);if(t!==null)try{if(t=(await e.v0.boot({latestProjectOnly:!0})).user,t.login){const i=await e.getGlitchPro();t.isProUser=i==null?void 0:i.isActive}}catch(n){if(!(n instanceof ms.HTTPError)||n.response.status>=500)throw n;t=null}return t===null&&(t=await e.createAnonymousUser()),t}},guards:{persistentTokenIsSame:(t,e)=>e.data&&t.user.persistentToken===e.data.persistentToken,notInCypress:(t,e)=>!("Cypress"in window)}}}function cye(){const t=Te();return dI(t.userMachine)}function Nf(){var e;const[t]=cye();return(e=t==null?void 0:t.context)==null?void 0:e.user}function uye(){return fI(aye.withConfig(lye()),{devTools:!0})}var R5={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,i="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",f=1,h=2,v=4,m=1,_=2,S=1,E=2,w=4,T=8,C=16,P=32,R=64,A=128,L=256,k=512,U=30,N="...",I=800,F=16,O=1,V=2,z=3,B=1/0,H=9007199254740991,W=17976931348623157e292,G=0/0,q=4294967295,re=q-1,se=q>>>1,ge=[["ary",A],["bind",S],["bindKey",E],["curry",T],["curryRight",C],["flip",k],["partial",P],["partialRight",R],["rearg",L]],_e="[object Arguments]",pe="[object Array]",ae="[object AsyncFunction]",le="[object Boolean]",ce="[object Date]",me="[object DOMException]",Ie="[object Error]",fe="[object Function]",Ee="[object GeneratorFunction]",ye="[object Map]",Fe="[object Number]",De="[object Null]",nt="[object Object]",ft="[object Promise]",gt="[object Proxy]",Ut="[object RegExp]",Q="[object Set]",J="[object String]",Ae="[object Symbol]",Ne="[object Undefined]",We="[object WeakMap]",Le="[object WeakSet]",Ke="[object ArrayBuffer]",rt="[object DataView]",Be="[object Float32Array]",ie="[object Float64Array]",He="[object Int8Array]",Ve="[object Int16Array]",bt="[object Int32Array]",lt="[object Uint8Array]",Dt="[object Uint8ClampedArray]",Xe="[object Uint16Array]",It="[object Uint32Array]",Sn=/\b__p \+= '';/g,vn=/\b(__p \+=) '' \+/g,Ss=/(__e\(.*?\)|\b__t\)) \+\n'';/g,es=/&(?:amp|lt|gt|quot|#39);/g,Oo=/[&<>"']/g,Z0=RegExp(es.source),Q0=RegExp(Oo.source),qE=/<%-([\s\S]+?)%>/g,hd=/<%([\s\S]+?)%>/g,ev=/<%=([\s\S]+?)%>/g,tp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tv=/^\w*$/,YE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,np=/[\\^$.*+?()[\]{}|]/g,KE=RegExp(np.source),Z=/^\s+/,ve=/\s/,Ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xe=/\{\n\/\* \[wrapped with (.+)\] \*/,Oe=/,? & /,Pt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ot=/[()=,{}\[\]\/\s]/,Vt=/\\(\\)?/g,Rt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qt=/\w*$/,Ht=/^[-+]0x[0-9a-f]+$/i,en=/^0b[01]+$/i,Kn=/^\[object .+?Constructor\]$/,xa=/^0o[0-7]+$/i,Pl=/^(?:0|[1-9]\d*)$/,ln=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ei=/($^)/,hr=/['\n\r\u2028\u2029\\]/g,wi="\\ud800-\\udfff",pd="\\u0300-\\u036f",Ts="\\ufe20-\\ufe2f",oo="\\u20d0-\\u20ff",Mr=pd+Ts+oo,Rl="\\u2700-\\u27bf",Fi="a-z\\xdf-\\xf6\\xf8-\\xff",DW="\\xac\\xb1\\xd7\\xf7",FW="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",UW="\\u2000-\\u206f",jW=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kP="A-Z\\xc0-\\xd6\\xd8-\\xde",DP="\\ufe0e\\ufe0f",FP=DW+FW+UW+jW,XE="['\u2019]",BW="["+wi+"]",UP="["+FP+"]",nv="["+Mr+"]",jP="\\d+",VW="["+Rl+"]",BP="["+Fi+"]",VP="[^"+wi+FP+jP+Rl+Fi+kP+"]",JE="\\ud83c[\\udffb-\\udfff]",HW="(?:"+nv+"|"+JE+")",HP="[^"+wi+"]",ZE="(?:\\ud83c[\\udde6-\\uddff]){2}",QE="[\\ud800-\\udbff][\\udc00-\\udfff]",md="["+kP+"]",zP="\\u200d",GP="(?:"+BP+"|"+VP+")",zW="(?:"+md+"|"+VP+")",$P="(?:"+XE+"(?:d|ll|m|re|s|t|ve))?",WP="(?:"+XE+"(?:D|LL|M|RE|S|T|VE))?",qP=HW+"?",YP="["+DP+"]?",GW="(?:"+zP+"(?:"+[HP,ZE,QE].join("|")+")"+YP+qP+")*",$W="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",WW="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",KP=YP+qP+GW,qW="(?:"+[VW,ZE,QE].join("|")+")"+KP,YW="(?:"+[HP+nv+"?",nv,ZE,QE,BW].join("|")+")",KW=RegExp(XE,"g"),XW=RegExp(nv,"g"),ew=RegExp(JE+"(?="+JE+")|"+YW+KP,"g"),JW=RegExp([md+"?"+BP+"+"+$P+"(?="+[UP,md,"$"].join("|")+")",zW+"+"+WP+"(?="+[UP,md+GP,"$"].join("|")+")",md+"?"+GP+"+"+$P,md+"+"+WP,WW,$W,jP,qW].join("|"),"g"),ZW=RegExp("["+zP+wi+Mr+DP+"]"),QW=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eq=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tq=-1,Bn={};Bn[Be]=Bn[ie]=Bn[He]=Bn[Ve]=Bn[bt]=Bn[lt]=Bn[Dt]=Bn[Xe]=Bn[It]=!0,Bn[_e]=Bn[pe]=Bn[Ke]=Bn[le]=Bn[rt]=Bn[ce]=Bn[Ie]=Bn[fe]=Bn[ye]=Bn[Fe]=Bn[nt]=Bn[Ut]=Bn[Q]=Bn[J]=Bn[We]=!1;var kn={};kn[_e]=kn[pe]=kn[Ke]=kn[rt]=kn[le]=kn[ce]=kn[Be]=kn[ie]=kn[He]=kn[Ve]=kn[bt]=kn[ye]=kn[Fe]=kn[nt]=kn[Ut]=kn[Q]=kn[J]=kn[Ae]=kn[lt]=kn[Dt]=kn[Xe]=kn[It]=!0,kn[Ie]=kn[fe]=kn[We]=!1;var nq={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},rq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},iq={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},sq={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},oq=parseFloat,aq=parseInt,XP=typeof Wt=="object"&&Wt&&Wt.Object===Object&&Wt,lq=typeof self=="object"&&self&&self.Object===Object&&self,Gr=XP||lq||Function("return this")(),tw=e&&!e.nodeType&&e,Kc=tw&&!0&&t&&!t.nodeType&&t,JP=Kc&&Kc.exports===tw,nw=JP&&XP.process,Cs=function(){try{var ue=Kc&&Kc.require&&Kc.require("util").types;return ue||nw&&nw.binding&&nw.binding("util")}catch{}}(),ZP=Cs&&Cs.isArrayBuffer,QP=Cs&&Cs.isDate,eR=Cs&&Cs.isMap,tR=Cs&&Cs.isRegExp,nR=Cs&&Cs.isSet,rR=Cs&&Cs.isTypedArray;function ts(ue,Me,be){switch(be.length){case 0:return ue.call(Me);case 1:return ue.call(Me,be[0]);case 2:return ue.call(Me,be[0],be[1]);case 3:return ue.call(Me,be[0],be[1],be[2])}return ue.apply(Me,be)}function cq(ue,Me,be,it){for(var Nt=-1,pn=ue==null?0:ue.length;++Nt<pn;){var Ar=ue[Nt];Me(it,Ar,be(Ar),ue)}return it}function Ms(ue,Me){for(var be=-1,it=ue==null?0:ue.length;++be<it&&Me(ue[be],be,ue)!==!1;);return ue}function uq(ue,Me){for(var be=ue==null?0:ue.length;be--&&Me(ue[be],be,ue)!==!1;);return ue}function iR(ue,Me){for(var be=-1,it=ue==null?0:ue.length;++be<it;)if(!Me(ue[be],be,ue))return!1;return!0}function Ll(ue,Me){for(var be=-1,it=ue==null?0:ue.length,Nt=0,pn=[];++be<it;){var Ar=ue[be];Me(Ar,be,ue)&&(pn[Nt++]=Ar)}return pn}function rv(ue,Me){var be=ue==null?0:ue.length;return!!be&&gd(ue,Me,0)>-1}function rw(ue,Me,be){for(var it=-1,Nt=ue==null?0:ue.length;++it<Nt;)if(be(Me,ue[it]))return!0;return!1}function Xn(ue,Me){for(var be=-1,it=ue==null?0:ue.length,Nt=Array(it);++be<it;)Nt[be]=Me(ue[be],be,ue);return Nt}function Il(ue,Me){for(var be=-1,it=Me.length,Nt=ue.length;++be<it;)ue[Nt+be]=Me[be];return ue}function iw(ue,Me,be,it){var Nt=-1,pn=ue==null?0:ue.length;for(it&&pn&&(be=ue[++Nt]);++Nt<pn;)be=Me(be,ue[Nt],Nt,ue);return be}function dq(ue,Me,be,it){var Nt=ue==null?0:ue.length;for(it&&Nt&&(be=ue[--Nt]);Nt--;)be=Me(be,ue[Nt],Nt,ue);return be}function sw(ue,Me){for(var be=-1,it=ue==null?0:ue.length;++be<it;)if(Me(ue[be],be,ue))return!0;return!1}var fq=ow("length");function hq(ue){return ue.split("")}function pq(ue){return ue.match(Pt)||[]}function sR(ue,Me,be){var it;return be(ue,function(Nt,pn,Ar){if(Me(Nt,pn,Ar))return it=pn,!1}),it}function iv(ue,Me,be,it){for(var Nt=ue.length,pn=be+(it?1:-1);it?pn--:++pn<Nt;)if(Me(ue[pn],pn,ue))return pn;return-1}function gd(ue,Me,be){return Me===Me?Cq(ue,Me,be):iv(ue,oR,be)}function mq(ue,Me,be,it){for(var Nt=be-1,pn=ue.length;++Nt<pn;)if(it(ue[Nt],Me))return Nt;return-1}function oR(ue){return ue!==ue}function aR(ue,Me){var be=ue==null?0:ue.length;return be?lw(ue,Me)/be:G}function ow(ue){return function(Me){return Me==null?n:Me[ue]}}function aw(ue){return function(Me){return ue==null?n:ue[Me]}}function lR(ue,Me,be,it,Nt){return Nt(ue,function(pn,Ar,An){be=it?(it=!1,pn):Me(be,pn,Ar,An)}),be}function gq(ue,Me){var be=ue.length;for(ue.sort(Me);be--;)ue[be]=ue[be].value;return ue}function lw(ue,Me){for(var be,it=-1,Nt=ue.length;++it<Nt;){var pn=Me(ue[it]);pn!==n&&(be=be===n?pn:be+pn)}return be}function cw(ue,Me){for(var be=-1,it=Array(ue);++be<ue;)it[be]=Me(be);return it}function vq(ue,Me){return Xn(Me,function(be){return[be,ue[be]]})}function cR(ue){return ue&&ue.slice(0,hR(ue)+1).replace(Z,"")}function ns(ue){return function(Me){return ue(Me)}}function uw(ue,Me){return Xn(Me,function(be){return ue[be]})}function rp(ue,Me){return ue.has(Me)}function uR(ue,Me){for(var be=-1,it=ue.length;++be<it&&gd(Me,ue[be],0)>-1;);return be}function dR(ue,Me){for(var be=ue.length;be--&&gd(Me,ue[be],0)>-1;);return be}function yq(ue,Me){for(var be=ue.length,it=0;be--;)ue[be]===Me&&++it;return it}var _q=aw(nq),bq=aw(rq);function Eq(ue){return"\\"+sq[ue]}function wq(ue,Me){return ue==null?n:ue[Me]}function vd(ue){return ZW.test(ue)}function xq(ue){return QW.test(ue)}function Sq(ue){for(var Me,be=[];!(Me=ue.next()).done;)be.push(Me.value);return be}function dw(ue){var Me=-1,be=Array(ue.size);return ue.forEach(function(it,Nt){be[++Me]=[Nt,it]}),be}function fR(ue,Me){return function(be){return ue(Me(be))}}function Ol(ue,Me){for(var be=-1,it=ue.length,Nt=0,pn=[];++be<it;){var Ar=ue[be];(Ar===Me||Ar===d)&&(ue[be]=d,pn[Nt++]=be)}return pn}function sv(ue){var Me=-1,be=Array(ue.size);return ue.forEach(function(it){be[++Me]=it}),be}function Tq(ue){var Me=-1,be=Array(ue.size);return ue.forEach(function(it){be[++Me]=[it,it]}),be}function Cq(ue,Me,be){for(var it=be-1,Nt=ue.length;++it<Nt;)if(ue[it]===Me)return it;return-1}function Mq(ue,Me,be){for(var it=be+1;it--;)if(ue[it]===Me)return it;return it}function yd(ue){return vd(ue)?Pq(ue):fq(ue)}function ao(ue){return vd(ue)?Rq(ue):hq(ue)}function hR(ue){for(var Me=ue.length;Me--&&ve.test(ue.charAt(Me)););return Me}var Aq=aw(iq);function Pq(ue){for(var Me=ew.lastIndex=0;ew.test(ue);)++Me;return Me}function Rq(ue){return ue.match(ew)||[]}function Lq(ue){return ue.match(JW)||[]}var Iq=function ue(Me){Me=Me==null?Gr:_d.defaults(Gr.Object(),Me,_d.pick(Gr,eq));var be=Me.Array,it=Me.Date,Nt=Me.Error,pn=Me.Function,Ar=Me.Math,An=Me.Object,fw=Me.RegExp,Oq=Me.String,As=Me.TypeError,ov=be.prototype,Nq=pn.prototype,bd=An.prototype,av=Me["__core-js_shared__"],lv=Nq.toString,bn=bd.hasOwnProperty,kq=0,pR=function(){var y=/[^.]+$/.exec(av&&av.keys&&av.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),cv=bd.toString,Dq=lv.call(An),Fq=Gr._,Uq=fw("^"+lv.call(bn).replace(np,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),uv=JP?Me.Buffer:n,Nl=Me.Symbol,dv=Me.Uint8Array,mR=uv?uv.allocUnsafe:n,fv=fR(An.getPrototypeOf,An),gR=An.create,vR=bd.propertyIsEnumerable,hv=ov.splice,yR=Nl?Nl.isConcatSpreadable:n,ip=Nl?Nl.iterator:n,Xc=Nl?Nl.toStringTag:n,pv=function(){try{var y=tu(An,"defineProperty");return y({},"",{}),y}catch{}}(),jq=Me.clearTimeout!==Gr.clearTimeout&&Me.clearTimeout,Bq=it&&it.now!==Gr.Date.now&&it.now,Vq=Me.setTimeout!==Gr.setTimeout&&Me.setTimeout,mv=Ar.ceil,gv=Ar.floor,hw=An.getOwnPropertySymbols,Hq=uv?uv.isBuffer:n,_R=Me.isFinite,zq=ov.join,Gq=fR(An.keys,An),Pr=Ar.max,ii=Ar.min,$q=it.now,Wq=Me.parseInt,bR=Ar.random,qq=ov.reverse,pw=tu(Me,"DataView"),sp=tu(Me,"Map"),mw=tu(Me,"Promise"),Ed=tu(Me,"Set"),op=tu(Me,"WeakMap"),ap=tu(An,"create"),vv=op&&new op,wd={},Yq=nu(pw),Kq=nu(sp),Xq=nu(mw),Jq=nu(Ed),Zq=nu(op),yv=Nl?Nl.prototype:n,lp=yv?yv.valueOf:n,ER=yv?yv.toString:n;function Y(y){if(or(y)&&!Ft(y)&&!(y instanceof tn)){if(y instanceof Ps)return y;if(bn.call(y,"__wrapped__"))return wL(y)}return new Ps(y)}var xd=function(){function y(){}return function(x){if(!nr(x))return{};if(gR)return gR(x);y.prototype=x;var M=new y;return y.prototype=n,M}}();function _v(){}function Ps(y,x){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!x,this.__index__=0,this.__values__=n}Y.templateSettings={escape:qE,evaluate:hd,interpolate:ev,variable:"",imports:{_:Y}},Y.prototype=_v.prototype,Y.prototype.constructor=Y,Ps.prototype=xd(_v.prototype),Ps.prototype.constructor=Ps;function tn(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=q,this.__views__=[]}function Qq(){var y=new tn(this.__wrapped__);return y.__actions__=Ui(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=Ui(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=Ui(this.__views__),y}function eY(){if(this.__filtered__){var y=new tn(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function tY(){var y=this.__wrapped__.value(),x=this.__dir__,M=Ft(y),D=x<0,$=M?y.length:0,X=hK(0,$,this.__views__),ne=X.start,oe=X.end,de=oe-ne,Pe=D?oe:ne-1,Re=this.__iteratees__,ke=Re.length,Ze=0,ht=ii(de,this.__takeCount__);if(!M||!D&&$==de&&ht==de)return $R(y,this.__actions__);var wt=[];e:for(;de--&&Ze<ht;){Pe+=x;for(var zt=-1,xt=y[Pe];++zt<ke;){var Xt=Re[zt],nn=Xt.iteratee,ss=Xt.type,Ti=nn(xt);if(ss==V)xt=Ti;else if(!Ti){if(ss==O)continue e;break e}}wt[Ze++]=xt}return wt}tn.prototype=xd(_v.prototype),tn.prototype.constructor=tn;function Jc(y){var x=-1,M=y==null?0:y.length;for(this.clear();++x<M;){var D=y[x];this.set(D[0],D[1])}}function nY(){this.__data__=ap?ap(null):{},this.size=0}function rY(y){var x=this.has(y)&&delete this.__data__[y];return this.size-=x?1:0,x}function iY(y){var x=this.__data__;if(ap){var M=x[y];return M===c?n:M}return bn.call(x,y)?x[y]:n}function sY(y){var x=this.__data__;return ap?x[y]!==n:bn.call(x,y)}function oY(y,x){var M=this.__data__;return this.size+=this.has(y)?0:1,M[y]=ap&&x===n?c:x,this}Jc.prototype.clear=nY,Jc.prototype.delete=rY,Jc.prototype.get=iY,Jc.prototype.has=sY,Jc.prototype.set=oY;function Sa(y){var x=-1,M=y==null?0:y.length;for(this.clear();++x<M;){var D=y[x];this.set(D[0],D[1])}}function aY(){this.__data__=[],this.size=0}function lY(y){var x=this.__data__,M=bv(x,y);if(M<0)return!1;var D=x.length-1;return M==D?x.pop():hv.call(x,M,1),--this.size,!0}function cY(y){var x=this.__data__,M=bv(x,y);return M<0?n:x[M][1]}function uY(y){return bv(this.__data__,y)>-1}function dY(y,x){var M=this.__data__,D=bv(M,y);return D<0?(++this.size,M.push([y,x])):M[D][1]=x,this}Sa.prototype.clear=aY,Sa.prototype.delete=lY,Sa.prototype.get=cY,Sa.prototype.has=uY,Sa.prototype.set=dY;function Ta(y){var x=-1,M=y==null?0:y.length;for(this.clear();++x<M;){var D=y[x];this.set(D[0],D[1])}}function fY(){this.size=0,this.__data__={hash:new Jc,map:new(sp||Sa),string:new Jc}}function hY(y){var x=Iv(this,y).delete(y);return this.size-=x?1:0,x}function pY(y){return Iv(this,y).get(y)}function mY(y){return Iv(this,y).has(y)}function gY(y,x){var M=Iv(this,y),D=M.size;return M.set(y,x),this.size+=M.size==D?0:1,this}Ta.prototype.clear=fY,Ta.prototype.delete=hY,Ta.prototype.get=pY,Ta.prototype.has=mY,Ta.prototype.set=gY;function Zc(y){var x=-1,M=y==null?0:y.length;for(this.__data__=new Ta;++x<M;)this.add(y[x])}function vY(y){return this.__data__.set(y,c),this}function yY(y){return this.__data__.has(y)}Zc.prototype.add=Zc.prototype.push=vY,Zc.prototype.has=yY;function lo(y){var x=this.__data__=new Sa(y);this.size=x.size}function _Y(){this.__data__=new Sa,this.size=0}function bY(y){var x=this.__data__,M=x.delete(y);return this.size=x.size,M}function EY(y){return this.__data__.get(y)}function wY(y){return this.__data__.has(y)}function xY(y,x){var M=this.__data__;if(M instanceof Sa){var D=M.__data__;if(!sp||D.length<o-1)return D.push([y,x]),this.size=++M.size,this;M=this.__data__=new Ta(D)}return M.set(y,x),this.size=M.size,this}lo.prototype.clear=_Y,lo.prototype.delete=bY,lo.prototype.get=EY,lo.prototype.has=wY,lo.prototype.set=xY;function wR(y,x){var M=Ft(y),D=!M&&ru(y),$=!M&&!D&&jl(y),X=!M&&!D&&!$&&Md(y),ne=M||D||$||X,oe=ne?cw(y.length,Oq):[],de=oe.length;for(var Pe in y)(x||bn.call(y,Pe))&&!(ne&&(Pe=="length"||$&&(Pe=="offset"||Pe=="parent")||X&&(Pe=="buffer"||Pe=="byteLength"||Pe=="byteOffset")||Pa(Pe,de)))&&oe.push(Pe);return oe}function xR(y){var x=y.length;return x?y[Cw(0,x-1)]:n}function SY(y,x){return Ov(Ui(y),Qc(x,0,y.length))}function TY(y){return Ov(Ui(y))}function gw(y,x,M){(M!==n&&!co(y[x],M)||M===n&&!(x in y))&&Ca(y,x,M)}function cp(y,x,M){var D=y[x];(!(bn.call(y,x)&&co(D,M))||M===n&&!(x in y))&&Ca(y,x,M)}function bv(y,x){for(var M=y.length;M--;)if(co(y[M][0],x))return M;return-1}function CY(y,x,M,D){return kl(y,function($,X,ne){x(D,$,M($),ne)}),D}function SR(y,x){return y&&ko(x,Dr(x),y)}function MY(y,x){return y&&ko(x,Bi(x),y)}function Ca(y,x,M){x=="__proto__"&&pv?pv(y,x,{configurable:!0,enumerable:!0,value:M,writable:!0}):y[x]=M}function vw(y,x){for(var M=-1,D=x.length,$=be(D),X=y==null;++M<D;)$[M]=X?n:Jw(y,x[M]);return $}function Qc(y,x,M){return y===y&&(M!==n&&(y=y<=M?y:M),x!==n&&(y=y>=x?y:x)),y}function Rs(y,x,M,D,$,X){var ne,oe=x&f,de=x&h,Pe=x&v;if(M&&(ne=$?M(y,D,$,X):M(y)),ne!==n)return ne;if(!nr(y))return y;var Re=Ft(y);if(Re){if(ne=mK(y),!oe)return Ui(y,ne)}else{var ke=si(y),Ze=ke==fe||ke==Ee;if(jl(y))return YR(y,oe);if(ke==nt||ke==_e||Ze&&!$){if(ne=de||Ze?{}:hL(y),!oe)return de?iK(y,MY(ne,y)):rK(y,SR(ne,y))}else{if(!kn[ke])return $?y:{};ne=gK(y,ke,oe)}}X||(X=new lo);var ht=X.get(y);if(ht)return ht;X.set(y,ne),HL(y)?y.forEach(function(xt){ne.add(Rs(xt,x,M,xt,y,X))}):BL(y)&&y.forEach(function(xt,Xt){ne.set(Xt,Rs(xt,x,M,Xt,y,X))});var wt=Pe?de?Fw:Dw:de?Bi:Dr,zt=Re?n:wt(y);return Ms(zt||y,function(xt,Xt){zt&&(Xt=xt,xt=y[Xt]),cp(ne,Xt,Rs(xt,x,M,Xt,y,X))}),ne}function AY(y){var x=Dr(y);return function(M){return TR(M,y,x)}}function TR(y,x,M){var D=M.length;if(y==null)return!D;for(y=An(y);D--;){var $=M[D],X=x[$],ne=y[$];if(ne===n&&!($ in y)||!X(ne))return!1}return!0}function CR(y,x,M){if(typeof y!="function")throw new As(a);return gp(function(){y.apply(n,M)},x)}function up(y,x,M,D){var $=-1,X=rv,ne=!0,oe=y.length,de=[],Pe=x.length;if(!oe)return de;M&&(x=Xn(x,ns(M))),D?(X=rw,ne=!1):x.length>=o&&(X=rp,ne=!1,x=new Zc(x));e:for(;++$<oe;){var Re=y[$],ke=M==null?Re:M(Re);if(Re=D||Re!==0?Re:0,ne&&ke===ke){for(var Ze=Pe;Ze--;)if(x[Ze]===ke)continue e;de.push(Re)}else X(x,ke,D)||de.push(Re)}return de}var kl=QR(No),MR=QR(_w,!0);function PY(y,x){var M=!0;return kl(y,function(D,$,X){return M=!!x(D,$,X),M}),M}function Ev(y,x,M){for(var D=-1,$=y.length;++D<$;){var X=y[D],ne=x(X);if(ne!=null&&(oe===n?ne===ne&&!is(ne):M(ne,oe)))var oe=ne,de=X}return de}function RY(y,x,M,D){var $=y.length;for(M=jt(M),M<0&&(M=-M>$?0:$+M),D=D===n||D>$?$:jt(D),D<0&&(D+=$),D=M>D?0:GL(D);M<D;)y[M++]=x;return y}function AR(y,x){var M=[];return kl(y,function(D,$,X){x(D,$,X)&&M.push(D)}),M}function $r(y,x,M,D,$){var X=-1,ne=y.length;for(M||(M=yK),$||($=[]);++X<ne;){var oe=y[X];x>0&&M(oe)?x>1?$r(oe,x-1,M,D,$):Il($,oe):D||($[$.length]=oe)}return $}var yw=eL(),PR=eL(!0);function No(y,x){return y&&yw(y,x,Dr)}function _w(y,x){return y&&PR(y,x,Dr)}function wv(y,x){return Ll(x,function(M){return Ra(y[M])})}function eu(y,x){x=Fl(x,y);for(var M=0,D=x.length;y!=null&&M<D;)y=y[Do(x[M++])];return M&&M==D?y:n}function RR(y,x,M){var D=x(y);return Ft(y)?D:Il(D,M(y))}function xi(y){return y==null?y===n?Ne:De:Xc&&Xc in An(y)?fK(y):TK(y)}function bw(y,x){return y>x}function LY(y,x){return y!=null&&bn.call(y,x)}function IY(y,x){return y!=null&&x in An(y)}function OY(y,x,M){return y>=ii(x,M)&&y<Pr(x,M)}function Ew(y,x,M){for(var D=M?rw:rv,$=y[0].length,X=y.length,ne=X,oe=be(X),de=1/0,Pe=[];ne--;){var Re=y[ne];ne&&x&&(Re=Xn(Re,ns(x))),de=ii(Re.length,de),oe[ne]=!M&&(x||$>=120&&Re.length>=120)?new Zc(ne&&Re):n}Re=y[0];var ke=-1,Ze=oe[0];e:for(;++ke<$&&Pe.length<de;){var ht=Re[ke],wt=x?x(ht):ht;if(ht=M||ht!==0?ht:0,!(Ze?rp(Ze,wt):D(Pe,wt,M))){for(ne=X;--ne;){var zt=oe[ne];if(!(zt?rp(zt,wt):D(y[ne],wt,M)))continue e}Ze&&Ze.push(wt),Pe.push(ht)}}return Pe}function NY(y,x,M,D){return No(y,function($,X,ne){x(D,M($),X,ne)}),D}function dp(y,x,M){x=Fl(x,y),y=vL(y,x);var D=y==null?y:y[Do(Is(x))];return D==null?n:ts(D,y,M)}function LR(y){return or(y)&&xi(y)==_e}function kY(y){return or(y)&&xi(y)==Ke}function DY(y){return or(y)&&xi(y)==ce}function fp(y,x,M,D,$){return y===x?!0:y==null||x==null||!or(y)&&!or(x)?y!==y&&x!==x:FY(y,x,M,D,fp,$)}function FY(y,x,M,D,$,X){var ne=Ft(y),oe=Ft(x),de=ne?pe:si(y),Pe=oe?pe:si(x);de=de==_e?nt:de,Pe=Pe==_e?nt:Pe;var Re=de==nt,ke=Pe==nt,Ze=de==Pe;if(Ze&&jl(y)){if(!jl(x))return!1;ne=!0,Re=!1}if(Ze&&!Re)return X||(X=new lo),ne||Md(y)?uL(y,x,M,D,$,X):uK(y,x,de,M,D,$,X);if(!(M&m)){var ht=Re&&bn.call(y,"__wrapped__"),wt=ke&&bn.call(x,"__wrapped__");if(ht||wt){var zt=ht?y.value():y,xt=wt?x.value():x;return X||(X=new lo),$(zt,xt,M,D,X)}}return Ze?(X||(X=new lo),dK(y,x,M,D,$,X)):!1}function UY(y){return or(y)&&si(y)==ye}function ww(y,x,M,D){var $=M.length,X=$,ne=!D;if(y==null)return!X;for(y=An(y);$--;){var oe=M[$];if(ne&&oe[2]?oe[1]!==y[oe[0]]:!(oe[0]in y))return!1}for(;++$<X;){oe=M[$];var de=oe[0],Pe=y[de],Re=oe[1];if(ne&&oe[2]){if(Pe===n&&!(de in y))return!1}else{var ke=new lo;if(D)var Ze=D(Pe,Re,de,y,x,ke);if(!(Ze===n?fp(Re,Pe,m|_,D,ke):Ze))return!1}}return!0}function IR(y){if(!nr(y)||bK(y))return!1;var x=Ra(y)?Uq:Kn;return x.test(nu(y))}function jY(y){return or(y)&&xi(y)==Ut}function BY(y){return or(y)&&si(y)==Q}function VY(y){return or(y)&&jv(y.length)&&!!Bn[xi(y)]}function OR(y){return typeof y=="function"?y:y==null?Vi:typeof y=="object"?Ft(y)?DR(y[0],y[1]):kR(y):tI(y)}function xw(y){if(!mp(y))return Gq(y);var x=[];for(var M in An(y))bn.call(y,M)&&M!="constructor"&&x.push(M);return x}function HY(y){if(!nr(y))return SK(y);var x=mp(y),M=[];for(var D in y)D=="constructor"&&(x||!bn.call(y,D))||M.push(D);return M}function Sw(y,x){return y<x}function NR(y,x){var M=-1,D=ji(y)?be(y.length):[];return kl(y,function($,X,ne){D[++M]=x($,X,ne)}),D}function kR(y){var x=jw(y);return x.length==1&&x[0][2]?mL(x[0][0],x[0][1]):function(M){return M===y||ww(M,y,x)}}function DR(y,x){return Vw(y)&&pL(x)?mL(Do(y),x):function(M){var D=Jw(M,y);return D===n&&D===x?Zw(M,y):fp(x,D,m|_)}}function xv(y,x,M,D,$){y!==x&&yw(x,function(X,ne){if($||($=new lo),nr(X))zY(y,x,ne,M,xv,D,$);else{var oe=D?D(zw(y,ne),X,ne+"",y,x,$):n;oe===n&&(oe=X),gw(y,ne,oe)}},Bi)}function zY(y,x,M,D,$,X,ne){var oe=zw(y,M),de=zw(x,M),Pe=ne.get(de);if(Pe){gw(y,M,Pe);return}var Re=X?X(oe,de,M+"",y,x,ne):n,ke=Re===n;if(ke){var Ze=Ft(de),ht=!Ze&&jl(de),wt=!Ze&&!ht&&Md(de);Re=de,Ze||ht||wt?Ft(oe)?Re=oe:pr(oe)?Re=Ui(oe):ht?(ke=!1,Re=YR(de,!0)):wt?(ke=!1,Re=KR(de,!0)):Re=[]:vp(de)||ru(de)?(Re=oe,ru(oe)?Re=$L(oe):(!nr(oe)||Ra(oe))&&(Re=hL(de))):ke=!1}ke&&(ne.set(de,Re),$(Re,de,D,X,ne),ne.delete(de)),gw(y,M,Re)}function FR(y,x){var M=y.length;if(!!M)return x+=x<0?M:0,Pa(x,M)?y[x]:n}function UR(y,x,M){x.length?x=Xn(x,function(X){return Ft(X)?function(ne){return eu(ne,X.length===1?X[0]:X)}:X}):x=[Vi];var D=-1;x=Xn(x,ns(Et()));var $=NR(y,function(X,ne,oe){var de=Xn(x,function(Pe){return Pe(X)});return{criteria:de,index:++D,value:X}});return gq($,function(X,ne){return nK(X,ne,M)})}function GY(y,x){return jR(y,x,function(M,D){return Zw(y,D)})}function jR(y,x,M){for(var D=-1,$=x.length,X={};++D<$;){var ne=x[D],oe=eu(y,ne);M(oe,ne)&&hp(X,Fl(ne,y),oe)}return X}function $Y(y){return function(x){return eu(x,y)}}function Tw(y,x,M,D){var $=D?mq:gd,X=-1,ne=x.length,oe=y;for(y===x&&(x=Ui(x)),M&&(oe=Xn(y,ns(M)));++X<ne;)for(var de=0,Pe=x[X],Re=M?M(Pe):Pe;(de=$(oe,Re,de,D))>-1;)oe!==y&&hv.call(oe,de,1),hv.call(y,de,1);return y}function BR(y,x){for(var M=y?x.length:0,D=M-1;M--;){var $=x[M];if(M==D||$!==X){var X=$;Pa($)?hv.call(y,$,1):Pw(y,$)}}return y}function Cw(y,x){return y+gv(bR()*(x-y+1))}function WY(y,x,M,D){for(var $=-1,X=Pr(mv((x-y)/(M||1)),0),ne=be(X);X--;)ne[D?X:++$]=y,y+=M;return ne}function Mw(y,x){var M="";if(!y||x<1||x>H)return M;do x%2&&(M+=y),x=gv(x/2),x&&(y+=y);while(x);return M}function $t(y,x){return Gw(gL(y,x,Vi),y+"")}function qY(y){return xR(Ad(y))}function YY(y,x){var M=Ad(y);return Ov(M,Qc(x,0,M.length))}function hp(y,x,M,D){if(!nr(y))return y;x=Fl(x,y);for(var $=-1,X=x.length,ne=X-1,oe=y;oe!=null&&++$<X;){var de=Do(x[$]),Pe=M;if(de==="__proto__"||de==="constructor"||de==="prototype")return y;if($!=ne){var Re=oe[de];Pe=D?D(Re,de,oe):n,Pe===n&&(Pe=nr(Re)?Re:Pa(x[$+1])?[]:{})}cp(oe,de,Pe),oe=oe[de]}return y}var VR=vv?function(y,x){return vv.set(y,x),y}:Vi,KY=pv?function(y,x){return pv(y,"toString",{configurable:!0,enumerable:!1,value:e2(x),writable:!0})}:Vi;function XY(y){return Ov(Ad(y))}function Ls(y,x,M){var D=-1,$=y.length;x<0&&(x=-x>$?0:$+x),M=M>$?$:M,M<0&&(M+=$),$=x>M?0:M-x>>>0,x>>>=0;for(var X=be($);++D<$;)X[D]=y[D+x];return X}function JY(y,x){var M;return kl(y,function(D,$,X){return M=x(D,$,X),!M}),!!M}function Sv(y,x,M){var D=0,$=y==null?D:y.length;if(typeof x=="number"&&x===x&&$<=se){for(;D<$;){var X=D+$>>>1,ne=y[X];ne!==null&&!is(ne)&&(M?ne<=x:ne<x)?D=X+1:$=X}return $}return Aw(y,x,Vi,M)}function Aw(y,x,M,D){var $=0,X=y==null?0:y.length;if(X===0)return 0;x=M(x);for(var ne=x!==x,oe=x===null,de=is(x),Pe=x===n;$<X;){var Re=gv(($+X)/2),ke=M(y[Re]),Ze=ke!==n,ht=ke===null,wt=ke===ke,zt=is(ke);if(ne)var xt=D||wt;else Pe?xt=wt&&(D||Ze):oe?xt=wt&&Ze&&(D||!ht):de?xt=wt&&Ze&&!ht&&(D||!zt):ht||zt?xt=!1:xt=D?ke<=x:ke<x;xt?$=Re+1:X=Re}return ii(X,re)}function HR(y,x){for(var M=-1,D=y.length,$=0,X=[];++M<D;){var ne=y[M],oe=x?x(ne):ne;if(!M||!co(oe,de)){var de=oe;X[$++]=ne===0?0:ne}}return X}function zR(y){return typeof y=="number"?y:is(y)?G:+y}function rs(y){if(typeof y=="string")return y;if(Ft(y))return Xn(y,rs)+"";if(is(y))return ER?ER.call(y):"";var x=y+"";return x=="0"&&1/y==-B?"-0":x}function Dl(y,x,M){var D=-1,$=rv,X=y.length,ne=!0,oe=[],de=oe;if(M)ne=!1,$=rw;else if(X>=o){var Pe=x?null:lK(y);if(Pe)return sv(Pe);ne=!1,$=rp,de=new Zc}else de=x?[]:oe;e:for(;++D<X;){var Re=y[D],ke=x?x(Re):Re;if(Re=M||Re!==0?Re:0,ne&&ke===ke){for(var Ze=de.length;Ze--;)if(de[Ze]===ke)continue e;x&&de.push(ke),oe.push(Re)}else $(de,ke,M)||(de!==oe&&de.push(ke),oe.push(Re))}return oe}function Pw(y,x){return x=Fl(x,y),y=vL(y,x),y==null||delete y[Do(Is(x))]}function GR(y,x,M,D){return hp(y,x,M(eu(y,x)),D)}function Tv(y,x,M,D){for(var $=y.length,X=D?$:-1;(D?X--:++X<$)&&x(y[X],X,y););return M?Ls(y,D?0:X,D?X+1:$):Ls(y,D?X+1:0,D?$:X)}function $R(y,x){var M=y;return M instanceof tn&&(M=M.value()),iw(x,function(D,$){return $.func.apply($.thisArg,Il([D],$.args))},M)}function Rw(y,x,M){var D=y.length;if(D<2)return D?Dl(y[0]):[];for(var $=-1,X=be(D);++$<D;)for(var ne=y[$],oe=-1;++oe<D;)oe!=$&&(X[$]=up(X[$]||ne,y[oe],x,M));return Dl($r(X,1),x,M)}function WR(y,x,M){for(var D=-1,$=y.length,X=x.length,ne={};++D<$;){var oe=D<X?x[D]:n;M(ne,y[D],oe)}return ne}function Lw(y){return pr(y)?y:[]}function Iw(y){return typeof y=="function"?y:Vi}function Fl(y,x){return Ft(y)?y:Vw(y,x)?[y]:EL(yn(y))}var ZY=$t;function Ul(y,x,M){var D=y.length;return M=M===n?D:M,!x&&M>=D?y:Ls(y,x,M)}var qR=jq||function(y){return Gr.clearTimeout(y)};function YR(y,x){if(x)return y.slice();var M=y.length,D=mR?mR(M):new y.constructor(M);return y.copy(D),D}function Ow(y){var x=new y.constructor(y.byteLength);return new dv(x).set(new dv(y)),x}function QY(y,x){var M=x?Ow(y.buffer):y.buffer;return new y.constructor(M,y.byteOffset,y.byteLength)}function eK(y){var x=new y.constructor(y.source,Qt.exec(y));return x.lastIndex=y.lastIndex,x}function tK(y){return lp?An(lp.call(y)):{}}function KR(y,x){var M=x?Ow(y.buffer):y.buffer;return new y.constructor(M,y.byteOffset,y.length)}function XR(y,x){if(y!==x){var M=y!==n,D=y===null,$=y===y,X=is(y),ne=x!==n,oe=x===null,de=x===x,Pe=is(x);if(!oe&&!Pe&&!X&&y>x||X&&ne&&de&&!oe&&!Pe||D&&ne&&de||!M&&de||!$)return 1;if(!D&&!X&&!Pe&&y<x||Pe&&M&&$&&!D&&!X||oe&&M&&$||!ne&&$||!de)return-1}return 0}function nK(y,x,M){for(var D=-1,$=y.criteria,X=x.criteria,ne=$.length,oe=M.length;++D<ne;){var de=XR($[D],X[D]);if(de){if(D>=oe)return de;var Pe=M[D];return de*(Pe=="desc"?-1:1)}}return y.index-x.index}function JR(y,x,M,D){for(var $=-1,X=y.length,ne=M.length,oe=-1,de=x.length,Pe=Pr(X-ne,0),Re=be(de+Pe),ke=!D;++oe<de;)Re[oe]=x[oe];for(;++$<ne;)(ke||$<X)&&(Re[M[$]]=y[$]);for(;Pe--;)Re[oe++]=y[$++];return Re}function ZR(y,x,M,D){for(var $=-1,X=y.length,ne=-1,oe=M.length,de=-1,Pe=x.length,Re=Pr(X-oe,0),ke=be(Re+Pe),Ze=!D;++$<Re;)ke[$]=y[$];for(var ht=$;++de<Pe;)ke[ht+de]=x[de];for(;++ne<oe;)(Ze||$<X)&&(ke[ht+M[ne]]=y[$++]);return ke}function Ui(y,x){var M=-1,D=y.length;for(x||(x=be(D));++M<D;)x[M]=y[M];return x}function ko(y,x,M,D){var $=!M;M||(M={});for(var X=-1,ne=x.length;++X<ne;){var oe=x[X],de=D?D(M[oe],y[oe],oe,M,y):n;de===n&&(de=y[oe]),$?Ca(M,oe,de):cp(M,oe,de)}return M}function rK(y,x){return ko(y,Bw(y),x)}function iK(y,x){return ko(y,dL(y),x)}function Cv(y,x){return function(M,D){var $=Ft(M)?cq:CY,X=x?x():{};return $(M,y,Et(D,2),X)}}function Sd(y){return $t(function(x,M){var D=-1,$=M.length,X=$>1?M[$-1]:n,ne=$>2?M[2]:n;for(X=y.length>3&&typeof X=="function"?($--,X):n,ne&&Si(M[0],M[1],ne)&&(X=$<3?n:X,$=1),x=An(x);++D<$;){var oe=M[D];oe&&y(x,oe,D,X)}return x})}function QR(y,x){return function(M,D){if(M==null)return M;if(!ji(M))return y(M,D);for(var $=M.length,X=x?$:-1,ne=An(M);(x?X--:++X<$)&&D(ne[X],X,ne)!==!1;);return M}}function eL(y){return function(x,M,D){for(var $=-1,X=An(x),ne=D(x),oe=ne.length;oe--;){var de=ne[y?oe:++$];if(M(X[de],de,X)===!1)break}return x}}function sK(y,x,M){var D=x&S,$=pp(y);function X(){var ne=this&&this!==Gr&&this instanceof X?$:y;return ne.apply(D?M:this,arguments)}return X}function tL(y){return function(x){x=yn(x);var M=vd(x)?ao(x):n,D=M?M[0]:x.charAt(0),$=M?Ul(M,1).join(""):x.slice(1);return D[y]()+$}}function Td(y){return function(x){return iw(QL(ZL(x).replace(KW,"")),y,"")}}function pp(y){return function(){var x=arguments;switch(x.length){case 0:return new y;case 1:return new y(x[0]);case 2:return new y(x[0],x[1]);case 3:return new y(x[0],x[1],x[2]);case 4:return new y(x[0],x[1],x[2],x[3]);case 5:return new y(x[0],x[1],x[2],x[3],x[4]);case 6:return new y(x[0],x[1],x[2],x[3],x[4],x[5]);case 7:return new y(x[0],x[1],x[2],x[3],x[4],x[5],x[6])}var M=xd(y.prototype),D=y.apply(M,x);return nr(D)?D:M}}function oK(y,x,M){var D=pp(y);function $(){for(var X=arguments.length,ne=be(X),oe=X,de=Cd($);oe--;)ne[oe]=arguments[oe];var Pe=X<3&&ne[0]!==de&&ne[X-1]!==de?[]:Ol(ne,de);if(X-=Pe.length,X<M)return oL(y,x,Mv,$.placeholder,n,ne,Pe,n,n,M-X);var Re=this&&this!==Gr&&this instanceof $?D:y;return ts(Re,this,ne)}return $}function nL(y){return function(x,M,D){var $=An(x);if(!ji(x)){var X=Et(M,3);x=Dr(x),M=function(oe){return X($[oe],oe,$)}}var ne=y(x,M,D);return ne>-1?$[X?x[ne]:ne]:n}}function rL(y){return Aa(function(x){var M=x.length,D=M,$=Ps.prototype.thru;for(y&&x.reverse();D--;){var X=x[D];if(typeof X!="function")throw new As(a);if($&&!ne&&Lv(X)=="wrapper")var ne=new Ps([],!0)}for(D=ne?D:M;++D<M;){X=x[D];var oe=Lv(X),de=oe=="wrapper"?Uw(X):n;de&&Hw(de[0])&&de[1]==(A|T|P|L)&&!de[4].length&&de[9]==1?ne=ne[Lv(de[0])].apply(ne,de[3]):ne=X.length==1&&Hw(X)?ne[oe]():ne.thru(X)}return function(){var Pe=arguments,Re=Pe[0];if(ne&&Pe.length==1&&Ft(Re))return ne.plant(Re).value();for(var ke=0,Ze=M?x[ke].apply(this,Pe):Re;++ke<M;)Ze=x[ke].call(this,Ze);return Ze}})}function Mv(y,x,M,D,$,X,ne,oe,de,Pe){var Re=x&A,ke=x&S,Ze=x&E,ht=x&(T|C),wt=x&k,zt=Ze?n:pp(y);function xt(){for(var Xt=arguments.length,nn=be(Xt),ss=Xt;ss--;)nn[ss]=arguments[ss];if(ht)var Ti=Cd(xt),os=yq(nn,Ti);if(D&&(nn=JR(nn,D,$,ht)),X&&(nn=ZR(nn,X,ne,ht)),Xt-=os,ht&&Xt<Pe){var mr=Ol(nn,Ti);return oL(y,x,Mv,xt.placeholder,M,nn,mr,oe,de,Pe-Xt)}var uo=ke?M:this,Ia=Ze?uo[y]:y;return Xt=nn.length,oe?nn=CK(nn,oe):wt&&Xt>1&&nn.reverse(),Re&&de<Xt&&(nn.length=de),this&&this!==Gr&&this instanceof xt&&(Ia=zt||pp(Ia)),Ia.apply(uo,nn)}return xt}function iL(y,x){return function(M,D){return NY(M,y,x(D),{})}}function Av(y,x){return function(M,D){var $;if(M===n&&D===n)return x;if(M!==n&&($=M),D!==n){if($===n)return D;typeof M=="string"||typeof D=="string"?(M=rs(M),D=rs(D)):(M=zR(M),D=zR(D)),$=y(M,D)}return $}}function Nw(y){return Aa(function(x){return x=Xn(x,ns(Et())),$t(function(M){var D=this;return y(x,function($){return ts($,D,M)})})})}function Pv(y,x){x=x===n?" ":rs(x);var M=x.length;if(M<2)return M?Mw(x,y):x;var D=Mw(x,mv(y/yd(x)));return vd(x)?Ul(ao(D),0,y).join(""):D.slice(0,y)}function aK(y,x,M,D){var $=x&S,X=pp(y);function ne(){for(var oe=-1,de=arguments.length,Pe=-1,Re=D.length,ke=be(Re+de),Ze=this&&this!==Gr&&this instanceof ne?X:y;++Pe<Re;)ke[Pe]=D[Pe];for(;de--;)ke[Pe++]=arguments[++oe];return ts(Ze,$?M:this,ke)}return ne}function sL(y){return function(x,M,D){return D&&typeof D!="number"&&Si(x,M,D)&&(M=D=n),x=La(x),M===n?(M=x,x=0):M=La(M),D=D===n?x<M?1:-1:La(D),WY(x,M,D,y)}}function Rv(y){return function(x,M){return typeof x=="string"&&typeof M=="string"||(x=Os(x),M=Os(M)),y(x,M)}}function oL(y,x,M,D,$,X,ne,oe,de,Pe){var Re=x&T,ke=Re?ne:n,Ze=Re?n:ne,ht=Re?X:n,wt=Re?n:X;x|=Re?P:R,x&=~(Re?R:P),x&w||(x&=~(S|E));var zt=[y,x,$,ht,ke,wt,Ze,oe,de,Pe],xt=M.apply(n,zt);return Hw(y)&&yL(xt,zt),xt.placeholder=D,_L(xt,y,x)}function kw(y){var x=Ar[y];return function(M,D){if(M=Os(M),D=D==null?0:ii(jt(D),292),D&&_R(M)){var $=(yn(M)+"e").split("e"),X=x($[0]+"e"+(+$[1]+D));return $=(yn(X)+"e").split("e"),+($[0]+"e"+(+$[1]-D))}return x(M)}}var lK=Ed&&1/sv(new Ed([,-0]))[1]==B?function(y){return new Ed(y)}:r2;function aL(y){return function(x){var M=si(x);return M==ye?dw(x):M==Q?Tq(x):vq(x,y(x))}}function Ma(y,x,M,D,$,X,ne,oe){var de=x&E;if(!de&&typeof y!="function")throw new As(a);var Pe=D?D.length:0;if(Pe||(x&=~(P|R),D=$=n),ne=ne===n?ne:Pr(jt(ne),0),oe=oe===n?oe:jt(oe),Pe-=$?$.length:0,x&R){var Re=D,ke=$;D=$=n}var Ze=de?n:Uw(y),ht=[y,x,M,D,$,Re,ke,X,ne,oe];if(Ze&&xK(ht,Ze),y=ht[0],x=ht[1],M=ht[2],D=ht[3],$=ht[4],oe=ht[9]=ht[9]===n?de?0:y.length:Pr(ht[9]-Pe,0),!oe&&x&(T|C)&&(x&=~(T|C)),!x||x==S)var wt=sK(y,x,M);else x==T||x==C?wt=oK(y,x,oe):(x==P||x==(S|P))&&!$.length?wt=aK(y,x,M,D):wt=Mv.apply(n,ht);var zt=Ze?VR:yL;return _L(zt(wt,ht),y,x)}function lL(y,x,M,D){return y===n||co(y,bd[M])&&!bn.call(D,M)?x:y}function cL(y,x,M,D,$,X){return nr(y)&&nr(x)&&(X.set(x,y),xv(y,x,n,cL,X),X.delete(x)),y}function cK(y){return vp(y)?n:y}function uL(y,x,M,D,$,X){var ne=M&m,oe=y.length,de=x.length;if(oe!=de&&!(ne&&de>oe))return!1;var Pe=X.get(y),Re=X.get(x);if(Pe&&Re)return Pe==x&&Re==y;var ke=-1,Ze=!0,ht=M&_?new Zc:n;for(X.set(y,x),X.set(x,y);++ke<oe;){var wt=y[ke],zt=x[ke];if(D)var xt=ne?D(zt,wt,ke,x,y,X):D(wt,zt,ke,y,x,X);if(xt!==n){if(xt)continue;Ze=!1;break}if(ht){if(!sw(x,function(Xt,nn){if(!rp(ht,nn)&&(wt===Xt||$(wt,Xt,M,D,X)))return ht.push(nn)})){Ze=!1;break}}else if(!(wt===zt||$(wt,zt,M,D,X))){Ze=!1;break}}return X.delete(y),X.delete(x),Ze}function uK(y,x,M,D,$,X,ne){switch(M){case rt:if(y.byteLength!=x.byteLength||y.byteOffset!=x.byteOffset)return!1;y=y.buffer,x=x.buffer;case Ke:return!(y.byteLength!=x.byteLength||!X(new dv(y),new dv(x)));case le:case ce:case Fe:return co(+y,+x);case Ie:return y.name==x.name&&y.message==x.message;case Ut:case J:return y==x+"";case ye:var oe=dw;case Q:var de=D&m;if(oe||(oe=sv),y.size!=x.size&&!de)return!1;var Pe=ne.get(y);if(Pe)return Pe==x;D|=_,ne.set(y,x);var Re=uL(oe(y),oe(x),D,$,X,ne);return ne.delete(y),Re;case Ae:if(lp)return lp.call(y)==lp.call(x)}return!1}function dK(y,x,M,D,$,X){var ne=M&m,oe=Dw(y),de=oe.length,Pe=Dw(x),Re=Pe.length;if(de!=Re&&!ne)return!1;for(var ke=de;ke--;){var Ze=oe[ke];if(!(ne?Ze in x:bn.call(x,Ze)))return!1}var ht=X.get(y),wt=X.get(x);if(ht&&wt)return ht==x&&wt==y;var zt=!0;X.set(y,x),X.set(x,y);for(var xt=ne;++ke<de;){Ze=oe[ke];var Xt=y[Ze],nn=x[Ze];if(D)var ss=ne?D(nn,Xt,Ze,x,y,X):D(Xt,nn,Ze,y,x,X);if(!(ss===n?Xt===nn||$(Xt,nn,M,D,X):ss)){zt=!1;break}xt||(xt=Ze=="constructor")}if(zt&&!xt){var Ti=y.constructor,os=x.constructor;Ti!=os&&"constructor"in y&&"constructor"in x&&!(typeof Ti=="function"&&Ti instanceof Ti&&typeof os=="function"&&os instanceof os)&&(zt=!1)}return X.delete(y),X.delete(x),zt}function Aa(y){return Gw(gL(y,n,TL),y+"")}function Dw(y){return RR(y,Dr,Bw)}function Fw(y){return RR(y,Bi,dL)}var Uw=vv?function(y){return vv.get(y)}:r2;function Lv(y){for(var x=y.name+"",M=wd[x],D=bn.call(wd,x)?M.length:0;D--;){var $=M[D],X=$.func;if(X==null||X==y)return $.name}return x}function Cd(y){var x=bn.call(Y,"placeholder")?Y:y;return x.placeholder}function Et(){var y=Y.iteratee||t2;return y=y===t2?OR:y,arguments.length?y(arguments[0],arguments[1]):y}function Iv(y,x){var M=y.__data__;return _K(x)?M[typeof x=="string"?"string":"hash"]:M.map}function jw(y){for(var x=Dr(y),M=x.length;M--;){var D=x[M],$=y[D];x[M]=[D,$,pL($)]}return x}function tu(y,x){var M=wq(y,x);return IR(M)?M:n}function fK(y){var x=bn.call(y,Xc),M=y[Xc];try{y[Xc]=n;var D=!0}catch{}var $=cv.call(y);return D&&(x?y[Xc]=M:delete y[Xc]),$}var Bw=hw?function(y){return y==null?[]:(y=An(y),Ll(hw(y),function(x){return vR.call(y,x)}))}:i2,dL=hw?function(y){for(var x=[];y;)Il(x,Bw(y)),y=fv(y);return x}:i2,si=xi;(pw&&si(new pw(new ArrayBuffer(1)))!=rt||sp&&si(new sp)!=ye||mw&&si(mw.resolve())!=ft||Ed&&si(new Ed)!=Q||op&&si(new op)!=We)&&(si=function(y){var x=xi(y),M=x==nt?y.constructor:n,D=M?nu(M):"";if(D)switch(D){case Yq:return rt;case Kq:return ye;case Xq:return ft;case Jq:return Q;case Zq:return We}return x});function hK(y,x,M){for(var D=-1,$=M.length;++D<$;){var X=M[D],ne=X.size;switch(X.type){case"drop":y+=ne;break;case"dropRight":x-=ne;break;case"take":x=ii(x,y+ne);break;case"takeRight":y=Pr(y,x-ne);break}}return{start:y,end:x}}function pK(y){var x=y.match(xe);return x?x[1].split(Oe):[]}function fL(y,x,M){x=Fl(x,y);for(var D=-1,$=x.length,X=!1;++D<$;){var ne=Do(x[D]);if(!(X=y!=null&&M(y,ne)))break;y=y[ne]}return X||++D!=$?X:($=y==null?0:y.length,!!$&&jv($)&&Pa(ne,$)&&(Ft(y)||ru(y)))}function mK(y){var x=y.length,M=new y.constructor(x);return x&&typeof y[0]=="string"&&bn.call(y,"index")&&(M.index=y.index,M.input=y.input),M}function hL(y){return typeof y.constructor=="function"&&!mp(y)?xd(fv(y)):{}}function gK(y,x,M){var D=y.constructor;switch(x){case Ke:return Ow(y);case le:case ce:return new D(+y);case rt:return QY(y,M);case Be:case ie:case He:case Ve:case bt:case lt:case Dt:case Xe:case It:return KR(y,M);case ye:return new D;case Fe:case J:return new D(y);case Ut:return eK(y);case Q:return new D;case Ae:return tK(y)}}function vK(y,x){var M=x.length;if(!M)return y;var D=M-1;return x[D]=(M>1?"& ":"")+x[D],x=x.join(M>2?", ":" "),y.replace(Ce,`{
/* [wrapped with `+x+`] */
`)}function yK(y){return Ft(y)||ru(y)||!!(yR&&y&&y[yR])}function Pa(y,x){var M=typeof y;return x=x==null?H:x,!!x&&(M=="number"||M!="symbol"&&Pl.test(y))&&y>-1&&y%1==0&&y<x}function Si(y,x,M){if(!nr(M))return!1;var D=typeof x;return(D=="number"?ji(M)&&Pa(x,M.length):D=="string"&&x in M)?co(M[x],y):!1}function Vw(y,x){if(Ft(y))return!1;var M=typeof y;return M=="number"||M=="symbol"||M=="boolean"||y==null||is(y)?!0:tv.test(y)||!tp.test(y)||x!=null&&y in An(x)}function _K(y){var x=typeof y;return x=="string"||x=="number"||x=="symbol"||x=="boolean"?y!=="__proto__":y===null}function Hw(y){var x=Lv(y),M=Y[x];if(typeof M!="function"||!(x in tn.prototype))return!1;if(y===M)return!0;var D=Uw(M);return!!D&&y===D[0]}function bK(y){return!!pR&&pR in y}var EK=av?Ra:s2;function mp(y){var x=y&&y.constructor,M=typeof x=="function"&&x.prototype||bd;return y===M}function pL(y){return y===y&&!nr(y)}function mL(y,x){return function(M){return M==null?!1:M[y]===x&&(x!==n||y in An(M))}}function wK(y){var x=Fv(y,function(D){return M.size===u&&M.clear(),D}),M=x.cache;return x}function xK(y,x){var M=y[1],D=x[1],$=M|D,X=$<(S|E|A),ne=D==A&&M==T||D==A&&M==L&&y[7].length<=x[8]||D==(A|L)&&x[7].length<=x[8]&&M==T;if(!(X||ne))return y;D&S&&(y[2]=x[2],$|=M&S?0:w);var oe=x[3];if(oe){var de=y[3];y[3]=de?JR(de,oe,x[4]):oe,y[4]=de?Ol(y[3],d):x[4]}return oe=x[5],oe&&(de=y[5],y[5]=de?ZR(de,oe,x[6]):oe,y[6]=de?Ol(y[5],d):x[6]),oe=x[7],oe&&(y[7]=oe),D&A&&(y[8]=y[8]==null?x[8]:ii(y[8],x[8])),y[9]==null&&(y[9]=x[9]),y[0]=x[0],y[1]=$,y}function SK(y){var x=[];if(y!=null)for(var M in An(y))x.push(M);return x}function TK(y){return cv.call(y)}function gL(y,x,M){return x=Pr(x===n?y.length-1:x,0),function(){for(var D=arguments,$=-1,X=Pr(D.length-x,0),ne=be(X);++$<X;)ne[$]=D[x+$];$=-1;for(var oe=be(x+1);++$<x;)oe[$]=D[$];return oe[x]=M(ne),ts(y,this,oe)}}function vL(y,x){return x.length<2?y:eu(y,Ls(x,0,-1))}function CK(y,x){for(var M=y.length,D=ii(x.length,M),$=Ui(y);D--;){var X=x[D];y[D]=Pa(X,M)?$[X]:n}return y}function zw(y,x){if(!(x==="constructor"&&typeof y[x]=="function")&&x!="__proto__")return y[x]}var yL=bL(VR),gp=Vq||function(y,x){return Gr.setTimeout(y,x)},Gw=bL(KY);function _L(y,x,M){var D=x+"";return Gw(y,vK(D,MK(pK(D),M)))}function bL(y){var x=0,M=0;return function(){var D=$q(),$=F-(D-M);if(M=D,$>0){if(++x>=I)return arguments[0]}else x=0;return y.apply(n,arguments)}}function Ov(y,x){var M=-1,D=y.length,$=D-1;for(x=x===n?D:x;++M<x;){var X=Cw(M,$),ne=y[X];y[X]=y[M],y[M]=ne}return y.length=x,y}var EL=wK(function(y){var x=[];return y.charCodeAt(0)===46&&x.push(""),y.replace(YE,function(M,D,$,X){x.push($?X.replace(Vt,"$1"):D||M)}),x});function Do(y){if(typeof y=="string"||is(y))return y;var x=y+"";return x=="0"&&1/y==-B?"-0":x}function nu(y){if(y!=null){try{return lv.call(y)}catch{}try{return y+""}catch{}}return""}function MK(y,x){return Ms(ge,function(M){var D="_."+M[0];x&M[1]&&!rv(y,D)&&y.push(D)}),y.sort()}function wL(y){if(y instanceof tn)return y.clone();var x=new Ps(y.__wrapped__,y.__chain__);return x.__actions__=Ui(y.__actions__),x.__index__=y.__index__,x.__values__=y.__values__,x}function AK(y,x,M){(M?Si(y,x,M):x===n)?x=1:x=Pr(jt(x),0);var D=y==null?0:y.length;if(!D||x<1)return[];for(var $=0,X=0,ne=be(mv(D/x));$<D;)ne[X++]=Ls(y,$,$+=x);return ne}function PK(y){for(var x=-1,M=y==null?0:y.length,D=0,$=[];++x<M;){var X=y[x];X&&($[D++]=X)}return $}function RK(){var y=arguments.length;if(!y)return[];for(var x=be(y-1),M=arguments[0],D=y;D--;)x[D-1]=arguments[D];return Il(Ft(M)?Ui(M):[M],$r(x,1))}var LK=$t(function(y,x){return pr(y)?up(y,$r(x,1,pr,!0)):[]}),IK=$t(function(y,x){var M=Is(x);return pr(M)&&(M=n),pr(y)?up(y,$r(x,1,pr,!0),Et(M,2)):[]}),OK=$t(function(y,x){var M=Is(x);return pr(M)&&(M=n),pr(y)?up(y,$r(x,1,pr,!0),n,M):[]});function NK(y,x,M){var D=y==null?0:y.length;return D?(x=M||x===n?1:jt(x),Ls(y,x<0?0:x,D)):[]}function kK(y,x,M){var D=y==null?0:y.length;return D?(x=M||x===n?1:jt(x),x=D-x,Ls(y,0,x<0?0:x)):[]}function DK(y,x){return y&&y.length?Tv(y,Et(x,3),!0,!0):[]}function FK(y,x){return y&&y.length?Tv(y,Et(x,3),!0):[]}function UK(y,x,M,D){var $=y==null?0:y.length;return $?(M&&typeof M!="number"&&Si(y,x,M)&&(M=0,D=$),RY(y,x,M,D)):[]}function xL(y,x,M){var D=y==null?0:y.length;if(!D)return-1;var $=M==null?0:jt(M);return $<0&&($=Pr(D+$,0)),iv(y,Et(x,3),$)}function SL(y,x,M){var D=y==null?0:y.length;if(!D)return-1;var $=D-1;return M!==n&&($=jt(M),$=M<0?Pr(D+$,0):ii($,D-1)),iv(y,Et(x,3),$,!0)}function TL(y){var x=y==null?0:y.length;return x?$r(y,1):[]}function jK(y){var x=y==null?0:y.length;return x?$r(y,B):[]}function BK(y,x){var M=y==null?0:y.length;return M?(x=x===n?1:jt(x),$r(y,x)):[]}function VK(y){for(var x=-1,M=y==null?0:y.length,D={};++x<M;){var $=y[x];D[$[0]]=$[1]}return D}function CL(y){return y&&y.length?y[0]:n}function HK(y,x,M){var D=y==null?0:y.length;if(!D)return-1;var $=M==null?0:jt(M);return $<0&&($=Pr(D+$,0)),gd(y,x,$)}function zK(y){var x=y==null?0:y.length;return x?Ls(y,0,-1):[]}var GK=$t(function(y){var x=Xn(y,Lw);return x.length&&x[0]===y[0]?Ew(x):[]}),$K=$t(function(y){var x=Is(y),M=Xn(y,Lw);return x===Is(M)?x=n:M.pop(),M.length&&M[0]===y[0]?Ew(M,Et(x,2)):[]}),WK=$t(function(y){var x=Is(y),M=Xn(y,Lw);return x=typeof x=="function"?x:n,x&&M.pop(),M.length&&M[0]===y[0]?Ew(M,n,x):[]});function qK(y,x){return y==null?"":zq.call(y,x)}function Is(y){var x=y==null?0:y.length;return x?y[x-1]:n}function YK(y,x,M){var D=y==null?0:y.length;if(!D)return-1;var $=D;return M!==n&&($=jt(M),$=$<0?Pr(D+$,0):ii($,D-1)),x===x?Mq(y,x,$):iv(y,oR,$,!0)}function KK(y,x){return y&&y.length?FR(y,jt(x)):n}var XK=$t(ML);function ML(y,x){return y&&y.length&&x&&x.length?Tw(y,x):y}function JK(y,x,M){return y&&y.length&&x&&x.length?Tw(y,x,Et(M,2)):y}function ZK(y,x,M){return y&&y.length&&x&&x.length?Tw(y,x,n,M):y}var QK=Aa(function(y,x){var M=y==null?0:y.length,D=vw(y,x);return BR(y,Xn(x,function($){return Pa($,M)?+$:$}).sort(XR)),D});function eX(y,x){var M=[];if(!(y&&y.length))return M;var D=-1,$=[],X=y.length;for(x=Et(x,3);++D<X;){var ne=y[D];x(ne,D,y)&&(M.push(ne),$.push(D))}return BR(y,$),M}function $w(y){return y==null?y:qq.call(y)}function tX(y,x,M){var D=y==null?0:y.length;return D?(M&&typeof M!="number"&&Si(y,x,M)?(x=0,M=D):(x=x==null?0:jt(x),M=M===n?D:jt(M)),Ls(y,x,M)):[]}function nX(y,x){return Sv(y,x)}function rX(y,x,M){return Aw(y,x,Et(M,2))}function iX(y,x){var M=y==null?0:y.length;if(M){var D=Sv(y,x);if(D<M&&co(y[D],x))return D}return-1}function sX(y,x){return Sv(y,x,!0)}function oX(y,x,M){return Aw(y,x,Et(M,2),!0)}function aX(y,x){var M=y==null?0:y.length;if(M){var D=Sv(y,x,!0)-1;if(co(y[D],x))return D}return-1}function lX(y){return y&&y.length?HR(y):[]}function cX(y,x){return y&&y.length?HR(y,Et(x,2)):[]}function uX(y){var x=y==null?0:y.length;return x?Ls(y,1,x):[]}function dX(y,x,M){return y&&y.length?(x=M||x===n?1:jt(x),Ls(y,0,x<0?0:x)):[]}function fX(y,x,M){var D=y==null?0:y.length;return D?(x=M||x===n?1:jt(x),x=D-x,Ls(y,x<0?0:x,D)):[]}function hX(y,x){return y&&y.length?Tv(y,Et(x,3),!1,!0):[]}function pX(y,x){return y&&y.length?Tv(y,Et(x,3)):[]}var mX=$t(function(y){return Dl($r(y,1,pr,!0))}),gX=$t(function(y){var x=Is(y);return pr(x)&&(x=n),Dl($r(y,1,pr,!0),Et(x,2))}),vX=$t(function(y){var x=Is(y);return x=typeof x=="function"?x:n,Dl($r(y,1,pr,!0),n,x)});function yX(y){return y&&y.length?Dl(y):[]}function _X(y,x){return y&&y.length?Dl(y,Et(x,2)):[]}function bX(y,x){return x=typeof x=="function"?x:n,y&&y.length?Dl(y,n,x):[]}function Ww(y){if(!(y&&y.length))return[];var x=0;return y=Ll(y,function(M){if(pr(M))return x=Pr(M.length,x),!0}),cw(x,function(M){return Xn(y,ow(M))})}function AL(y,x){if(!(y&&y.length))return[];var M=Ww(y);return x==null?M:Xn(M,function(D){return ts(x,n,D)})}var EX=$t(function(y,x){return pr(y)?up(y,x):[]}),wX=$t(function(y){return Rw(Ll(y,pr))}),xX=$t(function(y){var x=Is(y);return pr(x)&&(x=n),Rw(Ll(y,pr),Et(x,2))}),SX=$t(function(y){var x=Is(y);return x=typeof x=="function"?x:n,Rw(Ll(y,pr),n,x)}),TX=$t(Ww);function CX(y,x){return WR(y||[],x||[],cp)}function MX(y,x){return WR(y||[],x||[],hp)}var AX=$t(function(y){var x=y.length,M=x>1?y[x-1]:n;return M=typeof M=="function"?(y.pop(),M):n,AL(y,M)});function PL(y){var x=Y(y);return x.__chain__=!0,x}function PX(y,x){return x(y),y}function Nv(y,x){return x(y)}var RX=Aa(function(y){var x=y.length,M=x?y[0]:0,D=this.__wrapped__,$=function(X){return vw(X,y)};return x>1||this.__actions__.length||!(D instanceof tn)||!Pa(M)?this.thru($):(D=D.slice(M,+M+(x?1:0)),D.__actions__.push({func:Nv,args:[$],thisArg:n}),new Ps(D,this.__chain__).thru(function(X){return x&&!X.length&&X.push(n),X}))});function LX(){return PL(this)}function IX(){return new Ps(this.value(),this.__chain__)}function OX(){this.__values__===n&&(this.__values__=zL(this.value()));var y=this.__index__>=this.__values__.length,x=y?n:this.__values__[this.__index__++];return{done:y,value:x}}function NX(){return this}function kX(y){for(var x,M=this;M instanceof _v;){var D=wL(M);D.__index__=0,D.__values__=n,x?$.__wrapped__=D:x=D;var $=D;M=M.__wrapped__}return $.__wrapped__=y,x}function DX(){var y=this.__wrapped__;if(y instanceof tn){var x=y;return this.__actions__.length&&(x=new tn(this)),x=x.reverse(),x.__actions__.push({func:Nv,args:[$w],thisArg:n}),new Ps(x,this.__chain__)}return this.thru($w)}function FX(){return $R(this.__wrapped__,this.__actions__)}var UX=Cv(function(y,x,M){bn.call(y,M)?++y[M]:Ca(y,M,1)});function jX(y,x,M){var D=Ft(y)?iR:PY;return M&&Si(y,x,M)&&(x=n),D(y,Et(x,3))}function BX(y,x){var M=Ft(y)?Ll:AR;return M(y,Et(x,3))}var VX=nL(xL),HX=nL(SL);function zX(y,x){return $r(kv(y,x),1)}function GX(y,x){return $r(kv(y,x),B)}function $X(y,x,M){return M=M===n?1:jt(M),$r(kv(y,x),M)}function RL(y,x){var M=Ft(y)?Ms:kl;return M(y,Et(x,3))}function LL(y,x){var M=Ft(y)?uq:MR;return M(y,Et(x,3))}var WX=Cv(function(y,x,M){bn.call(y,M)?y[M].push(x):Ca(y,M,[x])});function qX(y,x,M,D){y=ji(y)?y:Ad(y),M=M&&!D?jt(M):0;var $=y.length;return M<0&&(M=Pr($+M,0)),Bv(y)?M<=$&&y.indexOf(x,M)>-1:!!$&&gd(y,x,M)>-1}var YX=$t(function(y,x,M){var D=-1,$=typeof x=="function",X=ji(y)?be(y.length):[];return kl(y,function(ne){X[++D]=$?ts(x,ne,M):dp(ne,x,M)}),X}),KX=Cv(function(y,x,M){Ca(y,M,x)});function kv(y,x){var M=Ft(y)?Xn:NR;return M(y,Et(x,3))}function XX(y,x,M,D){return y==null?[]:(Ft(x)||(x=x==null?[]:[x]),M=D?n:M,Ft(M)||(M=M==null?[]:[M]),UR(y,x,M))}var JX=Cv(function(y,x,M){y[M?0:1].push(x)},function(){return[[],[]]});function ZX(y,x,M){var D=Ft(y)?iw:lR,$=arguments.length<3;return D(y,Et(x,4),M,$,kl)}function QX(y,x,M){var D=Ft(y)?dq:lR,$=arguments.length<3;return D(y,Et(x,4),M,$,MR)}function eJ(y,x){var M=Ft(y)?Ll:AR;return M(y,Uv(Et(x,3)))}function tJ(y){var x=Ft(y)?xR:qY;return x(y)}function nJ(y,x,M){(M?Si(y,x,M):x===n)?x=1:x=jt(x);var D=Ft(y)?SY:YY;return D(y,x)}function rJ(y){var x=Ft(y)?TY:XY;return x(y)}function iJ(y){if(y==null)return 0;if(ji(y))return Bv(y)?yd(y):y.length;var x=si(y);return x==ye||x==Q?y.size:xw(y).length}function sJ(y,x,M){var D=Ft(y)?sw:JY;return M&&Si(y,x,M)&&(x=n),D(y,Et(x,3))}var oJ=$t(function(y,x){if(y==null)return[];var M=x.length;return M>1&&Si(y,x[0],x[1])?x=[]:M>2&&Si(x[0],x[1],x[2])&&(x=[x[0]]),UR(y,$r(x,1),[])}),Dv=Bq||function(){return Gr.Date.now()};function aJ(y,x){if(typeof x!="function")throw new As(a);return y=jt(y),function(){if(--y<1)return x.apply(this,arguments)}}function IL(y,x,M){return x=M?n:x,x=y&&x==null?y.length:x,Ma(y,A,n,n,n,n,x)}function OL(y,x){var M;if(typeof x!="function")throw new As(a);return y=jt(y),function(){return--y>0&&(M=x.apply(this,arguments)),y<=1&&(x=n),M}}var qw=$t(function(y,x,M){var D=S;if(M.length){var $=Ol(M,Cd(qw));D|=P}return Ma(y,D,x,M,$)}),NL=$t(function(y,x,M){var D=S|E;if(M.length){var $=Ol(M,Cd(NL));D|=P}return Ma(x,D,y,M,$)});function kL(y,x,M){x=M?n:x;var D=Ma(y,T,n,n,n,n,n,x);return D.placeholder=kL.placeholder,D}function DL(y,x,M){x=M?n:x;var D=Ma(y,C,n,n,n,n,n,x);return D.placeholder=DL.placeholder,D}function FL(y,x,M){var D,$,X,ne,oe,de,Pe=0,Re=!1,ke=!1,Ze=!0;if(typeof y!="function")throw new As(a);x=Os(x)||0,nr(M)&&(Re=!!M.leading,ke="maxWait"in M,X=ke?Pr(Os(M.maxWait)||0,x):X,Ze="trailing"in M?!!M.trailing:Ze);function ht(mr){var uo=D,Ia=$;return D=$=n,Pe=mr,ne=y.apply(Ia,uo),ne}function wt(mr){return Pe=mr,oe=gp(Xt,x),Re?ht(mr):ne}function zt(mr){var uo=mr-de,Ia=mr-Pe,nI=x-uo;return ke?ii(nI,X-Ia):nI}function xt(mr){var uo=mr-de,Ia=mr-Pe;return de===n||uo>=x||uo<0||ke&&Ia>=X}function Xt(){var mr=Dv();if(xt(mr))return nn(mr);oe=gp(Xt,zt(mr))}function nn(mr){return oe=n,Ze&&D?ht(mr):(D=$=n,ne)}function ss(){oe!==n&&qR(oe),Pe=0,D=de=$=oe=n}function Ti(){return oe===n?ne:nn(Dv())}function os(){var mr=Dv(),uo=xt(mr);if(D=arguments,$=this,de=mr,uo){if(oe===n)return wt(de);if(ke)return qR(oe),oe=gp(Xt,x),ht(de)}return oe===n&&(oe=gp(Xt,x)),ne}return os.cancel=ss,os.flush=Ti,os}var lJ=$t(function(y,x){return CR(y,1,x)}),cJ=$t(function(y,x,M){return CR(y,Os(x)||0,M)});function uJ(y){return Ma(y,k)}function Fv(y,x){if(typeof y!="function"||x!=null&&typeof x!="function")throw new As(a);var M=function(){var D=arguments,$=x?x.apply(this,D):D[0],X=M.cache;if(X.has($))return X.get($);var ne=y.apply(this,D);return M.cache=X.set($,ne)||X,ne};return M.cache=new(Fv.Cache||Ta),M}Fv.Cache=Ta;function Uv(y){if(typeof y!="function")throw new As(a);return function(){var x=arguments;switch(x.length){case 0:return!y.call(this);case 1:return!y.call(this,x[0]);case 2:return!y.call(this,x[0],x[1]);case 3:return!y.call(this,x[0],x[1],x[2])}return!y.apply(this,x)}}function dJ(y){return OL(2,y)}var fJ=ZY(function(y,x){x=x.length==1&&Ft(x[0])?Xn(x[0],ns(Et())):Xn($r(x,1),ns(Et()));var M=x.length;return $t(function(D){for(var $=-1,X=ii(D.length,M);++$<X;)D[$]=x[$].call(this,D[$]);return ts(y,this,D)})}),Yw=$t(function(y,x){var M=Ol(x,Cd(Yw));return Ma(y,P,n,x,M)}),UL=$t(function(y,x){var M=Ol(x,Cd(UL));return Ma(y,R,n,x,M)}),hJ=Aa(function(y,x){return Ma(y,L,n,n,n,x)});function pJ(y,x){if(typeof y!="function")throw new As(a);return x=x===n?x:jt(x),$t(y,x)}function mJ(y,x){if(typeof y!="function")throw new As(a);return x=x==null?0:Pr(jt(x),0),$t(function(M){var D=M[x],$=Ul(M,0,x);return D&&Il($,D),ts(y,this,$)})}function gJ(y,x,M){var D=!0,$=!0;if(typeof y!="function")throw new As(a);return nr(M)&&(D="leading"in M?!!M.leading:D,$="trailing"in M?!!M.trailing:$),FL(y,x,{leading:D,maxWait:x,trailing:$})}function vJ(y){return IL(y,1)}function yJ(y,x){return Yw(Iw(x),y)}function _J(){if(!arguments.length)return[];var y=arguments[0];return Ft(y)?y:[y]}function bJ(y){return Rs(y,v)}function EJ(y,x){return x=typeof x=="function"?x:n,Rs(y,v,x)}function wJ(y){return Rs(y,f|v)}function xJ(y,x){return x=typeof x=="function"?x:n,Rs(y,f|v,x)}function SJ(y,x){return x==null||TR(y,x,Dr(x))}function co(y,x){return y===x||y!==y&&x!==x}var TJ=Rv(bw),CJ=Rv(function(y,x){return y>=x}),ru=LR(function(){return arguments}())?LR:function(y){return or(y)&&bn.call(y,"callee")&&!vR.call(y,"callee")},Ft=be.isArray,MJ=ZP?ns(ZP):kY;function ji(y){return y!=null&&jv(y.length)&&!Ra(y)}function pr(y){return or(y)&&ji(y)}function AJ(y){return y===!0||y===!1||or(y)&&xi(y)==le}var jl=Hq||s2,PJ=QP?ns(QP):DY;function RJ(y){return or(y)&&y.nodeType===1&&!vp(y)}function LJ(y){if(y==null)return!0;if(ji(y)&&(Ft(y)||typeof y=="string"||typeof y.splice=="function"||jl(y)||Md(y)||ru(y)))return!y.length;var x=si(y);if(x==ye||x==Q)return!y.size;if(mp(y))return!xw(y).length;for(var M in y)if(bn.call(y,M))return!1;return!0}function IJ(y,x){return fp(y,x)}function OJ(y,x,M){M=typeof M=="function"?M:n;var D=M?M(y,x):n;return D===n?fp(y,x,n,M):!!D}function Kw(y){if(!or(y))return!1;var x=xi(y);return x==Ie||x==me||typeof y.message=="string"&&typeof y.name=="string"&&!vp(y)}function NJ(y){return typeof y=="number"&&_R(y)}function Ra(y){if(!nr(y))return!1;var x=xi(y);return x==fe||x==Ee||x==ae||x==gt}function jL(y){return typeof y=="number"&&y==jt(y)}function jv(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=H}function nr(y){var x=typeof y;return y!=null&&(x=="object"||x=="function")}function or(y){return y!=null&&typeof y=="object"}var BL=eR?ns(eR):UY;function kJ(y,x){return y===x||ww(y,x,jw(x))}function DJ(y,x,M){return M=typeof M=="function"?M:n,ww(y,x,jw(x),M)}function FJ(y){return VL(y)&&y!=+y}function UJ(y){if(EK(y))throw new Nt(s);return IR(y)}function jJ(y){return y===null}function BJ(y){return y==null}function VL(y){return typeof y=="number"||or(y)&&xi(y)==Fe}function vp(y){if(!or(y)||xi(y)!=nt)return!1;var x=fv(y);if(x===null)return!0;var M=bn.call(x,"constructor")&&x.constructor;return typeof M=="function"&&M instanceof M&&lv.call(M)==Dq}var Xw=tR?ns(tR):jY;function VJ(y){return jL(y)&&y>=-H&&y<=H}var HL=nR?ns(nR):BY;function Bv(y){return typeof y=="string"||!Ft(y)&&or(y)&&xi(y)==J}function is(y){return typeof y=="symbol"||or(y)&&xi(y)==Ae}var Md=rR?ns(rR):VY;function HJ(y){return y===n}function zJ(y){return or(y)&&si(y)==We}function GJ(y){return or(y)&&xi(y)==Le}var $J=Rv(Sw),WJ=Rv(function(y,x){return y<=x});function zL(y){if(!y)return[];if(ji(y))return Bv(y)?ao(y):Ui(y);if(ip&&y[ip])return Sq(y[ip]());var x=si(y),M=x==ye?dw:x==Q?sv:Ad;return M(y)}function La(y){if(!y)return y===0?y:0;if(y=Os(y),y===B||y===-B){var x=y<0?-1:1;return x*W}return y===y?y:0}function jt(y){var x=La(y),M=x%1;return x===x?M?x-M:x:0}function GL(y){return y?Qc(jt(y),0,q):0}function Os(y){if(typeof y=="number")return y;if(is(y))return G;if(nr(y)){var x=typeof y.valueOf=="function"?y.valueOf():y;y=nr(x)?x+"":x}if(typeof y!="string")return y===0?y:+y;y=cR(y);var M=en.test(y);return M||xa.test(y)?aq(y.slice(2),M?2:8):Ht.test(y)?G:+y}function $L(y){return ko(y,Bi(y))}function qJ(y){return y?Qc(jt(y),-H,H):y===0?y:0}function yn(y){return y==null?"":rs(y)}var YJ=Sd(function(y,x){if(mp(x)||ji(x)){ko(x,Dr(x),y);return}for(var M in x)bn.call(x,M)&&cp(y,M,x[M])}),WL=Sd(function(y,x){ko(x,Bi(x),y)}),Vv=Sd(function(y,x,M,D){ko(x,Bi(x),y,D)}),KJ=Sd(function(y,x,M,D){ko(x,Dr(x),y,D)}),XJ=Aa(vw);function JJ(y,x){var M=xd(y);return x==null?M:SR(M,x)}var ZJ=$t(function(y,x){y=An(y);var M=-1,D=x.length,$=D>2?x[2]:n;for($&&Si(x[0],x[1],$)&&(D=1);++M<D;)for(var X=x[M],ne=Bi(X),oe=-1,de=ne.length;++oe<de;){var Pe=ne[oe],Re=y[Pe];(Re===n||co(Re,bd[Pe])&&!bn.call(y,Pe))&&(y[Pe]=X[Pe])}return y}),QJ=$t(function(y){return y.push(n,cL),ts(qL,n,y)});function eZ(y,x){return sR(y,Et(x,3),No)}function tZ(y,x){return sR(y,Et(x,3),_w)}function nZ(y,x){return y==null?y:yw(y,Et(x,3),Bi)}function rZ(y,x){return y==null?y:PR(y,Et(x,3),Bi)}function iZ(y,x){return y&&No(y,Et(x,3))}function sZ(y,x){return y&&_w(y,Et(x,3))}function oZ(y){return y==null?[]:wv(y,Dr(y))}function aZ(y){return y==null?[]:wv(y,Bi(y))}function Jw(y,x,M){var D=y==null?n:eu(y,x);return D===n?M:D}function lZ(y,x){return y!=null&&fL(y,x,LY)}function Zw(y,x){return y!=null&&fL(y,x,IY)}var cZ=iL(function(y,x,M){x!=null&&typeof x.toString!="function"&&(x=cv.call(x)),y[x]=M},e2(Vi)),uZ=iL(function(y,x,M){x!=null&&typeof x.toString!="function"&&(x=cv.call(x)),bn.call(y,x)?y[x].push(M):y[x]=[M]},Et),dZ=$t(dp);function Dr(y){return ji(y)?wR(y):xw(y)}function Bi(y){return ji(y)?wR(y,!0):HY(y)}function fZ(y,x){var M={};return x=Et(x,3),No(y,function(D,$,X){Ca(M,x(D,$,X),D)}),M}function hZ(y,x){var M={};return x=Et(x,3),No(y,function(D,$,X){Ca(M,$,x(D,$,X))}),M}var pZ=Sd(function(y,x,M){xv(y,x,M)}),qL=Sd(function(y,x,M,D){xv(y,x,M,D)}),mZ=Aa(function(y,x){var M={};if(y==null)return M;var D=!1;x=Xn(x,function(X){return X=Fl(X,y),D||(D=X.length>1),X}),ko(y,Fw(y),M),D&&(M=Rs(M,f|h|v,cK));for(var $=x.length;$--;)Pw(M,x[$]);return M});function gZ(y,x){return YL(y,Uv(Et(x)))}var vZ=Aa(function(y,x){return y==null?{}:GY(y,x)});function YL(y,x){if(y==null)return{};var M=Xn(Fw(y),function(D){return[D]});return x=Et(x),jR(y,M,function(D,$){return x(D,$[0])})}function yZ(y,x,M){x=Fl(x,y);var D=-1,$=x.length;for($||($=1,y=n);++D<$;){var X=y==null?n:y[Do(x[D])];X===n&&(D=$,X=M),y=Ra(X)?X.call(y):X}return y}function _Z(y,x,M){return y==null?y:hp(y,x,M)}function bZ(y,x,M,D){return D=typeof D=="function"?D:n,y==null?y:hp(y,x,M,D)}var KL=aL(Dr),XL=aL(Bi);function EZ(y,x,M){var D=Ft(y),$=D||jl(y)||Md(y);if(x=Et(x,4),M==null){var X=y&&y.constructor;$?M=D?new X:[]:nr(y)?M=Ra(X)?xd(fv(y)):{}:M={}}return($?Ms:No)(y,function(ne,oe,de){return x(M,ne,oe,de)}),M}function wZ(y,x){return y==null?!0:Pw(y,x)}function xZ(y,x,M){return y==null?y:GR(y,x,Iw(M))}function SZ(y,x,M,D){return D=typeof D=="function"?D:n,y==null?y:GR(y,x,Iw(M),D)}function Ad(y){return y==null?[]:uw(y,Dr(y))}function TZ(y){return y==null?[]:uw(y,Bi(y))}function CZ(y,x,M){return M===n&&(M=x,x=n),M!==n&&(M=Os(M),M=M===M?M:0),x!==n&&(x=Os(x),x=x===x?x:0),Qc(Os(y),x,M)}function MZ(y,x,M){return x=La(x),M===n?(M=x,x=0):M=La(M),y=Os(y),OY(y,x,M)}function AZ(y,x,M){if(M&&typeof M!="boolean"&&Si(y,x,M)&&(x=M=n),M===n&&(typeof x=="boolean"?(M=x,x=n):typeof y=="boolean"&&(M=y,y=n)),y===n&&x===n?(y=0,x=1):(y=La(y),x===n?(x=y,y=0):x=La(x)),y>x){var D=y;y=x,x=D}if(M||y%1||x%1){var $=bR();return ii(y+$*(x-y+oq("1e-"+(($+"").length-1))),x)}return Cw(y,x)}var PZ=Td(function(y,x,M){return x=x.toLowerCase(),y+(M?JL(x):x)});function JL(y){return Qw(yn(y).toLowerCase())}function ZL(y){return y=yn(y),y&&y.replace(ln,_q).replace(XW,"")}function RZ(y,x,M){y=yn(y),x=rs(x);var D=y.length;M=M===n?D:Qc(jt(M),0,D);var $=M;return M-=x.length,M>=0&&y.slice(M,$)==x}function LZ(y){return y=yn(y),y&&Q0.test(y)?y.replace(Oo,bq):y}function IZ(y){return y=yn(y),y&&KE.test(y)?y.replace(np,"\\$&"):y}var OZ=Td(function(y,x,M){return y+(M?"-":"")+x.toLowerCase()}),NZ=Td(function(y,x,M){return y+(M?" ":"")+x.toLowerCase()}),kZ=tL("toLowerCase");function DZ(y,x,M){y=yn(y),x=jt(x);var D=x?yd(y):0;if(!x||D>=x)return y;var $=(x-D)/2;return Pv(gv($),M)+y+Pv(mv($),M)}function FZ(y,x,M){y=yn(y),x=jt(x);var D=x?yd(y):0;return x&&D<x?y+Pv(x-D,M):y}function UZ(y,x,M){y=yn(y),x=jt(x);var D=x?yd(y):0;return x&&D<x?Pv(x-D,M)+y:y}function jZ(y,x,M){return M||x==null?x=0:x&&(x=+x),Wq(yn(y).replace(Z,""),x||0)}function BZ(y,x,M){return(M?Si(y,x,M):x===n)?x=1:x=jt(x),Mw(yn(y),x)}function VZ(){var y=arguments,x=yn(y[0]);return y.length<3?x:x.replace(y[1],y[2])}var HZ=Td(function(y,x,M){return y+(M?"_":"")+x.toLowerCase()});function zZ(y,x,M){return M&&typeof M!="number"&&Si(y,x,M)&&(x=M=n),M=M===n?q:M>>>0,M?(y=yn(y),y&&(typeof x=="string"||x!=null&&!Xw(x))&&(x=rs(x),!x&&vd(y))?Ul(ao(y),0,M):y.split(x,M)):[]}var GZ=Td(function(y,x,M){return y+(M?" ":"")+Qw(x)});function $Z(y,x,M){return y=yn(y),M=M==null?0:Qc(jt(M),0,y.length),x=rs(x),y.slice(M,M+x.length)==x}function WZ(y,x,M){var D=Y.templateSettings;M&&Si(y,x,M)&&(x=n),y=yn(y),x=Vv({},x,D,lL);var $=Vv({},x.imports,D.imports,lL),X=Dr($),ne=uw($,X),oe,de,Pe=0,Re=x.interpolate||Ei,ke="__p += '",Ze=fw((x.escape||Ei).source+"|"+Re.source+"|"+(Re===ev?Rt:Ei).source+"|"+(x.evaluate||Ei).source+"|$","g"),ht="//# sourceURL="+(bn.call(x,"sourceURL")?(x.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tq+"]")+`
`;y.replace(Ze,function(xt,Xt,nn,ss,Ti,os){return nn||(nn=ss),ke+=y.slice(Pe,os).replace(hr,Eq),Xt&&(oe=!0,ke+=`' +
__e(`+Xt+`) +
'`),Ti&&(de=!0,ke+=`';
`+Ti+`;
__p += '`),nn&&(ke+=`' +
((__t = (`+nn+`)) == null ? '' : __t) +
'`),Pe=os+xt.length,xt}),ke+=`';
`;var wt=bn.call(x,"variable")&&x.variable;if(!wt)ke=`with (obj) {
`+ke+`
}
`;else if(Ot.test(wt))throw new Nt(l);ke=(de?ke.replace(Sn,""):ke).replace(vn,"$1").replace(Ss,"$1;"),ke="function("+(wt||"obj")+`) {
`+(wt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(oe?", __e = _.escape":"")+(de?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ke+`return __p
}`;var zt=eI(function(){return pn(X,ht+"return "+ke).apply(n,ne)});if(zt.source=ke,Kw(zt))throw zt;return zt}function qZ(y){return yn(y).toLowerCase()}function YZ(y){return yn(y).toUpperCase()}function KZ(y,x,M){if(y=yn(y),y&&(M||x===n))return cR(y);if(!y||!(x=rs(x)))return y;var D=ao(y),$=ao(x),X=uR(D,$),ne=dR(D,$)+1;return Ul(D,X,ne).join("")}function XZ(y,x,M){if(y=yn(y),y&&(M||x===n))return y.slice(0,hR(y)+1);if(!y||!(x=rs(x)))return y;var D=ao(y),$=dR(D,ao(x))+1;return Ul(D,0,$).join("")}function JZ(y,x,M){if(y=yn(y),y&&(M||x===n))return y.replace(Z,"");if(!y||!(x=rs(x)))return y;var D=ao(y),$=uR(D,ao(x));return Ul(D,$).join("")}function ZZ(y,x){var M=U,D=N;if(nr(x)){var $="separator"in x?x.separator:$;M="length"in x?jt(x.length):M,D="omission"in x?rs(x.omission):D}y=yn(y);var X=y.length;if(vd(y)){var ne=ao(y);X=ne.length}if(M>=X)return y;var oe=M-yd(D);if(oe<1)return D;var de=ne?Ul(ne,0,oe).join(""):y.slice(0,oe);if($===n)return de+D;if(ne&&(oe+=de.length-oe),Xw($)){if(y.slice(oe).search($)){var Pe,Re=de;for($.global||($=fw($.source,yn(Qt.exec($))+"g")),$.lastIndex=0;Pe=$.exec(Re);)var ke=Pe.index;de=de.slice(0,ke===n?oe:ke)}}else if(y.indexOf(rs($),oe)!=oe){var Ze=de.lastIndexOf($);Ze>-1&&(de=de.slice(0,Ze))}return de+D}function QZ(y){return y=yn(y),y&&Z0.test(y)?y.replace(es,Aq):y}var eQ=Td(function(y,x,M){return y+(M?" ":"")+x.toUpperCase()}),Qw=tL("toUpperCase");function QL(y,x,M){return y=yn(y),x=M?n:x,x===n?xq(y)?Lq(y):pq(y):y.match(x)||[]}var eI=$t(function(y,x){try{return ts(y,n,x)}catch(M){return Kw(M)?M:new Nt(M)}}),tQ=Aa(function(y,x){return Ms(x,function(M){M=Do(M),Ca(y,M,qw(y[M],y))}),y});function nQ(y){var x=y==null?0:y.length,M=Et();return y=x?Xn(y,function(D){if(typeof D[1]!="function")throw new As(a);return[M(D[0]),D[1]]}):[],$t(function(D){for(var $=-1;++$<x;){var X=y[$];if(ts(X[0],this,D))return ts(X[1],this,D)}})}function rQ(y){return AY(Rs(y,f))}function e2(y){return function(){return y}}function iQ(y,x){return y==null||y!==y?x:y}var sQ=rL(),oQ=rL(!0);function Vi(y){return y}function t2(y){return OR(typeof y=="function"?y:Rs(y,f))}function aQ(y){return kR(Rs(y,f))}function lQ(y,x){return DR(y,Rs(x,f))}var cQ=$t(function(y,x){return function(M){return dp(M,y,x)}}),uQ=$t(function(y,x){return function(M){return dp(y,M,x)}});function n2(y,x,M){var D=Dr(x),$=wv(x,D);M==null&&!(nr(x)&&($.length||!D.length))&&(M=x,x=y,y=this,$=wv(x,Dr(x)));var X=!(nr(M)&&"chain"in M)||!!M.chain,ne=Ra(y);return Ms($,function(oe){var de=x[oe];y[oe]=de,ne&&(y.prototype[oe]=function(){var Pe=this.__chain__;if(X||Pe){var Re=y(this.__wrapped__),ke=Re.__actions__=Ui(this.__actions__);return ke.push({func:de,args:arguments,thisArg:y}),Re.__chain__=Pe,Re}return de.apply(y,Il([this.value()],arguments))})}),y}function dQ(){return Gr._===this&&(Gr._=Fq),this}function r2(){}function fQ(y){return y=jt(y),$t(function(x){return FR(x,y)})}var hQ=Nw(Xn),pQ=Nw(iR),mQ=Nw(sw);function tI(y){return Vw(y)?ow(Do(y)):$Y(y)}function gQ(y){return function(x){return y==null?n:eu(y,x)}}var vQ=sL(),yQ=sL(!0);function i2(){return[]}function s2(){return!1}function _Q(){return{}}function bQ(){return""}function EQ(){return!0}function wQ(y,x){if(y=jt(y),y<1||y>H)return[];var M=q,D=ii(y,q);x=Et(x),y-=q;for(var $=cw(D,x);++M<y;)x(M);return $}function xQ(y){return Ft(y)?Xn(y,Do):is(y)?[y]:Ui(EL(yn(y)))}function SQ(y){var x=++kq;return yn(y)+x}var TQ=Av(function(y,x){return y+x},0),CQ=kw("ceil"),MQ=Av(function(y,x){return y/x},1),AQ=kw("floor");function PQ(y){return y&&y.length?Ev(y,Vi,bw):n}function RQ(y,x){return y&&y.length?Ev(y,Et(x,2),bw):n}function LQ(y){return aR(y,Vi)}function IQ(y,x){return aR(y,Et(x,2))}function OQ(y){return y&&y.length?Ev(y,Vi,Sw):n}function NQ(y,x){return y&&y.length?Ev(y,Et(x,2),Sw):n}var kQ=Av(function(y,x){return y*x},1),DQ=kw("round"),FQ=Av(function(y,x){return y-x},0);function UQ(y){return y&&y.length?lw(y,Vi):0}function jQ(y,x){return y&&y.length?lw(y,Et(x,2)):0}return Y.after=aJ,Y.ary=IL,Y.assign=YJ,Y.assignIn=WL,Y.assignInWith=Vv,Y.assignWith=KJ,Y.at=XJ,Y.before=OL,Y.bind=qw,Y.bindAll=tQ,Y.bindKey=NL,Y.castArray=_J,Y.chain=PL,Y.chunk=AK,Y.compact=PK,Y.concat=RK,Y.cond=nQ,Y.conforms=rQ,Y.constant=e2,Y.countBy=UX,Y.create=JJ,Y.curry=kL,Y.curryRight=DL,Y.debounce=FL,Y.defaults=ZJ,Y.defaultsDeep=QJ,Y.defer=lJ,Y.delay=cJ,Y.difference=LK,Y.differenceBy=IK,Y.differenceWith=OK,Y.drop=NK,Y.dropRight=kK,Y.dropRightWhile=DK,Y.dropWhile=FK,Y.fill=UK,Y.filter=BX,Y.flatMap=zX,Y.flatMapDeep=GX,Y.flatMapDepth=$X,Y.flatten=TL,Y.flattenDeep=jK,Y.flattenDepth=BK,Y.flip=uJ,Y.flow=sQ,Y.flowRight=oQ,Y.fromPairs=VK,Y.functions=oZ,Y.functionsIn=aZ,Y.groupBy=WX,Y.initial=zK,Y.intersection=GK,Y.intersectionBy=$K,Y.intersectionWith=WK,Y.invert=cZ,Y.invertBy=uZ,Y.invokeMap=YX,Y.iteratee=t2,Y.keyBy=KX,Y.keys=Dr,Y.keysIn=Bi,Y.map=kv,Y.mapKeys=fZ,Y.mapValues=hZ,Y.matches=aQ,Y.matchesProperty=lQ,Y.memoize=Fv,Y.merge=pZ,Y.mergeWith=qL,Y.method=cQ,Y.methodOf=uQ,Y.mixin=n2,Y.negate=Uv,Y.nthArg=fQ,Y.omit=mZ,Y.omitBy=gZ,Y.once=dJ,Y.orderBy=XX,Y.over=hQ,Y.overArgs=fJ,Y.overEvery=pQ,Y.overSome=mQ,Y.partial=Yw,Y.partialRight=UL,Y.partition=JX,Y.pick=vZ,Y.pickBy=YL,Y.property=tI,Y.propertyOf=gQ,Y.pull=XK,Y.pullAll=ML,Y.pullAllBy=JK,Y.pullAllWith=ZK,Y.pullAt=QK,Y.range=vQ,Y.rangeRight=yQ,Y.rearg=hJ,Y.reject=eJ,Y.remove=eX,Y.rest=pJ,Y.reverse=$w,Y.sampleSize=nJ,Y.set=_Z,Y.setWith=bZ,Y.shuffle=rJ,Y.slice=tX,Y.sortBy=oJ,Y.sortedUniq=lX,Y.sortedUniqBy=cX,Y.split=zZ,Y.spread=mJ,Y.tail=uX,Y.take=dX,Y.takeRight=fX,Y.takeRightWhile=hX,Y.takeWhile=pX,Y.tap=PX,Y.throttle=gJ,Y.thru=Nv,Y.toArray=zL,Y.toPairs=KL,Y.toPairsIn=XL,Y.toPath=xQ,Y.toPlainObject=$L,Y.transform=EZ,Y.unary=vJ,Y.union=mX,Y.unionBy=gX,Y.unionWith=vX,Y.uniq=yX,Y.uniqBy=_X,Y.uniqWith=bX,Y.unset=wZ,Y.unzip=Ww,Y.unzipWith=AL,Y.update=xZ,Y.updateWith=SZ,Y.values=Ad,Y.valuesIn=TZ,Y.without=EX,Y.words=QL,Y.wrap=yJ,Y.xor=wX,Y.xorBy=xX,Y.xorWith=SX,Y.zip=TX,Y.zipObject=CX,Y.zipObjectDeep=MX,Y.zipWith=AX,Y.entries=KL,Y.entriesIn=XL,Y.extend=WL,Y.extendWith=Vv,n2(Y,Y),Y.add=TQ,Y.attempt=eI,Y.camelCase=PZ,Y.capitalize=JL,Y.ceil=CQ,Y.clamp=CZ,Y.clone=bJ,Y.cloneDeep=wJ,Y.cloneDeepWith=xJ,Y.cloneWith=EJ,Y.conformsTo=SJ,Y.deburr=ZL,Y.defaultTo=iQ,Y.divide=MQ,Y.endsWith=RZ,Y.eq=co,Y.escape=LZ,Y.escapeRegExp=IZ,Y.every=jX,Y.find=VX,Y.findIndex=xL,Y.findKey=eZ,Y.findLast=HX,Y.findLastIndex=SL,Y.findLastKey=tZ,Y.floor=AQ,Y.forEach=RL,Y.forEachRight=LL,Y.forIn=nZ,Y.forInRight=rZ,Y.forOwn=iZ,Y.forOwnRight=sZ,Y.get=Jw,Y.gt=TJ,Y.gte=CJ,Y.has=lZ,Y.hasIn=Zw,Y.head=CL,Y.identity=Vi,Y.includes=qX,Y.indexOf=HK,Y.inRange=MZ,Y.invoke=dZ,Y.isArguments=ru,Y.isArray=Ft,Y.isArrayBuffer=MJ,Y.isArrayLike=ji,Y.isArrayLikeObject=pr,Y.isBoolean=AJ,Y.isBuffer=jl,Y.isDate=PJ,Y.isElement=RJ,Y.isEmpty=LJ,Y.isEqual=IJ,Y.isEqualWith=OJ,Y.isError=Kw,Y.isFinite=NJ,Y.isFunction=Ra,Y.isInteger=jL,Y.isLength=jv,Y.isMap=BL,Y.isMatch=kJ,Y.isMatchWith=DJ,Y.isNaN=FJ,Y.isNative=UJ,Y.isNil=BJ,Y.isNull=jJ,Y.isNumber=VL,Y.isObject=nr,Y.isObjectLike=or,Y.isPlainObject=vp,Y.isRegExp=Xw,Y.isSafeInteger=VJ,Y.isSet=HL,Y.isString=Bv,Y.isSymbol=is,Y.isTypedArray=Md,Y.isUndefined=HJ,Y.isWeakMap=zJ,Y.isWeakSet=GJ,Y.join=qK,Y.kebabCase=OZ,Y.last=Is,Y.lastIndexOf=YK,Y.lowerCase=NZ,Y.lowerFirst=kZ,Y.lt=$J,Y.lte=WJ,Y.max=PQ,Y.maxBy=RQ,Y.mean=LQ,Y.meanBy=IQ,Y.min=OQ,Y.minBy=NQ,Y.stubArray=i2,Y.stubFalse=s2,Y.stubObject=_Q,Y.stubString=bQ,Y.stubTrue=EQ,Y.multiply=kQ,Y.nth=KK,Y.noConflict=dQ,Y.noop=r2,Y.now=Dv,Y.pad=DZ,Y.padEnd=FZ,Y.padStart=UZ,Y.parseInt=jZ,Y.random=AZ,Y.reduce=ZX,Y.reduceRight=QX,Y.repeat=BZ,Y.replace=VZ,Y.result=yZ,Y.round=DQ,Y.runInContext=ue,Y.sample=tJ,Y.size=iJ,Y.snakeCase=HZ,Y.some=sJ,Y.sortedIndex=nX,Y.sortedIndexBy=rX,Y.sortedIndexOf=iX,Y.sortedLastIndex=sX,Y.sortedLastIndexBy=oX,Y.sortedLastIndexOf=aX,Y.startCase=GZ,Y.startsWith=$Z,Y.subtract=FQ,Y.sum=UQ,Y.sumBy=jQ,Y.template=WZ,Y.times=wQ,Y.toFinite=La,Y.toInteger=jt,Y.toLength=GL,Y.toLower=qZ,Y.toNumber=Os,Y.toSafeInteger=qJ,Y.toString=yn,Y.toUpper=YZ,Y.trim=KZ,Y.trimEnd=XZ,Y.trimStart=JZ,Y.truncate=ZZ,Y.unescape=QZ,Y.uniqueId=SQ,Y.upperCase=eQ,Y.upperFirst=Qw,Y.each=RL,Y.eachRight=LL,Y.first=CL,n2(Y,function(){var y={};return No(Y,function(x,M){bn.call(Y.prototype,M)||(y[M]=x)}),y}(),{chain:!1}),Y.VERSION=i,Ms(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){Y[y].placeholder=Y}),Ms(["drop","take"],function(y,x){tn.prototype[y]=function(M){M=M===n?1:Pr(jt(M),0);var D=this.__filtered__&&!x?new tn(this):this.clone();return D.__filtered__?D.__takeCount__=ii(M,D.__takeCount__):D.__views__.push({size:ii(M,q),type:y+(D.__dir__<0?"Right":"")}),D},tn.prototype[y+"Right"]=function(M){return this.reverse()[y](M).reverse()}}),Ms(["filter","map","takeWhile"],function(y,x){var M=x+1,D=M==O||M==z;tn.prototype[y]=function($){var X=this.clone();return X.__iteratees__.push({iteratee:Et($,3),type:M}),X.__filtered__=X.__filtered__||D,X}}),Ms(["head","last"],function(y,x){var M="take"+(x?"Right":"");tn.prototype[y]=function(){return this[M](1).value()[0]}}),Ms(["initial","tail"],function(y,x){var M="drop"+(x?"":"Right");tn.prototype[y]=function(){return this.__filtered__?new tn(this):this[M](1)}}),tn.prototype.compact=function(){return this.filter(Vi)},tn.prototype.find=function(y){return this.filter(y).head()},tn.prototype.findLast=function(y){return this.reverse().find(y)},tn.prototype.invokeMap=$t(function(y,x){return typeof y=="function"?new tn(this):this.map(function(M){return dp(M,y,x)})}),tn.prototype.reject=function(y){return this.filter(Uv(Et(y)))},tn.prototype.slice=function(y,x){y=jt(y);var M=this;return M.__filtered__&&(y>0||x<0)?new tn(M):(y<0?M=M.takeRight(-y):y&&(M=M.drop(y)),x!==n&&(x=jt(x),M=x<0?M.dropRight(-x):M.take(x-y)),M)},tn.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},tn.prototype.toArray=function(){return this.take(q)},No(tn.prototype,function(y,x){var M=/^(?:filter|find|map|reject)|While$/.test(x),D=/^(?:head|last)$/.test(x),$=Y[D?"take"+(x=="last"?"Right":""):x],X=D||/^find/.test(x);!$||(Y.prototype[x]=function(){var ne=this.__wrapped__,oe=D?[1]:arguments,de=ne instanceof tn,Pe=oe[0],Re=de||Ft(ne),ke=function(Xt){var nn=$.apply(Y,Il([Xt],oe));return D&&Ze?nn[0]:nn};Re&&M&&typeof Pe=="function"&&Pe.length!=1&&(de=Re=!1);var Ze=this.__chain__,ht=!!this.__actions__.length,wt=X&&!Ze,zt=de&&!ht;if(!X&&Re){ne=zt?ne:new tn(this);var xt=y.apply(ne,oe);return xt.__actions__.push({func:Nv,args:[ke],thisArg:n}),new Ps(xt,Ze)}return wt&&zt?y.apply(this,oe):(xt=this.thru(ke),wt?D?xt.value()[0]:xt.value():xt)})}),Ms(["pop","push","shift","sort","splice","unshift"],function(y){var x=ov[y],M=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",D=/^(?:pop|shift)$/.test(y);Y.prototype[y]=function(){var $=arguments;if(D&&!this.__chain__){var X=this.value();return x.apply(Ft(X)?X:[],$)}return this[M](function(ne){return x.apply(Ft(ne)?ne:[],$)})}}),No(tn.prototype,function(y,x){var M=Y[x];if(M){var D=M.name+"";bn.call(wd,D)||(wd[D]=[]),wd[D].push({name:x,func:M})}}),wd[Mv(n,E).name]=[{name:"wrapper",func:n}],tn.prototype.clone=Qq,tn.prototype.reverse=eY,tn.prototype.value=tY,Y.prototype.at=RX,Y.prototype.chain=LX,Y.prototype.commit=IX,Y.prototype.next=OX,Y.prototype.plant=kX,Y.prototype.reverse=DX,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=FX,Y.prototype.first=Y.prototype.head,ip&&(Y.prototype[ip]=NX),Y},_d=Iq();Kc?((Kc.exports=_d)._=_d,tw._=_d):Gr._=_d}).call(Wt)})(R5,R5.exports);const dye=window||{},fye=()=>na({luminosity:"light"});function hye(t){return{uuid:()=>t.uuid,path:()=>t.path,projectId:()=>t.projectId,extensionType:()=>"",name:()=>t.path.replace(/(.*\/)/g,"")}}function pye(t){return{id:()=>t.id,name:()=>t.name,url:()=>t.url,description:()=>t.description,backgroundColor:()=>t.backgroundColor,createdAt:()=>t.createdAt,updatedAt:()=>t.updatedAt,hasCoverImage:()=>t.hasCoverImage,location:()=>t.location,isVerified:()=>t.isVerified,hasAvatarImage:()=>t.hasAvatarImage,avatarUrl(e,n=dye.application){return e=e||"small",t.hasAvatarImage&&n.environment()==="development"?`https://s3.amazonaws.com/hyperdev-development/team-avatar/${t.id}/${e}`:t.hasAvatarImage?`https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/team-avatar/${t.id}/${e}`:"https://cdn.glitch.me/55f8497b-3334-43ca-851e-6c9780082244%2Fdefault-team-avatar.svg?1503510366819"},teamPageUrl(){return`/@${t.url}`}}}function mye(t){const e=te(null),n=te(!1),i=te(null),o=te([]),s=te([]);let a=null,l=null,c=null;t.onTransition(f=>{if(f.matches("active")===!1){e(null),n(!1),i(null),o([]),s([]),a=null,l=null,c=null;return}i(f.context.lastCursor||null),a!==f.context.user&&(a=f.context.user,e(a)),n()!==t.state.matches("active.awaitingInvite.active")&&n(t.state.matches("active.awaitingInvite.active")),l!==f.context.recentFiles&&(l=f.context.recentFiles,o(Array.isArray(l)?l.map(h=>hye(h)):[])),c!==f.context.user.teams&&(c=f.context.user.teams,s(Array.isArray(c)?c.map(h=>pye(h)):[]))});const u=(f,h)=>te(()=>{const v=e();return v&&f in v?v[f]:h}),d={get I(){return qe(he({},a),{awaitingInvite:t.state.matches("active.awaitingInvite.active"),recentFiles:l,teams:c})},avatarThumbnailUrl:u("avatarThumbnailUrl",null),avatarUrl:u("avatarUrl",null),githubToken:u("githubToken"),facebookToken:u("facebookToken"),login:u("login",null),name:u("name",null),color:u("color",fye()),createdAt:u("createdAt"),tabId:u("tabId",`${Math.floor(Math.random()*65536)}`),facebookId:u("facebookId"),isSupport:u("isSupport"),description:u("description",""),thanksReceived:u("thanksReceived"),thanksCount:u("thanksCount"),isThankedByCurrentUser:u("isThankedByCurrentUser"),isOnline:u("isOnline",!0),emails:u("emails",[]),id:u("id",-Math.floor(Math.random()*65536)),lastSeen:u("lastSeen",Date.now()),readOnly:u("readOnly",null),hasLikedCurrentProject:u("hasLikedCurrentProject",!1),paidPlan:u("paidPlan"),isFetching:u("isFetching"),gitUser:u("gitUser",null),isGlitchRewind:u("isGlitchRewind",!1),features:u("features",[]),gitAccessToken:u("gitAccessToken",null),persistentToken:u("persistentToken"),recentFiles(){return o()},awaitingInvite(...f){if(f.length===0)return n();const[h]=f;n()!==h&&t.send("TOGGLE_AWAITING_INVITE")},lastCursor(...f){if(f.length===0)return i();const[h]=f;R5.exports.isEqual(i(),h)||t.send({type:"TEXT_SELECTED",data:h})},addRecentFile(f,h){const v={uuid:f.uuid(),path:f.path(),projectId:h};v.path!==".env"&&v.path.startsWith(".data/")===!1&&t.send({type:"FILE_OPENED",data:v})},teams(){return s()},broadcastData({project:f}={}){const h={avatarUrl:d.avatarUrl(),avatarThumbnailUrl:d.avatarThumbnailUrl(),awaitingInvite:d.awaitingInvite(),id:d.id(),name:d.name(),login:d.login(),color:d.color(),lastCursor:d.lastCursor(),readOnly:d.readOnly(),thanksReceived:!1,tabId:d.tabId(),teams:d.teams()};return f&&(h.projectPermission={userId:d.id(),projectId:f.id(),accessLevel:f.accessLevel(d)}),h},primaryEmail(){return d.emails().find(f=>f.verified&&f.primary)},currentDocument(){const f=d.recentFiles().slice(-1)[0];if(f)return f.uuid();const h=d.lastCursor();if(h)return h.documentId},secondaryColor(){return iD(d.color()).darken(.1).rgbString()},loggedIn(){return!!d.login()},isAnon(){return d.login()===null},userAvatarUrl(f){if(f=f||"small",!d.isAnon())return f==="large"?d.avatarUrl():d.avatarThumbnailUrl()},profileUrl(){return d.login()?`/@${d.login()}`:`/user/${d.id()}`},updateThanks(){}};return d}class hD extends Error{}class gye{async execute(){throw new hD}}class vye{constructor({recaptcha:e,container:n,siteKey:i}){this.ready=new Promise((o,s)=>{e.ready(()=>{const a=e.render(n,{sitekey:i,size:"invisible",callback:l=>{e.reset(a),this.callback&&this.callback(l)}});o({recaptcha:e,widgetId:a})})})}async executeImpl(){this.pendingExecute&&await this.pendingExecute;const{recaptcha:e,widgetId:n}=await this.ready;return e.execute(n),await new Promise((o,s)=>{this.callback=a=>{o(a)}})}async execute(){return this.pendingExecute=this.executeImpl(),this.pendingExecute}}const pD=(t,e)=>{if(!e)return t.currentProjectIndex(-1);const n=t.projects().filter(i=>i.id()!==e.id);return t.projects([new yc(e),...n]),t.currentProjectIndex(0)},yye=uI({id:"project",initial:"idle",states:{idle:{},createProject:{entry:["removeProjectOnApplication"],invoke:{src:"createProject",onDone:"connectToProject",onError:"projectCreateFailed"}},loadProjectMetadata:{invoke:{src:"getProjectMetadata",onDone:"loadedProjectMetadata",onError:"projectLoadFailed"}},loadedProjectMetadata:{on:{CONNECT_TO_PROJECT:"connectToProject.connecting"}},connectToProject:{type:"compound",initial:"loadProjectMetadata",states:{loadProjectMetadata:{invoke:{src:"getProjectMetadata",onDone:"connecting",onError:"connectionFailed"}},connecting:{invoke:{src:"connectToProjectOnApplication",onDone:[{cond:"creatingProjectFromGitHubRepo",target:"importGitHub"},{cond:"creatingProjectFromGitRepo",target:"importGitRepo"},{target:"connected"}],onError:"connectionFailed"}},reconnecting:{invoke:{src:"reconnectToProjectOnApplication",onDone:"connected",onError:"connectionFailed"}},importGitHub:{invoke:{src:"importGitHub",onDone:"connected",onError:"connectionFailed"}},importGitRepo:{invoke:{src:"importGitRepo",onDone:"connected",onError:"connectionFailed"}},connected:{entry:["setProjectIsLoadedOnApplication"],exit:["clearProjectIsLoadedOnApplication"],on:{CURRENT_USER_JOINED:{actions:["clearUserPositionIsRestoredOnApplication"],target:"connecting"},CURRENT_USER_LEFT:{actions:["clearUserPositionIsRestoredOnApplication"],target:"connecting"},REWIND_EXITED:"connecting",USER_IDLE:{actions:["disconnectFromProjectOnApplication"],target:"disconnected"},IMPORT_GITHUB:"importGitHub"}},disconnected:{on:{USER_RETURNED:"reconnecting"}},connectionFailed:{entry:["showProjectConnectionFailedNotificationOnApplication"],exit:["hideProjectConnectionFailedNotificationOnApplication"]}}},projectLoadFailed:{entry:["showProjectLoadFailedNotificationOnApplication"],exit:["hideProjectLoadFailedNotificationOnApplication"]},projectCreateFailed:{entry:["showProjectCreateFailureNotification"],exit:["removeProjectCreateFailureNotification"]}},on:{LOAD_PROJECT_METADATA:"loadProjectMetadata",CONNECT_TO_PROJECT:"connectToProject",CREATE_PROJECT:"createProject"}});function _ye(t,e){return{actions:{disconnectFromProjectOnApplication(n,i){t.disconnectFromLogs(),t.disconnectFromOT()},clearUserPositionIsRestoredOnApplication(n,i){t.userPositionIsRestored(!1)},showProjectLoadFailedNotificationOnApplication(n,i){t.notifyProjectLoadFailed(!0),t.loadWelcomeProject()},hideProjectLoadFailedNotificationOnApplication(n,i){t.notifyProjectLoadFailed(!1)},showProjectConnectionFailedNotificationOnApplication(n,i){t.notifyProjectConnectionFailed(!0)},hideProjectConnectionFailedNotificationOnApplication(n,i){t.notifyProjectConnectionFailed(!1)},setProjectIsLoadedOnApplication(n,i){t.updateUrlHashForProject(t.currentProject(),{replace:!0}),t.projectIsLoaded(!0)},clearProjectIsLoadedOnApplication(n,i){t.projectIsLoaded(!1)},removeProjectOnApplication(n,i){pD(t,null)},async showProjectCreateFailureNotification(n,i){const o=i.data,s=await o.response.json();o instanceof hD?t.notifyRecaptchaUnavailable(!0):o instanceof ms.HTTPError&&o.response.status===401?t.notifyGenericError({message:"It is not possible to create the project. The project you are remixing is private."}):o instanceof ms.HTTPError&&o.response.status===422&&s.code==="NEW_ACCOUNT_RESOURCE_CREATION_LIMIT"?t.notifyGenericError({message:"New accounts have a project limit. If you would like to create additional projects, please try again in a couple days."}):o instanceof uD?(t.notifyImportingGitRepo(!1),t.notifyGitRepositoryNotFoundError({gitRepoUrl:o.gitRepoUrl})):t.notifyGenericError({message:"An error occurred when trying to create this project, please try again later."}),window.__CY_APPLICATION_READY__=!0,window.location.href="/edit/#!/"},removeProjectCreateFailureNotification(){t.notifyRecaptchaUnavailable(!1),t.notifyGenericError(!1),t.notifyGitRepositoryNotFoundError(!1)}},guards:{creatingProjectFromGitHubRepo:(n,i)=>i.data.importGitHubRepo,creatingProjectFromGitRepo:(n,i)=>i.data.importGitRepoUrl},services:{connectToProjectOnApplication:(n,i)=>t.connectToProject(t.currentProject()).then(()=>({importGitRepoUrl:i.data.importGitRepoUrl,importGitHubRepo:i.data.importGitHubRepo,env:i.data.env})),createProject:async(n,i)=>{const{baseProjectDomain:o,baseProjectId:s,desiredDomain:a,env:l,importGitHubRepo:c,importGitRepoUrl:u,projectOwner:d}=i.data;c?t.notifyImportingGitRepo({repoUrl:`https://github.com/${c}`}):u&&t.notifyImportingGitRepo({repoUrl:u});const f={domain:a},h=Object.keys(l||{});f.remixReferer=document.referrer;try{d.isAnon()&&(f.recaptcha=await e.execute()),u&&(f.gitRepoUrl=u);let v;s?v=await t.glitchApi().remixProject(s,f):o?v=await t.glitchApi().remixProjectByDomain(o,f):v=await t.glitchApi().remixProjectByDomain($7,f),h.length>0&&await t.glitchApi().v0.projectSetEnv(v.domain,l),v.users==null&&(v.users=[{id:d.id(),projectPermission:{accessLevel:Tt.ADMIN}}]);const m=yc(v);t.analytics.setCurrentProject(m);const _={},E=new URLSearchParams(t.history.location.search).get("url");if(E){const w=new URL(E);_.gitDomain=w.hostname}else window.location.hash.includes("import/github")&&(_.gitDomain="github.com");return t.analytics.track("Project Created",_),t.digitalOceanStatus(null),t.digitalOceanDeploy(null),t.digitalOceanPackageManagerSwitched(!1),t.fastlyStatus(null),t.packageManager("pnpm"),{domain:m.domain(),env:l,importGitHubRepo:c,importGitRepoUrl:u}}catch(v){throw v}},getProjectMetadata:async(n,i)=>{const{domain:o,env:s,importGitHubRepo:a,importGitRepoUrl:l}=i.data;try{const c=await t.glitchApi().v0.getProject(o);if(!c){const u=new URL("/edit/404.html",window.location);return u.searchParams.set("projectDomainOrId",o),window.location=u.href,null}return pD(t,c),{env:s,projectMetadata:c,importGitHubRepo:a,importGitRepoUrl:l}}catch(c){return t.notifyGenericError(!0),qi(c),null}},importGitHub:async(n,i)=>{const{importGitHubRepo:o,path:s}=i.data,a=t.github();try{await a.getRepoContents(o),await t.glitchApi().v0.projectGithubImport(t.currentProject().id(),o,{path:s}),t.analytics.track("GitHub Repository Imported"),t.notifyImportingGitRepo(!1),t.notifyGitImportSuccess(!0)}catch(l){if(t.notifyImportingGitRepo(!1),!(l instanceof ms.HTTPError)){t.notifyGenericError(!0);return}const c=await l.response.json().catch(()=>null);l.response.status===404?c&&c.message==="This repository is empty."?t.notifyGithubEmptyRepositoryError(!0):t.notifyGitRepositoryNotFoundError({gitRepoUrl:`https://github.com/${o}`}):(c&&c.stderr?qi(new Error(c.stderr)):qi(new Error("GitHub import failed")),t.notifyGenericError(!0))}},importGitRepo:async(n,i)=>{t.files([]);const{env:o,importGitRepoUrl:s}=i.data;try{await t.glitchApi().v0.importGitRepoIntoProject(t.currentProjectId(),s),Object.keys(o).length>0&&await t.glitchApi().v0.projectSetEnv(t.currentProjectDomain(),o),t.notifyImportingGitRepo(!1)}catch(a){throw qi(a),t.notifyGenericError("We couldn't import this git repo; please try again later"),a}},reconnectToProjectOnApplication:async(n,i)=>{t.notifyReconnecting(!0),await t.connectToProject(t.currentProject()),t.notifyReconnecting(!1)}}}}function bye(t){let e;return window.grecaptcha?e=new vye({recaptcha:window.grecaptcha,container:document.getElementById("__recaptcha"),siteKey:Joe}):e=new gye,fI(yye.withConfig(_ye(t,e)),{devTools:!0})}function Eye(){const t=Te();return dI(t.projectMachine)}var L5={exports:{}};/*!

 diff v3.5.0

Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
@license
*/(function(t,e){(function(i,o){t.exports=o()})(Wt,function(){return function(n){var i={};function o(s){if(i[s])return i[s].exports;var a=i[s]={exports:{},id:s,loaded:!1};return n[s].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}return o.m=n,o.c=i,o.p="",o(0)}([function(n,i,o){i.__esModule=!0,i.canonicalize=i.convertChangesToXML=i.convertChangesToDMP=i.merge=i.parsePatch=i.applyPatches=i.applyPatch=i.createPatch=i.createTwoFilesPatch=i.structuredPatch=i.diffArrays=i.diffJson=i.diffCss=i.diffSentences=i.diffTrimmedLines=i.diffLines=i.diffWordsWithSpace=i.diffWords=i.diffChars=i.Diff=void 0;var s=o(1),a=C(s),l=o(2),c=o(3),u=o(5),d=o(6),f=o(7),h=o(8),v=o(9),m=o(10),_=o(11),S=o(13),E=o(14),w=o(16),T=o(17);function C(P){return P&&P.__esModule?P:{default:P}}i.Diff=a.default,i.diffChars=l.diffChars,i.diffWords=c.diffWords,i.diffWordsWithSpace=c.diffWordsWithSpace,i.diffLines=u.diffLines,i.diffTrimmedLines=u.diffTrimmedLines,i.diffSentences=d.diffSentences,i.diffCss=f.diffCss,i.diffJson=h.diffJson,i.diffArrays=v.diffArrays,i.structuredPatch=E.structuredPatch,i.createTwoFilesPatch=E.createTwoFilesPatch,i.createPatch=E.createPatch,i.applyPatch=m.applyPatch,i.applyPatches=m.applyPatches,i.parsePatch=_.parsePatch,i.merge=S.merge,i.convertChangesToDMP=w.convertChangesToDMP,i.convertChangesToXML=T.convertChangesToXML,i.canonicalize=h.canonicalize},function(n,i){i.__esModule=!0,i.default=o;function o(){}o.prototype={diff:function(c,u){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=d.callback;typeof d=="function"&&(f=d,d={}),this.options=d;var h=this;function v(R){return f?(setTimeout(function(){f(void 0,R)},0),!0):R}c=this.castInput(c),u=this.castInput(u),c=this.removeEmpty(this.tokenize(c)),u=this.removeEmpty(this.tokenize(u));var m=u.length,_=c.length,S=1,E=m+_,w=[{newPos:-1,components:[]}],T=this.extractCommon(w[0],u,c,0);if(w[0].newPos+1>=m&&T+1>=_)return v([{value:this.join(u),count:u.length}]);function C(){for(var R=-1*S;R<=S;R+=2){var A=void 0,L=w[R-1],k=w[R+1],U=(k?k.newPos:0)-R;L&&(w[R-1]=void 0);var N=L&&L.newPos+1<m,I=k&&0<=U&&U<_;if(!N&&!I){w[R]=void 0;continue}if(!N||I&&L.newPos<k.newPos?(A=a(k),h.pushComponent(A.components,void 0,!0)):(A=L,A.newPos++,h.pushComponent(A.components,!0,void 0)),U=h.extractCommon(A,u,c,R),A.newPos+1>=m&&U+1>=_)return v(s(h,A.components,u,c,h.useLongestToken));w[R]=A}S++}if(f)(function R(){setTimeout(function(){if(S>E)return f();C()||R()},0)})();else for(;S<=E;){var P=C();if(P)return P}},pushComponent:function(c,u,d){var f=c[c.length-1];f&&f.added===u&&f.removed===d?c[c.length-1]={count:f.count+1,added:u,removed:d}:c.push({count:1,added:u,removed:d})},extractCommon:function(c,u,d,f){for(var h=u.length,v=d.length,m=c.newPos,_=m-f,S=0;m+1<h&&_+1<v&&this.equals(u[m+1],d[_+1]);)m++,_++,S++;return S&&c.components.push({count:S}),c.newPos=m,_},equals:function(c,u){return this.options.comparator?this.options.comparator(c,u):c===u||this.options.ignoreCase&&c.toLowerCase()===u.toLowerCase()},removeEmpty:function(c){for(var u=[],d=0;d<c.length;d++)c[d]&&u.push(c[d]);return u},castInput:function(c){return c},tokenize:function(c){return c.split("")},join:function(c){return c.join("")}};function s(l,c,u,d,f){for(var h=0,v=c.length,m=0,_=0;h<v;h++){var S=c[h];if(S.removed){if(S.value=l.join(d.slice(_,_+S.count)),_+=S.count,h&&c[h-1].added){var w=c[h-1];c[h-1]=c[h],c[h]=w}}else{if(!S.added&&f){var E=u.slice(m,m+S.count);E=E.map(function(C,P){var R=d[_+P];return R.length>C.length?R:C}),S.value=l.join(E)}else S.value=l.join(u.slice(m,m+S.count));m+=S.count,S.added||(_+=S.count)}}var T=c[v-1];return v>1&&typeof T.value=="string"&&(T.added||T.removed)&&l.equals("",T.value)&&(c[v-2].value+=T.value,c.pop()),c}function a(l){return{newPos:l.newPos,components:l.components.slice(0)}}},function(n,i,o){i.__esModule=!0,i.characterDiff=void 0,i.diffChars=u;var s=o(1),a=l(s);function l(d){return d&&d.__esModule?d:{default:d}}var c=i.characterDiff=new a.default;function u(d,f,h){return c.diff(d,f,h)}},function(n,i,o){i.__esModule=!0,i.wordDiff=void 0,i.diffWords=h,i.diffWordsWithSpace=v;var s=o(1),a=c(s),l=o(4);function c(m){return m&&m.__esModule?m:{default:m}}var u=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,d=/\S/,f=i.wordDiff=new a.default;f.equals=function(m,_){return this.options.ignoreCase&&(m=m.toLowerCase(),_=_.toLowerCase()),m===_||this.options.ignoreWhitespace&&!d.test(m)&&!d.test(_)},f.tokenize=function(m){for(var _=m.split(/(\s+|\b)/),S=0;S<_.length-1;S++)!_[S+1]&&_[S+2]&&u.test(_[S])&&u.test(_[S+2])&&(_[S]+=_[S+2],_.splice(S+1,2),S--);return _};function h(m,_,S){return S=(0,l.generateOptions)(S,{ignoreWhitespace:!0}),f.diff(m,_,S)}function v(m,_,S){return f.diff(m,_,S)}},function(n,i){i.__esModule=!0,i.generateOptions=o;function o(s,a){if(typeof s=="function")a.callback=s;else if(s)for(var l in s)s.hasOwnProperty(l)&&(a[l]=s[l]);return a}},function(n,i,o){i.__esModule=!0,i.lineDiff=void 0,i.diffLines=d,i.diffTrimmedLines=f;var s=o(1),a=c(s),l=o(4);function c(h){return h&&h.__esModule?h:{default:h}}var u=i.lineDiff=new a.default;u.tokenize=function(h){var v=[],m=h.split(/(\n|\r\n)/);m[m.length-1]||m.pop();for(var _=0;_<m.length;_++){var S=m[_];_%2&&!this.options.newlineIsToken?v[v.length-1]+=S:(this.options.ignoreWhitespace&&(S=S.trim()),v.push(S))}return v};function d(h,v,m){return u.diff(h,v,m)}function f(h,v,m){var _=(0,l.generateOptions)(m,{ignoreWhitespace:!0});return u.diff(h,v,_)}},function(n,i,o){i.__esModule=!0,i.sentenceDiff=void 0,i.diffSentences=u;var s=o(1),a=l(s);function l(d){return d&&d.__esModule?d:{default:d}}var c=i.sentenceDiff=new a.default;c.tokenize=function(d){return d.split(/(\S.+?[.!?])(?=\s+|$)/)};function u(d,f,h){return c.diff(d,f,h)}},function(n,i,o){i.__esModule=!0,i.cssDiff=void 0,i.diffCss=u;var s=o(1),a=l(s);function l(d){return d&&d.__esModule?d:{default:d}}var c=i.cssDiff=new a.default;c.tokenize=function(d){return d.split(/([{}:;,]|\s+)/)};function u(d,f,h){return c.diff(d,f,h)}},function(n,i,o){i.__esModule=!0,i.jsonDiff=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};i.diffJson=h,i.canonicalize=v;var a=o(1),l=u(a),c=o(5);function u(m){return m&&m.__esModule?m:{default:m}}var d=Object.prototype.toString,f=i.jsonDiff=new l.default;f.useLongestToken=!0,f.tokenize=c.lineDiff.tokenize,f.castInput=function(m){var _=this.options,S=_.undefinedReplacement,E=_.stringifyReplacer,w=E===void 0?function(T,C){return typeof C=="undefined"?S:C}:E;return typeof m=="string"?m:JSON.stringify(v(m,null,null,w),w,"  ")},f.equals=function(m,_){return l.default.prototype.equals.call(f,m.replace(/,([\r\n])/g,"$1"),_.replace(/,([\r\n])/g,"$1"))};function h(m,_,S){return f.diff(m,_,S)}function v(m,_,S,E,w){_=_||[],S=S||[],E&&(m=E(w,m));var T=void 0;for(T=0;T<_.length;T+=1)if(_[T]===m)return S[T];var C=void 0;if(d.call(m)==="[object Array]"){for(_.push(m),C=new Array(m.length),S.push(C),T=0;T<m.length;T+=1)C[T]=v(m[T],_,S,E,w);return _.pop(),S.pop(),C}if(m&&m.toJSON&&(m=m.toJSON()),(typeof m=="undefined"?"undefined":s(m))==="object"&&m!==null){_.push(m),C={},S.push(C);var P=[],R=void 0;for(R in m)m.hasOwnProperty(R)&&P.push(R);for(P.sort(),T=0;T<P.length;T+=1)R=P[T],C[R]=v(m[R],_,S,E,R);_.pop(),S.pop()}else C=m;return C}},function(n,i,o){i.__esModule=!0,i.arrayDiff=void 0,i.diffArrays=u;var s=o(1),a=l(s);function l(d){return d&&d.__esModule?d:{default:d}}var c=i.arrayDiff=new a.default;c.tokenize=function(d){return d.slice()},c.join=c.removeEmpty=function(d){return d};function u(d,f,h){return c.diff(d,f,h)}},function(n,i,o){i.__esModule=!0,i.applyPatch=u,i.applyPatches=d;var s=o(11),a=o(12),l=c(a);function c(f){return f&&f.__esModule?f:{default:f}}function u(f,h){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof h=="string"&&(h=(0,s.parsePatch)(h)),Array.isArray(h)){if(h.length>1)throw new Error("applyPatch only works with a single input.");h=h[0]}var m=f.split(/\r\n|[\n\v\f\r\x85]/),_=f.match(/\r\n|[\n\v\f\r\x85]/g)||[],S=h.hunks,E=v.compareLine||function(pe,ae,le,ce){return ae===ce},w=0,T=v.fuzzFactor||0,C=0,P=0,R=void 0,A=void 0;function L(pe,ae){for(var le=0;le<pe.lines.length;le++){var ce=pe.lines[le],me=ce.length>0?ce[0]:" ",Ie=ce.length>0?ce.substr(1):ce;if(me===" "||me==="-"){if(!E(ae+1,m[ae],me,Ie)&&(w++,w>T))return!1;ae++}}return!0}for(var k=0;k<S.length;k++){for(var U=S[k],N=m.length-U.oldLines,I=0,F=P+U.oldStart-1,O=(0,l.default)(F,C,N);I!==void 0;I=O())if(L(U,F+I)){U.offset=P+=I;break}if(I===void 0)return!1;C=U.offset+U.oldStart+U.oldLines}for(var V=0,z=0;z<S.length;z++){var B=S[z],H=B.oldStart+B.offset+V-1;V+=B.newLines-B.oldLines,H<0&&(H=0);for(var W=0;W<B.lines.length;W++){var G=B.lines[W],q=G.length>0?G[0]:" ",re=G.length>0?G.substr(1):G,se=B.linedelimiters[W];if(q===" ")H++;else if(q==="-")m.splice(H,1),_.splice(H,1);else if(q==="+")m.splice(H,0,re),_.splice(H,0,se),H++;else if(q==="\\"){var ge=B.lines[W-1]?B.lines[W-1][0]:null;ge==="+"?R=!0:ge==="-"&&(A=!0)}}}if(R)for(;!m[m.length-1];)m.pop(),_.pop();else A&&(m.push(""),_.push(`
`));for(var _e=0;_e<m.length-1;_e++)m[_e]=m[_e]+_[_e];return m.join("")}function d(f,h){typeof f=="string"&&(f=(0,s.parsePatch)(f));var v=0;function m(){var _=f[v++];if(!_)return h.complete();h.loadFile(_,function(S,E){if(S)return h.complete(S);var w=u(E,_,h);h.patched(_,w,function(T){if(T)return h.complete(T);m()})})}m()}},function(n,i){i.__esModule=!0,i.parsePatch=o;function o(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.split(/\r\n|[\n\v\f\r\x85]/),c=s.match(/\r\n|[\n\v\f\r\x85]/g)||[],u=[],d=0;function f(){var m={};for(u.push(m);d<l.length;){var _=l[d];if(/^(\-\-\-|\+\+\+|@@)\s/.test(_))break;var S=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(_);S&&(m.index=S[1]),d++}for(h(m),h(m),m.hunks=[];d<l.length;){var E=l[d];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(E))break;if(/^@@/.test(E))m.hunks.push(v());else{if(E&&a.strict)throw new Error("Unknown line "+(d+1)+" "+JSON.stringify(E));d++}}}function h(m){var _=/^(---|\+\+\+)\s+(.*)$/.exec(l[d]);if(_){var S=_[1]==="---"?"old":"new",E=_[2].split("	",2),w=E[0].replace(/\\\\/g,"\\");/^".*"$/.test(w)&&(w=w.substr(1,w.length-2)),m[S+"FileName"]=w,m[S+"Header"]=(E[1]||"").trim(),d++}}function v(){for(var m=d,_=l[d++],S=_.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),E={oldStart:+S[1],oldLines:+S[2]||1,newStart:+S[3],newLines:+S[4]||1,lines:[],linedelimiters:[]},w=0,T=0;d<l.length&&!(l[d].indexOf("--- ")===0&&d+2<l.length&&l[d+1].indexOf("+++ ")===0&&l[d+2].indexOf("@@")===0);d++){var C=l[d].length==0&&d!=l.length-1?" ":l[d][0];if(C==="+"||C==="-"||C===" "||C==="\\")E.lines.push(l[d]),E.linedelimiters.push(c[d]||`
`),C==="+"?w++:C==="-"?T++:C===" "&&(w++,T++);else break}if(!w&&E.newLines===1&&(E.newLines=0),!T&&E.oldLines===1&&(E.oldLines=0),a.strict){if(w!==E.newLines)throw new Error("Added line count did not match for hunk at line "+(m+1));if(T!==E.oldLines)throw new Error("Removed line count did not match for hunk at line "+(m+1))}return E}for(;d<l.length;)f();return u}},function(n,i){i.__esModule=!0,i.default=function(o,s,a){var l=!0,c=!1,u=!1,d=1;return function f(){if(l&&!u){if(c?d++:l=!1,o+d<=a)return d;u=!0}if(!c)return u||(l=!0),s<=o-d?-d++:(c=!0,f())}}},function(n,i,o){i.__esModule=!0,i.calcLineCount=u,i.merge=d;var s=o(14),a=o(11),l=o(15);function c(N){if(Array.isArray(N)){for(var I=0,F=Array(N.length);I<N.length;I++)F[I]=N[I];return F}else return Array.from(N)}function u(N){var I=U(N.lines),F=I.oldLines,O=I.newLines;F!==void 0?N.oldLines=F:delete N.oldLines,O!==void 0?N.newLines=O:delete N.newLines}function d(N,I,F){N=f(N,F),I=f(I,F);var O={};(N.index||I.index)&&(O.index=N.index||I.index),(N.newFileName||I.newFileName)&&(h(N)?h(I)?(O.oldFileName=v(O,N.oldFileName,I.oldFileName),O.newFileName=v(O,N.newFileName,I.newFileName),O.oldHeader=v(O,N.oldHeader,I.oldHeader),O.newHeader=v(O,N.newHeader,I.newHeader)):(O.oldFileName=N.oldFileName,O.newFileName=N.newFileName,O.oldHeader=N.oldHeader,O.newHeader=N.newHeader):(O.oldFileName=I.oldFileName||N.oldFileName,O.newFileName=I.newFileName||N.newFileName,O.oldHeader=I.oldHeader||N.oldHeader,O.newHeader=I.newHeader||N.newHeader)),O.hunks=[];for(var V=0,z=0,B=0,H=0;V<N.hunks.length||z<I.hunks.length;){var W=N.hunks[V]||{oldStart:1/0},G=I.hunks[z]||{oldStart:1/0};if(m(W,G))O.hunks.push(_(W,B)),V++,H+=W.newLines-W.oldLines;else if(m(G,W))O.hunks.push(_(G,H)),z++,B+=G.newLines-G.oldLines;else{var q={oldStart:Math.min(W.oldStart,G.oldStart),oldLines:0,newStart:Math.min(W.newStart+B,G.oldStart+H),newLines:0,lines:[]};S(q,W.oldStart,W.lines,G.oldStart,G.lines),z++,V++,O.hunks.push(q)}}return O}function f(N,I){if(typeof N=="string"){if(/^@@/m.test(N)||/^Index:/m.test(N))return(0,a.parsePatch)(N)[0];if(!I)throw new Error("Must provide a base reference or pass in a patch");return(0,s.structuredPatch)(void 0,void 0,I,N)}return N}function h(N){return N.newFileName&&N.newFileName!==N.oldFileName}function v(N,I,F){return I===F?I:(N.conflict=!0,{mine:I,theirs:F})}function m(N,I){return N.oldStart<I.oldStart&&N.oldStart+N.oldLines<I.oldStart}function _(N,I){return{oldStart:N.oldStart,oldLines:N.oldLines,newStart:N.newStart+I,newLines:N.newLines,lines:N.lines}}function S(N,I,F,O,V){var z={offset:I,lines:F,index:0},B={offset:O,lines:V,index:0};for(C(N,z,B),C(N,B,z);z.index<z.lines.length&&B.index<B.lines.length;){var H=z.lines[z.index],W=B.lines[B.index];if((H[0]==="-"||H[0]==="+")&&(W[0]==="-"||W[0]==="+"))E(N,z,B);else if(H[0]==="+"&&W[0]===" "){var G;(G=N.lines).push.apply(G,c(R(z)))}else if(W[0]==="+"&&H[0]===" "){var q;(q=N.lines).push.apply(q,c(R(B)))}else H[0]==="-"&&W[0]===" "?w(N,z,B):W[0]==="-"&&H[0]===" "?w(N,B,z,!0):H===W?(N.lines.push(H),z.index++,B.index++):T(N,R(z),R(B))}P(N,z),P(N,B),u(N)}function E(N,I,F){var O=R(I),V=R(F);if(L(O)&&L(V)){if((0,l.arrayStartsWith)(O,V)&&k(F,O,O.length-V.length)){var z;(z=N.lines).push.apply(z,c(O));return}else if((0,l.arrayStartsWith)(V,O)&&k(I,V,V.length-O.length)){var B;(B=N.lines).push.apply(B,c(V));return}}else if((0,l.arrayEqual)(O,V)){var H;(H=N.lines).push.apply(H,c(O));return}T(N,O,V)}function w(N,I,F,O){var V=R(I),z=A(F,V);if(z.merged){var B;(B=N.lines).push.apply(B,c(z.merged))}else T(N,O?z:V,O?V:z)}function T(N,I,F){N.conflict=!0,N.lines.push({conflict:!0,mine:I,theirs:F})}function C(N,I,F){for(;I.offset<F.offset&&I.index<I.lines.length;){var O=I.lines[I.index++];N.lines.push(O),I.offset++}}function P(N,I){for(;I.index<I.lines.length;){var F=I.lines[I.index++];N.lines.push(F)}}function R(N){for(var I=[],F=N.lines[N.index][0];N.index<N.lines.length;){var O=N.lines[N.index];if(F==="-"&&O[0]==="+"&&(F="+"),F===O[0])I.push(O),N.index++;else break}return I}function A(N,I){for(var F=[],O=[],V=0,z=!1,B=!1;V<I.length&&N.index<N.lines.length;){var H=N.lines[N.index],W=I[V];if(W[0]==="+")break;if(z=z||H[0]!==" ",O.push(W),V++,H[0]==="+")for(B=!0;H[0]==="+";)F.push(H),H=N.lines[++N.index];W.substr(1)===H.substr(1)?(F.push(H),N.index++):B=!0}if((I[V]||"")[0]==="+"&&z&&(B=!0),B)return F;for(;V<I.length;)O.push(I[V++]);return{merged:O,changes:F}}function L(N){return N.reduce(function(I,F){return I&&F[0]==="-"},!0)}function k(N,I,F){for(var O=0;O<F;O++){var V=I[I.length-F+O].substr(1);if(N.lines[N.index+O]!==" "+V)return!1}return N.index+=F,!0}function U(N){var I=0,F=0;return N.forEach(function(O){if(typeof O!="string"){var V=U(O.mine),z=U(O.theirs);I!==void 0&&(V.oldLines===z.oldLines?I+=V.oldLines:I=void 0),F!==void 0&&(V.newLines===z.newLines?F+=V.newLines:F=void 0)}else F!==void 0&&(O[0]==="+"||O[0]===" ")&&F++,I!==void 0&&(O[0]==="-"||O[0]===" ")&&I++}),{oldLines:I,newLines:F}}},function(n,i,o){i.__esModule=!0,i.structuredPatch=l,i.createTwoFilesPatch=c,i.createPatch=u;var s=o(5);function a(d){if(Array.isArray(d)){for(var f=0,h=Array(d.length);f<d.length;f++)h[f]=d[f];return h}else return Array.from(d)}function l(d,f,h,v,m,_,S){S||(S={}),typeof S.context=="undefined"&&(S.context=4);var E=(0,s.diffLines)(h,v,S);E.push({value:"",lines:[]});function w(N){return N.map(function(I){return" "+I})}for(var T=[],C=0,P=0,R=[],A=1,L=1,k=function(I){var F=E[I],O=F.lines||F.value.replace(/\n$/,"").split(`
`);if(F.lines=O,F.added||F.removed){var V;if(!C){var z=E[I-1];C=A,P=L,z&&(R=S.context>0?w(z.lines.slice(-S.context)):[],C-=R.length,P-=R.length)}(V=R).push.apply(V,a(O.map(function(se){return(F.added?"+":"-")+se}))),F.added?L+=O.length:A+=O.length}else{if(C)if(O.length<=S.context*2&&I<E.length-2){var B;(B=R).push.apply(B,a(w(O)))}else{var H,W=Math.min(O.length,S.context);(H=R).push.apply(H,a(w(O.slice(0,W))));var G={oldStart:C,oldLines:A-C+W,newStart:P,newLines:L-P+W,lines:R};if(I>=E.length-2&&O.length<=S.context){var q=/\n$/.test(h),re=/\n$/.test(v);O.length==0&&!q?R.splice(G.oldLines,0,"\\ No newline at end of file"):(!q||!re)&&R.push("\\ No newline at end of file")}T.push(G),C=0,P=0,R=[]}A+=O.length,L+=O.length}},U=0;U<E.length;U++)k(U);return{oldFileName:d,newFileName:f,oldHeader:m,newHeader:_,hunks:T}}function c(d,f,h,v,m,_,S){var E=l(d,f,h,v,m,_,S),w=[];d==f&&w.push("Index: "+d),w.push("==================================================================="),w.push("--- "+E.oldFileName+(typeof E.oldHeader=="undefined"?"":"	"+E.oldHeader)),w.push("+++ "+E.newFileName+(typeof E.newHeader=="undefined"?"":"	"+E.newHeader));for(var T=0;T<E.hunks.length;T++){var C=E.hunks[T];w.push("@@ -"+C.oldStart+","+C.oldLines+" +"+C.newStart+","+C.newLines+" @@"),w.push.apply(w,C.lines)}return w.join(`
`)+`
`}function u(d,f,h,v,m,_){return c(d,d,f,h,v,m,_)}},function(n,i){i.__esModule=!0,i.arrayEqual=o,i.arrayStartsWith=s;function o(a,l){return a.length!==l.length?!1:s(a,l)}function s(a,l){if(l.length>a.length)return!1;for(var c=0;c<l.length;c++)if(l[c]!==a[c])return!1;return!0}},function(n,i){i.__esModule=!0,i.convertChangesToDMP=o;function o(s){for(var a=[],l=void 0,c=void 0,u=0;u<s.length;u++)l=s[u],l.added?c=1:l.removed?c=-1:c=0,a.push([c,l.value]);return a}},function(n,i){i.__esModule=!0,i.convertChangesToXML=o;function o(a){for(var l=[],c=0;c<a.length;c++){var u=a[c];u.added?l.push("<ins>"):u.removed&&l.push("<del>"),l.push(s(u.value)),u.added?l.push("</ins>"):u.removed&&l.push("</del>")}return l.join("")}function s(a){var l=a;return l=l.replace(/&/g,"&amp;"),l=l.replace(/</g,"&lt;"),l=l.replace(/>/g,"&gt;"),l=l.replace(/"/g,"&quot;"),l}}])})})(L5);var wye="__lodash_hash_undefined__";function xye(t){return this.__data__.set(t,wye),this}var Sye=xye;function Tye(t){return this.__data__.has(t)}var Cye=Tye,Mye=aT,Aye=Sye,Pye=Cye;function v_(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Mye;++e<n;)this.add(t[e])}v_.prototype.add=v_.prototype.push=Aye;v_.prototype.has=Pye;var mD=v_;function Rye(t,e,n,i){for(var o=t.length,s=n+(i?1:-1);i?s--:++s<o;)if(e(t[s],s,t))return s;return-1}var Lye=Rye;function Iye(t){return t!==t}var Oye=Iye;function Nye(t,e,n){for(var i=n-1,o=t.length;++i<o;)if(t[i]===e)return i;return-1}var kye=Nye,Dye=Lye,Fye=Oye,Uye=kye;function jye(t,e,n){return e===e?Uye(t,e,n):Dye(t,Fye,n)}var Bye=jye,Vye=Bye;function Hye(t,e){var n=t==null?0:t.length;return!!n&&Vye(t,e,0)>-1}var zye=Hye;function Gye(t,e,n){for(var i=-1,o=t==null?0:t.length;++i<o;)if(n(e,t[i]))return!0;return!1}var $ye=Gye;function Wye(t,e){return t.has(e)}var gD=Wye,qye=Pu,Yye=Yo,Kye=qye(Yye,"Set"),vD=Kye;function Xye(){}var Jye=Xye;function Zye(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var I5=Zye,O5=vD,Qye=Jye,e_e=I5,t_e=1/0,n_e=O5&&1/e_e(new O5([,-0]))[1]==t_e?function(t){return new O5(t)}:Qye,r_e=n_e,i_e=mD,s_e=zye,o_e=$ye,a_e=gD,l_e=r_e,c_e=I5,u_e=200;function d_e(t,e,n){var i=-1,o=s_e,s=t.length,a=!0,l=[],c=l;if(n)a=!1,o=o_e;else if(s>=u_e){var u=e?null:l_e(t);if(u)return c_e(u);a=!1,o=a_e,c=new i_e}else c=e?[]:l;e:for(;++i<s;){var d=t[i],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),l.push(d)}else o(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var yD=d_e,f_e=yD;function h_e(t){return t&&t.length?f_e(t):[]}var _D=h_e;function p_e(t,e){async function n(){try{for(;i.pending!==null;){const o=i.pending;i.pending=null,await t(...o)}}finally{i.idle=!0}}const i=Object.assign((...o)=>{i.idle?(i.pending=o,i.idle=!1,n().catch(e)):i.pending=o},{idle:!0,pending:null});return i}async function N5(t,e){const n=t.fileByPath(e);if(n!=null?n.deletedByRewind():void 0)n.deletedByRewind(!1);else{const i=qs({path:e,addedByRewind:!0});t.filetree().files.push(i)}}async function k5(t,e){const n=t.fileByPath(e);if(n!=null?n.addedByRewind():void 0)t.deleteFile(n,{silent:!0});else{const i=t.fileByPath(e);i&&i.deletedByRewind(!0)}}async function fg(t,e,n){let i=t.otsByPath();i[e]==null&&(i[e]=[]),i[e].push(n)}async function m_e(t,e,n){const i=t.fileByPath(e);i&&(i.modifiedByRewind(!0),i.rewindPatches(n),t.patchesByPath()[e]=n)}async function bD(t,e,n){return e.patchesAndOTs||(e.patchesAndOTs=Promise.all([T_e(t,e,n),C_e()])),e.patchesAndOTs}async function g_e(t){return t.hunks&&t.hunks.length>0&&t.oldFileName&&t.newFileName}function v_e(t){return t.receivedMasterStateDuringRewind()||t.otClient().opListsReceivedDuringRewind().length>0}function y_e(t){return _D(t.map(JSON.stringify)).map(JSON.parse)}function __e(t){const e=[];return t.forEach(n=>{if(n.editsByUser.length)n.editsByUser.forEach(i=>{const o={id:i.user};e.push(o)});else if(n.gitEdits.files.length){const i={gitUser:n.gitUser,isGlitchRewind:n.commitMessage.includes("Rewound to commit")};e.push(i)}}),y_e(e)}async function b_e(t,e){try{let n=await t.glitchApi().v0.getUser(e.id);return Ys(n)}catch(n){if(n.response.status===404)return console.log("\u{1F47B} ghost rewind user",e.id),Ys(e);throw n}}async function E_e(t,e){let n=__e(e);const i=await Promise.all(n.map(o=>{const s=t.currentProject().projectUser(o.id);return s!==void 0?(s.isOnline=!0,Ys(s)):o.gitUser?Ys(o):b_e(t,{id:o.id,isOnline:!0,color:na({luminosity:"light"})})}));t.rewindUsers(i)}function w_e(t){let e=null;for(let n=0;n<t.length;n+=1){let i=t[n].editsByUser;for(let o=0;o<i.length;o+=1){let s=i[o].files;if(s)for(let a=0;a<s.length;a+=1)e===null?e=s[a].changeSize:e=Math.max(e,s[a].changeSize)}}return e}async function ED(t){const e=t.selectedFile();e&&(t.fileByPath(e.path())?(await t.ensureSession(e),t.setCurrentSession(e,{maintainScrollPosition:!0})):t.selectDefaultFile()),(!e||e.path()===vc)&&await t.showAssets()}async function x_e(t,e,n,i){let o=e===t.rewindRevisions().length?t.firstRevision:t.rewindRevisions()[e];t.displayedRevision(e===0?null:t.rewindRevisions()[e-1]),t.loadingRevision(!0),t.selectedRevision(o),n||t.playheadIndex(e),t.selectedFile()&&await t.selectedFile().diffSession;let[[s,a],l]=await bD(t,o,!1);t.filesWithDiffTooBig(a),console.log("\u25B6\uFE0F ",e,o,s),wD(t),s.forEach(h=>{if(h.oldFileName==="/dev/null"){const v=h.newFileName.substring(2);N5(t,v),t.patchesByPath()[v]=h}else if(h.newFileName==="/dev/null"){const v=h.oldFileName.substring(2);k5(t,v),t.patchesByPath()[v]=h}else{const v=h.oldFileName.substring(2);m_e(t,v,h)}});let c=0;for(;c<i;){const h=l.ots[c];switch(h.index=c,h.type){case"add":var u=h.path.substring(2);N5(t,u),fg(t,u,h);break;case"unlink":var d=h.oldPath.substring(2);k5(t,d),fg(t,d,h);break;case"rename":d=h.oldPath.substring(2),k5(t,d),fg(t,d,h);var f=h.newPath.substring(2);N5(t,f),fg(t,f,h);break;case"insert":case"remove":u=h.path.substring(2),fg(t,u,h);break}c+=1}t.loadingRevision(!1),await ED(t)}async function S_e(t){try{let e=await t.glitchApi().v0.getProjectGitCommits(t.currentProjectId());e.forEach((n,i)=>{i>0&&(n.nextHash=e[i-1].hash),n.editsByUser.forEach(o=>{for(let s in o.files){const a=o.files[s];a.path.startsWith("./")&&(a.path=a.path.substring(2)),t.pathIgnored(a.path)&&delete o.files[s]}}),n.gitEdits.files=n.gitEdits.files.filter(o=>!t.pathIgnored(o.path))}),e=e.filter(n=>n.hash==="Glitch-commit-end"?!1:n.editsByUser.length>0||n.gitEdits.files.length>0),e.forEach((n,i)=>{n.index=i}),t.firstRevision=e.pop(),t.rewindRevisions(e)}catch(e){throw t.notifyGenericError(!0),e}finally{t.gettingRewinds(!1)}}function wD(t){const e=[];t.files().forEach(n=>{n.diffSession=null,n.addedByRewind()&&e.push(n),n.modifiedByRewind(!1),n.rewindPatches(void 0),n.deletedByRewind(!1)}),e.forEach(n=>{t.filetree().files.remove(n)}),t.patchesByPath({}),t.otsByPath({})}async function T_e(t,e,n){const i=await t.glitchApi().v0.getProjectGitDiff(t.currentProjectId(),e.hash);let o,s;return typeof i=="string"?(o=i,s=""):[o,s]=Array.from(i),o===""?[[],[]]:(s?s=s.split(`
`):s=[],n&&(t.prefetchedDiffsTotal+=o.length),[L5.exports.parsePatch(o).filter(g_e),s])}function C_e(t,e){return Promise.resolve()}async function xD(t){if(!t.editorIsPreviewingRewind()||t.prefetchedDiffsTotal>=t.PREFETCH_LIMIT)return;const e=t.rewindRevisions();for(;t.prefetchIndex<e.length&&e[t.prefetchIndex].patchesAndOTs;)t.prefetchIndex+=1;t.prefetchIndex<e.length&&(await bD(t,e[t.prefetchIndex],!0),setTimeout(()=>xD(t),50))}function M_e(t,e){const n=p_e(x_e,o=>{e.notifyGenericError(!0)}),i=Object.assign(e,{rewindPanelVisible:te(!1),editorIsPreviewingRewind:te(!1),editorIsRewindingProject:te(!1),gettingRewinds:te(!1),receivedMasterStateDuringRewind:te(!1),rewindRevisions:te(null),firstRevision:null,selectedRevision:te(null),displayedRevision:te(null),rewindUsers:te(null),rewindLargestChangeSize:te(0),loadingRevision:te(!1),rewoundRevision:te(null),patchesByPath:te({}),otsByPath:te({}),PREFETCH_LIMIT:1e6,prefetchedDiffsTotal:0,prefetchIndex:0,filesWithDiffTooBig:te([]),playheadIndex:te(0),async initRewind(){i.editorIsPreviewingRewind(!0),i.editor().setOption("readOnly",!0),i.editor().setOption("styleActiveLine",!1),i.gettingRewinds(!0),i.otClient().awaitAck()&&await i.otClient().awaitAck(),await i.glitchApi().v0.projectGitCommitChanges(i.currentProjectId()),await S_e(i),console.log("\u23EA",i.rewindRevisions()),await E_e(i,i.rewindRevisions()),await xD(i),i.rewindLargestChangeSize(w_e(i.rewindRevisions())),i.updateEditorModeForFile(i.selectedFile()),i.markdownPreviewVisible(!1)},selectRevision(o,s=!1){n(i,o,s,void 0)},async rewindToRevision(o,s){try{i.editorIsPreviewingRewind(!1),i.editorIsRewindingProject(!0),i.rewoundRevision(i.displayedRevision()),await o.patchesAndOTs,await i.glitchApi().v0.projectGitRevert(i.currentProjectId(),o.hash),i.notifyEditorRewoundProject(!0)}catch(a){if(a instanceof ms.HTTPError){const l=await a.response.json().catch(()=>null);l!=null&&l.code&&window.alert(`Error rewinding: ${JSON.stringify(l)}`)}throw i.rewindPanelVisible(!1),i.editorIsRewindingProject(!1),a}i.rewindPanelVisible(!1),i.editorIsRewindingProject(!1)},async cleanupRewinds(){wD(i),i.rewindRevisions(null),i.rewindUsers(null),i.rewindLargestChangeSize(0),i.filesWithDiffTooBig([]),i.selectedRevision(null),i.displayedRevision(null),i.editorIsPreviewingRewind(!1),i.editor().setOption("readOnly",!1),i.editor().setOption("styleActiveLine",!i.isIOS),i.updateEditorModeForFile(i.selectedFile()),await ED(i),v_e(i)&&i.projectMachine.send({type:"REWIND_EXITED"})}});return i}const SD=t=>{const{policy:e,signature:n,accessKeyId:i}=t,{acl:o,bucket:s,namespace:a}=P_e(e),l=`https://s3.amazonaws.com/${s}`,c=function(u){const d=`${a}${u}`;return`${l}/${d}`};return{urlFor:c,upload({key:u,blob:d,cacheControl:f,contentType:h},v){const m=`${a}${u}`;return c(u),L_e(l,I_e({key:m,"Content-Type":h||d.type||"binary/octet-stream","Cache-Control":`max-age=${f||31536e3}`,AWSAccessKeyId:i,"x-amz-security-token":t.sessionToken,acl:o,policy:e,signature:n,file:d}),v).then(()=>`${l}/${a}${encodeURIComponent(u)}`)}}},TD=function(t,e){return t.filter(i=>typeof i=="object").map(i=>i[e]).filter(i=>i)[0]},A_e=t=>t.filter(function(...e){const[n,i,o]=Array.from(e[0]);return i==="$key"&&(n==="starts-with"||n==="eq")})[0][2];var P_e=function(t){const e=JSON.parse(atob(t)),{conditions:n}=e;return{acl:TD(n,"acl"),bucket:TD(n,"bucket"),namespace:A_e(n)}};const R_e=t=>t.status.toString()[0]==="2";var L_e=(t,e,n)=>new Promise(function(i,o){const s=new XMLHttpRequest;return s.open("POST",t,!0),s.upload!=null&&(s.upload.onprogress=n),s.onreadystatechange=function(a){if(s.readyState===4)return R_e(s)?i(s):o(s)},s.send(e)}),I_e=function(t){let e;return e=Object.keys(t).reduce(function(n,i){const o=t[i];return o&&n.append(i,o),n},new FormData)};const O_e=function(t,e){const n=function(o){const s=o.getValue().split(`
`).map(function(a){try{return JSON.parse(a)}catch{}}).filter(a=>a!=null);return e.assets(e.parseAssets(s))},i=o=>e.ensureSession(o).then(function(s){if(e.editor().swapDoc(s),o.assetsListener)return s;o.assetsListener=s;const a=()=>n(s);return s.on("change",a),a(),s});return e.extend({async assetSession(){let o=e.fileByPath(vc);return o||(o=await e.newFile(vc)),i(o)},parseAssets(o){const s={};return o.forEach(function(a){const l=a.uuid;return a.deleted?delete s[l]:s[l]=a}),Object.keys(s).map(a=>s[a])},newAsset(o){return e.showAssets().then(function(s){const a={line:s.lastLine(),ch:0};return s.replaceRange(JSON.stringify(o)+`
`,a)})},deleteAsset(o){return e.showAssets().then(function(s){const a={line:s.lastLine(),ch:0},l={uuid:o.uuid,deleted:!0};return s.replaceRange(JSON.stringify(l)+`
`,a)})},async renameAsset(o,s){const a=e.currentProject(),l=o.url.replace(/^https:\/\/[^/]+\//,"").replace("%2F","/");await e.glitchApi().copyAsset(a.id(),s,{sourceKey:l}),e.deleteAsset(o),o.name=s,o.url=`${rT}/${a.id()}/${s}`,e.newAsset(o)},generateUploadProgressEventHandler(o){return function({lengthComputable:s,loaded:a,total:l}){return s?o.ratio(a/l):o.ratio((1+o.ratio())/2)}},uploadAsset(o,s=!1){const a={ratio:te(0),isUploadedByUser:s},l=o.type||"binary/octet-stream";return e.pendingUploads.push(a),e.getPolicy({contentType:l}).then(c=>SD(c).upload({key:o.name,blob:o,contentType:l},e.generateUploadProgressEventHandler(a))).finally(function(){return e.pendingUploads.remove(a),e.currentProject().updatedAt(new Date().toISOString()),e.touchProject()})},uploadProjectAvatarAsset(o,s){s==null&&(s=e.currentProject());const a=URL.createObjectURL(o);s!=null&&s.temporaryAvatar(a);const l={ratio:te(0)};return e.pendingUploads.push(l),e.getProjectAvatarPolicy(s).then(c=>SD(c).upload({key:"",blob:o,cacheControl:60},e.generateUploadProgressEventHandler(l))).then(function(c){return s.avatarUpdatedAt(new Date().toISOString()),s.save(e.glitchApi()),c}).finally(c=>e.pendingUploads.remove(l))}})};var N_e=function(){function t(e,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function k_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var D5=function(){return new U5};function CD(t){return Array.isArray(t)?t:[t]}var D_e=/^\s+$/,F_e=/^\\\!/,U_e=/^\\#/,F5="/",MD=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",U5=function(){function t(){k_e(this,t),this._rules=[],this[MD]=!0,this._initCache()}return N_e(t,[{key:"_initCache",value:function(){this._cache={}}},{key:"add",value:function(n){return this._added=!1,typeof n=="string"&&(n=n.split(/\r?\n/g)),CD(n).forEach(this._addPattern,this),this._added&&this._initCache(),this}},{key:"addPattern",value:function(n){return this.add(n)}},{key:"_addPattern",value:function(n){if(n&&n[MD]){this._rules=this._rules.concat(n._rules),this._added=!0;return}if(this._checkPattern(n)){var i=this._createRule(n);this._added=!0,this._rules.push(i)}}},{key:"_checkPattern",value:function(n){return n&&typeof n=="string"&&!D_e.test(n)&&n.indexOf("#")!==0}},{key:"filter",value:function(n){var i=this;return CD(n).filter(function(o){return i._filter(o)})}},{key:"createFilter",value:function(){var n=this;return function(i){return n._filter(i)}}},{key:"ignores",value:function(n){return!this._filter(n)}},{key:"_createRule",value:function(n){var i=n,o=!1;n.indexOf("!")===0&&(o=!0,n=n.substr(1)),n=n.replace(F_e,"!").replace(U_e,"#");var s=V_e(n,o);return{origin:i,pattern:n,negative:o,regex:s}}},{key:"_filter",value:function(n,i){return n?n in this._cache?this._cache[n]:(i||(i=n.split(F5)),i.pop(),this._cache[n]=i.length?this._filter(i.join(F5)+F5,i)&&this._test(n):this._test(n)):!1}},{key:"_test",value:function(n){var i=0;return this._rules.forEach(function(o){i^o.negative||(i=o.negative^o.regex.test(n))}),!i}}]),t}(),AD=[[/\\?\s+$/,function(t){return t.indexOf("\\")===0?" ":""}],[/\\\s/g,function(){return" "}],[/[\\\^$.|?*+()\[{]/g,function(t){return"\\"+t}],[/^\//,function(){return"^"}],[/\//g,function(){return"\\/"}],[/^\^*\\\*\\\*\\\//,function(){return"^(?:.*\\/)?"}]],PD=[[/^(?=[^\^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,function(t,e,n){return e+6<n.length?"(?:\\/[^\\/]+)*":"\\/.+"}],[/(^|[^\\]+)\\\*(?=.+)/g,function(t,e){return e+"[^\\/]*"}],[/(\^|\\\/)?\\\*$/,function(t,e){return(e?e+"[^/]+":"[^/]*")+"(?=$|\\/$)"}],[/\\\\\\/g,function(){return"\\"}]],j_e=[].concat(AD,[[/(?:[^*\/])$/,function(t){return t+"(?=$|\\/)"}]],PD),B_e=[].concat(AD,[[/(?:[^*\/])$/,function(t){return t+"(?=$|\\/$)"}]],PD),RD={};function V_e(t,e){var n=RD[t];if(n)return n;var i=e?B_e:j_e,o=i.reduce(function(s,a){return s.replace(a[0],a[1].bind(t))},t);return RD[t]=new RegExp(o,"i")}if(typeof process!="undefined"&&(process.env&&{}.IGNORE_TEST_WIN32||process.platform==="win32")){var H_e=U5.prototype._filter,z_e=function(e){return/^\\\\\?\\/.test(e)||/[^\x00-\x80]+/.test(e)?e:e.replace(/\\/g,"/")};U5.prototype._filter=function(t,e){return t=z_e(t),H_e.call(this,t,e)}}const G_e=zs.replace(/^http/,"ws");function $_e(t,e){let n,i,o,s=null,a=D5();const l=c=>i.idToPath(c).substring(2);return e.extend({clearConnectionErrors(){return Object.keys(e.connectionErrors).forEach(c=>e.connectionErrors[c](!1))},canBroadcast:te(!0),viewerCount:te(0),connectionErrors:{desyncError:te(!1),socketClosed:te(!1),socketError:te(!1)},otClient(){return i},otCodeMirror(){return o},broadcast(c){if(!(!e.canBroadcast()&&!e.currentUser().awaitingInvite()))return i!=null?i.sendBroadcast(c):void 0},async connectToOT(c,u,d){return new Promise(function(f,h){return s=f,i=u,o=d,e.clearConnectionErrors(),i.addEventListener(e,async function(v,m){switch(v){case"connected":return m?(e.connectionErrors.socketClosed(!1),e.connectionErrors.socketError(!1),e.broadcastUser()):e.connectionErrors.socketClosed(!0);case"new-state":return e.initFromMasterState(m,s);case"can-broadcast":return e.canBroadcast(m);case"oplist":return e.handleOpList(m);case"broadcast":return e.handleBroadcast(m);case"filetree-updated":return e.generateCollapsedFiletree()}}),i.connect(`${G_e}/${c.id()}/ot?authorization=${e.persistentToken()}`)})},disconnectFromOT(){if(i)return i.removeEventListener(e),i.disconnect()},pathIgnored(c){return a.ignores(c)&&c!==".gitignore"&&c!==".env"&&c!==".glitch-assets"},registerAllDirectories(c,u){return i.document(c).then(function(d){const f=[];for(let h in d.children){const v=d.children[h],m=i.documentImmediate(v),_=l(m.docId);m.docType==="directory"?f.push(m):e.pathIgnored(_)||u.push(m)}return Promise.all(f.map(h=>e.registerAllDirectories(h.docId,u)))})},loadGitIgnores(c){if(a=D5(),a.add(Qve),c){const u=c.content.split(G7).filter(d=>d.length>0&&!d.startsWith("#"));a.add(u)}return a},loadAllFilesIfEmbedded(c){return e.editorIsEmbedded()?Promise.all(c.map(u=>e.ensureSession(u,i))):Promise.resolve()},initFromMasterState(c,u){let d=[];const f=c.documents.root.children["."];return a=D5(),i.document(f).then(function(){for(let h in c.documents){const v=c.documents[h];if(v.name===".gitignore"&&v.docType==="file")return i.document(v.docId)}}).then(h=>a=e.loadGitIgnores(h)).then(()=>e.registerAllDirectories(f,d)).then(function(){return d=d.map(h=>({path:l(h.docId),uuid:h.docId})).filter(h=>!e.pathIgnored(h.path)).map(qs),d.sort(e.alphabeticalize),e.filetree().files.observe(e.generateCollapsedFiletree),e.currentProject()&&(e.currentProject().filetree().files.observe(e.generateCollapsedFiletree),e.currentProject().filetree.observe(e.generateCollapsedFiletree)),e.editorIsPreviewingRewind.observe(e.generateCollapsedFiletree),e.editorIsRewindingProject.observe(e.generateCollapsedFiletree),e.filetree().files(d),e.loadAllFilesIfEmbedded(d)}).then(async()=>e.currentProject()?e.setProjectBoostStatus(e.currentProject()):Promise.resolve()).then(function(){var h;if(e.readDebuggerSetting(),e.readEslintrc(),e.readWatchJson(),e.readPrettierrc(),e.readEnv(),(h=e.selectedFile())==null?void 0:h.path().toLowerCase().endsWith(".md")){const v=e.currentProjectId(),m=e.getUserPref("markdownPreviewVisible"),_=(m!=null?m[v]:void 0)||!0;e.markdownPreviewVisible(_)}return e.selectCurrentFile(),u()}).catch(h=>{e.notifyGenericError(!0),qi(h)})},selectCurrentFile(){e.restorePath()?(e.userPositionIsRestored(!1),e.selectFileByPathOrDefaultFile(e.restorePath())):e.selectDefaultFile()},handleOpList(c){c.ops.forEach(function(u){let d,f;if(u.docType==="directory")switch(u.type){case"add":d=[];const h=l(u.docId);if(!e.pathIgnored(h+"/"))return e.registerAllDirectories(u.docId,d).then(function(){d.forEach(v=>e.filetree().files.push(qs({path:l(v.docId),uuid:v.docId})))});break;case"unlink":return f=u.oldPath?u.oldPath.substring(2):null,e.deleteFolder(u.docId,f,{silent:!0});case"rename":return f=u.oldPath.substring(2),e.pathIgnored(f+"/")?(d=[],e.registerAllDirectories(u.docId,d).then(function(){d.forEach(v=>e.filetree().files.push(qs({path:l(v.docId),uuid:v.docId})))})):e.renameFolder(u.docId,f,u.newName,!1)}else switch(u.type){case"add":const h=l(u.parentId),v=h?h+"/"+u.name:u.name;if(!e.pathIgnored(v)){const m=qs({path:v,uuid:u.docId});e.filetree().files.push(m)}break;case"unlink":return e.deleteFile(e.fileById(u.docId),{silent:!0});case"rename":return e.handleRename(u.docId)}})},handleRename(c){const u=l(c),d=e.fileByPath(u);d&&e.deleteFile(d,{silent:!0});const f=e.fileById(c);if(!f&&!e.pathIgnored(u)){const h=qs({path:l(c),uuid:c});e.filetree().files.push(h)}else e.pathIgnored(u)?e.deleteFile(f,{silent:!0}):e.renameFile(f,u,!1)},resourceState(c){return c>H7?"error":c>z7?"warning":"ok"},overallResourceState(){return e.projectContainerCpuStatus()==="error"||e.projectContainerMemoryStatus()==="error"||e.projectContainerDiskStatus()==="error"?"error":e.projectContainerCpuStatus()==="warning"||e.projectContainerMemoryStatus()==="warning"||e.projectContainerDiskStatus()==="warning"?"warning":"ok"},handleProjectPerformanceStats(c){return c.diskUsagePercent=c.diskUsage/c.diskSize*100,c.memoryUsagePercent=c.memoryUsage/c.memoryLimit*100,c.quotaUsagePercent==null&&(c.quotaUsagePercent=0),c.quotaUsagePercent*=100,e.projectContainerResourcesData(c),e.projectContainerResourcesDataLoaded(!0),e.projectContainerCpuStatus(e.resourceState(c.quotaUsagePercent)),e.projectContainerMemoryStatus(e.resourceState(c.memoryUsagePercent)),e.projectContainerDiskStatus(e.resourceState(c.diskUsagePercent)),e.projectContainerResourcesStatus(e.overallResourceState())},async handleBroadcast(c){const{user:u,viewerCount:d,projectName:f,remoteConnected:h,type:v}=c;if(v==="project-stats"&&e.handleProjectPerformanceStats(c),u&&!e.editorIsEmbedded()?await e.updateRemoteUser(u):f&&e.updateProjectName(f),d!=null&&e.viewerCount(d),h!=null&&h!==i.clientId())return e.broadcastUser()},OTNewFile(c){return o.createFile(c)},OTDeleteFile(c){return o.deleteFile(c)},OTDeleteFolder(c){return o.deleteFolder(c)},OTRenameFile(c){return o.renameFile(c)},OTRenameFolder(c,u){return o.renameFolder(c,u)},checkIfSevereDisconnection(){e.notifyReconnecting(!1);const c=n();return e.notifyConnectionError(c)}}),e.anyConnectionError=n=()=>Object.keys(e.connectionErrors).some(c=>e.connectionErrors[c]()),te(n).observe(function(c){if(e.connectionErrors.socketClosed()||e.notifyReconnecting()){if(e.userPositionIsRestored(!1),e.notifyReconnecting(c),e.notifyReconnected(!c),c)return setTimeout(e.checkIfSevereDisconnection,3e4)}else return e.notifyConnectionError(c)}),e}var W_e=tg,q_e=Ba,Y_e="Expected a function";function K_e(t,e,n){var i=!0,o=!0;if(typeof t!="function")throw new TypeError(Y_e);return q_e(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),W_e(t,e,{leading:i,maxWait:e,trailing:o})}var LD=K_e,ID={exports:{}};(function(t){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,i=1,o=0;e.Diff=function(s,a){return[s,a]},e.prototype.diff_main=function(s,a,l,c){typeof c=="undefined"&&(this.Diff_Timeout<=0?c=Number.MAX_VALUE:c=new Date().getTime()+this.Diff_Timeout*1e3);var u=c;if(s==null||a==null)throw new Error("Null input. (diff_main)");if(s==a)return s?[new e.Diff(o,s)]:[];typeof l=="undefined"&&(l=!0);var d=l,f=this.diff_commonPrefix(s,a),h=s.substring(0,f);s=s.substring(f),a=a.substring(f),f=this.diff_commonSuffix(s,a);var v=s.substring(s.length-f);s=s.substring(0,s.length-f),a=a.substring(0,a.length-f);var m=this.diff_compute_(s,a,d,u);return h&&m.unshift(new e.Diff(o,h)),v&&m.push(new e.Diff(o,v)),this.diff_cleanupMerge(m),m},e.prototype.diff_compute_=function(s,a,l,c){var u;if(!s)return[new e.Diff(i,a)];if(!a)return[new e.Diff(n,s)];var d=s.length>a.length?s:a,f=s.length>a.length?a:s,h=d.indexOf(f);if(h!=-1)return u=[new e.Diff(i,d.substring(0,h)),new e.Diff(o,f),new e.Diff(i,d.substring(h+f.length))],s.length>a.length&&(u[0][0]=u[2][0]=n),u;if(f.length==1)return[new e.Diff(n,s),new e.Diff(i,a)];var v=this.diff_halfMatch_(s,a);if(v){var m=v[0],_=v[1],S=v[2],E=v[3],w=v[4],T=this.diff_main(m,S,l,c),C=this.diff_main(_,E,l,c);return T.concat([new e.Diff(o,w)],C)}return l&&s.length>100&&a.length>100?this.diff_lineMode_(s,a,c):this.diff_bisect_(s,a,c)},e.prototype.diff_lineMode_=function(s,a,l){var c=this.diff_linesToChars_(s,a);s=c.chars1,a=c.chars2;var u=c.lineArray,d=this.diff_main(s,a,!1,l);this.diff_charsToLines_(d,u),this.diff_cleanupSemantic(d),d.push(new e.Diff(o,""));for(var f=0,h=0,v=0,m="",_="";f<d.length;){switch(d[f][0]){case i:v++,_+=d[f][1];break;case n:h++,m+=d[f][1];break;case o:if(h>=1&&v>=1){d.splice(f-h-v,h+v),f=f-h-v;for(var S=this.diff_main(m,_,!1,l),E=S.length-1;E>=0;E--)d.splice(f,0,S[E]);f=f+S.length}v=0,h=0,m="",_="";break}f++}return d.pop(),d},e.prototype.diff_bisect_=function(s,a,l){for(var c=s.length,u=a.length,d=Math.ceil((c+u)/2),f=d,h=2*d,v=new Array(h),m=new Array(h),_=0;_<h;_++)v[_]=-1,m[_]=-1;v[f+1]=0,m[f+1]=0;for(var S=c-u,E=S%2!=0,w=0,T=0,C=0,P=0,R=0;R<d&&!(new Date().getTime()>l);R++){for(var A=-R+w;A<=R-T;A+=2){var L=f+A,k;A==-R||A!=R&&v[L-1]<v[L+1]?k=v[L+1]:k=v[L-1]+1;for(var U=k-A;k<c&&U<u&&s.charAt(k)==a.charAt(U);)k++,U++;if(v[L]=k,k>c)T+=2;else if(U>u)w+=2;else if(E){var N=f+S-A;if(N>=0&&N<h&&m[N]!=-1){var I=c-m[N];if(k>=I)return this.diff_bisectSplit_(s,a,k,U,l)}}}for(var F=-R+C;F<=R-P;F+=2){var N=f+F,I;F==-R||F!=R&&m[N-1]<m[N+1]?I=m[N+1]:I=m[N-1]+1;for(var O=I-F;I<c&&O<u&&s.charAt(c-I-1)==a.charAt(u-O-1);)I++,O++;if(m[N]=I,I>c)P+=2;else if(O>u)C+=2;else if(!E){var L=f+S-F;if(L>=0&&L<h&&v[L]!=-1){var k=v[L],U=f+k-L;if(I=c-I,k>=I)return this.diff_bisectSplit_(s,a,k,U,l)}}}}return[new e.Diff(n,s),new e.Diff(i,a)]},e.prototype.diff_bisectSplit_=function(s,a,l,c,u){var d=s.substring(0,l),f=a.substring(0,c),h=s.substring(l),v=a.substring(c),m=this.diff_main(d,f,!1,u),_=this.diff_main(h,v,!1,u);return m.concat(_)},e.prototype.diff_linesToChars_=function(s,a){var l=[],c={};l[0]="";function u(v){for(var m="",_=0,S=-1,E=l.length;S<v.length-1;){S=v.indexOf(`
`,_),S==-1&&(S=v.length-1);var w=v.substring(_,S+1);(c.hasOwnProperty?c.hasOwnProperty(w):c[w]!==void 0)?m+=String.fromCharCode(c[w]):(E==d&&(w=v.substring(_),S=v.length),m+=String.fromCharCode(E),c[w]=E,l[E++]=w),_=S+1}return m}var d=4e4,f=u(s);d=65535;var h=u(a);return{chars1:f,chars2:h,lineArray:l}},e.prototype.diff_charsToLines_=function(s,a){for(var l=0;l<s.length;l++){for(var c=s[l][1],u=[],d=0;d<c.length;d++)u[d]=a[c.charCodeAt(d)];s[l][1]=u.join("")}},e.prototype.diff_commonPrefix=function(s,a){if(!s||!a||s.charAt(0)!=a.charAt(0))return 0;for(var l=0,c=Math.min(s.length,a.length),u=c,d=0;l<u;)s.substring(d,u)==a.substring(d,u)?(l=u,d=l):c=u,u=Math.floor((c-l)/2+l);return u},e.prototype.diff_commonSuffix=function(s,a){if(!s||!a||s.charAt(s.length-1)!=a.charAt(a.length-1))return 0;for(var l=0,c=Math.min(s.length,a.length),u=c,d=0;l<u;)s.substring(s.length-u,s.length-d)==a.substring(a.length-u,a.length-d)?(l=u,d=l):c=u,u=Math.floor((c-l)/2+l);return u},e.prototype.diff_commonOverlap_=function(s,a){var l=s.length,c=a.length;if(l==0||c==0)return 0;l>c?s=s.substring(l-c):l<c&&(a=a.substring(0,l));var u=Math.min(l,c);if(s==a)return u;for(var d=0,f=1;;){var h=s.substring(u-f),v=a.indexOf(h);if(v==-1)return d;f+=v,(v==0||s.substring(u-f)==a.substring(0,f))&&(d=f,f++)}},e.prototype.diff_halfMatch_=function(s,a){if(this.Diff_Timeout<=0)return null;var l=s.length>a.length?s:a,c=s.length>a.length?a:s;if(l.length<4||c.length*2<l.length)return null;var u=this;function d(T,C,P){for(var R=T.substring(P,P+Math.floor(T.length/4)),A=-1,L="",k,U,N,I;(A=C.indexOf(R,A+1))!=-1;){var F=u.diff_commonPrefix(T.substring(P),C.substring(A)),O=u.diff_commonSuffix(T.substring(0,P),C.substring(0,A));L.length<O+F&&(L=C.substring(A-O,A)+C.substring(A,A+F),k=T.substring(0,P-O),U=T.substring(P+F),N=C.substring(0,A-O),I=C.substring(A+F))}return L.length*2>=T.length?[k,U,N,I,L]:null}var f=d(l,c,Math.ceil(l.length/4)),h=d(l,c,Math.ceil(l.length/2)),v;if(!f&&!h)return null;h?f?v=f[4].length>h[4].length?f:h:v=h:v=f;var m,_,S,E;s.length>a.length?(m=v[0],_=v[1],S=v[2],E=v[3]):(S=v[0],E=v[1],m=v[2],_=v[3]);var w=v[4];return[m,_,S,E,w]},e.prototype.diff_cleanupSemantic=function(s){for(var a=!1,l=[],c=0,u=null,d=0,f=0,h=0,v=0,m=0;d<s.length;)s[d][0]==o?(l[c++]=d,f=v,h=m,v=0,m=0,u=s[d][1]):(s[d][0]==i?v+=s[d][1].length:m+=s[d][1].length,u&&u.length<=Math.max(f,h)&&u.length<=Math.max(v,m)&&(s.splice(l[c-1],0,new e.Diff(n,u)),s[l[c-1]+1][0]=i,c--,c--,d=c>0?l[c-1]:-1,f=0,h=0,v=0,m=0,u=null,a=!0)),d++;for(a&&this.diff_cleanupMerge(s),this.diff_cleanupSemanticLossless(s),d=1;d<s.length;){if(s[d-1][0]==n&&s[d][0]==i){var _=s[d-1][1],S=s[d][1],E=this.diff_commonOverlap_(_,S),w=this.diff_commonOverlap_(S,_);E>=w?(E>=_.length/2||E>=S.length/2)&&(s.splice(d,0,new e.Diff(o,S.substring(0,E))),s[d-1][1]=_.substring(0,_.length-E),s[d+1][1]=S.substring(E),d++):(w>=_.length/2||w>=S.length/2)&&(s.splice(d,0,new e.Diff(o,_.substring(0,w))),s[d-1][0]=i,s[d-1][1]=S.substring(0,S.length-w),s[d+1][0]=n,s[d+1][1]=_.substring(w),d++),d++}d++}},e.prototype.diff_cleanupSemanticLossless=function(s){function a(w,T){if(!w||!T)return 6;var C=w.charAt(w.length-1),P=T.charAt(0),R=C.match(e.nonAlphaNumericRegex_),A=P.match(e.nonAlphaNumericRegex_),L=R&&C.match(e.whitespaceRegex_),k=A&&P.match(e.whitespaceRegex_),U=L&&C.match(e.linebreakRegex_),N=k&&P.match(e.linebreakRegex_),I=U&&w.match(e.blanklineEndRegex_),F=N&&T.match(e.blanklineStartRegex_);return I||F?5:U||N?4:R&&!L&&k?3:L||k?2:R||A?1:0}for(var l=1;l<s.length-1;){if(s[l-1][0]==o&&s[l+1][0]==o){var c=s[l-1][1],u=s[l][1],d=s[l+1][1],f=this.diff_commonSuffix(c,u);if(f){var h=u.substring(u.length-f);c=c.substring(0,c.length-f),u=h+u.substring(0,u.length-f),d=h+d}for(var v=c,m=u,_=d,S=a(c,u)+a(u,d);u.charAt(0)===d.charAt(0);){c+=u.charAt(0),u=u.substring(1)+d.charAt(0),d=d.substring(1);var E=a(c,u)+a(u,d);E>=S&&(S=E,v=c,m=u,_=d)}s[l-1][1]!=v&&(v?s[l-1][1]=v:(s.splice(l-1,1),l--),s[l][1]=m,_?s[l+1][1]=_:(s.splice(l+1,1),l--))}l++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(s){for(var a=!1,l=[],c=0,u=null,d=0,f=!1,h=!1,v=!1,m=!1;d<s.length;)s[d][0]==o?(s[d][1].length<this.Diff_EditCost&&(v||m)?(l[c++]=d,f=v,h=m,u=s[d][1]):(c=0,u=null),v=m=!1):(s[d][0]==n?m=!0:v=!0,u&&(f&&h&&v&&m||u.length<this.Diff_EditCost/2&&f+h+v+m==3)&&(s.splice(l[c-1],0,new e.Diff(n,u)),s[l[c-1]+1][0]=i,c--,u=null,f&&h?(v=m=!0,c=0):(c--,d=c>0?l[c-1]:-1,v=m=!1),a=!0)),d++;a&&this.diff_cleanupMerge(s)},e.prototype.diff_cleanupMerge=function(s){s.push(new e.Diff(o,""));for(var a=0,l=0,c=0,u="",d="",f;a<s.length;)switch(s[a][0]){case i:c++,d+=s[a][1],a++;break;case n:l++,u+=s[a][1],a++;break;case o:l+c>1?(l!==0&&c!==0&&(f=this.diff_commonPrefix(d,u),f!==0&&(a-l-c>0&&s[a-l-c-1][0]==o?s[a-l-c-1][1]+=d.substring(0,f):(s.splice(0,0,new e.Diff(o,d.substring(0,f))),a++),d=d.substring(f),u=u.substring(f)),f=this.diff_commonSuffix(d,u),f!==0&&(s[a][1]=d.substring(d.length-f)+s[a][1],d=d.substring(0,d.length-f),u=u.substring(0,u.length-f))),a-=l+c,s.splice(a,l+c),u.length&&(s.splice(a,0,new e.Diff(n,u)),a++),d.length&&(s.splice(a,0,new e.Diff(i,d)),a++),a++):a!==0&&s[a-1][0]==o?(s[a-1][1]+=s[a][1],s.splice(a,1)):a++,c=0,l=0,u="",d="";break}s[s.length-1][1]===""&&s.pop();var h=!1;for(a=1;a<s.length-1;)s[a-1][0]==o&&s[a+1][0]==o&&(s[a][1].substring(s[a][1].length-s[a-1][1].length)==s[a-1][1]?(s[a][1]=s[a-1][1]+s[a][1].substring(0,s[a][1].length-s[a-1][1].length),s[a+1][1]=s[a-1][1]+s[a+1][1],s.splice(a-1,1),h=!0):s[a][1].substring(0,s[a+1][1].length)==s[a+1][1]&&(s[a-1][1]+=s[a+1][1],s[a][1]=s[a][1].substring(s[a+1][1].length)+s[a+1][1],s.splice(a+1,1),h=!0)),a++;h&&this.diff_cleanupMerge(s)},e.prototype.diff_xIndex=function(s,a){var l=0,c=0,u=0,d=0,f;for(f=0;f<s.length&&(s[f][0]!==i&&(l+=s[f][1].length),s[f][0]!==n&&(c+=s[f][1].length),!(l>a));f++)u=l,d=c;return s.length!=f&&s[f][0]===n?d:d+(a-u)},e.prototype.diff_prettyHtml=function(s){for(var a=[],l=/&/g,c=/</g,u=/>/g,d=/\n/g,f=0;f<s.length;f++){var h=s[f][0],v=s[f][1],m=v.replace(l,"&amp;").replace(c,"&lt;").replace(u,"&gt;").replace(d,"&para;<br>");switch(h){case i:a[f]='<ins style="background:#e6ffe6;">'+m+"</ins>";break;case n:a[f]='<del style="background:#ffe6e6;">'+m+"</del>";break;case o:a[f]="<span>"+m+"</span>";break}}return a.join("")},e.prototype.diff_text1=function(s){for(var a=[],l=0;l<s.length;l++)s[l][0]!==i&&(a[l]=s[l][1]);return a.join("")},e.prototype.diff_text2=function(s){for(var a=[],l=0;l<s.length;l++)s[l][0]!==n&&(a[l]=s[l][1]);return a.join("")},e.prototype.diff_levenshtein=function(s){for(var a=0,l=0,c=0,u=0;u<s.length;u++){var d=s[u][0],f=s[u][1];switch(d){case i:l+=f.length;break;case n:c+=f.length;break;case o:a+=Math.max(l,c),l=0,c=0;break}}return a+=Math.max(l,c),a},e.prototype.diff_toDelta=function(s){for(var a=[],l=0;l<s.length;l++)switch(s[l][0]){case i:a[l]="+"+encodeURI(s[l][1]);break;case n:a[l]="-"+s[l][1].length;break;case o:a[l]="="+s[l][1].length;break}return a.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(s,a){for(var l=[],c=0,u=0,d=a.split(/\t/g),f=0;f<d.length;f++){var h=d[f].substring(1);switch(d[f].charAt(0)){case"+":try{l[c++]=new e.Diff(i,decodeURI(h))}catch{throw new Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var v=parseInt(h,10);if(isNaN(v)||v<0)throw new Error("Invalid number in diff_fromDelta: "+h);var m=s.substring(u,u+=v);d[f].charAt(0)=="="?l[c++]=new e.Diff(o,m):l[c++]=new e.Diff(n,m);break;default:if(d[f])throw new Error("Invalid diff operation in diff_fromDelta: "+d[f])}}if(u!=s.length)throw new Error("Delta length ("+u+") does not equal source text length ("+s.length+").");return l},e.prototype.match_main=function(s,a,l){if(s==null||a==null||l==null)throw new Error("Null input. (match_main)");return l=Math.max(0,Math.min(l,s.length)),s==a?0:s.length?s.substring(l,l+a.length)==a?l:this.match_bitap_(s,a,l):-1},e.prototype.match_bitap_=function(s,a,l){if(a.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var c=this.match_alphabet_(a),u=this;function d(k,U){var N=k/a.length,I=Math.abs(l-U);return u.Match_Distance?N+I/u.Match_Distance:I?1:N}var f=this.Match_Threshold,h=s.indexOf(a,l);h!=-1&&(f=Math.min(d(0,h),f),h=s.lastIndexOf(a,l+a.length),h!=-1&&(f=Math.min(d(0,h),f)));var v=1<<a.length-1;h=-1;for(var m,_,S=a.length+s.length,E,w=0;w<a.length;w++){for(m=0,_=S;m<_;)d(w,l+_)<=f?m=_:S=_,_=Math.floor((S-m)/2+m);S=_;var T=Math.max(1,l-_+1),C=Math.min(l+_,s.length)+a.length,P=Array(C+2);P[C+1]=(1<<w)-1;for(var R=C;R>=T;R--){var A=c[s.charAt(R-1)];if(w===0?P[R]=(P[R+1]<<1|1)&A:P[R]=(P[R+1]<<1|1)&A|((E[R+1]|E[R])<<1|1)|E[R+1],P[R]&v){var L=d(w,R-1);if(L<=f)if(f=L,h=R-1,h>l)T=Math.max(1,2*l-h);else break}}if(d(w+1,l)>f)break;E=P}return h},e.prototype.match_alphabet_=function(s){for(var a={},l=0;l<s.length;l++)a[s.charAt(l)]=0;for(var l=0;l<s.length;l++)a[s.charAt(l)]|=1<<s.length-l-1;return a},e.prototype.patch_addContext_=function(s,a){if(a.length!=0){if(s.start2===null)throw Error("patch not initialized");for(var l=a.substring(s.start2,s.start2+s.length1),c=0;a.indexOf(l)!=a.lastIndexOf(l)&&l.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)c+=this.Patch_Margin,l=a.substring(s.start2-c,s.start2+s.length1+c);c+=this.Patch_Margin;var u=a.substring(s.start2-c,s.start2);u&&s.diffs.unshift(new e.Diff(o,u));var d=a.substring(s.start2+s.length1,s.start2+s.length1+c);d&&s.diffs.push(new e.Diff(o,d)),s.start1-=u.length,s.start2-=u.length,s.length1+=u.length+d.length,s.length2+=u.length+d.length}},e.prototype.patch_make=function(s,a,l){var c,u;if(typeof s=="string"&&typeof a=="string"&&typeof l=="undefined")c=s,u=this.diff_main(c,a,!0),u.length>2&&(this.diff_cleanupSemantic(u),this.diff_cleanupEfficiency(u));else if(s&&typeof s=="object"&&typeof a=="undefined"&&typeof l=="undefined")u=s,c=this.diff_text1(u);else if(typeof s=="string"&&a&&typeof a=="object"&&typeof l=="undefined")c=s,u=a;else if(typeof s=="string"&&typeof a=="string"&&l&&typeof l=="object")c=s,u=l;else throw new Error("Unknown call format to patch_make.");if(u.length===0)return[];for(var d=[],f=new e.patch_obj,h=0,v=0,m=0,_=c,S=c,E=0;E<u.length;E++){var w=u[E][0],T=u[E][1];switch(!h&&w!==o&&(f.start1=v,f.start2=m),w){case i:f.diffs[h++]=u[E],f.length2+=T.length,S=S.substring(0,m)+T+S.substring(m);break;case n:f.length1+=T.length,f.diffs[h++]=u[E],S=S.substring(0,m)+S.substring(m+T.length);break;case o:T.length<=2*this.Patch_Margin&&h&&u.length!=E+1?(f.diffs[h++]=u[E],f.length1+=T.length,f.length2+=T.length):T.length>=2*this.Patch_Margin&&h&&(this.patch_addContext_(f,_),d.push(f),f=new e.patch_obj,h=0,_=S,v=m);break}w!==i&&(v+=T.length),w!==n&&(m+=T.length)}return h&&(this.patch_addContext_(f,_),d.push(f)),d},e.prototype.patch_deepCopy=function(s){for(var a=[],l=0;l<s.length;l++){var c=s[l],u=new e.patch_obj;u.diffs=[];for(var d=0;d<c.diffs.length;d++)u.diffs[d]=new e.Diff(c.diffs[d][0],c.diffs[d][1]);u.start1=c.start1,u.start2=c.start2,u.length1=c.length1,u.length2=c.length2,a[l]=u}return a},e.prototype.patch_apply=function(s,a){if(s.length==0)return[a,[]];s=this.patch_deepCopy(s);var l=this.patch_addPadding(s);a=l+a+l,this.patch_splitMax(s);for(var c=0,u=[],d=0;d<s.length;d++){var f=s[d].start2+c,h=this.diff_text1(s[d].diffs),v,m=-1;if(h.length>this.Match_MaxBits?(v=this.match_main(a,h.substring(0,this.Match_MaxBits),f),v!=-1&&(m=this.match_main(a,h.substring(h.length-this.Match_MaxBits),f+h.length-this.Match_MaxBits),(m==-1||v>=m)&&(v=-1))):v=this.match_main(a,h,f),v==-1)u[d]=!1,c-=s[d].length2-s[d].length1;else{u[d]=!0,c=v-f;var _;if(m==-1?_=a.substring(v,v+h.length):_=a.substring(v,m+this.Match_MaxBits),h==_)a=a.substring(0,v)+this.diff_text2(s[d].diffs)+a.substring(v+h.length);else{var S=this.diff_main(h,_,!1);if(h.length>this.Match_MaxBits&&this.diff_levenshtein(S)/h.length>this.Patch_DeleteThreshold)u[d]=!1;else{this.diff_cleanupSemanticLossless(S);for(var E=0,w,T=0;T<s[d].diffs.length;T++){var C=s[d].diffs[T];C[0]!==o&&(w=this.diff_xIndex(S,E)),C[0]===i?a=a.substring(0,v+w)+C[1]+a.substring(v+w):C[0]===n&&(a=a.substring(0,v+w)+a.substring(v+this.diff_xIndex(S,E+C[1].length))),C[0]!==n&&(E+=C[1].length)}}}}}return a=a.substring(l.length,a.length-l.length),[a,u]},e.prototype.patch_addPadding=function(s){for(var a=this.Patch_Margin,l="",c=1;c<=a;c++)l+=String.fromCharCode(c);for(var c=0;c<s.length;c++)s[c].start1+=a,s[c].start2+=a;var u=s[0],d=u.diffs;if(d.length==0||d[0][0]!=o)d.unshift(new e.Diff(o,l)),u.start1-=a,u.start2-=a,u.length1+=a,u.length2+=a;else if(a>d[0][1].length){var f=a-d[0][1].length;d[0][1]=l.substring(d[0][1].length)+d[0][1],u.start1-=f,u.start2-=f,u.length1+=f,u.length2+=f}if(u=s[s.length-1],d=u.diffs,d.length==0||d[d.length-1][0]!=o)d.push(new e.Diff(o,l)),u.length1+=a,u.length2+=a;else if(a>d[d.length-1][1].length){var f=a-d[d.length-1][1].length;d[d.length-1][1]+=l.substring(0,f),u.length1+=f,u.length2+=f}return l},e.prototype.patch_splitMax=function(s){for(var a=this.Match_MaxBits,l=0;l<s.length;l++)if(!(s[l].length1<=a)){var c=s[l];s.splice(l--,1);for(var u=c.start1,d=c.start2,f="";c.diffs.length!==0;){var h=new e.patch_obj,v=!0;for(h.start1=u-f.length,h.start2=d-f.length,f!==""&&(h.length1=h.length2=f.length,h.diffs.push(new e.Diff(o,f)));c.diffs.length!==0&&h.length1<a-this.Patch_Margin;){var m=c.diffs[0][0],_=c.diffs[0][1];m===i?(h.length2+=_.length,d+=_.length,h.diffs.push(c.diffs.shift()),v=!1):m===n&&h.diffs.length==1&&h.diffs[0][0]==o&&_.length>2*a?(h.length1+=_.length,u+=_.length,v=!1,h.diffs.push(new e.Diff(m,_)),c.diffs.shift()):(_=_.substring(0,a-h.length1-this.Patch_Margin),h.length1+=_.length,u+=_.length,m===o?(h.length2+=_.length,d+=_.length):v=!1,h.diffs.push(new e.Diff(m,_)),_==c.diffs[0][1]?c.diffs.shift():c.diffs[0][1]=c.diffs[0][1].substring(_.length))}f=this.diff_text2(h.diffs),f=f.substring(f.length-this.Patch_Margin);var S=this.diff_text1(c.diffs).substring(0,this.Patch_Margin);S!==""&&(h.length1+=S.length,h.length2+=S.length,h.diffs.length!==0&&h.diffs[h.diffs.length-1][0]===o?h.diffs[h.diffs.length-1][1]+=S:h.diffs.push(new e.Diff(o,S))),v||s.splice(++l,0,h)}}},e.prototype.patch_toText=function(s){for(var a=[],l=0;l<s.length;l++)a[l]=s[l];return a.join("")},e.prototype.patch_fromText=function(s){var a=[];if(!s)return a;for(var l=s.split(`
`),c=0,u=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;c<l.length;){var d=l[c].match(u);if(!d)throw new Error("Invalid patch string: "+l[c]);var f=new e.patch_obj;for(a.push(f),f.start1=parseInt(d[1],10),d[2]===""?(f.start1--,f.length1=1):d[2]=="0"?f.length1=0:(f.start1--,f.length1=parseInt(d[2],10)),f.start2=parseInt(d[3],10),d[4]===""?(f.start2--,f.length2=1):d[4]=="0"?f.length2=0:(f.start2--,f.length2=parseInt(d[4],10)),c++;c<l.length;){var h=l[c].charAt(0);try{var v=decodeURI(l[c].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+v)}if(h=="-")f.diffs.push(new e.Diff(n,v));else if(h=="+")f.diffs.push(new e.Diff(i,v));else if(h==" ")f.diffs.push(new e.Diff(o,v));else{if(h=="@")break;if(h!=="")throw new Error('Invalid patch mode "'+h+'" in: '+v)}c++}}return a},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var s,a;this.length1===0?s=this.start1+",0":this.length1==1?s=this.start1+1:s=this.start1+1+","+this.length1,this.length2===0?a=this.start2+",0":this.length2==1?a=this.start2+1:a=this.start2+1+","+this.length2;for(var l=["@@ -"+s+" +"+a+` @@
`],c,u=0;u<this.diffs.length;u++){switch(this.diffs[u][0]){case i:c="+";break;case n:c="-";break;case o:c=" ";break}l[u+1]=c+encodeURI(this.diffs[u][1])+`
`}return l.join("").replace(/%20/g," ")},t.exports=e,t.exports.diff_match_patch=e,t.exports.DIFF_DELETE=n,t.exports.DIFF_INSERT=i,t.exports.DIFF_EQUAL=o})(ID);var X_e=ID.exports;const OD={diffLineMode(t,e){const n=new X_e,i=n.diff_linesToChars_(t,e),o=n.diff_main(i.chars1,i.chars2,!1);return n.diff_charsToLines_(o,i.lineArray),o},applyDiffInline(t){const e=[],n=[];let i=0;return{content:t.map(function(...s){let[a,l]=Array.from(s[0]);const c=l.split(G7);let u=c.length;return c[c.length-1]===""?u-=1:l+=`
`,a!==0&&(a===1?e:n).push({start:i,end:i+u-1}),i+=u,l}).join(""),addedLines:e,removedLines:n}}};function J_e(t,e){const n={esversion:6};let i=[];const o=m=>m,s=function(m){const _=m-1;let S=0;for(const E of i){if(_<E.start||E.start<=_&&_<=E.end)break;S+=E.end-E.start+1}return m-S},a=function(){if((e.isIOS||e.isAndroid)&&window.innerWidth<415)return!0},l=function(){return a()?["CodeMirror-lint-markers"]:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"]},c={tabSize:2,indentUnit:2,foldGutter:!0,highlightSelectionMatches:!0,lint:n,styleActiveLine:!e.isIOS,matchBrackets:!0,autoCloseBrackets:!0,autoCloseTags:!0,matchTags:{bothTags:!0},keyMap:"sublime",extraKeys:"extraKeys",lineNumbers:!a(),gutters:l()},u=document.createElement("article");u.id="text-editor",u.className="text-editor",u.ontouchend=()=>{e.closeAllPopOvers()};const d=st(u,c);d.on("cursorActivity",LD(()=>e.onCursorActivity(),200)),d.on("dragenter",(m,_)=>_.preventDefault()),st.commands.undo=()=>d.getDoc().undoHelper(),st.commands.redo=()=>d.getDoc().redoHelper();const f=function(){return e.isAppleDevice?"Alt":"Ctrl"},h=function(){return e.isAppleDevice?"Cmd":"Ctrl"},v=function(){return d.somethingSelected()?d.indentSelection("add"):d.replaceSelection(Array(d.getOption("indentUnit")+1).join(" "),"end","+input")};return d.setOption("extraKeys",{Tab:v,[`${f()}-Up`](){return d.execCommand("goLineStartSmart")},[`${f()}-Down`](){return d.execCommand("goLineEnd")},"Ctrl-G":"jumpToLine",[`${h()}-F`]:"findPersistent",[`${h()}-G`]:"findNext",[`Shift-${h()}-G`]:"findPrev"}),e.extend({editorElement:u,editor(){return d},setReadOnly(m){return d!=null?d.setOption("readOnly",m):void 0},getCursor(){return d.getCursor()},getCurrentSession(){return d.getDoc()},searchInputIsFocused(){return document.activeElement.id!=="project-search-input"},setCurrentSession(m,{maintainScrollPosition:_}={}){let S;st.signal(d,"file-blur"),e.editorIsPreviewingRewind()?S=m.diffSession.then(function(w){const T=e.editor().getCursor(),C=e.editor().getScrollInfo();d.swapDoc(w.content),_&&(e.editor().scrollTo(C.left,C.top),e.editor().setCursor(T.line,T.ch,{scroll:!1}));const P=(R,A)=>R.forEach(L=>d.markText({line:L.start,ch:0},{line:L.end+1,ch:0},{className:A}));return P(w.addedLines,"diff-added-line"),P(w.removedLines,"diff-removed-line"),i=w.removedLines}):(e.otCodeMirror().open(m.id()),S=Promise.resolve()),st.signal(d,"changeCursor"),setTimeout(function(){!e.searchInputIsFocused()&&!e.editorIsEmbedded()&&e.focusEditor()},0),e.setReadOnly(e.editorIsPreviewingRewind()||e.projectIsReadOnlyForCurrentUser()||e.editorIsEmbedded()&&!e.embedEditingEnabled());const E=e.backendLintingResults[m.path()];return E&&e.setLintResults(E),S.then(()=>e.updateEditorModeForFile(m))},trackFileHelper(m,_,S={}){!m||(e.selectedFile().extension()==="env"&&(e.dotenvViewVisible()===!0?S.editorType="gui":S.editorType="plaintext"),e.analytics.track(_,qe(he({},S),{fileTotalLines:e.editor().lineCount(),fileId:m.id(),fileName:m.name(),fileType:e.selectedFile().extension()})))},lintingLoaded:!1,performLint(){if(!!e.lintingLoaded)return d.performLint()},setLintResults(m){return d.setLintResults(m)},firstFocus:!0,focusEditor(){if(e.firstFocus&&e.editorIsEmbedded()){e.firstFocus=!1;return}return d.focus()},setEditorOption(m,_){return d.setOption(m,_)},refreshEditor(){const m=document.querySelector(".editor-wrap .editor-helper");if(document.querySelector(".editor-wrap")){const S=document.querySelector(".editor-wrap").getBoundingClientRect();let E=S.height,w=S.top;if(m){const C=m.getBoundingClientRect().height;E=S.height-C,w=S.top+C}const T=document.documentElement.style;T.setProperty("--editor-top-position",`${w}px`),T.setProperty("--editor-left-position",`${S.left}px`),T.setProperty("--editor-width",`${S.width}px`),T.setProperty("--editor-height",`${E}px`),d.refresh()}},goToLine(m){const _={line:m,ch:0},{top:S}=d.charCoords(_,"local"),E=d.getScrollerElement().offsetHeight/2;return d.scrollTo(null,S-E-5),d.setSelection(_)},defaultLineNumberFormatter:o,rewindLineNumberFormatter:s,updateEditorModeForFile(m){if(!(!m||(typeof e.selectedFile=="function"?e.selectedFile():void 0)&&m!==(typeof e.selectedFile=="function"?e.selectedFile():void 0))){if(e.filesWithDiffTooBig().includes(m.path())){d.setOption("mode","text/plain");return}if(m.name()!==vc){const _=st.findModeByFileName(m.name());if(_){d.setOption("mode",_.mode);const S=e.editorIsPreviewingRewind()?s:o;d.setOption("lineNumberFormatter",S);const E=e.editorIsPreviewingRewind()||m.extension()==="less"||m.extension()==="scss"||m.extension()==="sass"||m.extension()==="php"||m.extension()==="ejs"||m.extension()==="ts"||m.extension()==="tsx";d.setOption("lint",E?!1:n)}else d.setOption("mode","text/plain")}m.path()===".env"&&d.setOption("mode","text/x-dotenv"),m.path()===".eslintrc"&&d.setOption("mode","application/json"),m.path()===".prettierrc"&&d.setOption("mode","application/json"),m.extension()==="json"&&d.setOption("mode","application/json"),m.extension()==="coffee"&&d.setOption("mode","coffeescript"),m.extension()==="jsx"&&d.setOption("mode","jsx"),["handlebars","hbs","njk","eta","njk","ejs","svelte"].some(_=>_===m.extension())&&d.setOption("mode",{name:"handlebars",base:"text/html"}),m.extension()==="md"&&d.setOption("mode","markdown"),e.setLineWrapping(m),setTimeout(e.refreshAndLint,100),setTimeout(()=>e.setLineHighlights(m),100)}},setLineWrapping(m){e.wrapText()?d.setOption("lineWrapping",!0):d.setOption("lineWrapping",!1)},setLineHighlights(m){if(e.highlightFilePath()===m.path())for(const _ of e.highlights()){const S={line:_-1,ch:0},E={line:_-1,ch:null};e.getCurrentSession().markText(S,E,{css:"background: yellow"})}},refreshAndLint(){return e.refreshEditor(),e.performLint()},ensureSession(m){return m.addedByRewind()?m.session=Promise.resolve():m.session==null&&(m.session=e.initSession(m,e.otClient())),e.editorIsPreviewingRewind()?m.session.then(()=>m.diffSession!=null?m.diffSession:m.diffSession=e.initDiffSession(m)):m.session},trackChange(){return e.trackFileHelper(e.selectedFile(),"File Edited"),e.touchProject()},initSession(m,_){return _.document(m.id()).then(function(S){if(S.base64Content!=null)return m.base64Content(S.base64Content),{};const E=e.otCodeMirror().getCMDoc(m.id());let w=!0;if(m.content(E.getValue()),w=!1,!e.userPositionIsRestored()&&e.restorePath()===m.path()){const T=e.restoreLine(),C=e.restoreCharacter();d.on("viewportChange",function P(){d.off("viewportChange",P),d.setCursor(T-1,C,{scroll:!1}),d.scrollIntoView(d.getCursor(),d.getScrollInfo().clientHeight/2)}),e.userPositionIsRestored(!0)}else E.setCursor(0,0);return w=!1,m.content.observe(function(T){if(m.path()===".env"){const R=T.split(`
`).indexOf("GLITCH_DEBUGGER=true")>=0;e.readEnv(),e.debuggerEnabled(R)}if(m.path()==="watch.json"&&e.readWatchJson(),m.path()===".eslintrc.json"&&e.readEslintrc(),m.path()===".prettierrc"&&e.readPrettierrc(),w)return;const C=e.editor().lastLine(),P=e.editor().getLine(C).length;return E.replaceRange(T,{line:0,ch:0},{line:C,ch:P},"+input")}),E.on("change",function(T,C={}){return w=!0,m.content(E.getValue()),w=!1,C.origin==="+input"&&e.changeTracker(),typeof e.fileChanged=="function"?e.fileChanged(!0):void 0}),E})},applyPatchAndOTs(m,_,S){const E=e.patchesByPath()[m];E&&(_=L5.exports.applyPatch(_,E));const w=e.otsByPath()[m];if(w){const{applyEdit:T}=e.otClient().ot();let C=0;for(;C<w.length;){const P=w[C];if(S!=null&&P.index>=S)break;switch(P.type){case"add":_="";break;case"insert":case"remove":_=T(_,P);break;case"rename":const R=P.oldPath.substring(2);if(m===R)_="";else{const A=e.fileByPath(R),L=A?A.content():"";_=e.applyPatchAndOTs(R,L,P.index)}break}C+=1}}return _},findRenameSessions(m,_){return(e.otsByPath()[m]||[]).forEach(function(E){if(E.type==="rename"&&m===E.newPath.substring(2)){const w=E.oldPath.substring(2),T=e.fileByPath(w);return T&&_.push(e.ensureSession(T)),e.findRenameSessions(w,_)}})},initDiffSession(m){let _;const S=[];return m.addedByRewind()||S.push(m.session),e.filesWithDiffTooBig().includes(m.path())?(_={addedLines:[],removedLines:[]},_.content=st.Doc("The changes to this file are too big to be shown."),Promise.resolve(_)):(e.findRenameSessions(m.path(),S),Promise.all(S).then(function(){_={addedLines:[],removedLines:[]};const E=e.applyPatchAndOTs(m.path(),m.content()),w=OD.diffLineMode(m.content(),E);return _=OD.applyDiffInline(w),_.content=st.Doc(_.content),_}))},onCursorActivity(){const m=d.listSelections().filter(_=>!_.empty()).map(_=>{const S=d.indexFromPos(_.anchor),E=d.indexFromPos(_.head);return E>S?{start:S,end:E}:{start:E,end:S}});e.editorRangeSelections(m)}}),e.changeTracker=LD(e.trackChange,60*1e3),window.addEventListener("resize",e.refreshEditor)}function Z_e(t,e){let n=null;const i=zs.replace(/^http/,"ws"),o=function(){if((n!=null?n.readyState:void 0)===1)return n.send("keep alive")},s=function(a,l){const c=e.ReconnectingWebSocket||M7,u=`${i}/${a.id()}/logs?authorization=${l}`;return e.clearLogs(),n=new c(u,null,{timeoutInterval:3e4}),n.onopen=d=>e.logStatus("Connected"),n.onclose=d=>e.logStatus("Disconnected"),n.onmessage=({data:d})=>{const f=JSON.parse(d);if(f.type==="error"){n.close(3e3);return}e.appendLog(f)},n.onerror=d=>e.logger().log("log socket error",d)};return e.extend({connectToLogs(a,l){const c=e.logStatus();if(c!=="Connected"&&c!=="Connecting")return e.logStatus("Connecting"),s(a,l)},disconnectFromLogs(){if(e.logStatus("Disconnecting"),n&&n.readyState!==3)return n.close()},sendLogSocketKeepAlive:o}),e}var j5=["\u{1F4AF}","\u{1F522}","\u{1F600}","\u{1F603}","\u{1F604}","\u{1F601}","\u{1F606}","\u{1F605}","\u{1F923}","\u{1F602}","\u{1F642}","\u{1F609}","\u{1F60A}","\u{1F607}","\u{1F970}","\u{1F60D}","\u{1F929}","\u{1F618}","\u{1F617}","\u263A\uFE0F","\u{1F61A}","\u{1F619}","\u{1F972}","\u{1F60B}","\u{1F61B}","\u{1F61C}","\u{1F92A}","\u{1F61D}","\u{1F911}","\u{1F917}","\u{1F92D}","\u{1F92B}","\u{1F914}","\u{1F636}","\u{1F60F}","\u{1F62C}","\u{1F925}","\u{1F60C}","\u{1F634}","\u{1F637}","\u{1F912}","\u{1F975}","\u{1F976}","\u{1F974}","\u{1F635}","\u{1F92F}","\u{1F920}","\u{1F973}","\u{1F978}","\u{1F60E}","\u{1F913}","\u{1F9D0}","\u{1F62E}","\u{1F62F}","\u{1F632}","\u{1F633}","\u{1F97A}","\u{1F624}","\u{1F608}","\u{1F479}","\u{1F47A}","\u{1F47B}","\u{1F47D}","\u{1F47E}","\u{1F916}","\u{1F63A}","\u{1F638}","\u{1F639}","\u{1F63B}","\u{1F63C}","\u{1F63D}","\u{1F48B}","\u{1F48C}","\u{1F498}","\u{1F49D}","\u{1F496}","\u{1F497}","\u{1F493}","\u{1F49E}","\u{1F495}","\u{1F49F}","\u2763\uFE0F","\u{1F494}","\u2764\uFE0F","\u{1F9E1}","\u{1F49B}","\u{1F49A}","\u{1F499}","\u{1F49C}","\u{1F90E}","\u{1F5A4}","\u{1F90D}","\u{1F4A2}","\u{1F4A5}","\u{1F4AB}","\u{1F4A6}","\u{1F4A8}","\u{1F573}\uFE0F","\u{1F4AC}","\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F","\u{1F5E8}\uFE0F","\u{1F5EF}\uFE0F","\u{1F4AD}","\u{1F4A4}","\u{1F44B}","\u{1F91A}","\u{1F590}\uFE0F","\u270B","\u{1F596}","\u270C\uFE0F","\u{1F91E}","\u{1F91F}","\u{1F918}","\u{1F919}","\u{1F448}","\u{1F449}","\u{1F446}","\u{1F447}","\u261D\uFE0F","\u{1F44D}","\u{1F44F}","\u{1F64C}","\u{1F450}","\u{1F932}","\u{1F91D}","\u{1F64F}","\u270D\uFE0F","\u{1F485}","\u{1F933}","\u{1F4AA}","\u{1F9BE}","\u{1F9BF}","\u{1F9B5}","\u{1F9B6}","\u{1F442}","\u{1F9BB}","\u{1F443}","\u{1F9E0}","\u{1FAC0}","\u{1FAC1}","\u{1F9B7}","\u{1F9B4}","\u{1F440}","\u{1F441}\uFE0F","\u{1F444}","\u{1F5E3}\uFE0F","\u{1F464}","\u{1F465}","\u{1FAC2}","\u{1F463}","\u{1F435}","\u{1F412}","\u{1F98D}","\u{1F9A7}","\u{1F436}","\u{1F415}","\u{1F9AE}","\u{1F415}\u200D\u{1F9BA}","\u{1F429}","\u{1F43A}","\u{1F98A}","\u{1F99D}","\u{1F431}","\u{1F408}","\u{1F408}\u200D\u2B1B","\u{1F981}","\u{1F42F}","\u{1F405}","\u{1F406}","\u{1F434}","\u{1F40E}","\u{1F984}","\u{1F993}","\u{1F98C}","\u{1F9AC}","\u{1F42E}","\u{1F402}","\u{1F403}","\u{1F404}","\u{1F437}","\u{1F416}","\u{1F417}","\u{1F43D}","\u{1F40F}","\u{1F411}","\u{1F410}","\u{1F42A}","\u{1F42B}","\u{1F999}","\u{1F992}","\u{1F418}","\u{1F9A3}","\u{1F98F}","\u{1F99B}","\u{1F42D}","\u{1F401}","\u{1F400}","\u{1F439}","\u{1F430}","\u{1F407}","\u{1F43F}\uFE0F","\u{1F9AB}","\u{1F994}","\u{1F987}","\u{1F43B}","\u{1F43B}\u200D\u2744\uFE0F","\u{1F428}","\u{1F43C}","\u{1F9A5}","\u{1F9A6}","\u{1F9A8}","\u{1F998}","\u{1F9A1}","\u{1F43E}","\u{1F983}","\u{1F414}","\u{1F413}","\u{1F423}","\u{1F424}","\u{1F425}","\u{1F426}","\u{1F427}","\u{1F54A}\uFE0F","\u{1F985}","\u{1F986}","\u{1F9A2}","\u{1F989}","\u{1F9A4}","\u{1FAB6}","\u{1F9A9}","\u{1F99A}","\u{1F99C}","\u{1F438}","\u{1F40A}","\u{1F422}","\u{1F98E}","\u{1F40D}","\u{1F432}","\u{1F409}","\u{1F995}","\u{1F996}","\u{1F433}","\u{1F40B}","\u{1F42C}","\u{1F9AD}","\u{1F41F}","\u{1F420}","\u{1F421}","\u{1F988}","\u{1F419}","\u{1F41A}","\u{1F40C}","\u{1F98B}","\u{1F41B}","\u{1F41C}","\u{1F41D}","\u{1FAB2}","\u{1F41E}","\u{1F997}","\u{1FAB3}","\u{1F577}\uFE0F","\u{1F578}\uFE0F","\u{1F982}","\u{1F99F}","\u{1FAB0}","\u{1FAB1}","\u{1F9A0}","\u{1F490}","\u{1F338}","\u{1F4AE}","\u{1F3F5}\uFE0F","\u{1F339}","\u{1F940}","\u{1F33A}","\u{1F33B}","\u{1F33C}","\u{1F337}","\u{1F331}","\u{1FAB4}","\u{1F332}","\u{1F333}","\u{1F334}","\u{1F335}","\u{1F33E}","\u{1F33F}","\u2618\uFE0F","\u{1F340}","\u{1F341}","\u{1F342}","\u{1F343}","\u{1F347}","\u{1F348}","\u{1F349}","\u{1F34A}","\u{1F34B}","\u{1F34C}","\u{1F34D}","\u{1F96D}","\u{1F34E}","\u{1F34F}","\u{1F350}","\u{1F351}","\u{1F352}","\u{1F353}","\u{1FAD0}","\u{1F95D}","\u{1F345}","\u{1FAD2}","\u{1F965}","\u{1F951}","\u{1F954}","\u{1F955}","\u{1F33D}","\u{1F336}\uFE0F","\u{1FAD1}","\u{1F952}","\u{1F96C}","\u{1F966}","\u{1F9C4}","\u{1F9C5}","\u{1F344}","\u{1F95C}","\u{1F330}","\u{1F35E}","\u{1F950}","\u{1F956}","\u{1FAD3}","\u{1F968}","\u{1F96F}","\u{1F95E}","\u{1F9C7}","\u{1F9C0}","\u{1F354}","\u{1F35F}","\u{1F355}","\u{1F32D}","\u{1F96A}","\u{1F32E}","\u{1F32F}","\u{1FAD4}","\u{1F959}","\u{1F9C6}","\u{1F95A}","\u{1F373}","\u{1F958}","\u{1F372}","\u{1FAD5}","\u{1F963}","\u{1F957}","\u{1F37F}","\u{1F9C8}","\u{1F9C2}","\u{1F96B}","\u{1F371}","\u{1F358}","\u{1F359}","\u{1F35A}","\u{1F35B}","\u{1F35C}","\u{1F35D}","\u{1F360}","\u{1F362}","\u{1F363}","\u{1F364}","\u{1F365}","\u{1F96E}","\u{1F361}","\u{1F95F}","\u{1F960}","\u{1F961}","\u{1F980}","\u{1F99E}","\u{1F990}","\u{1F991}","\u{1F9AA}","\u{1F366}","\u{1F367}","\u{1F368}","\u{1F369}","\u{1F36A}","\u{1F382}","\u{1F370}","\u{1F9C1}","\u{1F967}","\u{1F36B}","\u{1F36C}","\u{1F36D}","\u{1F36E}","\u{1F36F}","\u{1F37C}","\u{1F95B}","\u2615","\u{1FAD6}","\u{1F375}","\u{1F376}","\u{1F964}","\u{1F9CB}","\u{1F9C3}","\u{1F9C9}","\u{1F9CA}","\u{1F962}","\u{1F37D}\uFE0F","\u{1F374}","\u{1F944}","\u{1F3FA}","\u{1F30D}","\u{1F30E}","\u{1F30F}","\u{1F310}","\u{1F5FA}\uFE0F","\u{1F5FE}","\u{1F9ED}","\u{1F3D4}\uFE0F","\u26F0\uFE0F","\u{1F30B}","\u{1F5FB}","\u{1F3D5}\uFE0F","\u{1F3D6}\uFE0F","\u{1F3DC}\uFE0F","\u{1F3DD}\uFE0F","\u{1F3DE}\uFE0F","\u{1F3DF}\uFE0F","\u{1F3DB}\uFE0F","\u{1F3D7}\uFE0F","\u{1F9F1}","\u{1FAA8}","\u{1FAB5}","\u{1F6D6}","\u{1F3D8}\uFE0F","\u{1F3DA}\uFE0F","\u{1F3E0}","\u{1F3E1}","\u{1F3E2}","\u{1F3E3}","\u{1F3E4}","\u{1F3E5}","\u{1F3E6}","\u{1F3E8}","\u{1F3E9}","\u{1F3EA}","\u{1F3EB}","\u{1F3EC}","\u{1F3ED}","\u{1F3EF}","\u{1F3F0}","\u{1F492}","\u{1F5FC}","\u{1F5FD}","\u26EA","\u{1F54C}","\u{1F6D5}","\u{1F54D}","\u26E9\uFE0F","\u{1F54B}","\u26F2","\u26FA","\u{1F301}","\u{1F303}","\u{1F3D9}\uFE0F","\u{1F304}","\u{1F305}","\u{1F306}","\u{1F307}","\u{1F309}","\u2668\uFE0F","\u{1F3A0}","\u{1F3A1}","\u{1F3A2}","\u{1F488}","\u{1F3AA}","\u{1F682}","\u{1F683}","\u{1F684}","\u{1F685}","\u{1F686}","\u{1F687}","\u{1F688}","\u{1F689}","\u{1F68A}","\u{1F69D}","\u{1F69E}","\u{1F68B}","\u{1F68C}","\u{1F68D}","\u{1F68E}","\u{1F690}","\u{1F691}","\u{1F692}","\u{1F695}","\u{1F696}","\u{1F697}","\u{1F698}","\u{1F699}","\u{1F6FB}","\u{1F69A}","\u{1F69B}","\u{1F69C}","\u{1F3CE}\uFE0F","\u{1F3CD}\uFE0F","\u{1F6F5}","\u{1F9BD}","\u{1F9BC}","\u{1F6FA}","\u{1F6B2}","\u{1F6F4}","\u{1F6F9}","\u{1F6FC}","\u{1F68F}","\u{1F6E3}\uFE0F","\u{1F6E4}\uFE0F","\u{1F6E2}\uFE0F","\u26FD","\u{1F6A8}","\u{1F6A5}","\u{1F6A6}","\u{1F6D1}","\u{1F6A7}","\u2693","\u26F5","\u{1F6F6}","\u{1F6A4}","\u{1F6F3}\uFE0F","\u26F4\uFE0F","\u{1F6E5}\uFE0F","\u{1F6A2}","\u2708\uFE0F","\u{1F6E9}\uFE0F","\u{1F6EB}","\u{1F6EC}","\u{1FA82}","\u{1F4BA}","\u{1F681}","\u{1F69F}","\u{1F6A0}","\u{1F6A1}","\u{1F6F0}\uFE0F","\u{1F680}","\u{1F6F8}","\u{1F6CE}\uFE0F","\u{1F9F3}","\u231B","\u23F3","\u231A","\u23F0","\u23F1\uFE0F","\u23F2\uFE0F","\u{1F570}\uFE0F","\u{1F55B}","\u{1F567}","\u{1F550}","\u{1F55C}","\u{1F551}","\u{1F55D}","\u{1F552}","\u{1F55E}","\u{1F553}","\u{1F55F}","\u{1F554}","\u{1F560}","\u{1F555}","\u{1F561}","\u{1F556}","\u{1F562}","\u{1F557}","\u{1F563}","\u{1F558}","\u{1F564}","\u{1F559}","\u{1F565}","\u{1F55A}","\u{1F566}","\u{1F311}","\u{1F312}","\u{1F313}","\u{1F314}","\u{1F315}","\u{1F316}","\u{1F317}","\u{1F318}","\u{1F319}","\u{1F31A}","\u{1F31B}","\u{1F31C}","\u{1F321}\uFE0F","\u2600\uFE0F","\u{1F31D}","\u{1F31E}","\u{1FA90}","\u2B50","\u{1F31F}","\u{1F320}","\u{1F30C}","\u2601\uFE0F","\u26C5","\u26C8\uFE0F","\u{1F324}\uFE0F","\u{1F325}\uFE0F","\u{1F326}\uFE0F","\u{1F327}\uFE0F","\u{1F328}\uFE0F","\u{1F329}\uFE0F","\u{1F32A}\uFE0F","\u{1F32B}\uFE0F","\u{1F32C}\uFE0F","\u{1F300}","\u{1F308}","\u{1F302}","\u2602\uFE0F","\u2614","\u26F1\uFE0F","\u26A1","\u2744\uFE0F","\u2603\uFE0F","\u26C4","\u{1F4A7}","\u{1F30A}","\u{1F383}","\u{1F384}","\u{1F386}","\u{1F387}","\u2728","\u{1F388}","\u{1F389}","\u{1F38A}","\u{1F38B}","\u{1F38D}","\u{1F38E}","\u{1F38F}","\u{1F390}","\u{1F391}","\u{1F9E7}","\u{1F380}","\u{1F381}","\u{1F397}\uFE0F","\u{1F39F}\uFE0F","\u{1F3AB}","\u{1F396}\uFE0F","\u{1F3C6}","\u{1F3C5}","\u{1F947}","\u{1F948}","\u{1F949}","\u26BD","\u26BE","\u{1F94E}","\u{1F3C0}","\u{1F3D0}","\u{1F3C8}","\u{1F3C9}","\u{1F3BE}","\u{1F94F}","\u{1F3B3}","\u{1F3CF}","\u{1F3D1}","\u{1F3D2}","\u{1F94D}","\u{1F3D3}","\u{1F3F8}","\u{1F94A}","\u{1F94B}","\u{1F945}","\u26F3","\u26F8\uFE0F","\u{1F3A3}","\u{1F93F}","\u{1F3BD}","\u{1F3BF}","\u{1F6F7}","\u{1F94C}","\u{1F3AF}","\u{1FA80}","\u{1FA81}","\u{1F3B1}","\u{1F52E}","\u{1FA84}","\u{1F9FF}","\u{1F3AE}","\u{1F579}\uFE0F","\u{1F3B0}","\u{1F3B2}","\u{1F9E9}","\u{1F9F8}","\u{1FA85}","\u{1FA86}","\u2660\uFE0F","\u2665\uFE0F","\u2666\uFE0F","\u2663\uFE0F","\u265F\uFE0F","\u{1F0CF}","\u{1F004}","\u{1F3B4}","\u{1F3AD}","\u{1F5BC}\uFE0F","\u{1F3A8}","\u{1F9F5}","\u{1FAA1}","\u{1F9F6}","\u{1FAA2}","\u{1F453}","\u{1F576}\uFE0F","\u{1F97D}","\u{1F97C}","\u{1F9BA}","\u{1F454}","\u{1F455}","\u{1F456}","\u{1F9E3}","\u{1F9E4}","\u{1F9E5}","\u{1F9E6}","\u{1F457}","\u{1F458}","\u{1F97B}","\u{1FA71}","\u{1FA72}","\u{1FA73}","\u{1F45A}","\u{1F45B}","\u{1F45C}","\u{1F45D}","\u{1F6CD}\uFE0F","\u{1F392}","\u{1FA74}","\u{1F45E}","\u{1F45F}","\u{1F97E}","\u{1F97F}","\u{1F460}","\u{1F461}","\u{1FA70}","\u{1F462}","\u{1F451}","\u{1F452}","\u{1F3A9}","\u{1F393}","\u{1F9E2}","\u{1FA96}","\u26D1\uFE0F","\u{1F4FF}","\u{1F484}","\u{1F48D}","\u{1F48E}","\u{1F507}","\u{1F508}","\u{1F509}","\u{1F50A}","\u{1F4E2}","\u{1F4E3}","\u{1F4EF}","\u{1F514}","\u{1F515}","\u{1F3BC}","\u{1F3B5}","\u{1F3B6}","\u{1F399}\uFE0F","\u{1F39A}\uFE0F","\u{1F39B}\uFE0F","\u{1F3A4}","\u{1F3A7}","\u{1F4FB}","\u{1F3B7}","\u{1FA97}","\u{1F3B8}","\u{1F3B9}","\u{1F3BA}","\u{1F3BB}","\u{1FA95}","\u{1F941}","\u{1FA98}","\u{1F4F1}","\u{1F4F2}","\u260E\uFE0F","\u{1F4DE}","\u{1F4DF}","\u{1F4E0}","\u{1F50B}","\u{1F50C}","\u{1F4BB}","\u{1F5A5}\uFE0F","\u{1F5A8}\uFE0F","\u2328\uFE0F","\u{1F5B1}\uFE0F","\u{1F5B2}\uFE0F","\u{1F4BD}","\u{1F4BE}","\u{1F4BF}","\u{1F4C0}","\u{1F9EE}","\u{1F3A5}","\u{1F39E}\uFE0F","\u{1F4FD}\uFE0F","\u{1F3AC}","\u{1F4FA}","\u{1F4F7}","\u{1F4F8}","\u{1F4F9}","\u{1F4FC}","\u{1F50D}","\u{1F50E}","\u{1F56F}\uFE0F","\u{1F4A1}","\u{1F526}","\u{1F3EE}","\u{1FA94}","\u{1F4D4}","\u{1F4D5}","\u{1F4D6}","\u{1F4D7}","\u{1F4D8}","\u{1F4D9}","\u{1F4DA}","\u{1F4D3}","\u{1F4D2}","\u{1F4C3}","\u{1F4DC}","\u{1F4C4}","\u{1F4F0}","\u{1F5DE}\uFE0F","\u{1F4D1}","\u{1F516}","\u{1F3F7}\uFE0F","\u{1F4B0}","\u{1FA99}","\u{1F4B4}","\u{1F4B5}","\u{1F4B6}","\u{1F4B7}","\u{1F4B8}","\u{1F4B3}","\u{1F9FE}","\u{1F4B9}","\u2709\uFE0F","\u{1F4E7}","\u{1F4E8}","\u{1F4E9}","\u{1F4E4}","\u{1F4E5}","\u{1F4E6}","\u{1F4EB}","\u{1F4EA}","\u{1F4EC}","\u{1F4ED}","\u{1F4EE}","\u{1F5F3}\uFE0F","\u270F\uFE0F","\u2712\uFE0F","\u{1F58B}\uFE0F","\u{1F58A}\uFE0F","\u{1F58C}\uFE0F","\u{1F58D}\uFE0F","\u{1F4DD}","\u{1F4BC}","\u{1F4C1}","\u{1F4C2}","\u{1F5C2}\uFE0F","\u{1F4C5}","\u{1F4C6}","\u{1F5D2}\uFE0F","\u{1F5D3}\uFE0F","\u{1F4C7}","\u{1F4C8}","\u{1F4C9}","\u{1F4CA}","\u{1F4CB}","\u{1F4CC}","\u{1F4CD}","\u{1F4CE}","\u{1F587}\uFE0F","\u{1F4CF}","\u{1F4D0}","\u2702\uFE0F","\u{1F5C3}\uFE0F","\u{1F5C4}\uFE0F","\u{1F5D1}\uFE0F","\u{1F512}","\u{1F513}","\u{1F50F}","\u{1F510}","\u{1F511}","\u{1F5DD}\uFE0F","\u{1FA83}","\u{1F6E1}\uFE0F","\u{1FA9A}","\u{1F527}","\u{1FA9B}","\u{1F529}","\u2699\uFE0F","\u{1F5DC}\uFE0F","\u2696\uFE0F","\u{1F9AF}","\u{1F517}","\u26D3\uFE0F","\u{1FA9D}","\u{1F9F0}","\u{1F9F2}","\u{1FA9C}","\u2697\uFE0F","\u{1F9EA}","\u{1F9EB}","\u{1F9EC}","\u{1F52C}","\u{1F52D}","\u{1F4E1}","\u{1FA79}","\u{1FA7A}","\u{1F6AA}","\u{1F6D7}","\u{1FA9E}","\u{1FA9F}","\u{1F6CF}\uFE0F","\u{1F6CB}\uFE0F","\u{1FA91}","\u{1F6BD}","\u{1FAA0}","\u{1F6BF}","\u{1F6C1}","\u{1FAA4}","\u{1FA92}","\u{1F9F4}","\u{1F9F7}","\u{1F9F9}","\u{1F9FA}","\u{1F9FB}","\u{1FAA3}","\u{1F9FC}","\u{1FAA5}","\u{1F9FD}","\u{1F9EF}","\u{1F6D2}","\u{1F5FF}","\u{1FAA7}","\u{1F3E7}","\u{1F6B0}","\u{1F6B8}","\u2B06\uFE0F","\u2197\uFE0F","\u27A1\uFE0F","\u2198\uFE0F","\u2B07\uFE0F","\u2199\uFE0F","\u2B05\uFE0F","\u2196\uFE0F","\u2195\uFE0F","\u2194\uFE0F","\u21A9\uFE0F","\u21AA\uFE0F","\u2934\uFE0F","\u2935\uFE0F","\u{1F503}","\u{1F504}","\u{1F500}","\u{1F501}","\u{1F502}","\u25B6\uFE0F","\u23E9","\u23ED\uFE0F","\u23EF\uFE0F","\u25C0\uFE0F","\u23EA","\u23EE\uFE0F","\u{1F53C}","\u23EB","\u{1F53D}","\u23EC","\u23F8\uFE0F","\u23F9\uFE0F","\u23FA\uFE0F","\u23CF\uFE0F","\u{1F3A6}","\u{1F505}","\u{1F506}","\u{1F4F6}","\u{1F4F3}","\u{1F4F4}","\u2716\uFE0F","\u2795","\u2796","\u2797","\u267E\uFE0F","\u203C\uFE0F","\u2049\uFE0F","\u2753","\u2754","\u2755","\u2757","\u3030\uFE0F","\u{1F4B1}","\u{1F4B2}","\u2695\uFE0F","\u267B\uFE0F","\u269C\uFE0F","\u{1F531}","\u{1F4DB}","\u{1F530}","\u2B55","\u2705","\u2611\uFE0F","\u2714\uFE0F","\u27B0","\u27BF","\u303D\uFE0F","\u2733\uFE0F","\u2734\uFE0F","\u2747\uFE0F","\xA9\uFE0F","\xAE\uFE0F","\u2122\uFE0F","#\uFE0F\u20E3","*\uFE0F\u20E3","0\uFE0F\u20E3","1\uFE0F\u20E3","2\uFE0F\u20E3","3\uFE0F\u20E3","4\uFE0F\u20E3","5\uFE0F\u20E3","6\uFE0F\u20E3","7\uFE0F\u20E3","8\uFE0F\u20E3","9\uFE0F\u20E3","\u{1F51F}","\u{1F520}","\u{1F521}","\u{1F523}","\u{1F524}","\u{1F192}","\u{1F193}","\u{1F195}","\u{1F534}","\u{1F7E0}","\u{1F7E1}","\u{1F7E2}","\u{1F535}","\u{1F7E3}","\u{1F7E4}","\u26AB","\u26AA","\u{1F7E5}","\u{1F7E7}","\u{1F7E8}","\u{1F7E9}","\u{1F7E6}","\u{1F7EA}","\u{1F7EB}","\u2B1B","\u2B1C","\u25FC\uFE0F","\u25FB\uFE0F","\u25FE","\u25FD","\u25AA\uFE0F","\u25AB\uFE0F","\u{1F536}","\u{1F537}","\u{1F538}","\u{1F539}","\u{1F53A}","\u{1F53B}","\u{1F4A0}","\u{1F518}","\u{1F533}","\u{1F532}"],Q_e={random:function(t){for(var e=t?t.count:j5.length,n=[],i=0,o=e;i<o;i++){var s=j5[Math.floor(Math.random()*j5.length)];n.push(s)}return n}};function ND(t=1){return Q_e.random({count:t}).join("")}function kD(t,e,n=null){const i=t.match(e);return i===null?null:n!==null?i[n+1]:i[0]}function DD(t,e,n){const i=kD(t,e,n);return i!==null?i:t}const ebe=(t={},e=null)=>(t=t||{},e=e||Qo(t),e.extend({DEFAULT_IMPORT_INPUT:"user/repo:path",DEFAULT_EXPORT_INPUT:"user/repo",PREFERENCE_KEY_IMPORT:"lastUsedGitHubRepo",PREFERENCE_KEY_EXPORT:"lastUsedGitHubRepoExport",lastUsedGitHubRepoForImport(){return e.readUserProjectPreference(e.PREFERENCE_KEY_IMPORT)},lastUsedGitHubRepoForExport(){return e.readUserProjectPreference(e.PREFERENCE_KEY_EXPORT)||e.lastUsedGitHubRepoForImport()},readUserProjectPreference(n){const i=e.currentProjectId();return(e.getUserPref(n)||new Object)[i]},updateUserProjectPreference(n,i){const o=e.currentProjectId(),s=e.getUserPref(n)||new Object;return s[o]=i,e.updateUserPrefs(n,s)},sanitizedGithubRepoInput(n){let i=n;return i=DD(i,/^(http(s|):\/\/)?(www\.)?(github\.com)?(\/)?(.+)$/,5),i=DD(i,/(.*)(\/|\.git)$/,0),i=kD(i,/^[-\w]+\/[.\-_\w]+(:.+)?$/),i},async importFromGitHub(){const n=[`Import from an existing GitHub repository - please note that this will overwrite your current project.
`,`Enter the GitHub username, repository name, and optionally a relative path to a specific folder to import using the following format: username/repository:path.
`].join(`
`);let i=window.prompt(n,e.lastUsedGitHubRepoForImport()||e.DEFAULT_IMPORT_INPUT);if(i){if(e.closeAllPopOvers(),i=e.sanitizedGithubRepoInput(i),!i){e.notifyInvalidGitRepository(!0);return}e.updateUserProjectPreference(e.PREFERENCE_KEY_IMPORT,i);const[o,s]=i.split(":");e.projectMachine.send({type:"IMPORT_GITHUB",data:{importGitHubRepo:`${o}`,path:s}})}},async exportToGitHub(){const n=e.lastUsedGitHubRepoForExport()||e.DEFAULT_EXPORT_INPUT,[i,o]=n.split(":"),a=[!!o?`Note: The project was imported from GitHub using a sub-path, which isn't yet supported for exporting. If you want to export to the root of the repository you can do so by removing ":${o}" below.
`:null,`Note: Your GitHub repository needs to have at least one file in it already.
`,`This will export your project to the 'glitch' branch of your existing GitHub Repo:
`].filter(c=>!!c).join(`
`);let l=window.prompt(a,n);if(l){if(l.includes(":"))return window.alert("Sorry, we don't support exporting using a sub-path at the moment."),Promise.resolve();if(l=e.sanitizedGithubRepoInput(l),!l)return e.notifyInvalidGitRepository(!0),Promise.resolve();const c=window.prompt("Custom commit message?",`${ND(2)} Updated with Glitch`);if(c===null)return Promise.resolve();e.updateUserProjectPreference(e.PREFERENCE_KEY_EXPORT,l),e.notifyGithubExporting(!0);try{await e.publishGitHubRepo(l,c),e.analytics.track("GitHub Repository Exported"),e.notifyGithubExporting(!1),e.notifyGithubExportSuccess(!0),e.closeAllPopOvers()}catch(u){e.notifyGithubExporting(!1),u.repo=l,u instanceof ms.HTTPError?u.response.status===404?((await u.response.json()).message==="This repository is empty."?u.message="We currently can only export to repos with at least one file in them, but this repo is empty.":u.message="This repo either doesn't exist, or is private and you don't have access.",e.notifyGithubExportFailure(u)):u.response.status===403?(u.message="You don't seem to have permission to write to this repo.",e.notifyGithubExportFailure(u)):e.notifyGenericError(!0):e.notifyGenericError(!0)}}}}));function tbe(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(o);++i<o;)s[i]=t[i+e];return s}var nbe=tbe,rbe=JT,FD=1/0,ibe=17976931348623157e292;function sbe(t){if(!t)return t===0?t:0;if(t=rbe(t),t===FD||t===-FD){var e=t<0?-1:1;return e*ibe}return t===t?t:0}var obe=sbe,abe=obe;function lbe(t){var e=abe(t),n=e%1;return e===e?n?e-n:e:0}var B5=lbe,cbe=nbe,ube=B5;function dbe(t,e,n){var i=t==null?0:t.length;return i?(e=n||e===void 0?1:ube(e),e=i-e,cbe(t,e<0?0:e,i)):[]}var fbe=dbe;const UD="ENTRY",jD="DIVIDER",hbe=1e3;function pbe(t){return t.replace(/\x1B\[[0-9;]*[a-zA-Z]/g,"")}function mbe(t,e,n,i){return{id:p2(),type:UD,message:pbe(i),process:t,stream:e,timestamp:n,emoji:ND(2)}}function gbe(t){return{id:p2(),type:jD,timestamp:t}}function vbe(t,e){const n=te([]);let i=null,o=!1;const s=({process:l,message:c})=>{if(!!["signal","install"].includes(l))switch(!1){case c!=="listening":e.projectContainerStatus("ok"),e.updatePreview(),e.readDebuggerSetting().then(()=>e.debuggerReady(typeof e.debuggerEnabled=="function"?e.debuggerEnabled():void 0));break;case c!=="restart":e.debuggerReady(!1),e.projectRuntimeInfo(""),e.projectContainerStatus("building");break;case!c.match(/^saved/):e.updatePreview();break;case!c.match(/^error/):e.projectContainerStatus("error");break;case!c.match(/^app-type/):{const u=e.projectAppType(),d=c.substring(c.indexOf(" ")+1);e.projectAppType(d),!e.isFeatureEnabled("generated_static_site_ui")&&u!==null&&(u!==d&&e.analytics.track("App Type Changed"),u!=="static"&&d==="static"&&!e.getUserPref("hasFirstSwitchToStatic")?(e.notifyFirstSwitchToStatic(!0),e.updateUserPrefs("hasFirstSwitchToStatic",!0)):u==="static"&&d!=="static"&&!e.getUserPref("hasFirstSwitchToNonStatic")&&(e.notifyFirstSwitchToNonStatic(!0),e.updateUserPrefs("hasFirstSwitchToNonStatic",!0)));break}case!c.match(/^app-info/):e.projectRuntimeInfo()===""&&e.projectRuntimeInfo(c.substring(c.indexOf(" ")+1));break;case l!=="install":e.projectContainerStatus("building");break}},a=(...l)=>{const c=n().concat(l),u=fbe(c,hbe);n(u)};return e.extend({logsData:n,logStatus:te(),appendLog(l){const c=mbe(l.process,l.stream,l.timestamp,l.text);if(s(c),c.process==="signal"){o=!0;return}o||i&&i!==c.process?a(gbe(c.timestamp),c):a(c),o=!1,i=c.process},clearLogs(){n([])}}),e}const ybe=["editor_show_preview"],_be=["ui_editor_refresh"];function bbe(t,e){let n=null;return hk&&(n=_y.createInstance({sdkKey:hk,logger:_y.logging.createLogger({logLevel:Zoe||_y.enums.LOG_LEVEL.INFO})})),e.extend({isFeatureEnabled(i){var a,l;const o=e.getFeatureOverride(i);let s;return o==null?s=(n==null?void 0:n.isFeatureEnabled(i,String((a=e.currentUser())==null?void 0:a.id()),{userId:String((l=e.currentUser())==null?void 0:l.id())}))||!1:s=o,ybe.includes(i)&&e.analytics.track("Experiment Viewed",{experiment_name:i,variation_name:s?"variant":"baseline"}),s},getFeatureOverride(i){var s;if(!I7())return!1;if(_be.includes(i))return!0;const o=JSON.parse(window.localStorage.getItem("community-userPrefs"));return(s=o==null?void 0:o.optimizelyOverrides)==null?void 0:s[i]},setFeatureOverride(i,o){if(!I7())return;const s=JSON.parse(window.localStorage.getItem("community-userPrefs"))||{};s.optimizelyOverrides||(s.optimizelyOverrides={}),s.optimizelyOverrides[i]=o,window.localStorage.setItem("community-userPrefs",JSON.stringify(s))}})}const V5={appType:"static",buildDirectory:""};function Ebe(t,e){function n(s){try{const a=s.getValue();e.appTypeConfig(JSON.parse(a))}catch(a){console.error(a),e.appTypeConfig(V5)}}async function i(){let s=e.fileByPath(f5);return s||(s=await e.newFile(f5,JSON.stringify(V5))),s}const o=s=>e.ensureSession(s).then(a=>{if(e.editor().swapDoc(a),s.assetsListener)return a;s.assetsListener=a;const l=()=>n(a);return a.on("change",l),l(),a});e.extend({appTypeConfig:te(V5),async updateAppTypeConfig(s){e.appTypeConfig(s);const a=await i();e.writeToFile(a,JSON.stringify(s))},async appTypeConfigSession(){const s=await i();return o(s)}})}var BD={exports:{}};(function(t){function e(n){var i=void 0;typeof n=="string"?i=[n]:i=n.raw;for(var o="",s=0;s<i.length;s++)o+=i[s].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`"),s<(arguments.length<=1?0:arguments.length-1)&&(o+=arguments.length<=s+1?void 0:arguments[s+1]);var a=o.split(`
`),l=null;return a.forEach(function(c){var u=c.match(/^(\s+)\S+/);if(u){var d=u[1].length;l?l=Math.min(l,d):l=d}}),l!==null&&(o=a.map(function(c){return c[0]===" "?c.slice(l):c}).join(`
`)),o=o.trim(),o.replace(/\\n/g,`
`)}t.exports=e})(BD);var y_=BD.exports;function wbe(){return{totalUpdates(){return 30},updates(){return[{id:30,title:"Secure your secrets with new .env editor",body:y_`
The .env file in your project is a secure place to keep API keys or other credentials for your app. It’s only visible to you and your project collaborators, and it isn’t duplicated if someone remixes your project.

Now, the Glitch editor is introducing a brand new way to edit your .env. Never again do you need to worry about syntax mistakes causing invalid .env files, and if you miss the plaintext view it’s only a click away.

Open a project and try out the new editor!

<video autoplay loop muted playsinline>
  <source src="https://cdn.glitch.me/9cb65289-b168-4318-8f8a-8e5f3c2d8da1%2Fdotenv-demo.webm?v=1589396461116" type="video/webm">
  <source src="https://cdn.glitch.me/9cb65289-b168-4318-8f8a-8e5f3c2d8da1%2Fdotenv-demo.mp4?v=1589396461116" type="video/mp4">
</video>
          `},{id:29,title:"Make your code Prettier",body:`Ever wish you could snap your fingers and turn your code into a perfectly formatted masterpiece? Click the \u201CFormat This File\u201D button (or use the handy keyboard shortcut) and we'll magically clean up your current file.

![Format your code](https://cdn.glitch.me/63b9e699-61b7-49b1-9bde-ceeaf82e3dd1%2Fformat-file-gif.gif?v=1569875695381)

Want to format just part of a file? Highlight the lines you want to format, click the button or use the shortcut, and voila! It's especially handy if you're collaborating with people in the same file and don't want to format the line they're working on.

We use the fabulous [Prettier](https://prettier.io/) library for this, and have the default options applied. Use a .prettierc [JSON configuration file](https://prettier.io/docs/en/configuration.html#basic-configuration) in your project if you want to set your own preferences.

Thanks, from your friends at Glitch!`},{id:28,title:"Now your folders act like folders!",body:`Exciting news: your files and folders are now displayed in a handy, collapsible filetree.

We've been test-driving this for the Community site for the past few weeks, and it's grrrrreat! It's already made a huge difference in how we work on Glitch.

![Collapsible Filetree](https://cdn.glitch.me/6acc6ca5-e1ad-4cd9-9ec2-3756ebcb452a%2FScreenshot%202019-07-10%20at%205.42.40%20PM.png?v=1562794969579)

To create a file in a folder: Click on the New File button and separate the file name with a forward slash to designate the folder - like public/my-awesome-file.js. You can also now rename and delete folders directly, which will affect all the files within them, instead of renaming all your files one-by-one.

Happy collapsing!

\u2013 Sheridan and Edwin

`},{id:27,title:"Embedding your app just got easier",body:`We've redesigned our embed tool so that you can easily embed a Glitch project or code on another site. We've also added a "share" button so that other people can help spread the word about your app, too!

![Embedded Glitch App with New Bar Design](https://cdn.glitch.me/b97f2879-ef9d-44c8-acf7-9650a5f9c61f%2Fembedbar-demo.gif?1559242323828)

The embed generator also got a little love, so it's easier to customize the way your embed looks. And because we expanded our browser support, your embeds should look great in even more places.

\u2013 Tiff, Edwin, Jess, and Osmose

`},{id:26,title:"Show App in Editor",body:`You can now \`Show\` your App \`In Editor\`, while you code, where you code.

![Show App in Editor](https://cdn.glitch.me/6d561a98-036e-47a6-b152-a2a66a73d13e%2Fshow-app-in-editor.gif?1555698139611)

Not having to switch windows between your code and app makes a couple things easier:

- Teaching and Presenting

- Coding on an iPad

- And lets you use Glitch more like a a REPL on smaller projects

Psst, You can also now click \`Change URL\` to refresh a subpath of your app as you type.

Happy coding

\u2013 xoxo Pirijan \u{1F339}

`},{id:25,title:"More Ways to Share",body:`We've updated your project Sharing options to give you more ways to share, and make access permissions \u2013 and their implications \u2013 easier to understand.

The public/private project toggle now lives inside the \`Share\` button.

![share options](https://cdn.glitch.me/6d561a98-036e-47a6-b152-a2a66a73d13e%2F3.gif?1552067086515)

\u2013 Your Pal Pirijan

**And more**

- Embeds make it easy to share code snippets, tutorials, and cool apps inside Medium posts. To make that easier, you can now generate a Medium (and Embedly) embed link from \`Share \u27A1 Share Embed\` \u2013 Pirijan

- Like a helpful friend, the \`New File\` button now always appears in the sidebar, even if you've got a really tall filetree \u2013 by Tara

- Renaming files in the filetree is a bit nicer now \u2013 stay tuned for even more filetree updates from Sheridan

`},{id:24,title:"Searching Project Files",body:`You can now search your entire project through the search box (or by hitting \`\u2318-Shift-F\` or \`Ctrl-Shift-F\`). This makes it easier to work with big projects.

![search walkthrough](https://d2w9rnfcy7mm78.cloudfront.net/3680096/original_83b63778a7198ed0fffd17e98a57c2fd.gif?1550589425)

Sincerely,

\u2013 Pirijan, with illustration by GoodBoyGraphics
`},{id:23,title:"A Tools Box for Tools",body:"Now that the Glitch editor is over four years old it has way more features than it used to. So we've reorganized things to make the core editing experience less noisy, and to make advanced tools feel more consistent to find and use.\n\nA new **Tools** button at the _bottom_ of the editor now contains the old 'Advanced Options' (reworked into `Git, Import, and Export`), as well as helpful debugging tools like `Logs` and `Console`, and infrequently-used project features like `Custom Domains`.\n\n![tools at the bottom of the editor](https://cdn.glitch.me/6d561a98-036e-47a6-b152-a2a66a73d13e%2Ftools-pop-short.gif?1548699985926)\n\n\u2013 Pirijan\n\n![cat in box](https://cdn.glitch.me/6d561a98-036e-47a6-b152-a2a66a73d13e%2Fcat-box.gif?1548697331541)"},{id:20,title:"User Descriptions and Teams",body:`The description you've written for yourself on your user profile page is now displayed when someone clicks on you. If you've added images, links and more to it with markdown we'll display that extra personality too.

![profile with description and teams](https://cdn.glitch.me/6d561a98-036e-47a6-b152-a2a66a73d13e%2Fuser-teams.png?1543938298416)

Also you can now view the teams that someone is a part of. You can use this to quickly jump to your own teams, or just see what your friends are on.

\u2013 your pal Pirijan`},{id:19,title:"eslint support",body:`Continuing the theme of strong defaults that you can override, you can now add an \`.eslintrc.json\` file to your project to do things like hide code warnings, or setting your preferences around really specific things like string quotation rules.

Examples and a full list of options can be found at [eslint.org](https://eslint.org/docs/user-guide/configuring)

\u2013 Added by Emanuele`},{id:18,title:"Inline Console and Clearer Embeds",body:"You can now use the `Console` directly inside the editor, through the `Status` panel. Toggle it on to keep an eye on your builds and logs in the same handy window.\n\nTo prevent people accidently remixing when they meant to edit, `embeds no longer auto remix` when you type into them. We use Embeds all over our community site, but since they launched we've learned about how they're being used in tutorials and blog posts.\n\n\u2013 Made by Emanuele and Pirijan"}]}}}function xbe(t){let e;return e={selectAction(n,i){return i.preventDefault(),document.getElementById("project-search-input").blur(),t.closeAllPopOvers(),t.projectSearchBoxValue(""),e[n]()},keyboardShortcutOverlayToggle(){return t.analytics.track("Keyboard Shortcuts Viewed"),t.keyboardShortcutsOverlayVisible.toggle()},rewindPanelToggle(){return t.rewindPanelVisible.toggle()},logsPanelToggle(){return t.logsPanelVisible.toggle()},openConsole(){return t.consolePanelVisible.toggle()},projectOptionsPopToggle(){return t.projectPopVisible.toggle()},newOptionsPopToggle(){return t.newProjectPopVisible.toggle()},switchProjectPopToggle(){return t.projectsSelectPopVisible.toggle()},gitImportExportPopToggle(){return t.sidebarIsCollapsed(!1),t.gitImportExportPopVisible.toggle()},downloadProject(){return t.analytics.track("Project Downloaded",{clickLocation:"Project Search"}),window.location=t.projectDownloadUrl()},aboutPopToggle(){return t.aboutPopVisible.toggle()},newStuffOverlayToggle(){return t.analytics.track("Pupdate Viewed",{clickLocation:"Project Search"}),t.newStuffOverlayVisible.toggle()},accountToggle(){return t.accountPopVisible.toggle()},refreshPreviewOnChangesToggle(){return t.analytics.track("Refresh App Setting Changed"),t.refreshPreviewOnChanges.toggle()},wrapTextToggle(){return t.analytics.track("Wrap Text Setting Changed"),t.wrapText.toggle()},currentFile(){return t.selectedFile()},showAssets(){return t.showAssets()},shareEmbedOverlayToggle(){return t.shareEmbedOverlayVisible.toggle()},customDomainPopToggle(){return t.analytics.track("Custom Domains Viewed"),t.sidebarIsCollapsed(!1),t.customDomainPopVisible.toggle()},containerStatsPanelToggle(){return t.containerStatsPanelVisible.toggle()},newFilePopToggle(){return t.sidebarIsCollapsed(!1),t.newFilePopVisible.toggle()},sharePopToggle(){return t.sidebarIsCollapsed(!1),t.sharePopVisible.toggle()},shareButtonsPopToggle(){return t.sidebarIsCollapsed(!1),t.shareButtonsPopVisible.toggle()},toggleAppPreview(){t.appPreviewVisible()?t.appPreviewIsCollapsed.toggle():(t.appPreviewVisible(!0),t.appPreviewIsCollapsed(!1))},deleteCurrentFile(){e.deleteFile(e.currentFile())},deleteFile(n){t.closeAllPopOvers(),confirm(`Delete ${n.path()}?`)&&t.deleteFile(n)},deleteFolder(n){t.closeAllPopOvers();const i=n.name(),o=n.id();confirm(`Delete ${i} and all files and folders that it contains?`)&&t.deleteFolder(o,t.otClient().idToPath(o).substring(2))},renameCurrentFile(){e.renameFile(e.currentFile())},renameFile(n){t.closeAllPopOvers(),n.renaming(!0)},renameFolder(n){t.closeAllPopOvers(),n.renaming(!0)},async copyCurrentFile(){return e.copyFile(e.currentFile())},async copyFile(n){t.closeAllPopOvers();const i=prompt("New name",`${n.path()} copy`);if(i)try{await t.ensureSession(n),await t.newFile(i,n.content())}catch(o){console.warn(o),t.notifyGenericError(!0)}},showApp(){t.preview()&&t.notifyPreviewWindowOpened(!0)},sidebarToggle(){t.sidebarIsCollapsed.toggle(),t.updateUserPrefs("sidebarIsCollapsed",t.sidebarIsCollapsed())},remixProject(){t.projectPopVisible(!1),t.remixCurrentProject()},async importFromGitHub(){try{return await t.currentUserHasGithubRepoScope(),t.importFromGitHub()}catch{return t.redirectToGitHubLogin("repo user:email")}},async exportToGitHub(){try{return await t.currentUserHasGithubRepoScope()?t.exportToGitHub():t.notifyGithubExportNoRepoScopeError(!0)}catch{return t.notifyGenericError(!0)}},deleteCurrentProject(){const n=t.currentProject()&&t.currentProject().users()&&t.currentProject().users().length>1?`Deleting this project will delete it for everyone. You can also just leave the project by clicking yourself in the sidebar.
`:"";if(confirm(`${n}
Are you sure you want to archive ${t.projectName()}? You can undo this from the Projects Dashboard later.`))return t.closeAllPopOvers(),t.deleteCurrentProject(),t.rewindPanelVisible(!1)},changeTheme(){t.analytics.track("Theme Changed"),t.setPreferredTheme(t.currentTheme()==="sugar"?"cosmos":"sugar")}}}function Sbe(t){const e={searchValue:te(""),searchedValue:te(""),searchedResults:te([]),selectedResult:te({}),groupedSearchResults:te([]),searchWhere:te("All Files"),caseSensitive:te(!1),loading:te(!1),searchWhereOption(){let n=e.searchWhere(),i=t.currentFileInfo().path,o=t.currentFileInfo().folders,s=t.currentFileInfo().extension;return n.includes("Current File")?`--include '${i}'`:n.includes("Current Folder")&&o?`--include '${o}*'`:n.includes("Current Type")&&s?`--include '*.${s}'`:"--include '*'"},clearSearch(){e.loading(!1),e.searchValue(""),e.searchedValue(""),e.searchedResults([]),e.selectedResult({})},caseSensitiveOption(){return e.caseSensitive()?"":"--ignore-case"},splitMatch(n){let i=e.searchValue(),o=n.toLowerCase().indexOf(i.toLowerCase());return{before:n.substring(0,o),match:n.substring(o,o+i.length),after:n.substring(o+i.length,n.length),character:o}},isPathRecent(n){return t.recentFiles().some(function(i){return i.path()===n})},normalizeResult(n,i){let o=n.split(":"),s=kve(n,":",2),a=n.substring(s+1,n.length).trim(),l=e.splitMatch(a),c=o[0],u=o[1],d=e.isPathRecent(c);return{path:c,line:u,rawMatch:a,beforeMatch:l.before,match:l.match,afterMatch:l.after,character:l.character,index:i,isRecent:d}},groupSearchResults(n){let i=[],o=n.map(function(s){return s.path});o=_D(o),o.forEach(function(s){let a=n.filter(function(l){return l.path===s});i.push(a)}),e.groupedSearchResults(i)},searchCommand(){const n=e.searchValue().trim(),i=e.caseSensitiveOption(),o=e.searchWhereOption(),s='/bin/bash -c "sort <(git ls-files -c -o --exclude-standard) <(git ls-files -d) <(git ls-files -d) | uniq -u"',a=`xargs -d "
" grep ${i} --line-number ${o} "${n.replace(/"/g,'\\"')}"`;return`${s} | ${a}`},async search(){const n=e.searchValue().trim();if(!n){e.clearSearch();return}if(!t.projectIsMemberOrMoreForCurrentUser())return;e.loading(!0),e.searchedResults([]),e.searchedValue(n);const i=e.searchCommand();try{let o=await t.containerExec(i);o=o.stdout.split(`
`),o=o.filter(Boolean),o=o.map(e.normalizeResult),o=o.filter(s=>t.fileByPath(s.path)!==void 0),e.searchedResults(o),e.groupSearchResults(o)}catch(o){e.searchedResults([]),console.log("no results found",o)}finally{e.loading(!1)}},selectResult(n){return t.closeAllPopOvers(),t.selectFileByPathOrDefaultFile(n.path),t.fileByPath(n.path).extension()==="md"&&t.markdownPreviewVisible(!1),t.selectedFile().session.then(function(){t.editor().setCursor(n.line-1,n.character),e.selectedResult(n)})}};return e.filteredGroupedSearchResults=te(()=>e.groupedSearchResults().filter(n=>t.fileByPath(n[0].path)!==void 0)),e}var Tbe=Math.floor,Cbe=Math.random;function Mbe(t,e){return t+Tbe(Cbe()*(e-t+1))}var Abe=Mbe,Pbe=Abe;function Rbe(t){var e=t.length;return e?t[Pbe(0,e-1)]:void 0}var VD=Rbe,Lbe=Ck;function Ibe(t,e){return Lbe(e,function(n){return t[n]})}var Obe=Ibe;function Nbe(t,e){return function(n){return t(e(n))}}var kbe=Nbe,Dbe=kbe,Fbe=Dbe(Object.keys,Object),Ube=Fbe,jbe=f7,Bbe=Ube,Vbe=Object.prototype,Hbe=Vbe.hasOwnProperty;function zbe(t){if(!jbe(t))return Bbe(t);var e=[];for(var n in Object(t))Hbe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Gbe=zbe,$be=d7,Wbe=Gbe,qbe=QT;function Ybe(t){return qbe(t)?$be(t):Wbe(t)}var H5=Ybe,Kbe=Obe,Xbe=H5;function Jbe(t){return t==null?[]:Kbe(t,Xbe(t))}var Zbe=Jbe,Qbe=VD,eEe=Zbe;function tEe(t){return Qbe(eEe(t))}var nEe=tEe,rEe=VD,iEe=nEe,sEe=qo;function oEe(t){var e=sEe(t)?rEe:iEe;return e(t)}var HD=oEe;const aEe={asterik:"m86.1990461 132.764934-16.4826831 4.365888c-2.989694.791902-6.0552831-.98976-6.8471851-3.979454-.2489071-.939707-.2489071-1.928024 0-2.867731l4.3658881-16.482683c2.3957305-9.044681 2.3957305-18.5572265 0-27.6019079l-4.3658881-16.4826831c-.7919019-2.989694.9897605-6.0552831 3.9794544-6.8471851.9397071-.2489071 1.9280235-.2489071 2.8677307 0l16.4826831 4.3658881c9.0446814 2.3957305 18.5572269 2.3957305 27.6019079 0l16.482683-4.3658881c2.989694-.7919019 6.055283.9897605 6.847185 3.9794544.248907.9397071.248907 1.9280235 0 2.8677307l-4.365888 16.4826831c-2.395731 9.0446814-2.395731 18.5572269 0 27.6019079l4.365888 16.482683c.791902 2.989694-.98976 6.055283-3.979454 6.847185-.939707.248907-1.928024.248907-2.867731 0l-16.482683-4.365888c-9.044681-2.395731-18.5572265-2.395731-27.6019079 0z",clove:"m99.8335343 65.1549629c9.5399507-9.5399505 25.0072667-9.5399505 34.5472167 0 9.444551 9.4445511 9.538997 24.6985129.283337 34.2592522l-.375477.3796268c.175742.1640088.349185.3324511.520712.5039781 9.53995 9.539951 9.53995 25.007267 0 34.547217-9.539951 9.539951-25.007267 9.539951-34.547217 0l-.083092-.084437-.2147283.215188-.2143714-.214488-.2142.214488-.2156-.215188-.0822201.084437c-9.444551 9.444551-24.6985129 9.538997-34.2592521.283337l-.2879649-.283337c-9.5399506-9.53995-9.5399506-25.007266 0-34.547217.1715267-.171527.3449695-.3399693.5202596-.5053279l-.0916882-.0903122c-9.5399505-9.5399505-9.5399505-25.0072664 0-34.547217 9.5399506-9.5399505 25.0072665-9.5399505 34.5472171 0l.0834486.0851371z",octagon:"m103.214541 59.3315064 23.269403 9.6385024c2.058236.8525492 3.693498 2.4878113 4.546047 4.5460472l9.638503 23.2694032c.852549 2.0582359.852549 4.3708458 0 6.4290818l-9.638503 23.269403c-.852549 2.058236-2.487811 3.693498-4.546047 4.546047l-23.269403 9.638503c-2.058236.852549-4.3708459.852549-6.4290818 0l-23.2694032-9.638503c-2.0582359-.852549-3.693498-2.487811-4.5460472-4.546047l-9.6385024-23.269403c-.8525492-2.058236-.8525492-4.3708459 0-6.4290818l9.6385024-23.2694032c.8525492-2.0582359 2.4878113-3.693498 4.5460472-4.5460472l23.2694032-9.6385024c2.0582359-.8525492 4.3708458-.8525492 6.4290818 0z",star:"m100 128.205518-12.5674616 12.213738c-1.6634446 1.616626-4.3224666 1.578671-5.939092-.084773-.7474168-.769063-1.1723334-1.794902-1.1876394-2.867215l-.2501197-17.522955-17.522955-.25012c-2.3193597-.033106-4.1727344-1.940157-4.1400649-4.259516.0157427-1.072313.4406593-2.098153 1.1880761-2.867215l12.2137389-12.567462-12.2137389-12.5674616c-1.6166254-1.6634446-1.5786709-4.3224666.0847736-5.939092.7690628-.7474168 1.7949022-1.1723334 2.8672152-1.1876394l17.522955-.2501197.2501197-17.522955c.0331061-2.3193597 1.9401565-4.1727344 4.2595162-4.1400649 1.072313.0157427 2.0981524.4406593 2.8672152 1.1880761l12.5674616 12.2137389 12.567462-12.2137389c1.663444-1.6166254 4.322466-1.5786709 5.939092.0847736.747416.7690628 1.172333 1.7949022 1.187639 2.8672152l.25012 17.522955 17.522955.2501197c2.319359.0331061 4.172734 1.9401565 4.140065 4.2595162-.015743 1.072313-.44066 2.0981524-1.188077 2.8672152l-12.213738 12.5674616 12.213738 12.567462c1.616626 1.663444 1.578671 4.322466-.084773 5.939092-.769063.747416-1.794902 1.172333-2.867215 1.187639l-17.522955.25012-.25012 17.522955c-.033106 2.319359-1.940157 4.172734-4.259516 4.140065-1.072313-.015743-2.098153-.44066-2.867215-1.188077z"},lEe={"beam-asterik":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M146.738968,119.456732 L153.044032,143.262339 L153.105233,143.508838 C154.076788,147.700568 151.547954,151.934499 147.359097,153.044032 C146.016658,153.399613 144.604777,153.399613 143.262339,153.044032 L143.262339,153.044032 L119.715648,146.807049 L118.939599,146.605807 C106.251368,143.385945 92.9469055,143.453026 80.2843516,146.807049 L80.2843516,146.807049 L56.7376614,153.044032 L56.4911616,153.105233 C52.2994323,154.076788 48.0655014,151.547954 46.9559684,147.359097 C46.6003869,146.016658 46.6003869,144.604777 46.9559684,143.262339 L46.9559684,143.262339 L53.1929515,119.715648 L53.2595525,119.456732 C52.2378743,119.808818 51.1412637,120 50,120 L50,120 L30,120 C24.4771525,120 20,124.477153 20,130 L20,130 L20,170 C20,175.522847 24.4771525,180 30,180 L30,180 L170,180 C175.522847,180 180,175.522847 180,170 L180,170 L180,130 C180,124.477153 175.522847,120 170,120 L170,120 L150,120 C148.858736,120 147.762126,119.808818 146.738968,119.456732 L146.738968,119.456732 Z M170,20 L30,20 C24.4771525,20 20,24.4771525 20,30 L20,30 L20,70 C20,75.5228475 24.4771525,80 30,80 L30,80 L50,80 C51.1412637,80 52.2378743,80.1911823 53.2610316,80.5432676 L53.2610316,80.5432676 L46.9559684,56.7376614 L46.8947669,56.4911616 C45.9232117,52.2994323 48.4520464,48.0655014 52.6409032,46.9559684 C53.983342,46.6003869 55.3952226,46.6003869 56.7376614,46.9559684 L56.7376614,46.9559684 L80.2843516,53.1929515 L81.0604013,53.3941928 C93.7486316,56.6140546 107.053095,56.5469742 119.715648,53.1929515 L119.715648,53.1929515 L143.262339,46.9559684 L143.508838,46.8947669 C147.700568,45.9232117 151.934499,48.4520464 153.044032,52.6409032 C153.399613,53.983342 153.399613,55.3952226 153.044032,56.7376614 L153.044032,56.7376614 L146.807049,80.2843516 L146.740447,80.5432676 C147.762126,80.1911823 148.858736,80 150,80 L150,80 L170,80 C175.522847,80 180,75.5228475 180,70 L180,70 L180,30 C180,24.4771525 175.522847,20 170,20 L170,20 Z","beam-clove":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M39.8166092,120 L30,120 C24.4771525,120 20,124.477153 20,130 L20,130 L20,170 C20,175.522847 24.4771525,180 30,180 L30,180 L170,180 C175.522847,180 180,175.522847 180,170 L180,170 L180,130 C180,124.477153 175.522847,120 170,120 L170,120 L159.683391,120 C161.233131,130.545013 157.95025,141.663122 149.834747,149.778624 C136.206246,163.407125 114.11008,163.407125 100.48158,149.778624 L100.48158,149.778624 L100.362878,149.658 L100.056122,149.965412 L99.7498776,149.659 L99.4438776,149.965412 L99.1358776,149.658 L99.0184203,149.778624 L98.6111805,150.179384 C85.0911904,163.272203 63.5982485,163.273539 50.0766315,150.183391 L50.0766315,150.183391 L49.6652531,149.778624 L49.2824534,149.389917 C41.4467496,141.31031 38.2914681,130.377636 39.8166092,120 L39.8166092,120 Z M170,20 L30,20 C24.4771525,20 20,24.4771525 20,30 L20,30 L20,70 C20,75.5228475 24.4771525,80 30,80 L30,80 L40.4290011,80.0007172 C38.8789063,69.4556903 42.1617387,58.337135 50.277498,50.2213756 C63.9059988,36.5928748 86.0021644,36.5928748 99.6306652,50.2213756 L99.6306652,50.2213756 L99.7498776,50.343 L99.8693348,50.2213756 L100.280713,49.8166091 C113.938912,36.5942377 135.730286,36.7291598 149.222502,50.2213756 C157.338134,58.3370076 160.620991,69.4553414 159.071072,80.0007172 L159.071072,80.0007172 L170,80 C175.522847,80 180,75.5228475 180,70 L180,70 L180,30 C180,24.4771525 175.522847,20 170,20 L170,20 Z","beam-octagon":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M48.284,120 L30,120 C24.4771525,120 20,124.477153 20,130 L20,130 L20,170 C20,175.522847 24.4771525,180 30,180 L30,180 L170,180 C175.522847,180 180,175.522847 180,170 L180,170 L180,130 C180,124.477153 175.522847,120 170,120 L170,120 L151.715,120 L144.328559,137.834206 L144.188658,138.158397 C142.936759,140.946052 140.665641,143.15574 137.834206,144.328559 L137.834206,144.328559 L104.592201,158.097848 L104.25136,158.232973 C101.398269,159.313974 98.235046,159.268932 95.4077988,158.097848 L95.4077988,158.097848 L62.1657943,144.328559 L61.8416029,144.188658 C59.0539475,142.936759 56.8442602,140.665641 55.6714411,137.834206 L55.6714411,137.834206 L48.284,120 Z M170,20 L30,20 C24.4771525,20 20,24.4771525 20,30 L20,30 L20,70 C20,75.5228475 24.4771525,80 30,80 L30,80 L48.284,80 L55.6714411,62.1657943 L55.8113418,61.8416029 C57.0632411,59.0539475 59.3343586,56.8442602 62.1657943,55.6714411 L62.1657943,55.6714411 L95.4077988,41.902152 L95.7486398,41.7670269 C98.6017312,40.6860262 101.764954,40.7310679 104.592201,41.902152 L104.592201,41.902152 L137.834206,55.6714411 L138.158397,55.8113418 C140.946052,57.0632411 143.15574,59.3343586 144.328559,62.1657943 L144.328559,62.1657943 L151.715,80 L170,80 C175.522847,80 180,75.5228475 180,70 L180,70 L180,30 C180,24.4771525 175.522847,20 170,20 L170,20 Z","beam-star":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M40.9537911,119.999596 L30,119.999596 C24.4771525,119.999596 20,124.477153 20,130 L20,130 L20,170 C20,175.522847 24.4771525,180 30,180 L30,180 L170,180 C175.522847,180 180,175.522847 180,170 L180,170 L180,130 C180,124.477153 175.522847,119.999596 170,119.999596 L170,119.999596 L159.048209,120.000807 C159.87258,122.170488 159.391012,124.717438 157.62069,126.437934 C156.522029,127.505672 155.056544,128.112696 153.524668,128.134561 L153.524668,128.134561 L128.491875,128.491875 L128.134561,153.524668 L128.127213,153.749524 C127.963128,156.956996 125.287605,159.484657 122.049538,159.439047 C120.517663,159.416557 119.052178,158.809533 117.953517,157.741795 L117.953517,157.741795 L100,140.293597 L82.0464834,157.741795 L81.8609311,157.914785 C79.4763129,160.046953 75.8123141,159.936107 73.5620663,157.62069 C72.494328,156.522029 71.8873043,155.056544 71.8654386,153.524668 L71.8654386,153.524668 L71.5081246,128.491875 L46.4753319,128.134561 L46.2504756,128.127213 C43.0430036,127.963128 40.5153435,125.287605 40.5609534,122.049538 C40.5713378,121.342211 40.7063468,120.649038 40.9537911,119.999596 L40.9537911,119.999596 Z M170,20 L30,20 C24.4771525,20 20,24.4771525 20,30 L20,30 L20,70 C20,75.5228475 24.4771525,80 30,80 L30,80 L40.9521743,80.0002021 C40.1272712,77.8303017 40.6087131,75.2828283 42.3793102,73.5620663 C43.4779713,72.494328 44.9434562,71.8873043 46.4753319,71.8654386 L46.4753319,71.8654386 L71.5081246,71.5081246 L71.8654386,46.4753319 L71.872787,46.2504756 C72.0368717,43.0430036 74.7123946,40.5153435 77.9504617,40.5609534 C79.4823374,40.583443 80.9478223,41.1904668 82.0464834,42.258205 L82.0464834,42.258205 L100,59.7064035 L117.953517,42.258205 L118.139069,42.0852153 C120.523687,39.9530475 124.187686,40.0638929 126.437934,42.3793102 C127.505672,43.4779713 128.112696,44.9434562 128.134561,46.4753319 L128.134561,46.4753319 L128.491875,71.5081246 L153.524668,71.8654386 L153.749524,71.872787 C156.956996,72.0368717 159.484657,74.7123946 159.439047,77.9504617 C159.428657,78.6581533 159.293514,79.3516756 159.045827,80.001407 L159.045827,80.001407 L170,80 C175.522847,80 180,75.5228475 180,70 L180,70 L180,30 C180,24.4771525 175.522847,20 170,20 L170,20 Z","circle-asterik":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M100,20 C55.81722,20 20,55.81722 20,100 C20,144.18278 55.81722,180 100,180 C144.18278,180 180,144.18278 180,100 C180,55.81722 144.18278,20 100,20 Z M143.508838,46.8947669 C147.700568,45.9232117 151.934499,48.4520464 153.044032,52.6409032 C153.399613,53.983342 153.399613,55.3952226 153.044032,56.7376614 L153.044032,56.7376614 L146.807049,80.2843516 L146.605807,81.0604013 C143.385945,93.7486316 143.453026,107.053095 146.807049,119.715648 L146.807049,119.715648 L153.044032,143.262339 L153.105233,143.508838 C154.076788,147.700568 151.547954,151.934499 147.359097,153.044032 C146.016658,153.399613 144.604777,153.399613 143.262339,153.044032 L143.262339,153.044032 L119.715648,146.807049 L118.939599,146.605807 C106.251368,143.385945 92.9469055,143.453026 80.2843516,146.807049 L80.2843516,146.807049 L56.7376614,153.044032 L56.4911616,153.105233 C52.2994323,154.076788 48.0655014,151.547954 46.9559684,147.359097 C46.6003869,146.016658 46.6003869,144.604777 46.9559684,143.262339 L46.9559684,143.262339 L53.1929515,119.715648 L53.3941928,118.939599 C56.6140546,106.251368 56.5469742,92.9469055 53.1929515,80.2843516 L53.1929515,80.2843516 L46.9559684,56.7376614 L46.8947669,56.4911616 C45.9232117,52.2994323 48.4520464,48.0655014 52.6409032,46.9559684 C53.983342,46.6003869 55.3952226,46.6003869 56.7376614,46.9559684 L56.7376614,46.9559684 L80.2843516,53.1929515 L81.0604013,53.3941928 C93.7486316,56.6140546 107.053095,56.5469742 119.715648,53.1929515 L119.715648,53.1929515 L143.262339,46.9559684 Z","circle-clove":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M100,20 C55.81722,20 20,55.81722 20,100 C20,144.18278 55.81722,180 100,180 C144.18278,180 180,144.18278 180,100 C180,55.81722 144.18278,20 100,20 Z M50.277498,50.2213756 C63.9059988,36.5928748 86.0021644,36.5928748 99.6306652,50.2213756 L99.6306652,50.2213756 L99.7498776,50.343 L99.8693348,50.2213756 L100.280713,49.8166091 C113.938912,36.5942377 135.730286,36.7291598 149.222502,50.2213756 C162.714718,63.7135914 162.84964,85.5049654 149.627268,99.1631644 L149.627268,99.1631644 L149.090873,99.7054884 L149.465068,100.061445 L149.834747,100.425457 C163.463248,114.053958 163.463248,136.150124 149.834747,149.778624 C136.206246,163.407125 114.11008,163.407125 100.48158,149.778624 L100.48158,149.778624 L100.362878,149.658 L100.056122,149.965412 L99.7498776,149.659 L99.4438776,149.965412 L99.1358776,149.658 L99.0184203,149.778624 L98.6111805,150.179384 C85.0911904,163.272203 63.5982485,163.273539 50.0766315,150.183391 L50.0766315,150.183391 L49.6652531,149.778624 L49.2604867,149.367246 C36.0381152,135.709047 36.1730374,113.917673 49.6652531,100.425457 C49.9102913,100.180419 50.1580668,99.9397867 50.4084812,99.7035601 L50.4084812,99.7035601 L50.277498,99.5745428 L49.8727316,99.1631644 C36.6503601,85.5049654 36.7852823,63.7135914 50.277498,50.2213756 Z","circle-octagon":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M100,20 C55.81722,20 20,55.81722 20,100 C20,144.18278 55.81722,180 100,180 C144.18278,180 180,144.18278 180,100 C180,55.81722 144.18278,20 100,20 Z M95.7486398,41.7670269 C98.6017312,40.6860262 101.764954,40.7310679 104.592201,41.902152 L104.592201,41.902152 L137.834206,55.6714411 L138.158397,55.8113418 C140.946052,57.0632411 143.15574,59.3343586 144.328559,62.1657943 L144.328559,62.1657943 L158.097848,95.4077988 L158.232973,95.7486398 C159.313974,98.6017312 159.268932,101.764954 158.097848,104.592201 L158.097848,104.592201 L144.328559,137.834206 L144.188658,138.158397 C142.936759,140.946052 140.665641,143.15574 137.834206,144.328559 L137.834206,144.328559 L104.592201,158.097848 L104.25136,158.232973 C101.398269,159.313974 98.235046,159.268932 95.4077988,158.097848 L95.4077988,158.097848 L62.1657943,144.328559 L61.8416029,144.188658 C59.0539475,142.936759 56.8442602,140.665641 55.6714411,137.834206 L55.6714411,137.834206 L41.902152,104.592201 L41.7670269,104.25136 C40.6860262,101.398269 40.7310679,98.235046 41.902152,95.4077988 L41.902152,95.4077988 L55.6714411,62.1657943 L55.8113418,61.8416029 C57.0632411,59.0539475 59.3343586,56.8442602 62.1657943,55.6714411 L62.1657943,55.6714411 L95.4077988,41.902152 Z","circle-star":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M100,20 C55.81722,20 20,55.81722 20,100 C20,144.18278 55.81722,180 100,180 C144.18278,180 180,144.18278 180,100 C180,55.81722 144.18278,20 100,20 Z M77.9504617,40.5603458 C79.4823374,40.583443 80.9478223,41.1904668 82.0464834,42.258205 L82.0464834,42.258205 L100,59.7064035 L117.953517,42.258205 L118.139069,42.0852153 C120.523687,39.9530475 124.187686,40.0638929 126.437934,42.3793102 C127.505672,43.4779713 128.112696,44.9434562 128.134561,46.4753319 L128.134561,46.4753319 L128.491875,71.5081246 L153.524668,71.8654386 L153.749524,71.872787 C156.956996,72.0368717 159.484657,74.7123946 159.439654,77.9504617 C159.416557,79.4823374 158.809533,80.9478223 157.741795,82.0464834 L157.741795,82.0464834 L140.293597,100 L157.741795,117.953517 L157.914785,118.139069 C160.046953,120.523687 159.936107,124.187686 157.62069,126.437934 C156.522029,127.505672 155.056544,128.112696 153.524668,128.134561 L153.524668,128.134561 L128.491875,128.491875 L128.134561,153.524668 L128.127213,153.749524 C127.963128,156.956996 125.287605,159.484657 122.049538,159.439654 C120.517663,159.416557 119.052178,158.809533 117.953517,157.741795 L117.953517,157.741795 L100,140.293597 L82.0464834,157.741795 L81.8609311,157.914785 C79.4763129,160.046953 75.8123141,159.936107 73.5620663,157.62069 C72.494328,156.522029 71.8873043,155.056544 71.8654386,153.524668 L71.8654386,153.524668 L71.5081246,128.491875 L46.4753319,128.134561 L46.2504756,128.127213 C43.0430036,127.963128 40.5153435,125.287605 40.5603458,122.049538 C40.583443,120.517663 41.1904668,119.052178 42.258205,117.953517 L42.258205,117.953517 L59.7064035,100 L42.258205,82.0464834 L42.0852153,81.8609311 C39.9530475,79.4763129 40.0638929,75.8123141 42.3793102,73.5620663 C43.4779713,72.494328 44.9434562,71.8873043 46.4753319,71.8654386 L46.4753319,71.8654386 L71.5081246,71.5081246 L71.8654386,46.4753319 L71.872787,46.2504756 C72.0368717,43.0430036 74.7123946,40.5153435 77.9504617,40.5603458 Z","plug-asterik":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M140,20 L60,20 C37.90861,20 20,37.90861 20,60 L20,60 L20,80 C20,91.045695 28.954305,100 40,100 C28.954305,100 20,108.954305 20,120 L20,120 L20,140 C20,162.09139 37.90861,180 60,180 L60,180 L140,180 C162.09139,180 180,162.09139 180,140 L180,140 L180,120 C180,108.954305 171.045695,100 160,100 C171.045695,100 180,91.045695 180,80 L180,80 L180,60 C180,37.90861 162.09139,20 140,20 L140,20 Z M143.508838,46.8947669 C147.700568,45.9232117 151.934499,48.4520464 153.044032,52.6409032 C153.399613,53.983342 153.399613,55.3952226 153.044032,56.7376614 L153.044032,56.7376614 L146.807049,80.2843516 L146.605807,81.0604013 C143.385945,93.7486316 143.453026,107.053095 146.807049,119.715648 L146.807049,119.715648 L153.044032,143.262339 L153.105233,143.508838 C154.076788,147.700568 151.547954,151.934499 147.359097,153.044032 C146.016658,153.399613 144.604777,153.399613 143.262339,153.044032 L143.262339,153.044032 L119.715648,146.807049 L118.939599,146.605807 C106.251368,143.385945 92.9469055,143.453026 80.2843516,146.807049 L80.2843516,146.807049 L56.7376614,153.044032 L56.4911616,153.105233 C52.2994323,154.076788 48.0655014,151.547954 46.9559684,147.359097 C46.6003869,146.016658 46.6003869,144.604777 46.9559684,143.262339 L46.9559684,143.262339 L53.1929515,119.715648 L53.3941928,118.939599 C56.6140546,106.251368 56.5469742,92.9469055 53.1929515,80.2843516 L53.1929515,80.2843516 L46.9559684,56.7376614 L46.8947669,56.4911616 C45.9232117,52.2994323 48.4520464,48.0655014 52.6409032,46.9559684 C53.983342,46.6003869 55.3952226,46.6003869 56.7376614,46.9559684 L56.7376614,46.9559684 L80.2843516,53.1929515 L81.0604013,53.3941928 C93.7486316,56.6140546 107.053095,56.5469742 119.715648,53.1929515 L119.715648,53.1929515 L143.262339,46.9559684 Z","plug-clove":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M140,20 L60,20 C37.90861,20 20,37.90861 20,60 L20,60 L20,80 C20,91.045695 28.954305,100 40,100 C28.954305,100 20,108.954305 20,120 L20,120 L20,140 C20,162.09139 37.90861,180 60,180 L60,180 L140,180 C162.09139,180 180,162.09139 180,140 L180,140 L180,120 C180,108.954305 171.045695,100 160,100 C171.045695,100 180,91.045695 180,80 L180,80 L180,60 C180,37.90861 162.09139,20 140,20 L140,20 Z M50.277498,50.2213756 C63.9059988,36.5928748 86.0021644,36.5928748 99.6306652,50.2213756 L99.6306652,50.2213756 L99.7498776,50.343 L99.8693348,50.2213756 L100.280713,49.8166091 C113.938912,36.5942377 135.730286,36.7291598 149.222502,50.2213756 C162.714718,63.7135914 162.84964,85.5049654 149.627268,99.1631644 L149.627268,99.1631644 L149.090873,99.7054884 L149.465068,100.061445 L149.834747,100.425457 C163.463248,114.053958 163.463248,136.150124 149.834747,149.778624 C136.206246,163.407125 114.11008,163.407125 100.48158,149.778624 L100.48158,149.778624 L100.362878,149.658 L100.056122,149.965412 L99.7498776,149.659 L99.4438776,149.965412 L99.1358776,149.658 L99.0184203,149.778624 L98.6111805,150.179384 C85.0911904,163.272203 63.5982485,163.273539 50.0766315,150.183391 L50.0766315,150.183391 L49.6652531,149.778624 L49.2604867,149.367246 C36.0381152,135.709047 36.1730374,113.917673 49.6652531,100.425457 C49.9102913,100.180419 50.1580668,99.9397867 50.4084812,99.7035601 L50.4084812,99.7035601 L50.277498,99.5745428 L49.8727316,99.1631644 C36.6503601,85.5049654 36.7852823,63.7135914 50.277498,50.2213756 Z","plug-octagon":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M140,20 L60,20 C37.90861,20 20,37.90861 20,60 L20,60 L20,80 C20,91.045695 28.954305,100 40,100 C28.954305,100 20,108.954305 20,120 L20,120 L20,140 C20,162.09139 37.90861,180 60,180 L60,180 L140,180 C162.09139,180 180,162.09139 180,140 L180,140 L180,120 C180,108.954305 171.045695,100 160,100 C171.045695,100 180,91.045695 180,80 L180,80 L180,60 C180,37.90861 162.09139,20 140,20 L140,20 Z M95.7486398,41.7670269 C98.6017312,40.6860262 101.764954,40.7310679 104.592201,41.902152 L104.592201,41.902152 L137.834206,55.6714411 L138.158397,55.8113418 C140.946052,57.0632411 143.15574,59.3343586 144.328559,62.1657943 L144.328559,62.1657943 L158.097848,95.4077988 L158.232973,95.7486398 C159.313974,98.6017312 159.268932,101.764954 158.097848,104.592201 L158.097848,104.592201 L144.328559,137.834206 L144.188658,138.158397 C142.936759,140.946052 140.665641,143.15574 137.834206,144.328559 L137.834206,144.328559 L104.592201,158.097848 L104.25136,158.232973 C101.398269,159.313974 98.235046,159.268932 95.4077988,158.097848 L95.4077988,158.097848 L62.1657943,144.328559 L61.8416029,144.188658 C59.0539475,142.936759 56.8442602,140.665641 55.6714411,137.834206 L55.6714411,137.834206 L41.902152,104.592201 L41.7670269,104.25136 C40.6860262,101.398269 40.7310679,98.235046 41.902152,95.4077988 L41.902152,95.4077988 L55.6714411,62.1657943 L55.8113418,61.8416029 C57.0632411,59.0539475 59.3343586,56.8442602 62.1657943,55.6714411 L62.1657943,55.6714411 L95.4077988,41.902152 Z","plug-star":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M140,20 L60,20 C37.90861,20 20,37.90861 20,60 L20,60 L20,80 C20,91.045695 28.954305,100 40,100 C28.954305,100 20,108.954305 20,120 L20,120 L20,140 C20,162.09139 37.90861,180 60,180 L60,180 L140,180 C162.09139,180 180,162.09139 180,140 L180,140 L180,120 C180,108.954305 171.045695,100 160,100 C171.045695,100 180,91.045695 180,80 L180,80 L180,60 C180,37.90861 162.09139,20 140,20 L140,20 Z M77.9504617,40.5603458 C79.4823374,40.583443 80.9478223,41.1904668 82.0464834,42.258205 L82.0464834,42.258205 L100,59.7064035 L117.953517,42.258205 L118.139069,42.0852153 C120.523687,39.9530475 124.187686,40.0638929 126.437934,42.3793102 C127.505672,43.4779713 128.112696,44.9434562 128.134561,46.4753319 L128.134561,46.4753319 L128.491875,71.5081246 L153.524668,71.8654386 L153.749524,71.872787 C156.956996,72.0368717 159.484657,74.7123946 159.439654,77.9504617 C159.416557,79.4823374 158.809533,80.9478223 157.741795,82.0464834 L157.741795,82.0464834 L140.293597,100 L157.741795,117.953517 L157.914785,118.139069 C160.046953,120.523687 159.936107,124.187686 157.62069,126.437934 C156.522029,127.505672 155.056544,128.112696 153.524668,128.134561 L153.524668,128.134561 L128.491875,128.491875 L128.134561,153.524668 L128.127213,153.749524 C127.963128,156.956996 125.287605,159.484657 122.049538,159.439654 C120.517663,159.416557 119.052178,158.809533 117.953517,157.741795 L117.953517,157.741795 L100,140.293597 L82.0464834,157.741795 L81.8609311,157.914785 C79.4763129,160.046953 75.8123141,159.936107 73.5620663,157.62069 C72.494328,156.522029 71.8873043,155.056544 71.8654386,153.524668 L71.8654386,153.524668 L71.5081246,128.491875 L46.4753319,128.134561 L46.2504756,128.127213 C43.0430036,127.963128 40.5153435,125.287605 40.5603458,122.049538 C40.583443,120.517663 41.1904668,119.052178 42.258205,117.953517 L42.258205,117.953517 L59.7064035,100 L42.258205,82.0464834 L42.0852153,81.8609311 C39.9530475,79.4763129 40.0638929,75.8123141 42.3793102,73.5620663 C43.4779713,72.494328 44.9434562,71.8873043 46.4753319,71.8654386 L46.4753319,71.8654386 L71.5081246,71.5081246 L71.8654386,46.4753319 L71.872787,46.2504756 C72.0368717,43.0430036 74.7123946,40.5153435 77.9504617,40.5603458 Z","square-asterik":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M170,20 L30,20 C24.4771525,20 20,24.4771525 20,30 L20,30 L20,170 C20,175.522847 24.4771525,180 30,180 L30,180 L170,180 C175.522847,180 180,175.522847 180,170 L180,170 L180,30 C180,24.4771525 175.522847,20 170,20 L170,20 Z M143.508838,46.8947669 C147.700568,45.9232117 151.934499,48.4520464 153.044032,52.6409032 C153.399613,53.983342 153.399613,55.3952226 153.044032,56.7376614 L153.044032,56.7376614 L146.807049,80.2843516 L146.605807,81.0604013 C143.385945,93.7486316 143.453026,107.053095 146.807049,119.715648 L146.807049,119.715648 L153.044032,143.262339 L153.105233,143.508838 C154.076788,147.700568 151.547954,151.934499 147.359097,153.044032 C146.016658,153.399613 144.604777,153.399613 143.262339,153.044032 L143.262339,153.044032 L119.715648,146.807049 L118.939599,146.605807 C106.251368,143.385945 92.9469055,143.453026 80.2843516,146.807049 L80.2843516,146.807049 L56.7376614,153.044032 L56.4911616,153.105233 C52.2994323,154.076788 48.0655014,151.547954 46.9559684,147.359097 C46.6003869,146.016658 46.6003869,144.604777 46.9559684,143.262339 L46.9559684,143.262339 L53.1929515,119.715648 L53.3941928,118.939599 C56.6140546,106.251368 56.5469742,92.9469055 53.1929515,80.2843516 L53.1929515,80.2843516 L46.9559684,56.7376614 L46.8947669,56.4911616 C45.9232117,52.2994323 48.4520464,48.0655014 52.6409032,46.9559684 C53.983342,46.6003869 55.3952226,46.6003869 56.7376614,46.9559684 L56.7376614,46.9559684 L80.2843516,53.1929515 L81.0604013,53.3941928 C93.7486316,56.6140546 107.053095,56.5469742 119.715648,53.1929515 L119.715648,53.1929515 L143.262339,46.9559684 Z","square-clove":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M170,20 L30,20 C24.4771525,20 20,24.4771525 20,30 L20,30 L20,170 C20,175.522847 24.4771525,180 30,180 L30,180 L170,180 C175.522847,180 180,175.522847 180,170 L180,170 L180,30 C180,24.4771525 175.522847,20 170,20 L170,20 Z M50.277498,50.2213756 C63.9059988,36.5928748 86.0021644,36.5928748 99.6306652,50.2213756 L99.6306652,50.2213756 L99.7498776,50.343 L99.8693348,50.2213756 L100.280713,49.8166091 C113.938912,36.5942377 135.730286,36.7291598 149.222502,50.2213756 C162.714718,63.7135914 162.84964,85.5049654 149.627268,99.1631644 L149.627268,99.1631644 L149.090873,99.7054884 L149.465068,100.061445 L149.834747,100.425457 C163.463248,114.053958 163.463248,136.150124 149.834747,149.778624 C136.206246,163.407125 114.11008,163.407125 100.48158,149.778624 L100.48158,149.778624 L100.362878,149.658 L100.056122,149.965412 L99.7498776,149.659 L99.4438776,149.965412 L99.1358776,149.658 L99.0184203,149.778624 L98.6111805,150.179384 C85.0911904,163.272203 63.5982485,163.273539 50.0766315,150.183391 L50.0766315,150.183391 L49.6652531,149.778624 L49.2604867,149.367246 C36.0381152,135.709047 36.1730374,113.917673 49.6652531,100.425457 C49.9102913,100.180419 50.1580668,99.9397867 50.4084812,99.7035601 L50.4084812,99.7035601 L50.277498,99.5745428 L49.8727316,99.1631644 C36.6503601,85.5049654 36.7852823,63.7135914 50.277498,50.2213756 Z","square-octagon":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M170,20 L30,20 C24.4771525,20 20,24.4771525 20,30 L20,30 L20,170 C20,175.522847 24.4771525,180 30,180 L30,180 L170,180 C175.522847,180 180,175.522847 180,170 L180,170 L180,30 C180,24.4771525 175.522847,20 170,20 L170,20 Z M95.7486398,41.7670269 C98.6017312,40.6860262 101.764954,40.7310679 104.592201,41.902152 L104.592201,41.902152 L137.834206,55.6714411 L138.158397,55.8113418 C140.946052,57.0632411 143.15574,59.3343586 144.328559,62.1657943 L144.328559,62.1657943 L158.097848,95.4077988 L158.232973,95.7486398 C159.313974,98.6017312 159.268932,101.764954 158.097848,104.592201 L158.097848,104.592201 L144.328559,137.834206 L144.188658,138.158397 C142.936759,140.946052 140.665641,143.15574 137.834206,144.328559 L137.834206,144.328559 L104.592201,158.097848 L104.25136,158.232973 C101.398269,159.313974 98.235046,159.268932 95.4077988,158.097848 L95.4077988,158.097848 L62.1657943,144.328559 L61.8416029,144.188658 C59.0539475,142.936759 56.8442602,140.665641 55.6714411,137.834206 L55.6714411,137.834206 L41.902152,104.592201 L41.7670269,104.25136 C40.6860262,101.398269 40.7310679,98.235046 41.902152,95.4077988 L41.902152,95.4077988 L55.6714411,62.1657943 L55.8113418,61.8416029 C57.0632411,59.0539475 59.3343586,56.8442602 62.1657943,55.6714411 L62.1657943,55.6714411 L95.4077988,41.902152 Z","square-star":"M200,0 L200,200 L0,200 L0,0 L200,0 Z M170,20 L30,20 C24.4771525,20 20,24.4771525 20,30 L20,30 L20,170 C20,175.522847 24.4771525,180 30,180 L30,180 L170,180 C175.522847,180 180,175.522847 180,170 L180,170 L180,30 C180,24.4771525 175.522847,20 170,20 L170,20 Z M77.9504617,40.5603458 C79.4823374,40.583443 80.9478223,41.1904668 82.0464834,42.258205 L82.0464834,42.258205 L100,59.7064035 L117.953517,42.258205 L118.139069,42.0852153 C120.523687,39.9530475 124.187686,40.0638929 126.437934,42.3793102 C127.505672,43.4779713 128.112696,44.9434562 128.134561,46.4753319 L128.134561,46.4753319 L128.491875,71.5081246 L153.524668,71.8654386 L153.749524,71.872787 C156.956996,72.0368717 159.484657,74.7123946 159.439654,77.9504617 C159.416557,79.4823374 158.809533,80.9478223 157.741795,82.0464834 L157.741795,82.0464834 L140.293597,100 L157.741795,117.953517 L157.914785,118.139069 C160.046953,120.523687 159.936107,124.187686 157.62069,126.437934 C156.522029,127.505672 155.056544,128.112696 153.524668,128.134561 L153.524668,128.134561 L128.491875,128.491875 L128.134561,153.524668 L128.127213,153.749524 C127.963128,156.956996 125.287605,159.484657 122.049538,159.439654 C120.517663,159.416557 119.052178,158.809533 117.953517,157.741795 L117.953517,157.741795 L100,140.293597 L82.0464834,157.741795 L81.8609311,157.914785 C79.4763129,160.046953 75.8123141,159.936107 73.5620663,157.62069 C72.494328,156.522029 71.8873043,155.056544 71.8654386,153.524668 L71.8654386,153.524668 L71.5081246,128.491875 L46.4753319,128.134561 L46.2504756,128.127213 C43.0430036,127.963128 40.5153435,125.287605 40.5603458,122.049538 C40.583443,120.517663 41.1904668,119.052178 42.258205,117.953517 L42.258205,117.953517 L59.7064035,100 L42.258205,82.0464834 L42.0852153,81.8609311 C39.9530475,79.4763129 40.0638929,75.8123141 42.3793102,73.5620663 C43.4779713,72.494328 44.9434562,71.8873043 46.4753319,71.8654386 L46.4753319,71.8654386 L71.5081246,71.5081246 L71.8654386,46.4753319 L71.872787,46.2504756 C72.0368717,43.0430036 74.7123946,40.5153435 77.9504617,40.5603458 Z"},cEe={"beam-asterik":"m150 120h20c5.522847 0 10 4.477153 10 10v40c0 5.522847-4.477153 10-10 10h-140c-5.5228475 0-10-4.477153-10-10v-40c0-5.522847 4.4771525-10 10-10h20c1.1412637 0 2.2378743-.191182 3.2595525-.543268l-.066601.258916-6.2369831 23.546691c-.3555815 1.342438-.3555815 2.754319 0 4.096758 1.109533 4.188857 5.3434639 6.717691 9.5351932 5.746136l.2464998-.061201 23.5466902-6.236983c12.6625539-3.354023 25.9670164-3.421104 38.6552474-.201242l.776049.201242 23.546691 6.236983c1.342438.355581 2.754319.355581 4.096758 0 4.188857-1.109533 6.717691-5.343464 5.746136-9.535194l-.061201-.246499-6.305064-23.805607c1.023158.352086 2.119768.543268 3.261032.543268zm20-100c5.522847 0 10 4.4771525 10 10v40c0 5.5228475-4.477153 10-10 10h-20c-1.141264 0-2.237874.1911823-3.259553.5432676l.066602-.258916 6.236983-23.5466902c.355581-1.3424388.355581-2.7543194 0-4.0967582-1.109533-4.1888568-5.343464-6.7176915-9.535194-5.7461363l-.246499.0612015-23.546691 6.2369831c-12.662553 3.3540227-25.9670164 3.4211031-38.6552467.2012413l-.7760497-.2012413-23.5466902-6.2369831c-1.3424388-.3555815-2.7543194-.3555815-4.0967582 0-4.1888568 1.109533-6.7176915 5.3434639-5.7461363 9.5351932l.0612015.2464998 6.3050632 23.8056062c-1.0231573-.3520853-2.1197679-.5432676-3.2610316-.5432676h-20c-5.5228475 0-10-4.4771525-10-10v-40c0-5.5228475 4.4771525-10 10-10z","beam-clove":"m170 120c5.522847 0 10 4.477153 10 10v40c0 5.522847-4.477153 10-10 10h-140c-5.5228475 0-10-4.477153-10-10v-40c0-5.522847 4.4771525-10 10-10h9.8166092c-1.5251411 10.377636 1.6301404 21.31031 9.4658442 29.389917l.3827997.388707.4113784.404767c13.521617 13.090148 35.0145589 13.088812 48.534549-.004007l.4072398-.40076.1174573-.120624.308.307412.306-.306412.3062444.306412.306756-.307412.118702.120624c13.6285 13.628501 35.724666 13.628501 49.353167 0 8.115503-8.115502 11.398384-19.233611 9.848644-29.778624zm0-100c5.522847 0 10 4.4771525 10 10v40c0 5.5228475-4.477153 10-10 10l-10.928928.0007172c1.549919-10.5453758-1.732938-21.6637096-9.84857-29.7793416-13.492216-13.4922158-35.28359-13.6271379-48.941789-.4047665l-.4113782.4047665-.1194572.1216244-.1192124-.1216244c-13.6285008-13.6285008-35.7246664-13.6285008-49.3531672 0-8.1157593 8.1157594-11.3985917 19.2343147-9.8484969 29.7793416l-10.4290011-.0007172c-5.5228475 0-10-4.4771525-10-10v-40c0-5.5228475 4.4771525-10 10-10z","beam-octagon":"m170 120c5.522847 0 10 4.477153 10 10v40c0 5.522847-4.477153 10-10 10h-140c-5.5228475 0-10-4.477153-10-10v-40c0-5.522847 4.4771525-10 10-10h18.284l7.3874411 17.834206c1.1728191 2.831435 3.3825064 5.102553 6.1701618 6.354452l.3241914.139901 33.2420045 13.769289c2.8272472 1.171084 5.9904702 1.216126 8.8435612.135125l.340841-.135125 33.242005-13.769289c2.831435-1.172819 5.102553-3.382507 6.354452-6.170162l.139901-.324191 7.386441-17.834206zm0-100c5.522847 0 10 4.4771525 10 10v40c0 5.5228475-4.477153 10-10 10h-18.285l-7.386441-17.8342057c-1.172819-2.8314357-3.382507-5.1025532-6.170162-6.3544525l-.324191-.1399007-33.242005-13.7692891c-2.827247-1.1710841-5.9904698-1.2161258-8.8435612-.1351251l-.340841.1351251-33.2420045 13.7692891c-2.8314357 1.1728191-5.1025532 3.3825064-6.3544525 6.1701618l-.1399007.3241914-7.3874411 17.8342057h-18.284c-5.5228475 0-10-4.4771525-10-10v-40c0-5.5228475 4.4771525-10 10-10z","beam-star":"m170 119.999596c5.522847 0 10 4.477557 10 10.000404v40c0 5.522847-4.477153 10-10 10h-140c-5.5228475 0-10-4.477153-10-10v-40c0-5.522847 4.4771525-10.000404 10-10.000404h10.9537911c-.2474443.649442-.3824533 1.342615-.3928377 2.049942-.0456099 3.238067 2.4820502 5.91359 5.6895222 6.077675l.2248563.007348 25.0327927.357314.357314 25.032793c.0218657 1.531876.6288894 2.997361 1.6966277 4.096022 2.2502478 2.315417 5.9142466 2.426263 8.2988648.294095l.1855523-.17299 17.9535166-17.448198 17.953517 17.448198c1.098661 1.067738 2.564146 1.674762 4.096021 1.697252 3.238067.04561 5.91359-2.482051 6.077675-5.689523l.007348-.224856.357314-25.032793 25.032793-.357314c1.531876-.021865 2.997361-.628889 4.096022-1.696627 1.770322-1.720496 2.25189-4.267446 1.427519-6.437127zm0-99.999596c5.522847 0 10 4.4771525 10 10v40c0 5.5228475-4.477153 10-10 10l-10.954173.001407c.247687-.6497314.38283-1.3432537.39322-2.0509453.04561-3.2380671-2.482051-5.91359-5.689523-6.0776747l-.224856-.0073484-25.032793-.357314-.357314-25.0327927c-.021865-1.5318757-.628889-2.9973606-1.696627-4.0960217-2.250248-2.3154173-5.914247-2.4262627-8.298865-.2940949l-.185552.1729897-17.953517 17.4481985-17.9535166-17.4481985c-1.0986611-1.0677382-2.564146-1.674762-4.0960217-1.6972516-3.2380671-.0456099-5.91359 2.4820502-6.0776747 5.6895222l-.0073484.2248563-.357314 25.0327927-25.0327927.357314c-1.5318757.0218657-2.9973606.6288894-4.0960217 1.6966277-1.7705971 1.720762-2.252039 4.2682354-1.4271359 6.4381358l-10.9521743-.0002021c-5.5228475 0-10-4.4771525-10-10v-40c0-5.5228475 4.4771525-10 10-10z","circle-asterik":"m100 20c44.18278 0 80 35.81722 80 80s-35.81722 80-80 80-80-35.81722-80-80 35.81722-80 80-80zm53.044032 32.6409032c-1.109533-4.1888568-5.343464-6.7176915-9.535194-5.7461363l-.246499.0612015-23.546691 6.2369831c-12.662553 3.3540227-25.9670164 3.4211031-38.6552467.2012413l-.7760497-.2012413-23.5466902-6.2369831c-1.3424388-.3555815-2.7543194-.3555815-4.0967582 0-4.1888568 1.109533-6.7176915 5.3434639-5.7461363 9.5351932l.0612015.2464998 6.2369831 23.5466902c3.3540227 12.6625539 3.4211031 25.9670164.2012413 38.6552474l-.2012413.776049-6.2369831 23.546691c-.3555815 1.342438-.3555815 2.754319 0 4.096758 1.109533 4.188857 5.3434639 6.717691 9.5351932 5.746136l.2464998-.061201 23.5466902-6.236983c12.6625539-3.354023 25.9670164-3.421104 38.6552474-.201242l.776049.201242 23.546691 6.236983c1.342438.355581 2.754319.355581 4.096758 0 4.188857-1.109533 6.717691-5.343464 5.746136-9.535194l-.061201-.246499-6.236983-23.546691c-3.354023-12.662553-3.421104-25.9670164-.201242-38.6552467l.201242-.7760497 6.236983-23.5466902c.355581-1.3424388.355581-2.7543194 0-4.0967582z","circle-clove":"m100 20c44.18278 0 80 35.81722 80 80s-35.81722 80-80 80-80-35.81722-80-80 35.81722-80 80-80zm49.222502 30.2213756c-13.492216-13.4922158-35.28359-13.6271379-48.941789-.4047665l-.4113782.4047665-.1194572.1216244-.1192124-.1216244c-13.6285008-13.6285008-35.7246664-13.6285008-49.3531672 0-13.4922157 13.4922158-13.6271379 35.2835898-.4047664 48.9417888l.4047664.4113784.1309832.1290173c-.2504144.2362266-.4981899.4768589-.7432281.7218969-13.4922157 13.492216-13.6271379 35.28359-.4047664 48.941789l.4047664.411378.4113784.404767c13.521617 13.090148 35.0145589 13.088812 48.534549-.004007l.4072398-.40076.1174573-.120624.308.307412.306-.306412.3062444.306412.306756-.307412.118702.120624c13.6285 13.628501 35.724666 13.628501 49.353167 0 13.628501-13.6285 13.628501-35.724666 0-49.353167l-.369679-.364012-.374195-.3559566.536395-.542324c13.222372-13.658199 13.08745-35.449573-.404766-48.9417888z","circle-octagon":"m100 20c44.18278 0 80 35.81722 80 80s-35.81722 80-80 80-80-35.81722-80-80 35.81722-80 80-80zm4.592201 21.902152c-2.827247-1.1710841-5.9904698-1.2161258-8.8435612-.1351251l-.340841.1351251-33.2420045 13.7692891c-2.8314357 1.1728191-5.1025532 3.3825064-6.3544525 6.1701618l-.1399007.3241914-13.7692891 33.2420045c-1.1710841 2.8272472-1.2161258 5.9904702-.1351251 8.8435612l.1351251.340841 13.7692891 33.242005c1.1728191 2.831435 3.3825064 5.102553 6.1701618 6.354452l.3241914.139901 33.2420045 13.769289c2.8272472 1.171084 5.9904702 1.216126 8.8435612.135125l.340841-.135125 33.242005-13.769289c2.831435-1.172819 5.102553-3.382507 6.354452-6.170162l.139901-.324191 13.769289-33.242005c1.171084-2.827247 1.216126-5.9904698.135125-8.8435612l-.135125-.340841-13.769289-33.2420045c-1.172819-2.8314357-3.382507-5.1025532-6.170162-6.3544525l-.324191-.1399007z","circle-star":"m100 20c44.18278 0 80 35.81722 80 80s-35.81722 80-80 80-80-35.81722-80-80 35.81722-80 80-80zm-22.0495383 20.5603458c-3.2380671-.0450023-5.91359 2.4826578-6.0776747 5.6901298l-.0073484.2248563-.357314 25.0327927-25.0327927.357314c-1.5318757.0218657-2.9973606.6288894-4.0960217 1.6966277-2.3154173 2.2502478-2.4262627 5.9142466-.2940949 8.2988648l.1729897.1855523 17.4481985 17.9535166-17.4481985 17.953517c-1.0677382 1.098661-1.674762 2.564146-1.6978592 4.096021-.0450023 3.238067 2.4826578 5.91359 5.6901298 6.077675l.2248563.007348 25.0327927.357314.357314 25.032793c.0218657 1.531876.6288894 2.997361 1.6966277 4.096022 2.2502478 2.315417 5.9142466 2.426263 8.2988648.294095l.1855523-.17299 17.9535166-17.448198 17.953517 17.448198c1.098661 1.067738 2.564146 1.674762 4.096021 1.697859 3.238067.045003 5.91359-2.482658 6.077675-5.69013l.007348-.224856.357314-25.032793 25.032793-.357314c1.531876-.021865 2.997361-.628889 4.096022-1.696627 2.315417-2.250248 2.426263-5.914247.294095-8.298865l-.17299-.185552-17.448198-17.953517 17.448198-17.9535166c1.067738-1.0986611 1.674762-2.564146 1.697859-4.0960217.045003-3.2380671-2.482658-5.91359-5.69013-6.0776747l-.224856-.0073484-25.032793-.357314-.357314-25.0327927c-.021865-1.5318757-.628889-2.9973606-1.696627-4.0960217-2.250248-2.3154173-5.914247-2.4262627-8.298865-.2940949l-.185552.1729897-17.953517 17.4481985-17.9535166-17.4481985c-1.0986611-1.0677382-2.564146-1.674762-4.0960217-1.6978592z","plug-asterik":"m140 20c22.09139 0 40 17.90861 40 40v20c0 11.045695-8.954305 20-20 20 11.045695 0 20 8.954305 20 20v20c0 22.09139-17.90861 40-40 40h-80c-22.09139 0-40-17.90861-40-40v-20c0-11.045695 8.954305-20 20-20-11.045695 0-20-8.954305-20-20v-20c0-22.09139 17.90861-40 40-40zm13.044032 32.6409032c-1.109533-4.1888568-5.343464-6.7176915-9.535194-5.7461363l-.246499.0612015-23.546691 6.2369831c-12.662553 3.3540227-25.9670164 3.4211031-38.6552467.2012413l-.7760497-.2012413-23.5466902-6.2369831c-1.3424388-.3555815-2.7543194-.3555815-4.0967582 0-4.1888568 1.109533-6.7176915 5.3434639-5.7461363 9.5351932l.0612015.2464998 6.2369831 23.5466902c3.3540227 12.6625539 3.4211031 25.9670164.2012413 38.6552474l-.2012413.776049-6.2369831 23.546691c-.3555815 1.342438-.3555815 2.754319 0 4.096758 1.109533 4.188857 5.3434639 6.717691 9.5351932 5.746136l.2464998-.061201 23.5466902-6.236983c12.6625539-3.354023 25.9670164-3.421104 38.6552474-.201242l.776049.201242 23.546691 6.236983c1.342438.355581 2.754319.355581 4.096758 0 4.188857-1.109533 6.717691-5.343464 5.746136-9.535194l-.061201-.246499-6.236983-23.546691c-3.354023-12.662553-3.421104-25.9670164-.201242-38.6552467l.201242-.7760497 6.236983-23.5466902c.355581-1.3424388.355581-2.7543194 0-4.0967582z","plug-clove":"m140 20c22.09139 0 40 17.90861 40 40v20c0 11.045695-8.954305 20-20 20 11.045695 0 20 8.954305 20 20v20c0 22.09139-17.90861 40-40 40h-80c-22.09139 0-40-17.90861-40-40v-20c0-11.045695 8.954305-20 20-20-11.045695 0-20-8.954305-20-20v-20c0-22.09139 17.90861-40 40-40zm9.222502 30.2213756c-13.492216-13.4922158-35.28359-13.6271379-48.941789-.4047665l-.4113782.4047665-.1194572.1216244-.1192124-.1216244c-13.6285008-13.6285008-35.7246664-13.6285008-49.3531672 0-13.4922157 13.4922158-13.6271379 35.2835898-.4047664 48.9417888l.4047664.4113784.1309832.1290173c-.2504144.2362266-.4981899.4768589-.7432281.7218969-13.4922157 13.492216-13.6271379 35.28359-.4047664 48.941789l.4047664.411378.4113784.404767c13.521617 13.090148 35.0145589 13.088812 48.534549-.004007l.4072398-.40076.1174573-.120624.308.307412.306-.306412.3062444.306412.306756-.307412.118702.120624c13.6285 13.628501 35.724666 13.628501 49.353167 0 13.628501-13.6285 13.628501-35.724666 0-49.353167l-.369679-.364012-.374195-.3559566.536395-.542324c13.222372-13.658199 13.08745-35.449573-.404766-48.9417888z","plug-octagon":"m140 20c22.09139 0 40 17.90861 40 40v20c0 11.045695-8.954305 20-20 20 11.045695 0 20 8.954305 20 20v20c0 22.09139-17.90861 40-40 40h-80c-22.09139 0-40-17.90861-40-40v-20c0-11.045695 8.954305-20 20-20-11.045695 0-20-8.954305-20-20v-20c0-22.09139 17.90861-40 40-40zm-35.407799 21.902152c-2.827247-1.1710841-5.9904698-1.2161258-8.8435612-.1351251l-.340841.1351251-33.2420045 13.7692891c-2.8314357 1.1728191-5.1025532 3.3825064-6.3544525 6.1701618l-.1399007.3241914-13.7692891 33.2420045c-1.1710841 2.8272472-1.2161258 5.9904702-.1351251 8.8435612l.1351251.340841 13.7692891 33.242005c1.1728191 2.831435 3.3825064 5.102553 6.1701618 6.354452l.3241914.139901 33.2420045 13.769289c2.8272472 1.171084 5.9904702 1.216126 8.8435612.135125l.340841-.135125 33.242005-13.769289c2.831435-1.172819 5.102553-3.382507 6.354452-6.170162l.139901-.324191 13.769289-33.242005c1.171084-2.827247 1.216126-5.9904698.135125-8.8435612l-.135125-.340841-13.769289-33.2420045c-1.172819-2.8314357-3.382507-5.1025532-6.170162-6.3544525l-.324191-.1399007z","plug-star":"m140 20c22.09139 0 40 17.90861 40 40v20c0 11.045695-8.954305 20-20 20 11.045695 0 20 8.954305 20 20v20c0 22.09139-17.90861 40-40 40h-80c-22.09139 0-40-17.90861-40-40v-20c0-11.045695 8.954305-20 20-20-11.045695 0-20-8.954305-20-20v-20c0-22.09139 17.90861-40 40-40zm-62.0495383 20.5603458c-3.2380671-.0450023-5.91359 2.4826578-6.0776747 5.6901298l-.0073484.2248563-.357314 25.0327927-25.0327927.357314c-1.5318757.0218657-2.9973606.6288894-4.0960217 1.6966277-2.3154173 2.2502478-2.4262627 5.9142466-.2940949 8.2988648l.1729897.1855523 17.4481985 17.9535166-17.4481985 17.953517c-1.0677382 1.098661-1.674762 2.564146-1.6978592 4.096021-.0450023 3.238067 2.4826578 5.91359 5.6901298 6.077675l.2248563.007348 25.0327927.357314.357314 25.032793c.0218657 1.531876.6288894 2.997361 1.6966277 4.096022 2.2502478 2.315417 5.9142466 2.426263 8.2988648.294095l.1855523-.17299 17.9535166-17.448198 17.953517 17.448198c1.098661 1.067738 2.564146 1.674762 4.096021 1.697859 3.238067.045003 5.91359-2.482658 6.077675-5.69013l.007348-.224856.357314-25.032793 25.032793-.357314c1.531876-.021865 2.997361-.628889 4.096022-1.696627 2.315417-2.250248 2.426263-5.914247.294095-8.298865l-.17299-.185552-17.448198-17.953517 17.448198-17.9535166c1.067738-1.0986611 1.674762-2.564146 1.697859-4.0960217.045003-3.2380671-2.482658-5.91359-5.69013-6.0776747l-.224856-.0073484-25.032793-.357314-.357314-25.0327927c-.021865-1.5318757-.628889-2.9973606-1.696627-4.0960217-2.250248-2.3154173-5.914247-2.4262627-8.298865-.2940949l-.185552.1729897-17.953517 17.4481985-17.9535166-17.4481985c-1.0986611-1.0677382-2.564146-1.674762-4.0960217-1.6978592z","square-asterik":"m170 20c5.522847 0 10 4.4771525 10 10v140c0 5.522847-4.477153 10-10 10h-140c-5.5228475 0-10-4.477153-10-10v-140c0-5.5228475 4.4771525-10 10-10zm-16.955968 32.6409032c-1.109533-4.1888568-5.343464-6.7176915-9.535194-5.7461363l-.246499.0612015-23.546691 6.2369831c-12.662553 3.3540227-25.9670164 3.4211031-38.6552467.2012413l-.7760497-.2012413-23.5466902-6.2369831c-1.3424388-.3555815-2.7543194-.3555815-4.0967582 0-4.1888568 1.109533-6.7176915 5.3434639-5.7461363 9.5351932l.0612015.2464998 6.2369831 23.5466902c3.3540227 12.6625539 3.4211031 25.9670164.2012413 38.6552474l-.2012413.776049-6.2369831 23.546691c-.3555815 1.342438-.3555815 2.754319 0 4.096758 1.109533 4.188857 5.3434639 6.717691 9.5351932 5.746136l.2464998-.061201 23.5466902-6.236983c12.6625539-3.354023 25.9670164-3.421104 38.6552474-.201242l.776049.201242 23.546691 6.236983c1.342438.355581 2.754319.355581 4.096758 0 4.188857-1.109533 6.717691-5.343464 5.746136-9.535194l-.061201-.246499-6.236983-23.546691c-3.354023-12.662553-3.421104-25.9670164-.201242-38.6552467l.201242-.7760497 6.236983-23.5466902c.355581-1.3424388.355581-2.7543194 0-4.0967582z","square-clove":"m170 20c5.522847 0 10 4.4771525 10 10v140c0 5.522847-4.477153 10-10 10h-140c-5.5228475 0-10-4.477153-10-10v-140c0-5.5228475 4.4771525-10 10-10zm-20.777498 30.2213756c-13.492216-13.4922158-35.28359-13.6271379-48.941789-.4047665l-.4113782.4047665-.1194572.1216244-.1192124-.1216244c-13.6285008-13.6285008-35.7246664-13.6285008-49.3531672 0-13.4922157 13.4922158-13.6271379 35.2835898-.4047664 48.9417888l.4047664.4113784.1309832.1290173c-.2504144.2362266-.4981899.4768589-.7432281.7218969-13.4922157 13.492216-13.6271379 35.28359-.4047664 48.941789l.4047664.411378.4113784.404767c13.521617 13.090148 35.0145589 13.088812 48.534549-.004007l.4072398-.40076.1174573-.120624.308.307412.306-.306412.3062444.306412.306756-.307412.118702.120624c13.6285 13.628501 35.724666 13.628501 49.353167 0 13.628501-13.6285 13.628501-35.724666 0-49.353167l-.369679-.364012-.374195-.3559566.536395-.542324c13.222372-13.658199 13.08745-35.449573-.404766-48.9417888z","square-octagon":"m170 20c5.522847 0 10 4.4771525 10 10v140c0 5.522847-4.477153 10-10 10h-140c-5.5228475 0-10-4.477153-10-10v-140c0-5.5228475 4.4771525-10 10-10zm-65.407799 21.902152c-2.827247-1.1710841-5.9904698-1.2161258-8.8435612-.1351251l-.340841.1351251-33.2420045 13.7692891c-2.8314357 1.1728191-5.1025532 3.3825064-6.3544525 6.1701618l-.1399007.3241914-13.7692891 33.2420045c-1.1710841 2.8272472-1.2161258 5.9904702-.1351251 8.8435612l.1351251.340841 13.7692891 33.242005c1.1728191 2.831435 3.3825064 5.102553 6.1701618 6.354452l.3241914.139901 33.2420045 13.769289c2.8272472 1.171084 5.9904702 1.216126 8.8435612.135125l.340841-.135125 33.242005-13.769289c2.831435-1.172819 5.102553-3.382507 6.354452-6.170162l.139901-.324191 13.769289-33.242005c1.171084-2.827247 1.216126-5.9904698.135125-8.8435612l-.135125-.340841-13.769289-33.2420045c-1.172819-2.8314357-3.382507-5.1025532-6.170162-6.3544525l-.324191-.1399007z","square-star":"m170 20c5.522847 0 10 4.4771525 10 10v140c0 5.522847-4.477153 10-10 10h-140c-5.5228475 0-10-4.477153-10-10v-140c0-5.5228475 4.4771525-10 10-10zm-92.0495383 20.5603458c-3.2380671-.0450023-5.91359 2.4826578-6.0776747 5.6901298l-.0073484.2248563-.357314 25.0327927-25.0327927.357314c-1.5318757.0218657-2.9973606.6288894-4.0960217 1.6966277-2.3154173 2.2502478-2.4262627 5.9142466-.2940949 8.2988648l.1729897.1855523 17.4481985 17.9535166-17.4481985 17.953517c-1.0677382 1.098661-1.674762 2.564146-1.6978592 4.096021-.0450023 3.238067 2.4826578 5.91359 5.6901298 6.077675l.2248563.007348 25.0327927.357314.357314 25.032793c.0218657 1.531876.6288894 2.997361 1.6966277 4.096022 2.2502478 2.315417 5.9142466 2.426263 8.2988648.294095l.1855523-.17299 17.9535166-17.448198 17.953517 17.448198c1.098661 1.067738 2.564146 1.674762 4.096021 1.697859 3.238067.045003 5.91359-2.482658 6.077675-5.69013l.007348-.224856.357314-25.032793 25.032793-.357314c1.531876-.021865 2.997361-.628889 4.096022-1.696627 2.315417-2.250248 2.426263-5.914247.294095-8.298865l-.17299-.185552-17.448198-17.953517 17.448198-17.9535166c1.067738-1.0986611 1.674762-2.564146 1.697859-4.0960217.045003-3.2380671-2.482658-5.91359-5.69013-6.0776747l-.224856-.0073484-25.032793-.357314-.357314-25.0327927c-.021865-1.5318757-.628889-2.9973606-1.696627-4.0960217-2.250248-2.3154173-5.914247-2.4262627-8.298865-.2940949l-.185552.1729897-17.953517 17.4481985-17.9535166-17.4481985c-1.0986611-1.0677382-2.564146-1.674762-4.0960217-1.6978592z"},uEe={wedges:"m200 0v200h-200v-200zm-60 100-40 40h30c5.522847 0 10-4.477153 10-10zm-80 0v30c0 5.522847 4.4771525 10 10 10h30zm70-40h-30l40 40v-30c0-5.5228475-4.477153-10-10-10zm-30 0h-30c-5.5228475 0-10 4.4771525-10 10v30z",ring:"m200 0v200h-200v-200zm-100 40c-33.137085 0-60 26.862915-60 60s26.862915 60 60 60 60-26.862915 60-60-26.862915-60-60-60zm0 20c22.09139 0 40 17.90861 40 40s-17.90861 40-40 40-40-17.90861-40-40 17.90861-40 40-40z",dots:"m200 0v200h-200v-200zm-140 120c-11.045695 0-20 8.954305-20 20s8.954305 20 20 20 20-8.954305 20-20-8.954305-20-20-20zm80 0c-11.045695 0-20 8.954305-20 20s8.954305 20 20 20 20-8.954305 20-20-8.954305-20-20-20zm-40-40c-11.045695 0-20 8.954305-20 20s8.954305 20 20 20 20-8.954305 20-20-8.954305-20-20-20zm-40-40c-11.045695 0-20 8.954305-20 20s8.954305 20 20 20 20-8.954305 20-20-8.954305-20-20-20zm80 0c-11.045695 0-20 8.954305-20 20s8.954305 20 20 20 20-8.954305 20-20-8.954305-20-20-20z",cube:"m200 0v200h-200v-200zm-129.8492424 100.301515-22.627417 22.627417c-3.9052429 3.905243-3.9052429 10.236893 0 14.142136l15.5563492 15.556349c3.9052429 3.905243 10.2368927 3.905243 14.1421356 0l22.627417-22.627417zm59.3969694 0-29.6984846 29.698485 22.6274166 22.627417c3.905243 3.905243 10.236893 3.905243 14.142136 0l15.556349-15.556349c3.905243-3.905243 3.905243-10.236893 0-14.142136zm-52.3259016-52.928932c-3.9052429-3.9052429-10.2368927-3.9052429-14.1421356 0l-15.5563492 15.5563492c-3.9052429 3.9052429-3.9052429 10.2368927 0 14.1421356l22.627417 22.627417 29.6984848-29.6984848zm59.3969696 0c-3.905243-3.9052429-10.236893-3.9052429-14.142136 0l-22.6274166 22.627417 29.6984846 29.6984848 22.627417-22.627417c3.905243-3.9052429 3.905243-10.2368927 0-14.1421356z",bars:"m200 0v200h-200v-200zm-70 60h-60c-5.5228475 0-10 4.4771525-10 10v60c0 5.522847 4.4771525 10 10 10h60c5.522847 0 10-4.477153 10-10v-60c0-5.5228475-4.477153-10-10-10zm-17 20c3.865993 0 7 3.1340068 7 7v26l-.004059.24065c-.126842 3.754567-3.210489 6.75935-6.995941 6.75935h-26l-.2406498-.004059c-3.7545668-.126842-6.7593502-3.210489-6.7593502-6.995941v-26l.004059-.2406498c.1268423-3.7545668 3.2104893-6.7593502 6.995941-6.7593502z"},__=200;function dEe(){const t=document.createElement("canvas"),e=window.devicePixelRatio||1;t.width=__*e,t.height=__*e;const n=t.getContext("2d");return n.scale(e,e),n.fillStyle=na({luminosity:"light"}),n.fillRect(0,0,__,__),[t,n]}function b_(t){return HD(Object.values(t))}function fEe(){const[t,e]=dEe(),n=b_(uEe),i=b_(lEe),o=b_(cEe),s=b_(aEe);return e.fillStyle=na({luminosity:"bright"}),e.fill(new Path2D(n)),e.fillStyle=na(),e.fill(new Path2D(Math.random()>=.5?i:o)),e.fillStyle=na({luminosity:"dark"}),e.fill(new Path2D(s)),t}var hEe=(t,e)=>(t=t||{},e=e||Qo(t),e.extend({random(){const n=fEe();return new Promise((i,o)=>{try{return n.toBlob(s=>i(s))}catch(s){return o(s)}})}})),pEe=function(e,n){for(var i=e.split("."),o=n.split("."),s=0;s<3;s++){var a=Number(i[s]),l=Number(o[s]);if(a>l)return 1;if(l>a)return-1;if(!isNaN(a)&&isNaN(l))return 1;if(isNaN(a)&&!isNaN(l))return-1}return 0};const mEe="2.0.0",gEe=256,vEe=Number.MAX_SAFE_INTEGER||9007199254740991,yEe=16;var z5={SEMVER_SPEC_VERSION:mEe,MAX_LENGTH:gEe,MAX_SAFE_INTEGER:vEe,MAX_SAFE_COMPONENT_LENGTH:yEe},E_={exports:{}};const _Ee=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var zD=_Ee;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n}=z5,i=zD;e=t.exports={};const o=e.re=[],s=e.src=[],a=e.t={};let l=0;const c=(u,d,f)=>{const h=l++;i(h,d),a[u]=h,s[h]=d,o[h]=new RegExp(d,f?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),c("FULL",`^${s[a.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),c("LOOSE",`^${s[a.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${s[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${s[a.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),c("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),c("COERCERTL",s[a.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",c("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",c("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0.0.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")})(E_,E_.exports);const bEe=["includePrerelease","loose","rtl"],EEe=t=>t?typeof t!="object"?{loose:!0}:bEe.filter(e=>t[e]).reduce((e,n)=>(e[n]=!0,e),{}):{};var GD=EEe;const $D=/^[0-9]+$/,WD=(t,e)=>{const n=$D.test(t),i=$D.test(e);return n&&i&&(t=+t,e=+e),t===e?0:n&&!i?-1:i&&!n?1:t<e?-1:1},wEe=(t,e)=>WD(e,t);var xEe={compareIdentifiers:WD,rcompareIdentifiers:wEe};const w_=zD,{MAX_LENGTH:qD,MAX_SAFE_INTEGER:x_}=z5,{re:YD,t:KD}=E_.exports,SEe=GD,{compareIdentifiers:hg}=xEe;class So{constructor(e,n){if(n=SEe(n),e instanceof So){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>qD)throw new TypeError(`version is longer than ${qD} characters`);w_("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const i=e.trim().match(n.loose?YD[KD.LOOSE]:YD[KD.FULL]);if(!i)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>x_||this.major<0)throw new TypeError("Invalid major version");if(this.minor>x_||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>x_||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){const s=+o;if(s>=0&&s<x_)return s}return o}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(w_("SemVer.compare",this.version,this.options,e),!(e instanceof So)){if(typeof e=="string"&&e===this.version)return 0;e=new So(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof So||(e=new So(e,this.options)),hg(this.major,e.major)||hg(this.minor,e.minor)||hg(this.patch,e.patch)}comparePre(e){if(e instanceof So||(e=new So(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const i=this.prerelease[n],o=e.prerelease[n];if(w_("prerelease compare",n,i,o),i===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(i===void 0)return-1;if(i===o)continue;return hg(i,o)}while(++n)}compareBuild(e){e instanceof So||(e=new So(e,this.options));let n=0;do{const i=this.build[n],o=e.build[n];if(w_("prerelease compare",n,i,o),i===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(i===void 0)return-1;if(i===o)continue;return hg(i,o)}while(++n)}inc(e,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);i===-1&&this.prerelease.push(0)}n&&(this.prerelease[0]===n?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var TEe=So;const{MAX_LENGTH:CEe}=z5,{re:XD,t:JD}=E_.exports,ZD=TEe,MEe=GD,AEe=(t,e)=>{if(e=MEe(e),t instanceof ZD)return t;if(typeof t!="string"||t.length>CEe||!(e.loose?XD[JD.LOOSE]:XD[JD.FULL]).test(t))return null;try{return new ZD(t,e)}catch{return null}};var PEe=AEe;const REe=PEe,LEe=(t,e)=>{const n=REe(t,e);return n?n.version:null};var IEe=LEe;const QD="563e42ca2ae291effe766fbdaaf74200";function OEe(t){const e=a=>Ja.get(a).json(),n=(a,l)=>Ja.post(a,{json:l}).json(),i=te([]),o=te({});var s={isValidPackagesFileContent(a){try{JSON.parse(a)}catch{return!1}return!0},packageFile(){return t.fileByPath("package.json")},updatePackageLicense(a){let l=t.fileByPath("package.json");if(!l)return Promise.resolve();const c=JSON.parse(l.content());c.license=a;const u=JSON.stringify(c,null,"  ");return t.writeToFile(l,u)},checkForPackages(a){return n(`https://libraries.io/api/check?api_key=${QD}`,a)},markCurrentVersionAndOutdated(a){const l=o()[a.name];return l&&(a.current_version=l,a.latest_stable_release_number&&(a.outdated=pEe(a.current_version,a.latest_stable_release_number)===-1)),a},outdatedPackages(){return o(),i.map(s.markCurrentVersionAndOutdated).filter(a=>a.outdated)},checkForPackageUpdates(a){return Promise.resolve().then(function(){const l=a.content(),c=s.parse(l);o(c);const u=[];for(const[f,h]of Object.entries(c))IEe(h)&&u.push(f);const d={projects:u.map(f=>({name:f,platform:"npm"}))};return s.checkForPackages(d).then(i)})},searchForPackages(a){const u=`https://libraries.io/api/search?q=${a}&platforms=npm&api_key=${QD}&per_page=${5}`;return e(u).then(d=>d.map(s.markCurrentVersionAndOutdated))},normalizeVersionNumber:eF,parse(a){const{dependencies:l}=JSON.parse(a);return Object.keys(l).forEach(c=>l[c]=eF(l[c])),l},add(a,l){const{name:c}=l,d=`^${l.latest_stable_release_number||l.latest_release_number}`;"dependencies"in a||(a.dependencies={}),a.dependencies[c]=d;const f=JSON.stringify(a,null,"  ");return o(s.parse(f)),f},async addAndUpdatePackage(a,l){let c,u=t.fileByPath("package.json");u||(c=JSON.stringify({dependencies:{},scripts:{start:"ws --port 3000 --log.format combined --directory . --blacklist '/.env' '/.data' '/.git'"}}),u=await t.newFile("package.json",c,!1)),await t.ensureSession(u);const d=JSON.parse(u.content());"dependencies"in d||(d.dependencies={});const f=d.dependencies[a.name]!=null;if(l&&f)return;const h=s.add(d,a);return await t.writeToFile(u,h),f}};return s}var eF=function(t,e="node"){return e==="node"?t.replace(/^\^/,""):t};function NEe(){return new Worker("/edit/assets/prettier.worker.2fb672f0.js",{type:"module"})}const tF=navigator.userAgent||navigator.vendor||window.opera,kEe=function(t={},e=void 0){t=t||{},e=e||Qo(t),Nu(t,{logger:console,currentProjectIndex:-1,projects:[],privateFileUuids:[],privateFileUuidsToCopy:[],environment:Om,refreshPreviewOnChanges:!0}),e.attrModels("projects",yc),e.attrObservable("currentProjectIndex","fileChanged","privateFileUuidsToCopy","privateFileUuids","refreshPreviewOnChanges"),e.attrReader("environment"),e.include(O_e),e.extend(X1e(tF)),e.include($_e),e.include(J_e),e.include(Z_e),e.include(M_e),e.include(eye),e.include(ebe),e.include(vbe),e.include(bbe),e.include(Ebe),e.projectAvatarUtils=hEe(e),e.packageUtils=OEe(e),e.newStuffLog=wbe(),e.actionInterface=xbe(e),e.fileSearch=Sbe(e);let n=te(window.location.pathname.startsWith("/embed"));const i=uye(),o=mye(i),s=bye(e);e.extend({history:ffe({hashType:"hashbang"}),currentUser:()=>o,currentUserShim:o,userMachine:i,projectMachine:s,start(){s.start(),i.start()},logger(){return t.logger},production(){return t.environment.match(/prod/)},hiddenOnProduction(){if(e.production())return"hidden"},containerPath:te(),booting:te(!1),booted:te(!1),cspViolations:te([]),firstLoad:te(!0),userIsLoggingIn:te(!1),projectIsLoaded:te(!1),projectListIsLoaded:te(!1),userIsIdle:te(!1),redirectingToLogin:te(!1),projectIsRenaming:te(!1),markdownPreviewVisible:te(!0),dotenvViewVisible:te(!0),projectRuntimeInfo:te(""),projectAppType:te(null),restorePath:te(""),restoreLine:te("1"),highlights:te([]),highlightFilePath:te(""),restoreCharacter:te("0"),userPositionIsRestored:te(!1),appPreviewVisible:te(e.getUserPrefs().hasOwnProperty("previewIsVisible")?e.getUserPrefs().previewIsVisible:e.isMobile),appPreviewIsCollapsed:te(!e.getUserPref("previewIsVisible")),appPreviewUpdate:f=>{e.updateUserPrefs("previewIsVisible",f)},appPreviewUrlPath:te("/"),userIsDraggingText:te(!1),applicationWidth:te(!0),currentLicense:te(void 0),lastDeletedProject:te(void 0),newProjectTemplates:te([]),signInCodeIsValid:te(!0),connectionErrorDetails:te(null),applicationFocused:te(!1),applicationHovered:te(!1),consoleWelcomeDisplayed:te(!1),sidebarIsCollapsed:te(e.getUserPrefs().hasOwnProperty("sidebarIsCollapsed")?e.getUserPrefs().sidebarIsCollapsed:e.isMobile),sidebarWidth:te(e.getUserPrefs().hasOwnProperty("sidebarWidth")?e.getUserPrefs().sidebarWidth:250),appPreviewSize:te(0),fileAddedAndNotAnimated:te(null),formattingCodeInProgress:te(!1),fullScreenSparkleEffectVisible:te(!1),appPreviewUrlTld:te("default"),embedAppPreviewSize:te(0),embedSelectedFilePath:te(""),embedAttributionHidden:te(!1),embedBottombarCollapsed:te(!1),editorIsEmbedded:n,embedEditingEnabled:te(!1),embedParentIsGlitch:te(!1),embedSidebarCollapsed:te(!1),embedHelperHeight:te(null),fastlyStatus:te(null),digitalOceanStatus:te(null),digitalOceanDeploy:te(null),digitalOceanPackageManagerSwitched:te(!1),wrapText:te(!1),maxLogs:te(2e3),eslintrc:te(null),prettierrc:te(null),watchJson:te(null),env:te(null),packageManager:te("pnpm"),newStuffNotificationVisible:te(!1),newStuff:te([]),debuggerEnabled:te(!1),debuggerReady:te(!1),jiggleAssetFiletreeEntry:te(!1),logsPanelVisible:te(!1),consolePanelVisible:te(!1),projectPrivacy(){var f;return(f=e.currentProject())==null?void 0:f.privacy()},projectAccessLevelForCurrentUser(){var f;return(f=e.currentProject())==null?void 0:f.accessLevel(e.currentUser())},projectIsHelperOrLessForCurrentUser(){return e.projectAccessLevelForCurrentUser()<=Tt.HELPER},projectIsMemberOrMoreForCurrentUser(){return e.projectAccessLevelForCurrentUser()>=Tt.MEMBER},projectIsMemberForCurrentUser(){return e.projectAccessLevelForCurrentUser()===Tt.MEMBER},projectIsAdminForCurrentUser(){return e.projectAccessLevelForCurrentUser()===Tt.ADMIN},projectIsReadOnlyForCurrentUser(){return e.projectAccessLevelForCurrentUser()===Tt.NONE},projectContainerStatus:te("ok"),projectRemixes:te(0),projectContainerResourcesStatus:te("ok"),projectContainerResourcesData:te({quotaUsagePercent:0,memoryUsagePercent:0,diskUsagePercent:0}),projectContainerResourcesDataLoaded:te(!1),projectContainerCpuStatus:te("ok"),projectContainerMemoryStatus:te("ok"),projectContainerDiskStatus:te("ok"),collaboratorPositionTop:te(0),collaboratorPositionLeft:te(0),checkingForPackageUpdates:te(!1),packagesOutdated:e.packageUtils.outdatedPackages,projectSearchBoxValue:te(""),editorVisible:te(!0),editorWrapVisible:te(!0),assetsWrapVisible:te(!1),mediaWrapVisible:te(!1),mediaElement:te(null),appTypeConfigWrapVisible:te(!1),assets:te([]),draggedTextFile:te({}),aboutPopVisible:te(!1),addPackagePopVisible:te(!1),accountPopVisible:te(!1),projectPopVisible:te(!1),projectsSelectPopVisible:te(!1),projectAvatarPopVisible:te(!1),personPopVisible:te(!1),projectSearchPopVisible:te(!1),shareButtonsPopVisible:te(!1),sharePopVisible:te(!1),embedSharePopVisible:te(!1),gitImportExportPopVisible:te(!1),smallViewportOptionsPopVisible:te(!1),changeLicensePopVisible:te(!1),signInTop:te(""),signInLeft:te(""),newProjectPopVisible:te(!1),projectContainerStatusPopVisible:te(!1),newFilePopVisible:te(!1),customDomainPopVisible:te(!1),toolsPopVisible:te(!1),showAppPopVisible:te(!1),appPreviewUrlPopVisible:te(!1),teamPopCurrentTeam:te(null),containerStatsPanelVisible:te(!1),assetOverlayAssetUUID:te(null),keyboardShortcutsOverlayVisible:te(!1),dragToUploadOverlayVisible:te(!1),newStuffOverlayVisible:te(!1),projectIsSuspendedOverlayVisible:te(!1),shareEmbedOverlayVisible:te(!1),connectionErrorOverlayVisible:te(!1),projectSearchFilesOverlayVisible:te(!1),ownerNotInGoodStandingOverlayVisible:te(!1),userIsSuspendedVisible:te(!1),recaptchaOverlayCallback:te(!1),uptimeLimitsExceededOverlayVisible:te(!1),glitchSubscriptionRequiredOverlayVisible:te(!1),anonymousProjectDeletedOverlayVisible:te(!1),shareProjectOverlayVisible:te(!1),notifyAutosave:te(!1),notifyConnectionError:te(!1),notifyProjectVisitorCannotUploadAssets:te(!1),notifyConnectionNotEstablished:te(!1),notifyReconnecting:te(!1),notifyInvalidFileName:te(!1),notifyInvalidFolderName:te(!1),notifyPreviewWindowOpened:te(!1),notifyAnonProjectLimits:te(!1),notifyAnonUserLimits:te(!1),notifyGitImportUrlInvalid:te(!1),notifyImportingGitRepo:te(!1),notifyGithubExporting:te(!1),notifyGitImportSuccess:te(!1),notifyInvalidGitRepository:te(!1),notifyGithubExportFailure:te(!1),notifyGithubEmptyRepositoryError:te(!1),notifyGitRepositoryNotFoundError:te(!1),notifyGithubExportSuccess:te(!1),notifyGithubExportNoRepoScopeError:te(!1),notifyGenericError:te(!1),notifyReconnected:te(!1),notifyUploadFailure:te(!1),notifyJoinedProject:te(!1),notifyLeftProject:te(!1),notifyTakeActionToEdit:te(!1),notifyPrettierFirstRun:te(!1),notifyDeletedProject:te(!1),notifyEditorIsPreviewingRewind:e.editorIsPreviewingRewind,notifyEditorRewoundProject:te(!1),notifyEditorIsRewindingProject:e.editorIsRewindingProject,notifyFileHiddenByGitIgnore:te(!1),notifyCanEdit:te(!1),notifyOpenInFullEditor:te(!1),notifyCanEditInEmbedRemixedEmbed:te(!1),notifyUploading:te(!1),notifyCloneError:te(!1),notifyDebuggerIsChromeOnly:te(!1),notifyPrettierParseError:te(!1),notifyPrettierLoadError:te(!1),notifyFirstSwitchToStatic:te(!1),notifyFirstSwitchToNonStatic:te(!1),jiggleTakeActionToEditNotification:te(!1),jigglePreviewingRewindNotification:te(!1),notifyDotenvRemovedVariable:te(!1),notifyDotenvUpdatesAsYouType:te(!1),notifyProjectConnectionFailed:te(!1),notifyProjectLoadFailed:te(!1),notifyRecaptchaUnavailable:te(!1),backendLintingResults:{},boostedCollection:te(null),boostedProjects:te(null),showTipForUserAvatar:te(e.getUserPrefs().hasOwnProperty("showTipForUserAvatar")?e.getUserPrefs().showTipForUserAvatar:!0),pendingUploads:te([]),printConsoleWarning(f,h){h=h||window.location.href,f=f||e.logger().log.bind(e.logger()),!e.consoleWelcomeDisplayed()&&h.includes("/edit")&&(f("%cWelcome to the console","color: #e100d8"),f("If you\u2019re following someone else\u2019s instructions make sure you trust them. If in doubt post a question in our forum https://support.glitch.com"),e.consoleWelcomeDisplayed(!0))},uploadProgress(){const f=e.pendingUploads(),h=f.length;return f.reduce((m,{ratio:_})=>m+_(),0)/h*100|0},clearAssetOverlayAssetUUID(){e.assetOverlayAssetUUID(null)},closeAllPopOversEmitter:new a9.EventEmitter,onCloseAllPopOvers(f){return e.closeAllPopOversEmitter.on("close",f),()=>{e.closeAllPopOversEmitter.on("close",f)}},closeAllPopOvers(f){e.closeAllPopOversEmitter.emit("close",f),e.aboutPopVisible(!1),e.addPackagePopVisible(!1),e.accountPopVisible(!1),e.projectPopVisible(!1),e.projectsSelectPopVisible(!1),e.projectAvatarPopVisible(!1),e.personPopVisible(!1),e.toolsPopVisible(!1),typeof e.fileOptionsPopVisible=="function"&&e.fileOptionsPopVisible(!1),e.projectSearchPopVisible(!1),e.gitImportExportPopVisible(!1),e.shareButtonsPopVisible(!1),e.sharePopVisible(!1),e.embedSharePopVisible(!1),e.smallViewportOptionsPopVisible(!1),e.changeLicensePopVisible(!1),e.newProjectPopVisible(!1),e.projectContainerStatusPopVisible(!1),e.newFilePopVisible(!1),e.customDomainPopVisible(!1),e.showAppPopVisible(!1),e.appPreviewUrlPopVisible(!1),e.teamPopCurrentTeam(null),e.assetOverlayAssetUUID(null),e.keyboardShortcutsOverlayVisible(!1),e.dragToUploadOverlayVisible(!1),e.newStuffOverlayVisible(!1),e.shareEmbedOverlayVisible(!1),e.projectSearchFilesOverlayVisible(!1),e.ownerNotInGoodStandingOverlayVisible(!1),e.uptimeLimitsExceededOverlayVisible(!1),e.glitchSubscriptionRequiredOverlayVisible(!1),e.shareProjectOverlayVisible(!1)},selectTextFile(){e.assetsWrapVisible(!1),e.appTypeConfigWrapVisible(!1),e.editorWrapVisible(!0),e.mediaWrapVisible(!1)},selectMediaFile(f){let h;return f.extensionType()==="audio"?(h=document.createElement("audio"),h.controls=!0,h.src=`data:audio/mp3;base64,${f.base64Content()}`):f.extensionType()==="image"?(h=document.createElement("img"),h.src=`data:image/png;base64,${f.base64Content()}`):f.extensionType()==="pdf"?(h=document.createElement("iframe"),h.style="width: 100%; height: 100%; border: none",h.src=`data:application/pdf;base64,${f.base64Content()}`):(h=document.createElement("div"),h.textContent="Cannot display this type of binary file"),e.mediaElement(h),e.assetsWrapVisible(!1),e.appTypeConfigWrapVisible(!1),e.editorWrapVisible(!1),e.mediaWrapVisible(!0)},currentDocument(){const f=e.recentFiles(),h=f[f.length-1];return h!=null?h.uuid():void 0},currentDocumentIsTextFile(){if(e.editorWrapVisible()&&e.assetsWrapVisible()===!1)return!0},currentFileInfo(){const f=e.currentDocument(),h=e.fileByUuid(f);let v={};return h&&e.projectIsLoaded()&&(v.path=h.path(),v.folders=h.folders(),v.extension=h.extension()),v},currentTheme:te(e.getUserPrefs().theme||"sugar"),setPreferredTheme(f){e.updateUserPrefs("theme",f),e.currentTheme(f)},analytics:K1e(tF,n),touchClass(f){if(e.isMobile)return"touch"},projectName(){var f;return(f=e.currentProject())==null?void 0:f.name()},relevantTeams(){let f=e.currentProject(),h=e.currentUser();if(!f||!h)return"0";let v=h.teams().map(S=>S.id()).sort(),m=f.teams().map(S=>S.id()).sort(),_=J1e(v,m);return _.length>0?_.join(","):"0"},projectFilePaths(){var f;return(f=e.currentProject())==null?void 0:f.files().map(h=>h.path())},touchProject(){var f;if(!e.projectIsReadOnlyForCurrentUser())return(f=e.currentProject())==null?void 0:f.touch(e)},globalclick(f){f.target.closest("button")&&(f.target.parentElement.blur(),f.target.blur()),!f.defaultPrevented&&(f.target.closest('.pop-over, .opens-pop-over, .overlay, [data-module="Notification"]')||e.closeAllPopOvers(f.target))},projectNameFromPath(f){const h=/[^?]*/;return f.match(h)[0]},refreshPreview(){e.editorIsEmbedded()?e.updateAppPreview():e.preview()},setRestorePosition(f){const h=/:[0-9]+/g,v=f.match(h),m=v!=null?v[0]:void 0,_=v!=null?v[1]:void 0;if(e.restorePath(nF(f)),m&&e.restoreLine(m.slice(1,m.length)),_)return e.restoreCharacter(_.slice(1,_.length))},setHighlightLines(f,h){!h||h.length===0||(e.highlightFilePath(nF(h)),e.highlights(f))},boot(){return e.booting()?Promise.resolve():(e.booting(!0),Promise.resolve().then(function(){return e.fetchLatestProject().catch(function(f){throw e.notifyConnectionError(!0),f})}).then(function(){e.analytics.identify(e.currentUser()),e.connectionErrorOverlayVisible(!1),e.refreshEditor(),e.fetchBoostedCollection(),e.booted(!0)}).then(()=>{e.digitalOceanStatus(null),e.digitalOceanDeploy(null),e.digitalOceanPackageManagerSwitched(!1)}).then(()=>{}).catch(async f=>{const h=await f.response.json().catch(()=>({status:"Unknown",error:"Server error",message:"An unexpected error has occurred."}));return e.logger().log(f),e.logger().log(h),e.connectionErrorDetails(h),e.connectionErrorOverlayVisible(!0)}))},fetchLatestProject(){return e.glitchApi().v0.boot({latestProjectOnly:!0}).then(f=>(f.user.suspendedAt&&e.userIsSuspendedVisible(!0),f)).then(f=>f.projects[0]||null).then(f=>{f!==null&&e.projects([yc(f)])}).catch(function(f){throw f.response.status===401?(e.logout(),Error("User is unauthorized")):f}).finally(()=>e.checkForNewStuff())},checkForNewStuff(){const f=e.getUserPref("newStuffReadId");if(f!=null&&e.newStuffLog.updates()[0].id<=f){e.newStuffNotificationVisible(!1);return}if(!e.currentUser().loggedIn()){e.newStuffNotificationVisible(!1);return}const h=2,v=new Date(e.currentUser().createdAt()),m=new Date;if($e(m).diff(v,"days")<=h){e.newStuffNotificationVisible(!1);return}if(!e.getUserPref("showNewStuff")){e.newStuffNotificationVisible(!1);return}e.newStuffNotificationVisible(!0)},fetchUserProjects(){return e.projectListIsLoaded(!1),e.glitchApi().v0.boot({latestProjectOnly:!1}).then(f=>f.projects).then(f=>(f=f.filter(h=>h.id!==e.currentProject().id()),e.projects([e.currentProject()].concat(f.map(h=>yc(h)))))).finally(()=>e.projectListIsLoaded(!0))},focusOnGlobalSearch(){document.getElementById("project-search-input").focus()},updateUserThanks(f){return f.updateThanks(e)},alphabeticalize(f,h){const v=typeof f.path=="function"?f.path().split("/"):f.path.split("/"),m=typeof h.path=="function"?h.path().split("/"):h.path.split("/"),_=v.length,S=m.length,E=Math.max(_,S);let w=0;for(;w<E;){if(_-1===w&&S>_)return 1;if(S-1===w&&_>S)return-1;if(v[w]>m[w])return 1;if(v[w]<m[w])return-1;w+=1}return 0},persistentToken(){var f;return(f=e.currentUser())==null?void 0:f.persistentToken()},setDestinationAfterAuth(){e.storeLocal("destinationAfterAuth",{expires:$e().add(10,"minutes").toISOString(),to:{pathname:window.location.pathname,search:window.location.search,hash:window.location.hash}})},projectDownloadUrl(){const f=e.currentProjectId(),h=e.persistentToken();return`${zs}/project/download/?authorization=${h}&projectId=${f}`},getGitHubLoginUrl:(f="user:email")=>d_.authorizationUrl(Yoe,f),redirectToGitHubLogin:f=>{e.redirectingToLogin(!0),e.setDestinationAfterAuth(),window.location=e.getGitHubLoginUrl(f)},logout(){window.analytics.reset(),e.removeLocal("cachedUser"),document.cookie=`hasLogin=; path=/; expires=${new Date}`,document.cookie=`hasProjects=; path=/; expires=${new Date}`,window.location="//glitch.com"},updateEmbedSidebarCollapsed(f){if(e.embedParentIsGlitch()){const h=e.sidebarIsCollapsed();return f=f||window.parent,f.postMessage(fT.updateEmbedState({embedSidebarCollapsed:h}),"*"),e.updateUserPrefs("embedSidebarCollapsed",h)}},currentUserIsLoggedIn(){return e.currentUser().loggedIn()},removeStaleUsers(){const f=+new Date;return e.currentRemoteUsers.filter(h=>f-h.lastSeen()>30*1e3).forEach(function(h){e.currentRemoteUsers.remove(h)})},currentRemoteUsers:te([]),async updateRemoteUser(f){let h;if(f.invited){e.updateInvitedUser(f);return}if(f.left){e.updateLeftUser(f);return}if(f.id!==e.currentUser().id()){let v=-1;e.currentRemoteUsers.forEach(function(m,_){if(m.id()===f.id)return v=_}),v>=0?(h=e.currentRemoteUsers()[v],h.update(f)):(f.projectPermission.accessLevel>=Tt.MEMBER&&e.currentProject().users().push(f),h=Ys(f),e.currentRemoteUsers.push(h),await e.updateUserThanks(h),e.broadcastUser()),h.lastSeen(Date.now())}else h=e.currentUser();if(f.thankedBy){h.thanksCount.increment(1),h.thanksReceived(!0);return}if(f.unThankedBy){h.thanksCount.decrement(1);return}},autoJoin(){const f=e.currentUser().broadcastData();return f.projectPermission={accessLevel:Tt.MEMBER},e.updateInvitedUser(f)},updateInvitedUser(f){const h=Ys(f);if(e.currentProject().accessLevel(h)>0)return;const v=new Date().toISOString();if(e.currentProject().users.push({avatarUrl:h.userAvatarUrl(),emails:h.emails,id:h.id(),login:h.login(),name:h.name(),projectPermission:{userId:h.id(),projectId:e.currentProject().id(),createdAt:v,updatedAt:v,accessLevel:f.projectPermission.accessLevel}}),f.id===e.currentUser().id())return e.analytics.track("Project Joined"),e.currentUser().awaitingInvite(!1),e.broadcastUser({invited:!0}),e.projectMachine.send({type:"CURRENT_USER_JOINED"}),e.notifyJoinedProject(!0)},updateLeftUser(f){const h=e.currentProject().users.filter(({id:v})=>v!==f.id);e.currentProject().users(h),f.id===e.currentUser().id()&&(e.broadcastUser({left:!0}),e.projectMachine.send({type:"CURRENT_USER_LEFT"}),e.notifyLeftProject(!0))},remoteUserByClientId(f){return e.currentRemoteUsers().find(h=>{var v;return((v=h.lastCursor())==null?void 0:v.clientId)===f})},updateProjectName(f){e.currentProject().domain(f),e.updateUrlHashForProject(e.currentProject(),{replace:!0}),e.updatePreview()},currentUsers(){return[e.currentUser()].concat(e.currentRemoteUsers())},offlineMembers(){if(!e.currentProject())return[];const f=e.currentUsers();return e.currentProject().users.filter(function({id:v}){const[m]=Array.from(f.filter(_=>v===_.id()));return!m}).map(function(v){const m=Ys(v);return m.isOnline(!1),m})},projectInviteUrl(){const f=e.currentProject();if(f)return`https://${window.location.host}/edit/#!/join/${f.inviteToken()}`},projectAvatarImage(){return e.currentProject()&&e.currentProject().avatarUrl()},currentProject(){const f=e.projects(),h=e.currentProjectIndex();return f[h]},currentUserRole(){const f=e.currentProject();return f?f.projectUser(e.currentUser().id())?"Admin":"Reader":null},currentUserOnAnyCurrentProjectTeam(){const f=e.currentProject()?e.currentProject().teams():[],h=e.currentUser().teams();return f.some(v=>h.some(m=>m.id()===v.id()))},publishedUrl(){var h;const f=e.appPreviewUrlTld();return e.appPreviewUrlTld()!=="default"?f==="doapp"?e.env().DIGITALOCEAN_APP_URL:Om==="staging"?`https://${e.currentProject().domain()}.staging.glitch.${e.appPreviewUrlTld()}`:`https://${e.currentProject().domain()}.glitch.${e.appPreviewUrlTld()}`:(h=e.currentProject())==null?void 0:h.publishedUrl()},editorUrl(){var f;return(f=e.currentProject())==null?void 0:f.editorUrl(e)},embedUrl(f){var m;const h=(f!=null?f.path:void 0)||e.embedSelectedFilePath(),v=(f!=null?f.sidebarCollapsed:void 0)||e.getUserPref("embedSidebarCollapsed");return(m=e.currentProject())==null?void 0:m.embedUrl({path:h,previewSize:f!=null?f.previewSize:void 0,attributionHidden:f!=null?f.attributionHidden:void 0,previewFirst:f!=null?f.previewFirst:void 0,sidebarCollapsed:v})},currentUrl(){return e.editorIsEmbedded()?e.embedUrl():e.editorUrl()},glitchApi(){return new ms(e.persistentToken()||null)},containerExec(f){const h=e.currentProjectId();return e.glitchApi().v0.projectExec(h,f)},setProjectEnv(f,h){return e.glitchApi().v0.projectSetEnv(f,h)},remixURL(){var f;return(f=e.currentProject())==null?void 0:f.remixUrl()},async remixCurrentProject(f){f!=null&&f.preventDefault(),e.history.push(`/remix/${e.currentProjectDomain()}`)},resetProjectContainerPerformanceData(){return e.projectContainerStatus("ok"),e.projectContainerResourcesData({quotaUsagePercent:0,memoryUsagePercent:0,diskUsagePercent:0}),e.projectContainerResourcesDataLoaded(!1)},showRecaptchaOverlay(){return new Promise((f,h)=>{let v;const m=S=>{f(S),v()},_=S=>{S!==m&&(h(new Error("Recaptcha closed")),v())};e.recaptchaOverlayCallback(m),e.recaptchaOverlayCallback.observe(_),v=()=>{e.recaptchaOverlayCallback()===m&&e.recaptchaOverlayCallback(null),e.recaptchaOverlayCallback.stopObserving(_)}})},filetree(){var f;return((f=e.currentProject())==null?void 0:f.filetree())||a_()},files(){if(e.filetree())return e.filetree().files()},collapsedFiletree:te([]),openFolderIds:te(new Set),changeOpenFolderIds(f){e.openFolderIds().has(f)?e.openFolderIds().delete(f):e.openFolderIds().add(f),e.openFolderIds(new Set(e.openFolderIds()))},generateCollapsedFiletree(){if(!e.editorIsPreviewingRewind()&&!e.editorIsRewindingProject()){const f=e.otClient()&&e.otClient().ot().state().documents;if(!f)return console.error("application.otClient() not available yet"),!1;if(!e.files().length)return console.error("application.files() empty. This is required for verifying which files should be displayed"),!1;const h=f.root.children["."],v=_=>{const S=f[_].children;if(S){const E=N7({uuid:_,name:f[_].name,level:e.otClient().idToPath(_).split("/").length-2});for(const w of Object.values(S)){const T=f[w];T.docType==="file"?E.children().push(e.fileByUuid(T.docId)):E.children().push(v(T.docId))}if(E.children(E.children().filter(w=>!!w)),E.children().length)return E}},m=v(h);e.collapsedFiletree(m.children()),e.selectedFile()&&e.openContainingFolder(e.selectedFile())}else{const f=e.files().reduce((h,v)=>{let m=h,_="";const S=v.folders();for(;S&&S.length>0;){const E=S.shift(),w=m.find(T=>T.type()!=="file"&&T.name()===E);if(w)m=w.children(),_=w.rewindPreviewPath();else{const T=N7({name:E,level:_.split("/").length-1,children:[],rewindPreviewPath:_+E+"/"});m.push(T),m=T.children(),_=T.rewindPreviewPath()}}return m.push(v),h},[]);e.collapsedFiletree(f),e.selectedFile()&&e.openContainingFolder(e.selectedFile())}return!0},openContainingFolder(f){if(e.otClient()){const h=e.otClient().documentImmediate(f.id());if(h){let v=e.otClient().documentImmediate(h.parentId);for(;v.name!==".";)e.openFolderIds().has(v.docId)||e.changeOpenFolderIds(v.docId),v=e.otClient().documentImmediate(v.parentId)}}},currentUserAvatarUrl(){return e.currentUser().userAvatarUrl()},consoleUrl(){return`https://${document.location.host}/edit/console.html?${e.currentProjectId()}`},openConsole(){return window.open(e.consoleUrl())},readEnv(){return e.otClient().documentByPath(".env").then(({content:f})=>f).catch(()=>null).then(f=>f?i5.parse(f):null).then(e.env)},readPackageManager(){var f;return e.refreshEditor(),(f=e.otClient())==null?void 0:f.documentByPath("package-lock.json").then(({content:h})=>{h&&e.packageManager("npm")}).catch(()=>null)},readEslintrc(){return e.otClient().documentByPath(".eslintrc.json").then(({content:f})=>f).then(o9).then(JSON.parse).catch(()=>null).then(e.eslintrc).finally(()=>e.performLint())},readWatchJson(){return e.otClient().documentByPath("watch.json").then(({content:f})=>f).then(o9).then(JSON.parse).catch(()=>null).then(e.watchJson)},readPrettierrc(){return e.otClient().documentByPath(".prettierrc").then(({content:f})=>f).then(JSON.parse).catch(()=>null).then(e.prettierrc)},readDebuggerSetting(){return e.otClient().documentByPath(".env").then(function({content:f,docId:h}){const v=f.split(`
`).indexOf("GLITCH_DEBUGGER=true")>=0;return e.debuggerEnabled(v),{content:f,docId:h,enabled:v}}).catch(function(){return e.debuggerEnabled(!1),{content:"",enabled:!1}})},openDebugger(){if(!e.isChrome||!!e.isAndroid){e.notifyDebuggerIsChromeOnly(!0);return}return window.open(`https://${document.location.host}/edit/debugger.html?${e.currentProjectId()}`),e.readDebuggerSetting().then(async function({content:f,docId:h,enabled:v}){if(!e.debuggerReady()&&!v){let m;return h?(m=e.selectedFile(),e.selectFileByUuid(h).then(function(){const _=`GLITCH_DEBUGGER=true
${f.replace(new RegExp(`GLITCH_DEBUGGER=?(true)?
?`,"g"),"")}`;return e.fileById(h).content(_),m&&e.selectFileByUuid(m.id())})):(await e.newFile(".env",`GLITCH_DEBUGGER=true
`)).session.then(()=>m&&e.selectFileByUuid(m.id()))}})},disableDebugger(){return e.otClient().documentByPath(".env").then(function({content:f,docId:h}){if(f.split(`
`).indexOf("GLITCH_DEBUGGER=true")>=0){const v=e.selectedFile(),m=f.replace(new RegExp(`GLITCH_DEBUGGER=true
?`,"g"),"");return e.selectFileByUuid(h).then(function(){return e.fileById(h).content(m),e.debuggerReady(!1),v&&e.selectFileByUuid(v.id())})}})},previewWindow:null,previewWindowIsOpen(){return e.previewWindow!==null&&!e.previewWindow.closed},preview(){if(e.previewWindowIsOpen())return e.previewWindow.focus(),!1;const f=window.open(e.publishedUrl(),"_blank");return e.previewWindow=f,!0},updateAppPreview:tg(function(f=document){const h=f.querySelector(".app-preview iframe");h&&(h.src=e.previewURL())},200),updatePreview(){!e.refreshPreviewOnChanges()||(e.previewWindowIsOpen()&&(e.previewWindow.location=e.publishedUrl()),e.appPreviewVisible()&&e.updateAppPreview())},previewURL(){const f=e.publishedUrl();if(f)return`${f}${e.appPreviewUrlPath()}`},fileByPath(f){const[h]=Array.from(e.files().filter(v=>v.path()===f));return h},fileByUuid(f){const[h]=Array.from(e.files().filter(v=>v.uuid()===f));return h},envFile(){return e.fileByPath(".env")},fileById(f){return e.fileByUuid(f)},selectFileByUuid(f,h){h=h||window.parent;const v=e.fileByUuid(f);return e.selectedFile(v),e.editorIsEmbedded()&&h.postMessage(fT.updateEmbedState({embedSelectedFilePath:v.path()}),"*"),e.selectedFile().session},selectFileByPathOrDefaultFile(f){e.projectSearchPopVisible(!1),e.projectSearchBoxValue("");const h=e.fileByPath(f);h?h===e.selectedFile()?e.updateSelectedFile(h.id()):e.selectedFile(h):e.selectDefaultFile()},selectFileByLogPath(f){const h=f.indexOf(":");if(h===-1)e.selectFileByPathOrDefaultFile(f);else{const v=f.slice(0,h);e.selectFileByPathOrDefaultFile(v),e.selectedFile().session.then(function(){const m=f.slice(h+1,f.length);return e.goToLine(m-1)})}return e.focusEditor()},isFileInCurrentProject(f){return e.currentProject().files().some(h=>f.id()===h.id())},selectDefaultFile(){var m;let f,h;const v=e.fileByUuid(e.currentDocument());return v&&(h=e.isFileInCurrentProject(v)),v&&h?f=v:f=(m=e.currentProject())==null?void 0:m.defaultFile(),e.selectedFile(f),f!=null?f.session.then(()=>e.performLint()):void 0},deleteFile(f,{silent:h=!1}={}){if(e.filetree().files.remove(f),f&&f.id()===e.selectedFileId()&&e.selectDefaultFile(),(f!=null?f.path():void 0)===".env"&&e.debuggerEnabled(!1),(f!=null?f.path():void 0)===".eslintrc.json"&&(e.eslintrc(null),e.performLint()),(f!=null?f.path():void 0)==="watch.json"&&e.watchJson(null),(f!=null?f.path():void 0)===".prettierrc"&&e.prettierrc(null),!h)return e.OTDeleteFile(f)},deleteFolder(f,h,{silent:v=!1}={}){if(!h)return;const _=e.currentProject().filetree().I.files.filter(S=>!S.path.startsWith(h));e.currentProject().filetree(a_({files:_})),v||e.OTDeleteFolder(f,h)},uploadNewFile:(f,h=!0)=>Fve(f).then(async v=>e.newFile(f.name,v,h)),async newFile(f,h="",v=!0){e.analytics.track("File Created",{fileUploaded:h!==""});let m;if(a5(f)){e.notifyInvalidFileName(!0);return}const _=e.fileByPath(f);if(_){if(!window.confirm(`File at ${f} exists, overwrite?`))return;m=_}else if(e.otClient().documentByPathImmediate(f)){e.notifyFileHiddenByGitIgnore(!0);return}else m=qs({path:f}),e.filetree().files.push(m),e.OTNewFile(m);return await e.writeToFile(m,h),v&&(e.fileAddedAndNotAnimated(m.id()),e.selectedFile(m)),f.endsWith(".md")&&e.markdownPreviewVisible(!1),m},writeToFile(f,h){return e.ensureSession(f).then(function(){const v=e.selectedFile();if(e.setCurrentSession(f),f.content(h),v)return e.setCurrentSession(v)})},getPolicy(f={}){return e.glitchApi().getProjectPolicy(e.currentProjectId(),f)},getProjectAvatarPolicy(f){return e.glitchApi().getProjectAvatarPolicy(f.id())},async deleteCurrentProject(){var m,_,S,E;e.notifyDeletedProject(!1);const f={projectId:e.currentProjectId(),projectName:e.projectName(),projectType:(m=e.currentProject())==null?void 0:m.getType(),projectVisibility:((_=e.currentProject())==null?void 0:_.private())?"private":"public",numberProjectMembers:(S=e.currentProject())==null?void 0:S.users().length,numberTeams:(E=e.currentProject())==null?void 0:E.teams().length};await e.fetchUserProjects();const h=e.currentProject(),v=e.projects().find(w=>w.id()!==h.id());v?e.history.replace(`/${v.domain()}`):e.history.push(`/remix/${$7}`);try{await e.glitchApi().deleteProject(h.id()),e.lastDeletedProject(h);const w=e.projects().filter(T=>T.id()!==h.id());e.projects(w),e.analytics.track("Project Deleted",f),e.notifyDeletedProject(!0)}catch(w){qi(w),e.notifyGenericError(!0)}},undeleteLastDeletedProject(){const f=e.lastDeletedProject();return e.closeAllPopOvers(),e.glitchApi().restoreProject(f.id()).then(()=>{e.history.push(`/${f.domain()}`)})},leaveCurrentProject:(f=e.currentUser())=>{const h=e.currentProject();return e.currentProject().users(h.users().filter(v=>v.id!==f.id())),e.currentRemoteUsers(e.currentRemoteUsers().filter(v=>v.id()!==f.id())),e.glitchApi().deleteProjectUser(h.id(),f.id()).then(async function(){const v={user:f.broadcastData()};return v.user.left=!0,e.broadcast(v),e.updateRemoteUser(v.user)})},async changeProjectPrivacy(f){return e.currentProject().privacy(f),e.analytics.track("Project Privacy Changed"),e.currentProject().saveImmediate(e.glitchApi())},transferProjectOwner(f){const h=e.currentProject(),v=h.users().map(m=>(m.id===e.currentUser().id()?m.projectPermission.accessLevel=Tt.MEMBER:m.id===f.id()&&(m.projectPermission.accessLevel=Tt.ADMIN),m));return h.users(v),e.glitchApi().transferOwnership(h.id(),f.id())},inviteUserToProject(f){const h=e.currentProject();return e.glitchApi().inviteUserToProject(h.id(),f)},inviteEmailToProject(f){const h=e.currentProject();return e.glitchApi().inviteEmailToProject(h.id(),f)},loadWelcomeProject(){e.projects().length===0?e.history.replace("/remix/glitch-hello-node"):e.history.replace(`/${e.projects()[0].domain()}`)},updateUrlHashForProject(f,{replace:h}={}){const v=f.domain();h?e.history.replace(`/${v}`):e.history.push(`/${v}`)},switchToProjectDomain(f){f?e.history.push(`/${f}`):e.history.push("/")},selectedFileId:te(null),selectedFile(f=void 0){return f===null?e.selectedFileId(null):f&&e.selectedFileId(f.id()),e.fileByUuid(e.selectedFileId())},selectedFilePromise:null,editorRangeSelections:te([]),async formatCode({withAnimation:f,actionTrigger:h}){e.notifyPrettierParseError(!1),e.notifyPrettierLoadError(!1),e.formattingCodeInProgress(!0);const v=e.selectedFile();e.trackFileHelper(v,"File Formatted",{actionTrigger:h,formatSelection:e.editorRangeSelections.length>0?"selection":"file"});const m=e.editor().getCursor(),_=e.editorRangeSelections()[0],S=e.buildPrettierOptions({file:v,initialCursorPosition:m,selectedRange:_});let E=await e.runPrettier({file:v,options:S});E||(E=await e.runPrettier({file:v,options:qe(he({},S),{cursorOffset:void 0})})),E.success?(e.handlePrettierResult({formattedResult:E,file:v,initialCursorPosition:m,selectedRange:_}),f&&e.fullScreenSparkleEffectVisible(!0)):e[E.errorType](E.error),e.formattingCodeInProgress(!1)},buildPrettierOptions({file:f,initialCursorPosition:h,selectedRange:v}){let m=he({filepath:f.name()},e.prettierrc()),_,S,E;return v?(S=v.start,E=v.end,_=E):_=e.editor().indexFromPos({line:+h.line,ch:+h.ch}),m=qe(he({},m),{cursorOffset:_,rangeStart:S,rangeEnd:E}),m},async runPrettier({file:f,options:h}){let v,m;try{m=await NEe(),v=b7(m)}catch(_){return console.log("\u{1F525}","Error",_),{success:!1,errorType:"notifyPrettierLoadError",error:_}}return new Promise(async(_,S)=>{h.cursorOffset!==void 0&&setTimeout(S,5e3);const E=await v.runPrettier({code:f.content(),options:h});_(E)}).then(async _=>(await v.close(),_.error!==void 0?{success:!1,errorType:"notifyPrettierParseError",error:_.error}:(e.getUserPref("hasRunPrettier")||(e.notifyPrettierFirstRun(!0),e.updateUserPrefs("hasRunPrettier",!0)),he({success:!0},_)))).catch(()=>{console.log("formatWithCursor is taking too long; fall back to format"),v[m7](),m.terminate()})},handlePrettierResult({formattedResult:f,file:h,initialCursorPosition:v,selectedRange:m}){const{formatted:_,cursorOffset:S}=f;if(!m)h.content(_);else{const E=e.editor().posFromIndex(m.start),w=e.editor().posFromIndex(m.end);e.editor().replaceRange(_.substring(m.start,S),E,w)}e.editor().setCursor(S!==void 0?e.editor().posFromIndex(S):v),e.editor().scrollIntoView(e.editor().getCursor(),e.editor().getScrollInfo().clientHeight/2),e.focusEditor()},selectedFolder:te(null),saved:te(!0),saveApplicationState(){e.storeLocal("applicationData",e)},reset(){e.removeLocal("applicationData")},getLicenseOrCodeOfConductBody(f,h){const v=e.github();if(f==="license")return v.getLicense(h.id);if(f==="codeOfConduct")return v.getCodeOfConduct(h.id);throw new Error("unknown type")},github(){return new d_(e.currentUser().githubToken())},async currentUserHasGithubRepoScope(){if(!e.currentUser().githubToken())return!1;try{return(await e.github().getOAuthScopes()).some(h=>h==="repo")}catch{return!1}},publishGitHubRepo(f,h){const v=e.github();return new Promise(async(m,_)=>{const S=await v.getUser();try{await v.getRepoContents(f);const{permission:E}=await v.getProjectPermissionsForUser(f,S.login);if(E==="admin"||E==="write")try{await e.glitchApi().v0.projectGithubExport(e.currentProject().id(),f,h),m()}catch(w){qi(w),_(w)}else _(new Error("You don't have permission to write to this repo"))}catch(E){_(E)}})},currentUserId(){return e.currentUser().id()},currentUserColor(){return e.currentUser().color()},currentProjectDomain(){var f;return(f=e.currentProject())==null?void 0:f.domain()},currentProjectId(){var f;return(f=e.currentProject())==null?void 0:f.id()},broadcastUser({invited:f,left:h,stopAsking:v}={}){const m={user:e.currentUser().broadcastData({project:e.currentProject()})};return m.user.invited=!!f,m.user.left=!!h,m.user.stopAsking=!!v,e.broadcast(m)},broadcastProjectName(){return e.broadcast({projectName:e.currentProject().name()}),e.glitchApi().v0.projectDomainChanged(e.currentProject().id())},askToJoinProject(){e.closeAllPopOvers();const f=e.currentUser(),h=e.currentProject();let v=null;return h!=null&&h.teams().forEach(m=>f.I.teams.forEach(function(_){if(m.id()===_.id)return v=_.id})),v?e.glitchApi().v0.teamProjectJoin(v,e.currentProject().id()).then(()=>e.autoJoin()):e.currentUser().isSupport()?e.glitchApi().v0.createProjectPermission(e.currentProject().id(),e.currentUser().id(),Tt.MEMBER).then(()=>e.autoJoin()):(f.awaitingInvite(!0),e.broadcast({user:f.broadcastData()}))},cancelInviteRequest(){const f=e.currentUser();return f.awaitingInvite(!1),e.broadcast({user:f.broadcastData()})},acceptInviteRequest:(f,{accessLevel:h}={accessLevel:Tt.MEMBER})=>e.glitchApi().v0.createProjectPermission(e.currentProject().id(),f.id(),h).then(function(){f.awaitingInvite(!1);const v={user:f.broadcastData()};return v.user.invited=!0,v.user.projectPermission={accessLevel:h},e.broadcast(v)}),setFilePrivacy(f,h){return e.OTConnection.setFilePrivacy(f,h)},initializeProject(f){if(!f)throw qi("No project to initialize"),new Error("No current project available to initialize");return e.connectToLogs(f,e.persistentToken()),e.initializePackageJson()},initializePackageJson(){const f=e.fileByPath("package.json");if(!!f)return e.ensureSession(f)},connectToProject(f){if(!!f){if(e.analytics.setCurrentUser(e.currentUser()),f.suspendedReason()){e.projectIsSuspendedOverlayVisible(!0),window.__CY_APPLICATION_READY__=!0;return}return e.containerStatsPanelVisible(!1),e.rewindPanelVisible(!1),e.resetProjectContainerPerformanceData(),e.cancelInviteRequest(),!f.hasAvatar()&&f.accessLevel(e.currentUser())>=Tt.MEMBER&&e.projectAvatarUtils.random().then(h=>e.uploadProjectAvatarAsset(h,f).catch(v=>e.logger().log(v))),e.currentRemoteUsers([]),e.assets([]),e.disconnectFromLogs(),e.disconnectFromOT(),e.backendLintingResults={},e.firstLoad()&&(e.firstLoad(!1),e.updateUrlHashForProject(f,{replace:!0})),Promise.resolve().then(()=>e.setProjectBoostStatus(f)).then(async function(){e.otCodeMirror()&&e.otCodeMirror().disconnect();const h=new Ive({application:e,randomId:Of}),v=new Uve({application:e,editor:e.editor(),otClient:h});return v.connect(),e.connectToOT(f,h,v)}).then(()=>{e.initializeProject(f)}).then(e.touchProject).then(function(){return e.glitchApi().v0.projectEdited(e.currentProject().id(),{editor_embedded_access_count:e.editorIsEmbedded()&&1||void 0,editor_embedding_page:e.editorIsEmbedded()&&document.referrer||void 0})}).then(()=>{window.__CY_APPLICATION_READY__=!0,nae("project-domain",e.currentProject().domain()),(!e.editorIsEmbedded()||e.editorIsEmbedded()&&e.embedAppPreviewSize()<100)&&e.analytics.track("Project Source Viewed")}).catch(h=>{e.notifyGenericError(h)})}},recentFiles(){return e.currentUser().recentFiles().filter(f=>f.projectId()===e.currentProjectId())},renameFile:(f,h,v=!0)=>{if(f.path(h),e.updateEditorModeForFile(f),v)return e.OTRenameFile(f)},renameFolder:(f,h,v,m=!0)=>{h.match(/\/$/)||(h+="/");const S=e.currentProject().filetree().I.files.map(E=>{const w={};Object.assign(w,E);const T=qs(E);if(T.path().startsWith(h)){const C=h.split("/"),P=T.folders(),R=[...C.slice(0,-2),v,...P.slice(C.length-1),T.name()].join("/");w.path=R}return w});if(S.sort(e.alphabeticalize),e.currentProject().filetree(a_({files:S})),m)return e.OTRenameFolder(f,v)},locationFragment(f,h,v){return f==null&&(f=e.restorePath()),h==null&&(h=e.restoreLine()),v==null&&(v=e.restoreCharacter()),`${f}:${h}:${v}`},updateUrlWithPosition(f,h,v){if(!!e.currentProject()&&(f==null&&(f=e.restorePath()),h==null&&(h=e.restoreLine()),v==null&&(v=e.restoreCharacter()),f&&h!=null&&v!=null)){const m=new URLSearchParams(e.history.location.search);m.set("path",e.locationFragment(f,h,v)),e.history.replace(qe(he({},e.history.location),{search:m.toString()}))}},updateCurrentPositionState(){var m;const f=((m=e.selectedFile())==null?void 0:m.path())||"",h=e.editor().getCursor().line+1,v=e.editor().getCursor().ch;return e.restorePath(f),e.restoreLine(h),e.restoreCharacter(v)},updateSidebarWidth(f){e.updateUserPrefs("sidebarWidth",f),e.sidebarWidth(f)},showAssets(f){return f&&f.type==="keyup"&&f.key!=="Enter"?Promise.reject(new Error("Key press was not with Enter key")).catch(h=>{}):Promise.resolve().then(function(){return document.title=`assets \u2013 ${e.currentProjectDomain()}`,e.editorIsPreviewingRewind()?(e.selectedFile(e.fileByPath(vc)),e.editor().setOption("mode","text/plain")):(e.selectedFile(null),e.assetsWrapVisible(!0),e.appTypeConfigWrapVisible(!1),e.editorWrapVisible(!1),e.mediaWrapVisible(!1),e.assetSession())})},showAppTypeConfig(){return document.title=`app type config \u2013 ${e.currentProjectDomain()}`,e.selectedFile(null),e.assetsWrapVisible(!1),e.appTypeConfigWrapVisible(!0),e.editorWrapVisible(!1),e.mediaWrapVisible(!1),e.appTypeConfigSession()},updateSelectedFile(f){if(!f)return Promise.resolve();const h=e.fileByUuid(f);return e.selectedFilePromise=e.ensureSession(h).then(function(){return h.isMedia()?e.selectMediaFile(h):(e.selectTextFile(),e.setCurrentSession(h)),e.updateCurrentPositionState(),e.currentUser().addRecentFile(h,e.currentProjectId()),(!e.editorIsEmbedded()||e.editorIsEmbedded()&&e.embedAppPreviewSize()<100)&&e.trackFileHelper(h,"File Viewed"),e.openContainingFolder(h),!0})},async getNewProjectTemplates(){const f=t1e();return e.glitchApi().getProjectsByDomain(f).then(h=>{e.newProjectTemplates(f.map(v=>h[v]))})},backendLintingEnabled(){const f=e.watchJson();return!!(f&&f.lintingEnabled)},updateBackendLintingResults(f,h){e.backendLintingResults[f]=h;const v=e.selectedFile();v&&v.path()===f&&e.setLintResults(h)},currentProjectBackend(){var f;return(f=e.currentProject())==null?void 0:f.hostingBackend()},async setProjectBoostStatus(f){try{const{[f.id()]:h}=await e.glitchApi().getProject(f.id());f.isBoosted(h.allFeatureNames.includes("pufferfish_boosted_collection"))}catch(h){qi(h),f.isBoosted(!1)}},currentProjectIsBoosted(){var f;return(f=e.currentProject())==null?void 0:f.isBoosted()},async boostCurrentProject(){if(e.currentProjectIsBoosted())return;const f=e.currentProject(),h=e.boostedCollection();await e.glitchApi().addProjectToCollection(h.id,f.id()),await e.fetchBoostedCollection()},async unBoostCurrentProject(){if(!e.currentProjectIsBoosted())return;const f=e.currentProject(),h=e.boostedCollection();await e.glitchApi().removeProjectFromCollection(h.id,f.id()),await e.fetchBoostedCollection()},async fetchBoostedCollection(){var S;const f=(S=e.currentUser())==null?void 0:S.login();if(!f)return;const h=`${f}/${Zve}`;let v=await e.glitchApi().getCollectionByFullUrl(h);const m=v[h];if(!m){e.boostedCollection(null),e.boostedProjects(null);return}v=await e.glitchApi().getCollection(m.id,{limit:m.maxProjects});const _=v.items;e.boostedCollection(m),e.boostedProjects(_)}}),e.closeAllPopOversEmitter.setMaxListeners(1/0),function(f){return f!=null&&e.refreshPreviewOnChanges(f),e.refreshPreviewOnChanges.observe(h=>e.updateUserPrefs("refreshPreviewOnChanges",h))}(e.getUserPref("refreshPreviewOnChanges")),(f=>e.wrapText(f))(e.getUserPref("wrapText")),e.selectedFileId.observe(e.updateSelectedFile),e.markdownPreviewVisible.observe(function(f){f===!1&&setTimeout(()=>{e.refreshEditor(),e.focusEditor()},0);const h=e.currentProjectId(),v=e.getUserPref("markdownPreviewVisible")||new Object;return v[h]=f,e.updateUserPrefs("markdownPreviewVisible",v)}),e.containerStatsPanelVisible.observe(f=>setTimeout(()=>e.refreshEditor(),0)),e.userIsIdle.observe(function(f){f?e.projectMachine.send({type:"USER_IDLE"}):e.projectMachine.send({type:"USER_RETURNED"})}),e.wrapText.observe(function(f){e.updateUserPrefs("wrapText",f);const h=e.selectedFile();if(h)return e.setLineWrapping(h)}),e.projectName=te(e.projectName),e.lastProjectName=te(""),e.projectFilePaths=te(e.projectFilePaths),e.projectName.observe(f=>{e.analytics.setCurrentProject(e.currentProject());const h=document.getElementById("oembed");h!==null&&(h.setAttribute("href",`https://api.glitch.com/projects/${f}/oembed`),h.setAttribute("title",`${f} oembed link`))}),e.debuggerReady.observe(f=>e.currentProject()&&e.storeLocal(`${e.currentProjectId()}_debuggerReady`,f)),e.projectContainerStatus.observe(f=>e.currentProject()&&e.storeLocal(`${e.currentProjectId()}_projectContainerStatus`,f)),e.currentTheme.observe(f=>{[].forEach.call(document.querySelectorAll("link.theme"),h=>{new RegExp(f).test(h.href)?h.setAttribute("rel","stylesheet"):h.removeAttribute("rel")})}),e.pendingUploads.observe(f=>{const h=f.filter(v=>v.isUploadedByUser===!0).length;h>0?e.notifyUploading({numFiles:h}):e.notifyUploading(!1)}),te(()=>{const f=e.selectedFile();if(!f)return;const h=f.path().split("/").pop();document.title=`${h} \u2013 ${e.projectName()}`}),te(()=>{const f=e.currentUser().id();return e.projects().some(h=>h.users().some(({id:v})=>v===f))}).observe(f=>{if(f){const h=new Date;h.setFullYear(h.getFullYear()+1),document.cookie=`hasProjects=true; path=/; expires=${h}`}else document.cookie=`hasProjects=; path=/; expires=${new Date}`}),i.onTransition(function f(h){h.matches("active")&&(e.boot(),i.off(f)),h.matches("error")&&(window.alert("There was an error starting the editor. Maybe try to reload?"),e.logout())});let a=null;const l=f=>{a!==null&&document.body.classList.remove(a),a=`theme-${f}`;const h={sugar:"light",cosmos:"dark"};try{window.localStorage.setItem("theme-ui-color-mode",h[f])}catch{}document.body.classList.add(`theme-${f}`)};e.currentTheme.observe(l),l(e.currentTheme());const c=new URL(window.location.hash.slice(2),window.location),d=new URLSearchParams(c.search).get("previewSize");return d&&e.embedAppPreviewSize(parseInt(d,10)),e};function nF(t){const e=/[^:]*/;return t.match(e)[0]}var rF={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i=[],o=0;o<arguments.length;o++){var s=arguments[o];if(!!s){var a=typeof s;if(a==="string"||a==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var l=n.apply(null,s);l&&i.push(l)}}else if(a==="object")if(s.toString===Object.prototype.toString)for(var c in s)e.call(s,c)&&s[c]&&i.push(c);else i.push(s.toString())}}return i.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(rF);var dt=rF.exports;function iF(t){return typeof t=="function"&&typeof t.observe=="function"}function DEe(t){return iF(t)?t:te(t)}function sF({value:t}){return t}function FEe(t,e=null){return t!==null&&typeof t!="object"&&typeof t!="function"&&e!==null&&t===sF(e)?e:{value:t}}function G5(t){return e=>FEe(iF(t)?t():t,e)}function j(t){const e=K.exports.useMemo(()=>DEe(t),[t]),[n,i]=K.exports.useState(G5(e));return K.exports.useEffect(()=>{let o=!1;const s=a=>{o===!1&&i(G5(a))};return e.observe(s),i(G5(e)),()=>{o=!0,e.stopObserving(s),e!==t&&e.releaseDependencies()}},[e,t]),sF(n)}function $5(t,e){return $5=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},$5(t,e)}function _c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,$5(t,e)}var W5=1073741823,oF=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function UEe(){var t="__global_unique_id__";return oF[t]=(oF[t]||0)+1}function jEe(t,e){return t===e?t!==0||1/t==1/e:t!==t&&e!==e}function BEe(t){var e=[];return{on:function(i){e.push(i)},off:function(i){e=e.filter(function(o){return o!==i})},get:function(){return t},set:function(i,o){t=i,e.forEach(function(s){return s(t,o)})}}}function VEe(t){return Array.isArray(t)?t[0]:t}function HEe(t,e){var n,i,o="__create-react-context-"+UEe()+"__",s=function(l){_c(c,l);function c(){var d;return d=l.apply(this,arguments)||this,d.emitter=BEe(d.props.value),d}var u=c.prototype;return u.getChildContext=function(){var f;return f={},f[o]=this.emitter,f},u.componentWillReceiveProps=function(f){if(this.props.value!==f.value){var h=this.props.value,v=f.value,m;jEe(h,v)?m=0:(m=typeof e=="function"?e(h,v):W5,m|=0,m!==0&&this.emitter.set(f.value,m))}},u.render=function(){return this.props.children},c}(K.exports.Component);s.childContextTypes=(n={},n[o]=hI.object.isRequired,n);var a=function(l){_c(c,l);function c(){var d;return d=l.apply(this,arguments)||this,d.state={value:d.getValue()},d.onUpdate=function(f,h){var v=d.observedBits|0;(v&h)!=0&&d.setState({value:d.getValue()})},d}var u=c.prototype;return u.componentWillReceiveProps=function(f){var h=f.observedBits;this.observedBits=h==null?W5:h},u.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var f=this.props.observedBits;this.observedBits=f==null?W5:f},u.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},u.getValue=function(){return this.context[o]?this.context[o].get():t},u.render=function(){return VEe(this.props.children)(this.state.value)},c}(K.exports.Component);return a.contextTypes=(i={},i[o]=hI.object,i),{Provider:s,Consumer:a}}var zEe=p.createContext||HEe,kf={exports:{}},GEe=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},S_=GEe;kf.exports=cF;kf.exports.parse=q5;kf.exports.compile=WEe;kf.exports.tokensToFunction=aF;kf.exports.tokensToRegExp=lF;var $Ee=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function q5(t,e){for(var n=[],i=0,o=0,s="",a=e&&e.delimiter||"/",l;(l=$Ee.exec(t))!=null;){var c=l[0],u=l[1],d=l.index;if(s+=t.slice(o,d),o=d+c.length,u){s+=u[1];continue}var f=t[o],h=l[2],v=l[3],m=l[4],_=l[5],S=l[6],E=l[7];s&&(n.push(s),s="");var w=h!=null&&f!=null&&f!==h,T=S==="+"||S==="*",C=S==="?"||S==="*",P=l[2]||a,R=m||_;n.push({name:v||i++,prefix:h||"",delimiter:P,optional:C,repeat:T,partial:w,asterisk:!!E,pattern:R?KEe(R):E?".*":"[^"+T_(P)+"]+?"})}return o<t.length&&(s+=t.substr(o)),s&&n.push(s),n}function WEe(t,e){return aF(q5(t,e),e)}function qEe(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function YEe(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function aF(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)typeof t[i]=="object"&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",K5(e)));return function(o,s){for(var a="",l=o||{},c=s||{},u=c.pretty?qEe:encodeURIComponent,d=0;d<t.length;d++){var f=t[d];if(typeof f=="string"){a+=f;continue}var h=l[f.name],v;if(h==null)if(f.optional){f.partial&&(a+=f.prefix);continue}else throw new TypeError('Expected "'+f.name+'" to be defined');if(S_(h)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var m=0;m<h.length;m++){if(v=u(h[m]),!n[d].test(v))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(v)+"`");a+=(m===0?f.prefix:f.delimiter)+v}continue}if(v=f.asterisk?YEe(h):u(h),!n[d].test(v))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+v+'"');a+=f.prefix+v}return a}}function T_(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function KEe(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Y5(t,e){return t.keys=e,t}function K5(t){return t&&t.sensitive?"":"i"}function XEe(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Y5(t,e)}function JEe(t,e,n){for(var i=[],o=0;o<t.length;o++)i.push(cF(t[o],e,n).source);var s=new RegExp("(?:"+i.join("|")+")",K5(n));return Y5(s,e)}function ZEe(t,e,n){return lF(q5(t,n),e,n)}function lF(t,e,n){S_(e)||(n=e||n,e=[]),n=n||{};for(var i=n.strict,o=n.end!==!1,s="",a=0;a<t.length;a++){var l=t[a];if(typeof l=="string")s+=T_(l);else{var c=T_(l.prefix),u="(?:"+l.pattern+")";e.push(l),l.repeat&&(u+="(?:"+c+u+")*"),l.optional?l.partial?u=c+"("+u+")?":u="(?:"+c+"("+u+"))?":u=c+"("+u+")",s+=u}}var d=T_(n.delimiter||"/"),f=s.slice(-d.length)===d;return i||(s=(f?s.slice(0,-d.length):s)+"(?:"+d+"(?=$))?"),o?s+="$":s+=i&&f?"":"(?="+d+"|$)",Y5(new RegExp("^"+s,K5(n)),e)}function cF(t,e,n){return S_(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?XEe(t,e):S_(t)?JEe(t,e,n):ZEe(t,e,n)}var uF=kf.exports,Cn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vr=typeof Symbol=="function"&&Symbol.for,X5=Vr?Symbol.for("react.element"):60103,J5=Vr?Symbol.for("react.portal"):60106,C_=Vr?Symbol.for("react.fragment"):60107,M_=Vr?Symbol.for("react.strict_mode"):60108,A_=Vr?Symbol.for("react.profiler"):60114,P_=Vr?Symbol.for("react.provider"):60109,R_=Vr?Symbol.for("react.context"):60110,Z5=Vr?Symbol.for("react.async_mode"):60111,L_=Vr?Symbol.for("react.concurrent_mode"):60111,I_=Vr?Symbol.for("react.forward_ref"):60112,O_=Vr?Symbol.for("react.suspense"):60113,QEe=Vr?Symbol.for("react.suspense_list"):60120,N_=Vr?Symbol.for("react.memo"):60115,k_=Vr?Symbol.for("react.lazy"):60116,ewe=Vr?Symbol.for("react.block"):60121,twe=Vr?Symbol.for("react.fundamental"):60117,nwe=Vr?Symbol.for("react.responder"):60118,rwe=Vr?Symbol.for("react.scope"):60119;function gs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case X5:switch(t=t.type,t){case Z5:case L_:case C_:case A_:case M_:case O_:return t;default:switch(t=t&&t.$$typeof,t){case R_:case I_:case k_:case N_:case P_:return t;default:return e}}case J5:return e}}}function dF(t){return gs(t)===L_}Cn.AsyncMode=Z5;Cn.ConcurrentMode=L_;Cn.ContextConsumer=R_;Cn.ContextProvider=P_;Cn.Element=X5;Cn.ForwardRef=I_;Cn.Fragment=C_;Cn.Lazy=k_;Cn.Memo=N_;Cn.Portal=J5;Cn.Profiler=A_;Cn.StrictMode=M_;Cn.Suspense=O_;Cn.isAsyncMode=function(t){return dF(t)||gs(t)===Z5};Cn.isConcurrentMode=dF;Cn.isContextConsumer=function(t){return gs(t)===R_};Cn.isContextProvider=function(t){return gs(t)===P_};Cn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===X5};Cn.isForwardRef=function(t){return gs(t)===I_};Cn.isFragment=function(t){return gs(t)===C_};Cn.isLazy=function(t){return gs(t)===k_};Cn.isMemo=function(t){return gs(t)===N_};Cn.isPortal=function(t){return gs(t)===J5};Cn.isProfiler=function(t){return gs(t)===A_};Cn.isStrictMode=function(t){return gs(t)===M_};Cn.isSuspense=function(t){return gs(t)===O_};Cn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===C_||t===L_||t===A_||t===M_||t===O_||t===QEe||typeof t=="object"&&t!==null&&(t.$$typeof===k_||t.$$typeof===N_||t.$$typeof===P_||t.$$typeof===R_||t.$$typeof===I_||t.$$typeof===twe||t.$$typeof===nwe||t.$$typeof===rwe||t.$$typeof===ewe)};Cn.typeOf=gs;function iwe(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}var fF=function(e){var n=zEe();return n.displayName=e,n},hF=fF("Router-History"),Df=fF("Router"),Q5=function(t){_c(e,t),e.computeRootMatch=function(o){return{path:"/",url:"/",params:{},isExact:o==="/"}};function e(i){var o;return o=t.call(this,i)||this,o.state={location:i.history.location},o._isMounted=!1,o._pendingLocation=null,i.staticContext||(o.unlisten=i.history.listen(function(s){o._isMounted?o.setState({location:s}):o._pendingLocation=s})),o}var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return p.createElement(Df.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},p.createElement(hF.Provider,{children:this.props.children||null,value:this.props.history}))},e}(p.Component);p.Component;var swe=function(t){_c(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(o){this.props.onUpdate&&this.props.onUpdate.call(this,this,o)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(p.Component),e4={},owe=1e4,pF=0;function awe(t){if(e4[t])return e4[t];var e=uF.compile(t);return pF<owe&&(e4[t]=e,pF++),e}function mF(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:awe(t)(e,{pretty:!0})}function D_(t){var e=t.computedMatch,n=t.to,i=t.push,o=i===void 0?!1:i;return p.createElement(Df.Consumer,null,function(s){s||Vm(!1);var a=s.history,l=s.staticContext,c=o?a.push:a.replace,u=vo(e?typeof n=="string"?mF(n,e.params):fs({},n,{pathname:mF(n.pathname,e.params)}):n);return l?(c(u),null):p.createElement(swe,{onMount:function(){c(u)},onUpdate:function(f,h){var v=vo(h.to);ofe(v,fs({},u,{key:v.key}))||c(u)},to:n})})}var gF={},lwe=1e4,vF=0;function cwe(t,e){var n=""+e.end+e.strict+e.sensitive,i=gF[n]||(gF[n]={});if(i[t])return i[t];var o=[],s=uF(t,o,e),a={regexp:s,keys:o};return vF<lwe&&(i[t]=a,vF++),a}function yF(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,i=n.path,o=n.exact,s=o===void 0?!1:o,a=n.strict,l=a===void 0?!1:a,c=n.sensitive,u=c===void 0?!1:c,d=[].concat(i);return d.reduce(function(f,h){if(!h&&h!=="")return null;if(f)return f;var v=cwe(h,{end:s,strict:l,sensitive:u}),m=v.regexp,_=v.keys,S=m.exec(t);if(!S)return null;var E=S[0],w=S.slice(1),T=t===E;return s&&!T?null:{path:h,url:h==="/"&&E===""?"/":E,isExact:T,params:_.reduce(function(C,P,R){return C[P.name]=w[R],C},{})}},null)}function uwe(t){return p.Children.count(t)===0}var Ks=function(t){_c(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var o=this;return p.createElement(Df.Consumer,null,function(s){s||Vm(!1);var a=o.props.location||s.location,l=o.props.computedMatch?o.props.computedMatch:o.props.path?yF(a.pathname,o.props):s.match,c=fs({},s,{location:a,match:l}),u=o.props,d=u.children,f=u.component,h=u.render;return Array.isArray(d)&&uwe(d)&&(d=null),p.createElement(Df.Provider,{value:c},c.match?d?typeof d=="function"?d(c):d:f?p.createElement(f,c):h?h(c):null:typeof d=="function"?d(c):null)})},e}(p.Component);function t4(t){return t.charAt(0)==="/"?t:"/"+t}function dwe(t,e){return t?fs({},e,{pathname:t4(t)+e.pathname}):e}function fwe(t,e){if(!t)return e;var n=t4(t);return e.pathname.indexOf(n)!==0?e:fs({},e,{pathname:e.pathname.substr(n.length)})}function _F(t){return typeof t=="string"?t:go(t)}function n4(t){return function(){Vm(!1)}}function bF(){}p.Component;var hwe=function(t){_c(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var o=this;return p.createElement(Df.Consumer,null,function(s){s||Vm(!1);var a=o.props.location||s.location,l,c;return p.Children.forEach(o.props.children,function(u){if(c==null&&p.isValidElement(u)){l=u;var d=u.props.path||u.props.from;c=d?yF(a.pathname,fs({},u.props,{path:d})):s.match}}),c?p.cloneElement(l,{location:a,computedMatch:c}):null})},e}(p.Component),EF=p.useContext;function Ff(){return EF(hF)}function pg(){var t=EF(Df).match;return t?t.params:{}}function pwe(){const t=Te(),[e]=Eye();return K.exports.useEffect(()=>{e.value!=="projectCreateFailed"&&t.loadWelcomeProject()},[t,e.value]),null}function wF(){const t=Te();return K.exports.useEffect(()=>{t.redirectingToLogin(!0),window.location=t.getGitHubLoginUrl()},[t]),null}function mwe(){const t=Te();return K.exports.useEffect(()=>{t.redirectingToLogin(!0),window.location=t.getFacebookLoginUrl()},[t]),null}function gwe(){const t=Te();return K.exports.useEffect(()=>{t.logout()},[t]),null}function vwe(){const t=Te();return K.exports.useEffect(()=>{t.projectMachine.send({type:"CREATE_PROJECT",data:{projectOwner:t.currentUser()}})},[t]),null}function ywe(){const t=Te(),{projectId:e}=pg(),n=Ff();return K.exports.useEffect(()=>{const i=new URLSearchParams(n.location.search),o={};for(const[s,a]of i.entries())o[s]=a;t.projectMachine.send({type:"CREATE_PROJECT",data:{baseProjectId:e,env:o,projectOwner:t.currentUser()}})},[t,n,e]),null}function _we(){const t=Te(),{domain:e}=pg(),n=Ff();return K.exports.useEffect(()=>{const i=new URLSearchParams(n.location.search),o={};for(const[s,a]of i.entries())o[s]=a;t.projectMachine.send({type:"CREATE_PROJECT",data:{baseProjectDomain:e,env:o,projectOwner:t.currentUser()}})},[t,n,e]),null}function bwe(){const t=Te(),{org:e,repo:n}=pg(),i=Ff();return K.exports.useEffect(()=>{const o=`${e}/${n}`,s=new URLSearchParams(i.location.search);if(t.isFeatureEnabled("new_git_import")){s.set("url",`https://github.com/${o}`),i.replace(`/import/git?${s.toString()}`);return}const a={};for(const[l,c]of s.entries())a[l]=c;t.projectMachine.send({type:"CREATE_PROJECT",data:{baseProjectId:h5,domain:o.replace("/","-"),importGitHubRepo:o,env:a,projectOwner:t.currentUser()}})},[t,i,e,n]),null}function Ewe(){const t=Te(),e=Ff();return K.exports.useEffect(()=>{const n=new URLSearchParams(e.location.search),i=n.get("url");if(n.delete("url"),!!i){if(t.isFeatureEnabled("new_git_import")){const o={};for(const[s,a]of n.entries())o[s]=a;t.projectMachine.send({type:"CREATE_PROJECT",data:{baseProjectId:h5,importGitRepoUrl:i,env:o,projectOwner:t.currentUser()}});return}try{const{host:o,pathname:s}=new URL(i);if(o!=="github.com")throw new Error("Only GitHub git repository URLs are supported");const a=s.substring(1).replace(/.git$/,"");e.replace(`/import/github/${a}?${n}`)}catch{t.notifyGitImportUrlInvalid(!0),e.push("/")}}},[t,e]),null}function wwe(){const t=Te(),e=pg(),n=Ff(),i=j(t.appPreviewVisible),o=j(t.appPreviewSize);return K.exports.useEffect(()=>{document.body.classList.add("embedded"),t.editorIsEmbedded(!0),t.currentTheme("sugar");const s=new URLSearchParams(n.location.search),a=s.get("highlights")||"";if(s.get("path")&&t.setRestorePosition(s.get("path")),s.get("previewSize")){const l=parseInt(s.get("previewSize"));t.appPreviewSize(l),t.embedAppPreviewSize(l),t.appPreviewVisible(l>0)}else t.appPreviewVisible(!1);if(s.get("attributionHidden")!==void 0){const l=JSON.parse(s.get("attributionHidden"));t.embedAttributionHidden(l)}if(s.get("bottombarCollapsed")!==void 0){const l=JSON.parse(s.get("bottombarCollapsed"));t.embedBottombarCollapsed(l)}if(s.get("sidebarCollapsed")!==void 0){const l=JSON.parse(s.get("sidebarCollapsed"));t.sidebarIsCollapsed(l)}t.setHighlightLines(a.split(","),s.get("path"))},[t,n]),K.exports.useEffect(()=>{const s=e.domain.toLowerCase();i!==void 0&&(o<100?t.projectMachine.send({type:"CONNECT_TO_PROJECT",data:{domain:s}}):t.projectMachine.send({type:"LOAD_PROJECT_METADATA",data:{domain:s}}))},[t,e.domain,i,o]),null}function xwe(){const t=Te(),e=pg(),n=Ff(),i=j(K.exports.useCallback(()=>{const s=t.currentProject();return s?s.domain():null},[t])),o=j(t.projectIsRenaming);return K.exports.useEffect(()=>{t.embedAppPreviewSize()<100&&t.analytics.page("Editor")},[t]),K.exports.useEffect(()=>{const s=i&&i.toLowerCase()===e.domain.toLowerCase();if(o||s)return;const a=e.domain.toLowerCase(),l=new URLSearchParams(n.location.search);l.get("path")&&t.setRestorePosition(l.get("path"));const c=l.get("highlights")||"";t.setHighlightLines(c.split(","),l.get("path")),t.projectMachine.send({type:"CONNECT_TO_PROJECT",data:{domain:a}})},[t,n,e.domain,i,o]),null}function Swe(){const t=Te();return j(t.booted)===!1?null:p.createElement(Q5,{history:t.history},p.createElement(hwe,null,p.createElement(Ks,{exact:!0,path:"/"},p.createElement(pwe,null)),p.createElement(Ks,{exact:!0,path:"/sign-in"},p.createElement(wF,null)),p.createElement(Ks,{exact:!0,path:"/sign-in/facebook"},p.createElement(mwe,null)),p.createElement(Ks,{exact:!0,path:"/sign-up"},p.createElement(wF,null)),p.createElement(D_,{exact:!0,from:"/facebook",to:"/"}),p.createElement(D_,{exact:!0,from:"/email-login",to:"/"}),p.createElement(Ks,{exact:!0,path:"/sign-out"},p.createElement(gwe,null)),p.createElement(Ks,{exact:!0,path:"/new-project"},p.createElement(vwe,null)),p.createElement(Ks,{exact:!0,path:"/remix/:name/:projectId"},p.createElement(ywe,null)),p.createElement(Ks,{exact:!0,path:"/remix/:domain"},p.createElement(_we,null)),p.createElement(D_,{exact:!0,from:"/r/:domain",to:"/remix/:domain"}),p.createElement(D_,{exact:!0,from:"/project/:domain",to:"/:domain"}),p.createElement(Ks,{exact:!0,path:"/import/github/:org/:repo"},p.createElement(bwe,null)),p.createElement(Ks,{exact:!0,path:"/import/git"},p.createElement(Ewe,null)),p.createElement(Ks,{exact:!0,path:"/embed/:domain"},p.createElement(wwe,null)),p.createElement(Ks,{exact:!0,path:"/:domain"},p.createElement(xwe,null))))}var xF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},SF=p.createContext&&p.createContext(xF),bc=function(){return bc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},bc.apply(this,arguments)},Twe=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};function TF(t){return t&&t.map(function(e,n){return p.createElement(e.tag,bc({key:n},e.attr),TF(e.child))})}function To(t){return function(e){return p.createElement(Cwe,bc({attr:bc({},t.attr)},e),TF(t.child))}}function Cwe(t){var e=function(n){var i=t.attr,o=t.size,s=t.title,a=Twe(t,["attr","size","title"]),l=o||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),p.createElement("svg",bc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:c,style:bc(bc({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&p.createElement("title",null,s),t.children)};return SF!==void 0?p.createElement(SF.Consumer,null,function(n){return e(n)}):e(xF)}function Mwe(t){return To({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 010 1.414zm-6 0a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 1.414L5.414 10l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"}}]})(t)}function Awe(t){return To({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z",clipRule:"evenodd"}},{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z",clipRule:"evenodd"}}]})(t)}function CF(t){return To({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(t)}function Pwe(t){return To({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"}}]})(t)}function Rwe(t){return To({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}},{tag:"path",attr:{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"}}]})(t)}function Lwe(t){return To({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"}}]})(t)}function Iwe(t){return To({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"}}]})(t)}function Owe(t){return To({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"}}]})(t)}function Nwe(t){return To({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"}}]})(t)}function kwe(t){return To({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"}}]})(t)}function Dwe(t){return To({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}}]})(t)}function Fwe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Uwe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var jwe=function(){function t(n){var i=this;this._insertTag=function(o){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(o,s),i.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(Uwe(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Fwe(o);try{s.insertRule(i,s.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},t}(),vi="-ms-",F_="-moz-",gn="-webkit-",MF="comm",r4="rule",i4="decl",Bwe="@import",Vwe="@keyframes",Hwe=Math.abs,U_=String.fromCharCode;function zwe(t,e){return(((e<<2^Ki(t,0))<<2^Ki(t,1))<<2^Ki(t,2))<<2^Ki(t,3)}function AF(t){return t.trim()}function Gwe(t,e){return(t=e.exec(t))?t[0]:t}function En(t,e,n){return t.replace(e,n)}function PF(t,e){return t.indexOf(e)}function Ki(t,e){return t.charCodeAt(e)|0}function mg(t,e,n){return t.slice(e,n)}function ra(t){return t.length}function s4(t){return t.length}function j_(t,e){return e.push(t),t}function $we(t,e){return t.map(e).join("")}var B_=1,Uf=1,RF=0,Xi=0,xr=0,jf="";function V_(t,e,n,i,o,s,a){return{value:t,root:e,parent:n,type:i,props:o,children:s,line:B_,column:Uf,length:a,return:""}}function gg(t,e,n){return V_(t,e.root,e.parent,n,e.props,e.children,0)}function Wwe(){return xr}function qwe(){return xr=Xi>0?Ki(jf,--Xi):0,Uf--,xr===10&&(Uf=1,B_--),xr}function vs(){return xr=Xi<RF?Ki(jf,Xi++):0,Uf++,xr===10&&(Uf=1,B_++),xr}function ia(){return Ki(jf,Xi)}function H_(){return Xi}function vg(t,e){return mg(jf,t,e)}function yg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function LF(t){return B_=Uf=1,RF=ra(jf=t),Xi=0,[]}function IF(t){return jf="",t}function o4(t){return AF(vg(Xi-1,a4(t===91?t+2:t===40?t+1:t)))}function Ywe(t){for(;(xr=ia())&&xr<33;)vs();return yg(t)>2||yg(xr)>3?"":" "}function Kwe(t,e){for(;--e&&vs()&&!(xr<48||xr>102||xr>57&&xr<65||xr>70&&xr<97););return vg(t,H_()+(e<6&&ia()==32&&vs()==32))}function a4(t){for(;vs();)switch(xr){case t:return Xi;case 34:case 39:return a4(t===34||t===39?t:xr);case 40:t===41&&a4(t);break;case 92:vs();break}return Xi}function Xwe(t,e){for(;vs()&&t+xr!==47+10;)if(t+xr===42+42&&ia()===47)break;return"/*"+vg(e,Xi-1)+"*"+U_(t===47?t:vs())}function Jwe(t){for(;!yg(ia());)vs();return vg(t,Xi)}function Zwe(t){return IF(z_("",null,null,null,[""],t=LF(t),0,[0],t))}function z_(t,e,n,i,o,s,a,l,c){for(var u=0,d=0,f=a,h=0,v=0,m=0,_=1,S=1,E=1,w=0,T="",C=o,P=s,R=i,A=T;S;)switch(m=w,w=vs()){case 34:case 39:case 91:case 40:A+=o4(w);break;case 9:case 10:case 13:case 32:A+=Ywe(m);break;case 92:A+=Kwe(H_()-1,7);continue;case 47:switch(ia()){case 42:case 47:j_(Qwe(Xwe(vs(),H_()),e,n),c);break;default:A+="/"}break;case 123*_:l[u++]=ra(A)*E;case 125*_:case 59:case 0:switch(w){case 0:case 125:S=0;case 59+d:v>0&&ra(A)-f&&j_(v>32?NF(A+";",i,n,f-1):NF(En(A," ","")+";",i,n,f-2),c);break;case 59:A+=";";default:if(j_(R=OF(A,e,n,u,d,o,l,T,C=[],P=[],f),s),w===123)if(d===0)z_(A,e,R,R,C,s,f,l,P);else switch(h){case 100:case 109:case 115:z_(t,R,R,i&&j_(OF(t,R,R,0,0,o,l,T,o,C=[],f),P),o,P,f,l,i?C:P);break;default:z_(A,R,R,R,[""],P,f,l,P)}}u=d=v=0,_=E=1,T=A="",f=a;break;case 58:f=1+ra(A),v=m;default:if(_<1){if(w==123)--_;else if(w==125&&_++==0&&qwe()==125)continue}switch(A+=U_(w),w*_){case 38:E=d>0?1:(A+="\f",-1);break;case 44:l[u++]=(ra(A)-1)*E,E=1;break;case 64:ia()===45&&(A+=o4(vs())),h=ia(),d=ra(T=A+=Jwe(H_())),w++;break;case 45:m===45&&ra(A)==2&&(_=0)}}return s}function OF(t,e,n,i,o,s,a,l,c,u,d){for(var f=o-1,h=o===0?s:[""],v=s4(h),m=0,_=0,S=0;m<i;++m)for(var E=0,w=mg(t,f+1,f=Hwe(_=a[m])),T=t;E<v;++E)(T=AF(_>0?h[E]+" "+w:En(w,/&\f/g,h[E])))&&(c[S++]=T);return V_(t,e,n,o===0?r4:l,c,u,d)}function Qwe(t,e,n){return V_(t,e,n,MF,U_(Wwe()),mg(t,2,-2),0)}function NF(t,e,n,i){return V_(t,e,n,i4,mg(t,0,i),mg(t,i+1,-1),i)}function kF(t,e){switch(zwe(t,e)){case 5103:return gn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return gn+t+F_+t+vi+t+t;case 6828:case 4268:return gn+t+vi+t+t;case 6165:return gn+t+vi+"flex-"+t+t;case 5187:return gn+t+En(t,/(\w+).+(:[^]+)/,gn+"box-$1$2"+vi+"flex-$1$2")+t;case 5443:return gn+t+vi+"flex-item-"+En(t,/flex-|-self/,"")+t;case 4675:return gn+t+vi+"flex-line-pack"+En(t,/align-content|flex-|-self/,"")+t;case 5548:return gn+t+vi+En(t,"shrink","negative")+t;case 5292:return gn+t+vi+En(t,"basis","preferred-size")+t;case 6060:return gn+"box-"+En(t,"-grow","")+gn+t+vi+En(t,"grow","positive")+t;case 4554:return gn+En(t,/([^-])(transform)/g,"$1"+gn+"$2")+t;case 6187:return En(En(En(t,/(zoom-|grab)/,gn+"$1"),/(image-set)/,gn+"$1"),t,"")+t;case 5495:case 3959:return En(t,/(image-set\([^]*)/,gn+"$1$`$1");case 4968:return En(En(t,/(.+:)(flex-)?(.*)/,gn+"box-pack:$3"+vi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gn+t+t;case 4095:case 3583:case 4068:case 2532:return En(t,/(.+)-inline(.+)/,gn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ra(t)-1-e>6)switch(Ki(t,e+1)){case 109:if(Ki(t,e+4)!==45)break;case 102:return En(t,/(.+:)(.+)-([^]+)/,"$1"+gn+"$2-$3$1"+F_+(Ki(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~PF(t,"stretch")?kF(En(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ki(t,e+1)!==115)break;case 6444:switch(Ki(t,ra(t)-3-(~PF(t,"!important")&&10))){case 107:return En(t,":",":"+gn)+t;case 101:return En(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gn+(Ki(t,14)===45?"inline-":"")+"box$3$1"+gn+"$2$3$1"+vi+"$2box$3")+t}break;case 5936:switch(Ki(t,e+11)){case 114:return gn+t+vi+En(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return gn+t+vi+En(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return gn+t+vi+En(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return gn+t+vi+t+t}return t}function _g(t,e){for(var n="",i=s4(t),o=0;o<i;o++)n+=e(t[o],o,t,e)||"";return n}function e2e(t,e,n,i){switch(t.type){case Bwe:case i4:return t.return=t.return||t.value;case MF:return"";case r4:t.value=t.props.join(",")}return ra(n=_g(t.children,i))?t.return=t.value+"{"+n+"}":""}function t2e(t){var e=s4(t);return function(n,i,o,s){for(var a="",l=0;l<e;l++)a+=t[l](n,i,o,s)||"";return a}}function n2e(t){return function(e){e.root||(e=e.return)&&t(e)}}function r2e(t,e,n,i){if(!t.return)switch(t.type){case i4:t.return=kF(t.value,t.length);break;case Vwe:return _g([gg(En(t.value,"@","@"+gn),t,"")],i);case r4:if(t.length)return $we(t.props,function(o){switch(Gwe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _g([gg(En(o,/:(read-\w+)/,":"+F_+"$1"),t,"")],i);case"::placeholder":return _g([gg(En(o,/:(plac\w+)/,":"+gn+"input-$1"),t,""),gg(En(o,/:(plac\w+)/,":"+F_+"$1"),t,""),gg(En(o,/:(plac\w+)/,vi+"input-$1"),t,"")],i)}return""})}}var i2e=function(e,n,i){for(var o=0,s=0;o=s,s=ia(),o===38&&s===12&&(n[i]=1),!yg(s);)vs();return vg(e,Xi)},s2e=function(e,n){var i=-1,o=44;do switch(yg(o)){case 0:o===38&&ia()===12&&(n[i]=1),e[i]+=i2e(Xi-1,n,i);break;case 2:e[i]+=o4(o);break;case 4:if(o===44){e[++i]=ia()===58?"&\f":"",n[i]=e[i].length;break}default:e[i]+=U_(o)}while(o=vs());return e},o2e=function(e,n){return IF(s2e(LF(e),n))},DF=new WeakMap,a2e=function(e){if(!(e.type!=="rule"||!e.parent||!e.length)){for(var n=e.value,i=e.parent,o=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!DF.get(i))&&!o){DF.set(e,!0);for(var s=[],a=o2e(n,s),l=i.props,c=0,u=0;c<a.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=s[c]?a[c].replace(/&\f/g,l[d]):l[d]+" "+a[c]}}},l2e=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}},c2e=[r2e],u2e=function(e){var n=e.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(_){var S=_.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var o=e.stylisPlugins||c2e,s={},a,l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var S=_.getAttribute("data-emotion").split(" "),E=1;E<S.length;E++)s[S[E]]=!0;l.push(_)});var c,u=[a2e,l2e];{var d,f=[e2e,n2e(function(_){d.insert(_)})],h=t2e(u.concat(o,f)),v=function(S){return _g(Zwe(S),h)};c=function(S,E,w,T){d=w,v(S?S+"{"+E.styles+"}":E.styles),T&&(m.inserted[E.name]=!0)}}var m={key:n,sheet:new jwe({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return m.sheet.hydrate(l),m},d2e=!0;function f2e(t,e,n){var i="";return n.split(" ").forEach(function(o){t[o]!==void 0?e.push(t[o]+";"):i+=o+" "}),i}var h2e=function(e,n,i){var o=e.key+"-"+n.name;if((i===!1||d2e===!1)&&e.registered[o]===void 0&&(e.registered[o]=n.styles),e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+o:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function p2e(t){for(var e=0,n,i=0,o=t.length;o>=4;++i,o-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var m2e=/[A-Z]|^ms/g,g2e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,FF=function(e){return e.charCodeAt(1)===45},UF=function(e){return e!=null&&typeof e!="boolean"},l4=pI(function(t){return FF(t)?t:t.replace(m2e,"-$&").toLowerCase()}),jF=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(g2e,function(i,o,s){return sa={name:o,styles:s,next:sa},o})}return iee[e]!==1&&!FF(e)&&typeof n=="number"&&n!==0?n+"px":n};function bg(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return sa={name:n.name,styles:n.styles,next:sa},n.name;if(n.styles!==void 0){var i=n.next;if(i!==void 0)for(;i!==void 0;)sa={name:i.name,styles:i.styles,next:sa},i=i.next;var o=n.styles+";";return o}return v2e(t,e,n)}case"function":{if(t!==void 0){var s=sa,a=n(t);return sa=s,bg(t,e,a)}break}}if(e==null)return n;var l=e[n];return l!==void 0?l:n}function v2e(t,e,n){var i="";if(Array.isArray(n))for(var o=0;o<n.length;o++)i+=bg(t,e,n[o])+";";else for(var s in n){var a=n[s];if(typeof a!="object")e!=null&&e[a]!==void 0?i+=s+"{"+e[a]+"}":UF(a)&&(i+=l4(s)+":"+jF(s,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var l=0;l<a.length;l++)UF(a[l])&&(i+=l4(s)+":"+jF(s,a[l])+";");else{var c=bg(t,e,a);switch(s){case"animation":case"animationName":{i+=l4(s)+":"+c+";";break}default:i+=s+"{"+c+"}"}}}return i}var BF=/label:\s*([^\s;\n{]+)\s*(;|$)/g,sa,VF=function(e,n,i){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var o=!0,s="";sa=void 0;var a=e[0];a==null||a.raw===void 0?(o=!1,s+=bg(i,n,a)):s+=a[0];for(var l=1;l<e.length;l++)s+=bg(i,n,e[l]),o&&(s+=a[l]);BF.lastIndex=0;for(var c="",u;(u=BF.exec(s))!==null;)c+="-"+u[1];var d=p2e(s)+c;return{name:d,styles:s,next:sa}},HF=K.exports.createContext(typeof HTMLElement!="undefined"?u2e({key:"css"}):null);HF.Provider;var y2e=function(e){return K.exports.forwardRef(function(n,i){var o=K.exports.useContext(HF);return e(n,o,i)})},_2e=K.exports.createContext({});function b2e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return VF(e)}var E2e=function(){var e=b2e.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};const zF=document.getElementById("__react-pop-root");function Eg({children:t}){const e=K.exports.useRef(null);return e.current===null&&(e.current=document.createElement("div")),K.exports.useLayoutEffect(()=>(zF.appendChild(e.current),()=>{zF.removeChild(e.current)}),[]),nx.exports.createPortal(t,e.current)}function w2e({user:t,style:e}){const n=Te(),i=j(t.profileUrl),o=j(K.exports.useCallback(()=>t.userAvatarUrl("large"),[t])),s=j(K.exports.useCallback(()=>({backgroundColor:t.color(),borderColor:t.secondaryColor()}),[t])),a={backgroundImage:`url(${o})`},l=j(K.exports.useCallback(()=>t.name()||t.login()||"Anonymous",[t])),c=j(K.exports.useCallback(()=>l!==t.login()?t.login():null,[l,t])),u=()=>{n.acceptInviteRequest(t),n.closeAllPopOvers()};return p.createElement(Eg,null,p.createElement("dialog",{className:"pop-over accepting-invite-pop",style:e},p.createElement("a",{href:i},p.createElement("section",{className:"info profile-summary"},p.createElement("div",{className:"profile-wrap"},o?p.createElement("div",{className:"avatar icon",style:a}):p.createElement("div",{className:"avatar icon anon-avatar",style:s}),p.createElement("div",{className:"user-info"},p.createElement("h1",null,l),c&&p.createElement("p",{className:"login"},c))))),p.createElement("section",{className:"actions"},p.createElement("button",{className:"button",onClick:u},"Invite to Edit ",p.createElement(tt,{icon:"thumbsUp"})))))}function x2e({children:t,fallback:e=null}){const n=Te();return j(n.projectIsLoaded)?t:e}function GF({user:t,hideOnlineStatus:e=!1}){const n=j(t.isOnline),i=j(t.avatarUrl),o=j(t.color);return p.createElement("div",{className:dt("avatar icon",{"anon-avatar":!i,"online-active-user":n&&!e}),style:{backgroundImage:i&&`url("${i}")`,backgroundColor:!i&&o,boxShadow:n&&!e&&`0 0 0 1.5px ${o}, inset 0 0 0 1px var(--primary-background)`}})}var S2e=function(e,n){var i=e.linkify,o=e.utils.escapeHtml,s='<a\\s([^<>]*href="[^"<>]*"[^<>]*)\\s?>',a=RegExp(s,"i"),l='<img\\s([^<>]*src="[^"<>]*"[^<>]*)\\s?\\/?>',c=RegExp(l,"i"),u=/^(?:https?:)?\/\//i,d=/^(?:https?:\/\/|ftp:\/\/|\/\/|mailto:|xmpp:)/i;n=n||{};var f=typeof n.removeUnknown!="undefined"?n.removeUnknown:!1,h=typeof n.removeUnbalanced!="undefined"?n.removeUnbalanced:!1,v=typeof n.imageClass!="undefined"?n.imageClass:"",m=!1,_,S=["a","b","blockquote","code","em","h1","h2","h3","h4","h5","h6","li","ol","p","pre","s","sub","sup","strong","ul"],E=new Array(S.length),w=new Array(S.length);for(_=0;_<S.length;_++)E[_]=0;for(_=0;_<S.length;_++)w[_]=!1;function T(A){var L=i.match(A);return L&&L.length===1&&L[0].index===0&&L[0].lastIndex===A.length?L[0].url:null}function C(A){return A=A.replace(/<[^<>]*>?/gi,function(L){var k,U,N,I,F,O;return/(^<->|^<-\s|^<3\s)/.test(L)?L:(k=L.match(c),k&&(U=k[1],N=T(U.match(/src="([^"<>]*)"/i)[1]),I=U.match(/alt="([^"<>]*)"/i),I=I&&typeof I[1]!="undefined"?I[1]:"",F=U.match(/title="([^"<>]*)"/i),F=F&&typeof F[1]!="undefined"?F[1]:"",N&&u.test(N))?v!==""?'<img src="'+N+'" alt="'+I+'" title="'+F+'" class="'+v+'">':'<img src="'+N+'" alt="'+I+'" title="'+F+'">':(O=S.indexOf("a"),k=L.match(a),k&&(U=k[1],N=T(U.match(/href="([^"<>]*)"/i)[1]),F=U.match(/title="([^"<>]*)"/i),F=F&&typeof F[1]!="undefined"?F[1]:"",N&&d.test(N))?(m=!0,E[O]+=1,'<a href="'+N+'" title="'+F+'" target="_blank">'):(k=/<\/a>/i.test(L),k?(m=!0,E[O]-=1,E[O]<0&&(w[O]=!0),"</a>"):(k=L.match(/<(br|hr)\s?\/?>/i),k?"<"+k[1].toLowerCase()+">":(k=L.match(/<(\/?)(b|blockquote|code|em|h[1-6]|li|ol(?: start="\d+")?|p|pre|s|sub|sup|strong|ul)>/i),k&&!/<\/ol start="\d+"/i.test(L)?(m=!0,O=S.indexOf(k[2].toLowerCase().split(" ")[0]),k[1]==="/"?E[O]-=1:E[O]+=1,E[O]<0&&(w[O]=!0),"<"+k[1]+k[2].toLowerCase()+">"):f===!0?"":o(L))))))}),A}function P(A){var L,k,U;for(_=0;_<S.length;_++)E[_]=0;for(_=0;_<S.length;_++)w[_]=!1;for(m=!1,k=0;k<A.tokens.length;k++)if(A.tokens[k].type==="html_block"&&(A.tokens[k].content=C(A.tokens[k].content)),A.tokens[k].type==="inline")for(U=A.tokens[k].children,L=0;L<U.length;L++)U[L].type==="html_inline"&&(U[L].content=C(U[L].content))}function R(A){if(m===!1)return;var L,k;function U(I,F){var O,V;return F==="a"?O=RegExp('<a href="[^"<>]*" title="[^"<>]*" target="_blank">',"g"):F==="ol"?O=/<ol(?: start="\d+")?>/g:O=RegExp("<"+F+">","g"),V=RegExp("</"+F+">","g"),h===!0?(I=I.replace(O,""),I=I.replace(V,"")):(I=I.replace(O,function(z){return o(z)}),I=I.replace(V,function(z){return o(z)})),I}function N(I){var F;for(F=0;F<S.length;F++)w[F]===!0&&(I=U(I,S[F]));return I}for(_=0;_<S.length;_++)E[_]!==0&&(w[_]=!0);for(L=0;L<A.tokens.length;L++){if(A.tokens[L].type==="html_block"){A.tokens[L].content=N(A.tokens[L].content);continue}if(A.tokens[L].type==="inline")for(k=A.tokens[L].children,_=0;_<k.length;_++)k[_].type==="html_inline"&&(k[_].content=N(k[_].content))}}e.core.ruler.after("linkify","sanitize_inline",P),e.core.ruler.after("sanitize_inline","sanitize_balance",R)};const T2e=yI({html:!0}).use(S2e),C2e=yI({html:!0}),M2e=new Set(["md","markdown","mdown"]);function $F(t){if(t==null)return!1;const e=t.extension().toLowerCase();return M2e.has(e)}function c4(t){return T2e.render(t)}function A2e(t){return C2e.render(t)}function P2e({user:t,style:e}){const n=Te(),i=j(n.currentProject),o=j(n.currentUser),s=j(t.profileUrl),a=j(K.exports.useCallback(()=>t.userAvatarUrl("large"),[t])),l=j(t.color),c=j(t.secondaryColor),u=a?{backgroundImage:`url(${a})`}:{backgroundColor:l,borderColor:c},d=j(t.name),f=j(t.login),h=j(t.isOnline),v=t===o,m=j(K.exports.useCallback(()=>i&&i.accessLevel(t),[i,t])),_=j(K.exports.useCallback(()=>i&&i.accessLevel(o),[i,o])),S=j(t.thanksCount),E=j(t.isThankedByCurrentUser),w=S===1?"time":"times",T=j(n.canBroadcast),C=j(K.exports.useCallback(()=>i&&i.users().length>1,[i])),P=j(K.exports.useCallback(()=>v&&!n.currentUserIsLoggedIn(),[n,v])),R=j(t.description),A=j(K.exports.useCallback(()=>i&&i.name(),[i])),L=j(n.currentUserOnAnyCurrentProjectTeam),k=j(K.exports.useCallback(()=>{const H=t.lastCursor();if(H&&H.cursor){const W=H.documentId,G=n.fileByUuid(W);if(!G)return;if(H.cursor){const q=H.cursor.line||0;return`${G.name()}, line ${q+1}`}return G.name()}},[n,t])),U=()=>{t.isThankedByCurrentUser()?t.removeThanks(n):(n.analytics.track("Thanks Given",{recipientId:t.id(),recipientHandle:t.login()}),t.addThanks(n))},N=()=>{n.acceptInviteRequest(t),n.closeAllPopOvers()},I=()=>{n.askToJoinProject()},F=()=>{const H=t.lastCursor();if(H){const{cursor:W,documentId:G}=H,{line:q}=W;n.selectFileByUuid(G).then(()=>{n.goToLine(q),n.closeAllPopOvers()})}},O=()=>{n.leaveCurrentProject(t),n.closeAllPopOvers()},V=()=>{var H;C?window.confirm(`Leave ${A}?`)&&(n.closeAllPopOvers(),n.rewindPanelVisible(!1),n.leaveCurrentProject(),n.analytics.track("Project Left",{projectMemberWhoLeft:t.login(),numberProjectMembers:((H=n.currentProject())==null?void 0:H.users().length)-1})):window.alert(`You can't leave ${A} because you are the only member.`)},z=K.exports.useMemo(()=>R?c4(R):null,[R]),B=()=>{switch(m){case Tt.NONE:return"Project Visitor";case Tt.MEMBER:return"Project Member";case Tt.ADMIN:return"Project Owner";default:return""}};return p.createElement(Eg,null,p.createElement("dialog",{className:"pop-over person-pop",style:e},p.createElement("section",{className:"info"},p.createElement("h1",{"data-testid":"access-level-label"},B()),h&&!v&&p.createElement("div",{className:"online-active-user"},"Online"),v&&p.createElement("div",null,p.createElement("span",null,"This is You!"))),p.createElement("a",{href:s},p.createElement("section",{className:dt("profile-summary",{"no-bottom-border":R||P})},p.createElement("div",{className:"profile-wrap"},p.createElement("div",{className:dt("avatar","icon",{"anon-avatar":!a}),style:u}),p.createElement("div",{className:"user-info"},p.createElement("h1",null,d||f||"Anonymous"),f&&p.createElement("p",{className:"login"},"@",f))))),z&&p.createElement("section",{className:P?"no-bottom-border":"",dangerouslySetInnerHTML:{__html:z}}),P&&p.createElement("section",{className:"actions"},p.createElement("a",{className:"onboarding-tip-link",href:"//glitch.com/signin",onClick:n.setDestinationAfterAuth},p.createElement("div",{className:"onboarding-tip onboarding-tip-wholly-clickable"},p.createElement("div",null,p.createElement("strong",null,"Create an account "),p.createElement("span",null,_>Tt.NONE?"to keep this project and edit it from anywhere.":"to save your favorite apps.")),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button button-cta button-small"},"Create an Account"))))),v&&S>0&&p.createElement("section",null,p.createElement("p",null,"You've been thanked ",S," ",w," ",p.createElement(tt,{icon:"sparklingHeart"}))),!v&&p.createElement("section",{className:"actions"},p.createElement("button",{className:"button",onClick:U},E?p.createElement(p.Fragment,null,"Thanked ",p.createElement(tt,{icon:"sparklingHeart"})):p.createElement(p.Fragment,null,"Thank ",p.createElement("div",{className:dt("avatar","icon",{"anon-avatar":!a}),style:u}))),S>0&&p.createElement("div",{className:"thanks-count"},p.createElement("p",null,"Thanked ",S," ",w," ",p.createElement(tt,{icon:"sparklingHeart"})))),!v&&h&&k&&p.createElement("section",{className:"actions"},p.createElement("p",null,k),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button",onClick:F},"Jump to ",p.createElement("div",{className:dt("avatar",{"anon-avatar":!a}),style:u})))),!v&&m>=Tt.MEMBER&&_>=Tt.MEMBER&&_>=m&&p.createElement("section",{className:"danger-zone"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"leave-project",className:"button",onClick:O},"Remove from Project ",p.createElement(tt,{icon:"wave"})))),m<Tt.MEMBER&&!v&&_>=Tt.MEMBER&&p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"join-project",className:"button",onClick:N},"Invite to Edit ",p.createElement(tt,{icon:"thumbsUp"})))),_<Tt.MEMBER&&v&&T&&p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"join-project",className:"button button-small button-secondary",onClick:I},L?"Join This Team Project":"Request to Join Project"))),v&&_>=Tt.MEMBER&&C&&p.createElement("section",{className:"danger-zone"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"leave-project",className:"button",onClick:V},"Leave this Project ",p.createElement(tt,{icon:"wave"}))))))}function R2e({user:t,style:e}){const n=Te(),i=j(K.exports.useCallback(()=>t===n.currentUser(),[n,t])),o=()=>{n.closeAllPopOvers(),t.awaitingInvite(!1),n.broadcast({user:t.broadcastData()})};return p.createElement(Eg,null,p.createElement("dialog",{className:"pop-over waiting-for-invite-pop",style:e},p.createElement("section",{className:"info"},p.createElement("h1",null,"Request Sent ",p.createElement(tt,{icon:"thumbsUp"}))),p.createElement("section",{className:"actions"},p.createElement("p",null,"Check back soon"),p.createElement(mn,null)),i&&p.createElement("section",{className:"info"},p.createElement("button",{className:"button",onClick:o},"Cancel Request"))))}const u4="ACCEPTING_INVITE",WF="WAITING_FOR_INVITE",qF="PERSON";function L2e(t,e,n){return t&&e==="Admin"?u4:t&&n?WF:qF}function I2e(t){const e=Te(),n=j(e.currentUserRole),i=j(t.awaitingInvite),o=n==="Admin"?"Can I join?":"Asked to join...";if(!!i)return o}function O2e({user:t,showPopOnClick:e=!0,showTooltipOnTop:n,hideOnlineStatus:i=!1}){const o=Te(),s=j(o.currentUser),a=j(t.login)||"Anonymous",l=j(t.awaitingInvite),c=t===s,u=j(o.currentUserRole),[d,f]=K.exports.useState(null),[h,v]=K.exports.useState(null),[m,_]=K.exports.useState(null),[S,E]=K.exports.useState(!1);S&&!l&&E(!1);const w=I2e(t);K.exports.useEffect(()=>{if(e)return o.onCloseAllPopOvers(()=>{f(null)})},[o,e]);const T=R=>{o.closeAllPopOvers();const L=R.currentTarget.getBoundingClientRect();t.updateThanks(o);const k=L2e(l,u,c);f(k),v(L.bottom),_(L.left),E(k===u4)},C={top:`${h}px`,left:`${m}px`},P=!S&&e;return p.createElement(p.Fragment,null,p.createElement("span",{className:dt("person",{"person-current-user":t===s}),onClick:e?T:void 0,"data-tooltip":P?w:null,"data-tooltip-persistent":!0,"data-tooltip-left":!0,"data-tooltip-notification":!0,"data-tooltip-clickable":!0},p.createElement("div",{"data-tooltip":a,"data-tooltip-left":!0,"data-tooltip-top":n||void 0,"data-testid":"person-avatar"},p.createElement(GF,{user:t,hideOnlineStatus:i}))),d===u4&&p.createElement(w2e,{user:t,style:C}),d===WF&&p.createElement(R2e,{user:t,style:C}),d===qF&&p.createElement(P2e,{user:t,style:C}))}function d4(t){return p.createElement(x2e,null,p.createElement(O2e,he({},t)))}function N2e({team:t}){const e=Te(),n=j(t.name),i=j(t.avatarUrl),o=j(t.backgroundColor);return p.createElement("button",{className:"person team no-button-styles","data-tooltip":n,"data-tooltip-left":!0,"aria-label":`Open team pop-over for the team "${n}"`,onClick:s=>{if(e.teamPopCurrentTeam()===t){e.teamPopCurrentTeam(null);return}e.closeAllPopOvers(),s.stopPropagation();const a=s.target.getBoundingClientRect();e.collaboratorPositionTop(a.top),e.collaboratorPositionLeft(a.left),e.teamPopCurrentTeam(t)}},p.createElement("div",{className:dt("avatar icon team-avatar",{"anon-avatar":!i}),style:{backgroundImage:`url(${i})`,borderColor:o}}))}const k2e=Ye(tt)`
  margin-right: 5px;
  width: 15px;
  height: 15px;
`,D2e={public:{icon:"globe",alt:"Public project"},private_code:{icon:"lockCode",alt:"Private code project"},private_project:{icon:"lock",alt:"Private project"}};function F2e({privacy:t}){return p.createElement(k2e,he({},D2e[t]))}const U2e=Ye.svg`
  path.background-blob {
    fill: ${t=>t.currentTheme==="sugar"?"#FCF2F1":"#140080"};
  }
  path.big-circle {
    fill: ${t=>t.currentTheme==="sugar"?"#C354FF":"#FF7698"};
  }
  path.little-circle {
    fill: ${t=>t.currentTheme==="sugar"?"#F47CFF":"#FEC1EE"};
  }
  path.sparkle {
    fill: ${t=>t.currentTheme==="sugar"?"#FD7DAA":"#FFFF60"};
  }
`;function j2e({currentTheme:t}){return p.createElement(U2e,{currentTheme:t,width:"167",height:"81",viewBox:"0 0 167 81",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{d:"M21.5384 27.5405C19.1823 38.9714 24.8096 50.9917 33.5187 58.7597C42.2278 66.5276 53.577 70.6642 64.9156 73.4114C83.2699 77.8532 102.403 79.0847 121.178 77.0427C133.126 75.7481 145.401 72.9062 154.783 65.3908C164.166 57.8755 169.835 44.6658 165.544 33.4244C162.577 25.6459 155.436 20.0673 147.694 17.0359C139.942 14.0151 131.538 13.2046 123.26 12.4257C100.699 10.2995 77.9898 7.17338 55.3651 6.04714C41.0603 5.34192 25.2829 12.552 21.5384 27.5405Z",className:"background-blob"}),p.createElement("path",{d:"M31.6784 21.6702C36.1574 21.6702 39.7884 18.0392 39.7884 13.5602C39.7884 9.08116 36.1574 5.4502 31.6784 5.4502C27.1993 5.4502 23.5684 9.08116 23.5684 13.5602C23.5684 18.0392 27.1993 21.6702 31.6784 21.6702Z",className:"big-circle"}),p.createElement("path",{d:"M7.01 0C7.01 3.87 3.87 7.01 0 7.01C3.87 7.01 7.01 10.15 7.01 14.02C7.01 10.15 10.15 7.01 14.02 7.01C10.15 7.01 7.01 3.87 7.01 0Z",className:"sparkle"}),p.createElement("path",{d:"M4.13961 29.9804C5.95663 29.9804 7.42961 28.5074 7.42961 26.6904C7.42961 24.8734 5.95663 23.4004 4.13961 23.4004C2.32259 23.4004 0.849609 24.8734 0.849609 26.6904C0.849609 28.5074 2.32259 29.9804 4.13961 29.9804Z",className:"little-circle"}),p.createElement("rect",{x:"136",y:"49",width:"20.1143",height:"32",fill:"url(#pattern0)"}),p.createElement("defs",null,p.createElement("pattern",{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},p.createElement("use",{xlinkHref:"#image0",transform:"translate(-0.00744508) scale(0.00548589 0.00344828)"})),p.createElement("image",{id:"image0",width:"185",height:"290",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALkAAAEiCAYAAACle3NoAAAACXBIWXMAADddAAA3XQEZgEZdAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABZDSURBVHgB7Z3bbx3XdcbXnMObbg6dCmlsOA2VvEQ10Mp+DWJT7R9Qx6iD9imu/4BK6kOL1LJFGbX71sjoe0W/NZUdOn+BWMAF/CYV6IMMGBXbGs3FikiTutjiOWdnr6NzpDnDuezZl5m993w/g6BJziEB6ePSN+vbaw0RAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAhCQEnCKuXF2V716Uf9IrJMZvy/L/d+R7+Tb6T+r1NpNXTm8ScAZE7oDtNbG8NKAzS89+dJb6g2WFl2zJv4l1GtB7yV+e3iJgFYjcMvfOizMjorX+kZ3lpe9ep5ps0Wj0bvIXf3qJgDUgckvI6r2yOKDLgmiVP154+lOaO/4ZaXKdhvRDVHU79AgYs/e6WJ0f0LWpwBlZycmAU9Snq+Lfrp4iYAxEbsj9N8WPewldlf8kPvLeyfyXlBy6Q4asyLdr4p9+8WMCRkDkBrDARyN5w5ihd9Sois9yZGFdvPk+hG4ARK5JkcCZuSdukTWeXCJxeA5CNwAi14A9eJHAGauVXJL8/mESQqzvv35llUBtIPKacBclSWij6Os9ecOZ9AdklSPz47d+jzbE2sYKgVpA5DVggS/sz95kZpl78lfkAq7mkmUxHFyF0OsBkddACnxjHM+X0LdsVR4xqeaSFSn0ywSUgcgVuXteXJACL+1bj1uHC1+SKybVnFkVb1z5KQElIHIF7vy9eFW+W6u6rueqik95XM1JBk9nB+d/9hKBSiDyCiY3mhdUrnXlx9Okqjn1kt5l+PNqIPIKVHw4wx2VvutKzqSqOT28EYU/rwAiL0HFh0/pHWlA4BPS1VyyOnzjX88SKASnEAsYtwsHdFP1+oVnbtDc193blSnif3aJdh88+ng4otPzb7+ySeAAqOQ58NAD98PrvKYRq5IieerIzMcyKLoszl5WGdDoHBB5DotDuqDiw6f0lu44bR3mstAnenIx/ZkVOnZU6Qa5a0DkGfhcihBUy+P2Gq7iU5JvzHjzcVsR51sOApGnYJsi/0Bqdyv6Nk8d1oGr+fFDM5+CbTkIRJ6irk1hOOXst1TJxz+fq3l/pn8A25IBIp+gY1OYXosCH8MC/73Zag7bMgtETvo2hZlry6qkSNiyzFZz2JYUEDnp2ZQprVdyJqeaE2zLIzovcg59dGwK42RAQpO8ag7b8pDOi7xu6JNm7mvtW5VH5Fdz2BbquMgnZ1NWSJP+EQ+sSoq8ai5ZGR073OmzLZ09u1L3bEoWbh0eOvkx+Yb49T2i39w78PnBUDy38M6Pau+ti4HOVnITm8J4ccOZQ0E1p7l+0tlJok6KnJdymtgUpokBCS0KvDl1+Ehu5+wK2xTeW1g2cV8Fd1QOPfsR+Yy4cZtof5T99E7Sn3suWfvhFnWIzlXy+X1aMxE40/PshjOPzGDFlE5OEnVK5DyQnCRkvG6t70HKWcmTS/I3Ovevd7VrA9CdEXmdgeQq+p7edGYpqOYPB6A71DvvjMjZppjebDKtDEjowtX88dBzmuUuRf6dEPnuefGSDZvC+No6LKKomncp8u+EyPuCrPWIg/DjaWZXWMzQlcg/epGbRvdp2h6Q0KWomlNHTipG3Sc3je6z9GUAtPitGxQi4r+/kL/x+7lfiz3yj7qSm0b3WXw7kFWHkmoefeQfrcht2pQpIVqVR5R4c4o88o/Srti2KQynnBoPn/ULaVfGtiWfaCP/KCv54oCs//Pr1YCELuXVPNrIPzqRc3Qve8DWY+uQ/XiaMm9OkdqWqERuM7pPY+nhs37AlfyJhcIvJ9S/EFvvPCqR24rus4SWclaRXRaaQUb+x6LqtkQjclsnDPPwYbeKVQ4uC51BkHg1psg/CpHzciAXNmVKbJWcyS4LzRJT5B+FyE2WA1Xh024Vq+QsC80QTeQffJ/cRU88TdNPkGiUoTQmn9wevy+8JIInWARfyW1H91mCTjmrKB56Tl8S/E1o0CJ3Ed2nCWpAQpOiFRaPL6BTwzd+tkYBE6xdcW1TmLnjn9HC059S7BQtJEoRdOQfbCWX0b3zCDq4AQlNKqt54JF/kCKfRPer5JDGHj7rAwrenAKO/IMTuavoPksIu1VsolDNg438gxO5q+g+S1esyiPUqvmyOHYkONsSlMhdRvdZOmNVUqhUc3nVS6FF/sGI3HV0n2acckbeOsxFrZoHF/kHI3KX0X2WKAYkNBmfN5+vlEVQkX8QIjd5ro8OsQxI6FIxWDEmpOVEQYjcdXSfJqoBCV2Kl4XOwLaFAsB7kbuO7rPEeKxWB5VqLlkJIfL3OtZvIrrPsvjt/6J+hz15mrKFRCm8j/y9ruRS4BvUMKjkj1Gs5t5H/t6KnHvi8t0papBoByR0KV9hkcbryN9LkTcV3Wfx9mFXLaJYzR9G/msbK+QhXoq8qeg+SxdTzkrUq7m0LfteDlh4J/Imo/s049ZhF1NOBVSrOUf+Pj6PyCuRt2VTGNxwlqBezfl5RD/1LfL3SuRt2RQGfrwc9WruX+TvjcilTTnVhk1hOjUgoUuNau5b5O+NyKXAG++JT+nagIQuNaq5VycVvRB509F9ls4NSOhSsSw0w8ro2GEveuetx/ptRPdZDn3vY3RWVHkwJPHJtvLlMvI/0Xbk33olb/KEYR5d2K1ilYploVl8iPxbFfm98+JMmzaFQeuwPlXLQjO0Hvm3ZlfYpswP6FrC+7BbZPE719FZ0UD88i7Rrfuql7d6UrG1Ss498bYFHurDZ31gXM37yjWy1ZOKrYi8reg+C6yKAYpDzylW24r8Gxd5m9F9luieINEwaissHiMj/1Z6542LvM3oPgsquSH1q/lyG5F/oyLfe12s+mBTGAxI2KFuNW8j8m9U5PKHeTMm1eXdKlapX80bj/wbE3nb0X2Wru9WsUndak4NR/6N9Ml9iO7TcOvw0MmPCdhDYZH/AQZD8dzCOz+6To5ppJK3Hd1nwQ2nfTSqOc31k0bG5ZyL3IfoPgsGJByg4c2pocjfqV3xJbpPwx2VQ89+RMAN4sZtov1RnZc4j/ydVnIfovssGJBwS53BignOI39nIvclus+CAQnHKC4LzbAq3nzfmVaciNyn6D4LDmS5R6OakxDikqveuROR+xTdp8GARENwNVccek7hLPK3LvLd8+IlH20Kg9Zhc2hVc0eRv3WR94W/z2KHH2+QGiss0riI/K2K3LfoPg0GJJpHp5qTg+VE1vrkvkX3WfoyAFr81g0CzaK4yP8ANiN/a5Xct+g+Cw5ktYNmNae5XmKtd25F5D7blCmwKi2h6c2lnk7ZivyN7YrvNoXhlHPpu84Pu4EipF0Z25b6WIn8jSv54sDfbsoUDEi0jG41txT5G4mco3vZ2/Ru6XoW+PH20fXmZOGkorbIfY7u0+Dhs55Qb1noDOPnERn0zrVF7mt0nwUppz8kTx0hTWTkf0zbFmuJ3NcThnlgt4pH1FwWmkaQeFU38q8tcmlTlkOwKVNQyf2i5rLQGXQj/9oiXxyS9z3xKdit4iFczY/XHpObohX51+qTh9ATT7PwzA2a+zrmOb1jKM3HJ7fH77VePqLT82+/sql6fa1K7nt0nwUpp6foDT2nX17rJlRZ5CFE92kwIOE3OissHr+4XuSvJHK2KXygnQICN5yeY1jNx73ztY0VlWuVRO7j1H0VGJDwH6NqXiPyrxR5SD3xKXj4bCAYVnPJqkrvvFLkIfXEp2C3SjgYVnOl3nmpyEO72ZwCqxIQ5tW8ckNuocj5ZlNmqa9SgMCqhIVpNU+od6asmheKXCab3i3qVGGccqJ1GBbm1Xy5rJrn/vqElmymWXj6U5o7/hmB8NBYFppmJ9m7cyK59FcH/hnPreSyZej9IEQRGJAIF4PBCqawmh8QubgguLyfoQDBgETg6C0LfQR787zPH/iOe0NZxQP04gxSzvAxreZ5ffMDIu+JcK0KBiQiQG9Z6CN6iTig3xmRi7WxVXmRAgWVPA5MqnmSJH+W/dyMyHf4fEqoVgUDEvGgv8KCWcn2zGdEPrdPpyhQ8LCruDDy5oePrKQ/bPSJzC5ByhkZBtV8kCQzlXwu/cH1Txp6eq0D/njxP2hxEUKPidv/9zV6cHeu9uuGmY9nKvkgoWBVsr19kkA8fLk7ryXwPGbtyj5tUaBA5HGx9+ujZMDMdtcZkZ/+MNkRSZhCv3fvKRoMlgiEz/2dRRrua98ubp1YPzfjSA5+pxH9ggJkOFyivb0VAuFz53Oj1HMz+4mDIk/oQwqU3b0TBMLGsIrzTed72c8d+G4/eD/ZJArzBvTW588TCBvDKs5WZTP7ydxfGUH0LgUIW5bdXVTzULFQxXN1m/sdBwO6RIFWc/jycDGs4kyu1c4V+bjLEmg1RyUPE9MqznqVVmUr72uF3zXUar4nbz7RSgwPUy8+orFecykUecjVfGcHwVBIuKziTOl35mouw6HgBpphWcKBxW1axb+9fu5S2QWlIudqLn9NXqPAQMQfDvd3loyqeC/prVVeU3XBpG8e1F5ytBLDgMXNVsWA9Wcun3mv6iKlX6H9wbiab1NAbO98j4DfGFbxHdkXv6hyodJPkLZlS37Dtyggdrb/kIC/sLjv/la/C1Z1s5lG+dfoxfcTNvfXKBC++mp5/Ab85M5vDpMYaY/o8M3mmurFtf6tkL89f0MBgRtQPxl78S/0vbh0FafrXF9L5HwTKgRdokCAyP2Eq7gudWzKlNqufzCki6H0zjFI4R+GVZyTzTWqSW2Rh9Q751YiCx34g0kV5554dupH6XWkAduWkaB1CgC0Ev3BsIor9cTz0G5SDod0jgLonWOQwh8MqviWak88D22Rs20JoXfOluXuvW8SaBeTKj6xKVukidEGrUnv3PvIfwddltYxqOIbujZlivGauBAif5xjaReTKj60kM0YizyEyB+DFO3yxf8fIx1kT/yiiU2ZYmXhZwiRPwYp2uHBXe11bzfrRPdlWNtqmyR+985hWdrhzi09Ly7dwZ+QJayJ/PtXkus+R/6I+JtHd2mnLZsyxep+cp8jfwxSNI/m0k5rNmWKVZH7HvljJ0tz6A4nDx2cdLUqcsbnk4qwLM2hOZy8Lm2K9V2c1kXOsG0hD3vnOJXYDJpV/KZJdF+GE5GzbRmN/BywuHXrOQJu0aniMrq3erM5873JES/8PFknDyN/WBa3aFbxddPovgxnImd8jPxhWdyiUcW3XdmUKU5F7mPkj0EKd+hUcdkTf8uVTZniVOSMjycVMUjhBo0qfrNqxZsNnIuckZG/Vzeh2MliH50qbjO6L6MRkY8jf8e+qw7YyWIXnaWdtqP7MhoROePbhlx0Weyhse7NenRfRmMi9y3yh8jtoLO0U9qURnXQmMgZnyJ/DFLYQaOKr+c9oc0ljYqc8SnyxyCFGRpLO28OW7g3a1zk48jfE9uCo7dm1F3a6TK6L/251AIvfJDwSbPWe+fw5fpoDCc7je7LaEXkjA+RPwYp9Km5YmJ72GILuTWR+xL5Y5CiPnWreBPRfRmtiZzxIfJHJa9PzSreSHRfRqsiZya2pTXQSqxH3SreVHRfRusiZ9vSduSPQQp16lTxJqP7MloXOdN25A/LokbNKt5odF+GFyJvO/KHZVGjThWXNuVl8gQvRM60GfljkKKamlWco/vr5AneiJxpczkRBinKqbG08+bQo2PVjFciZ9siWpryxyBFMXWWdrYV3ZfhlcgZjvwTog1qGAxSFFNjaWdr0X0Z3omceTAYV/PGI3+cZTlIjaWd3tmUKV6KvK3IHyI/iOrSTh9tyhQvRc60EfljJ8ssqsPJMvS55qNNmeKtyJlJ5F/74aS6cCsRB7YeozqcPPKoJ56H1yKfRP7vUoPs7iH9ZGpUcW9tyhSvRc7IkGityd45Hm77EMUq7k10X4b3Ih/TYOSPQQr1Ku7DCUMVghB505F/1325ShWXNuWS7zZlShiVnJqN/LtcyRWr+M2Rpz3xPIIReZMnFbt8KlGlik964o11vUwJRuQM25amIv8u7mRRrOJeRvdlBCVy5kFDU/5dsyyKSzu9je7LCE7kbFuaiPy7FvGrrHvzObovIziRM01E/l1qJSou7bwamk2ZEqTImSYi/64MUqhU8aY30dokWJE3Efl3YZBCZWlnCNF9GcGKnOHIX767Ro7owiCFwtLOIKL7MoIWOSPI7bhczDegKsPJoUT3ZQQvcteRf8wir1oxEVJ0X0bwImdcRv6xDlIoVPGgovsyohC5y8g/1p0sVVU8tOi+jChEzrBtGQlaJwfE1kpUqOLBRfdlRCNyZjikc+Qg8o9tkKKiigcZ3ZcRlchdRf5sWe7e+ybFQFUVDzW6LyMqkTOuIv+dSLosFVV8IyabMiU6kTMunkcUwzmWqio+pHZW9LkmSpG7WE4UwyBF2dLO0KP7MqIUOTOxLVYj/5AHKSqWdgYf3ZcRrciZJLHbOw/ZspQt7Ywhui8japF//0py3WbkH2rEX7a0M2abMiVqkTM2I/9QBylKlnZGbVOmRC9y25F/aDtZyoaTY+2mZIle5IzNk4qhWZaS4WR+rs+H1AE6IXKGbQtZ6J2HdCqxpIpHF92X0RmRs20ZWXoeUSgPty2q4jFG92V0RuTMCz9P1slC5B+CZSmp4lGdMFShUyJnbET+IViWgiq+3SWbMqVzIrcR+fs+SFFUxWVP/K0u2ZQpnRM5Y+Okos+DFAVVnHvirTzxum06KXJGRv5GN6G+7mQpquKxR/dldFbk48jfwJ/6uJOlaGlnF6L7MjorcmYwoEsmkb9vXZaCdW+diO7L6LTITSN/n0RetLSzyzZlSqdFzphE/j4NUuRV8ViWA5nSeZEzJicVfRikKFjaGc1yIFMgcjKzLT4cvc1b2smrlmNZDmQKRD5B17a07cvzhpMnNmWTwBiIPIWObWl7kCJnxQRsSgaIPIWubWlrkCKvisOmHAQiz6BjW9qq5NkqDpuSD0SeQ13b0kYrMaeKw6YUAJHnoGNbmh6kyFZxDn1gU/KByAtg2yKFc071+iYtS7aKd/1sShUQeQl1juQ2aVnSVVwK/FrXz6ZUAZFXoDpJ1NQgRaaKsw9/mUApEHkFPEk0UvTnTQxSpJd2dm0gWReIXIEXPkg+VGkruh6kSC/tZB/etYFkXSByRX7wQcI3oaX+3PUgxXRpJ3x4PSDyGrA/r+qfuzrLklraCR9eE4i8BuzPB/vjIYTCG1FXIp8s7dye9MO3CCgDkdeEhS4eVlKR93UXO1kmw8lCCvxlCLw+ELkG42eGjsYdlwNC51ai7QNbdz4/zD/nNZxL0QMi14RXzhUJfXfPXvopq7iQVfy1P1g/t05AC4jcgCKhW3y4rfhqbw4CNwQiN4SFniT0fLrrYmmQYvsBjZ7/xj//ZJ2AERC5BXhR0aTrwk+bG1d1A18u5H9Xh8PB80f/9p3rBIxJCFjl3/9cnO0l9NdPHL154uTJf6GabI+EeGvp797u5M5CV6CSW4ZPLnJVlzefF4UQbGFExUv469tC0MX5e3e+A4HbB5XcMff/8fxqr0er8k/6j6R3f5z5C9lvF+J/5Y3r5qGf/MMmAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCH3wF6Z8gvruklBAAAAABJRU5ErkJggg=="})))}function YF(e){var t=cn(e,[]);return p.createElement("svg",he({width:"20",height:"10",viewBox:"0 0 20 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),p.createElement("path",{d:"M1.9 5C1.9 3.29 3.29 1.9 5 1.9H9V0H5C2.24 0 0 2.24 0 5C0 7.76 2.24 10 5 10H9V8.1H5C3.29 8.1 1.9 6.71 1.9 5ZM6 6H14V4H6V6ZM15 0H11V1.9H15C16.71 1.9 18.1 3.29 18.1 5C18.1 6.71 16.71 8.1 15 8.1H11V10H15C17.76 10 20 7.76 20 5C20 2.24 17.76 0 15 0Z",fill:"currentColor"}))}function B2e(t){return K.exports.useMemo(()=>new ms(t),[t])}function Bf({requireToken:t=!1}={}){const e=Te(),n=j(e.currentUser),i=n?n.persistentToken():null,o=B2e(i);return t&&!i?null:o}function oa(t){if(navigator.clipboard)navigator.clipboard.writeText(t);else{const e=document.activeElement,n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.contentEditable=!0,n.readOnly=!0;const i=document.createRange();i.selectNodeContents(n);const o=window.getSelection();o.removeAllRanges(),o.addRange(i),n.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(n),window.getSelection().removeAllRanges(),e.focus()}}const V2e=t=>t.reduce((e,n)=>e.find(o=>o.id===n.id)?e:e.concat([n]),[]),H2e=Ye.svg`
  width: 13px;
  height: 13px;
  position: absolute;
  top: 0;
  ${t=>t.side==="left"?"left: 0;":"right: 0;"}
  background-repeat: no-repeat;
  animation: rotate-tape-reel 1s infinite linear;
  @keyframes rotate-tape-reel {
    to {
      transform: rotate(-360deg);
    }
  }
`,KF=({side:t})=>p.createElement(H2e,{side:t,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null,"rewind-tape-reel"),p.createElement("defs",null,p.createElement("circle",{id:"path-1",cx:"5.5",cy:"5.5",r:"5.5"})),p.createElement("g",{id:"rewind",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},p.createElement("g",{id:"rewind-tape-reel",transform:"translate(1.000000, 1.000000)"},p.createElement("g",{id:"Line-6-+-Line-7-Mask"},p.createElement("mask",{id:"mask-2",fill:"white"},p.createElement("use",{xlinkHref:"#path-1"})),p.createElement("g",{id:"Mask"}),p.createElement("polygon",{id:"Line-6",fill:"#222222",fillRule:"nonzero",mask:"url(#mask-2)",points:"4.75 7.75 6.25 7.75 6.25 12.2915946 4.75 12.2915946"}),p.createElement("polygon",{id:"Line-6",fill:"#222222",fillRule:"nonzero",mask:"url(#mask-2)",points:"4.75 -1.25 6.25 -1.25 6.25 3.25 4.75 3.25"}),p.createElement("polygon",{id:"Line-7",fill:"#222222",fillRule:"nonzero",mask:"url(#mask-2)",points:"7.75 6.25 7.75 4.75 13.25 4.75 13.25 6.25"}),p.createElement("polygon",{id:"Line-7",fill:"#222222",fillRule:"nonzero",mask:"url(#mask-2)",points:"-2.25 6.25 -2.25 4.75 3.25 4.75 3.25 6.25"})),p.createElement("circle",{id:"Oval-2-Copy",stroke:"#222222",strokeWidth:"1.5",strokeLinecap:"square",strokeLinejoin:"round",cx:"5.5",cy:"5.5",r:"5.5"})))),z2e=Ye.div`
  display: inline-block;
  position: relative;
  height: 13px;
  width: 30px;
  background-repeat: no-repeat;
`,G2e=({children:t})=>p.createElement(p.Fragment,null,p.createElement(z2e,null,p.createElement("svg",{width:"30px",height:"13px",viewBox:"0 0 30 13",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null,"rewind-tape"),p.createElement("g",{id:"rewind",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"square",strokeLinejoin:"round"},p.createElement("g",{id:"rewind-tape",transform:"translate(1.000000, 1.000000)",stroke:"#222222",strokeWidth:"1.5"},p.createElement("g",{id:"RightCircle",transform:"translate(17.000000, 0.000000)"},p.createElement("circle",{cx:"5.5",cy:"5.5",r:"5.5"})),p.createElement("g",{id:"LeftCircle"},p.createElement("circle",{cx:"5.5",cy:"5.5",r:"5.5"})),p.createElement("path",{d:"M6,11 L21.8145355,11",id:"Line-5"})))),t));function XF(){return p.createElement(G2e,null,p.createElement(KF,{side:"left"}),p.createElement(KF,{side:"right"}))}const $2e=Ye.div`
  display: flex;
  flex-direction: column;
  > * + * {
    margin-top: ${t=>`var(--space-${t.spacing||"1"})`};
  }
`;function ir(n){var i=n,{children:t}=i,e=cn(i,["children"]);return p.createElement($2e,he({},e),t)}const W2e=Ye.div`
  display: flex;
  align-items: center;
  > * + * {
    margin-left: 8px;
  }
`;function Kt(n){var i=n,{children:t}=i,e=cn(i,["children"]);return p.createElement(W2e,he({},e),t)}const JF=t=>{const[e,n]=K.exports.useState(!1);return K.exports.useEffect(()=>{async function i(){const o=await t.currentUserHasGithubRepoScope();n(o)}i()},[t]),e},f4=t=>p.createElement(pt,qe(he({},t),{variant:"success",message:"Copied"})),ZF=t=>{const e="We couldn\u2019t load an image in this file. Try using an image from the Glitch assets folder instead.";return p.createElement(pt,qe(he({},t),{variant:"error",persistent:!0,message:e}),p.createElement(ir,null,p.createElement("span",null,e),p.createElement(Kt,{className:"button-wrap"},p.createElement(_t,{size:"tiny",className:"no-button-styles",onClick:t.onClose},"Got it"))))},QF=t=>p.createElement(pt,qe(he({},t),{variant:"success",message:"Package Added","data-testid":"notifyPackageAdded"})),eU=t=>p.createElement(pt,qe(he({},t),{variant:"success",message:"Package Updated","data-testid":"notifyPackageUpdated"})),h4=t=>p.createElement(pt,qe(he({},t),{message:"Remix or join to edit"})),tU=t=>p.createElement(pt,qe(he({},t),{message:"To add this file, you\u2019ll need to save it to your computer first",variant:"error",persistent:!0})),q2e=n=>{var i=n,{application:t}=i,e=cn(i,["application"]);const o="Hey! Anonymous projects expire after 5 days. Create an account to save your progress.";return p.createElement(pt,qe(he({},e),{variant:"onboarding",message:o,persistent:!0}),p.createElement(ir,null,p.createElement("span",null,o),p.createElement(Kt,null,p.createElement(_t,{as:"a",href:"//glitch.com/signin",variant:"cta",size:"tiny",onClick:t.setDestinationAfterAuth},"Create Account"),p.createElement(_t,{className:"no-button-styles",size:"tiny",onClick:e.onClose},"Hide"))))},Y2e=n=>{var i=n,{application:t}=i,e=cn(i,["application"]);const o="Sign in to access all your projects anywhere";return p.createElement(pt,qe(he({},e),{message:o,persistent:!0}),p.createElement(ir,null,p.createElement("span",null,o),p.createElement(Kt,null,p.createElement(_t,{size:"tiny",as:"a",href:"//glitch.com/signin",className:"no-button-styles",onClick:t.setDestinationAfterAuth},"Sign In"),p.createElement(_t,{size:"tiny",onClick:e.onClose,className:"no-button-styles"},"Got It"))))},K2e=t=>p.createElement(pt,qe(he({},t),{variant:"success",message:"psst, Glitch autosaves \u516B(\uFF3E\u25A1\uFF3E*)"})),X2e=t=>p.createElement(pt,qe(he({},t),{variant:"success",message:"You are now editing your live project",persistent:!0})),J2e=n=>{var i=n,{application:t}=i,e=cn(i,["application"]);const o=j(t.editorIsEmbedded),s=`You can now edit this project here${o?" or fullscreen.":"."}`;return p.createElement(pt,qe(he({},e),{message:s,variant:"success",persistent:!0}),p.createElement(ir,null,p.createElement("span",null,s),p.createElement(Kt,null,p.createElement(_t,{size:"tiny",className:"no-button-styles",onClick:e.onClose},"Got it"),o&&p.createElement(_t,{size:"tiny",className:"no-button-styles",onClick:()=>{window.top.location.href=t.editorUrl()}},"Edit Fullscreen ",p.createElement(tt,{icon:"carpStreamer"})))))},Z2e=n=>{var i=n,{application:t}=i,e=cn(i,["application"]);const o=j(t.notifyCloneError),s=JF(t),a=s?`Couldn't clone ${o}, maybe a typo?`:`Couldn't clone ${o}, maybe it's private?`;return p.createElement(pt,qe(he({},e),{message:a,variant:"error",persistent:!0}),p.createElement(ir,null,s?p.createElement(p.Fragment,null,p.createElement("span",null,a),p.createElement(Kt,null,p.createElement(_t,{size:"tiny",className:"no-button-styles",onClick:e.onClose},"Got it"))):p.createElement(p.Fragment,null,p.createElement("span",null,a),p.createElement(Kt,null,p.createElement(_t,{size:"tiny",className:"no-button-styles",onClick:()=>{e.onClose(),t.redirectToGitHubLogin("repo user:email")}},"Grant Access"),p.createElement(_t,{size:"tiny",className:"no-button-styles",onClick:e.onClose},"Cancel")))))},Q2e=t=>p.createElement(pt,qe(he({},t),{variant:"error",message:`Uh oh, we can\u2019t connect to Glitch, which means your changes aren\u2019t being saved. To keep your changes, copy them to your clipboard, reload, and
      paste them back in.`,persistent:!0,onClose:null})),exe=t=>p.createElement(pt,qe(he({},t),{variant:"error",message:`We can\u2019t seem to connect to your project at the moment, apologies. Please try refreshing your browser. If that doesn't work, contact support and
      they'll be able to help you out.`,persistent:!0,onClose:null})),txe=t=>p.createElement(pt,qe(he({},t),{variant:"error",message:"Sorry, the debugger is only available on Google Chrome"})),nxe=n=>{var i=n,{application:t}=i,e=cn(i,["application"]);const o=j(t.lastDeletedProject),a=`Archived ${j(K.exports.useCallback(()=>o&&o.domain(),[o]))}`;return p.createElement(pt,qe(he({},e),{message:a,persistent:!0}),p.createElement(ir,null,p.createElement("span",null,a),p.createElement(Kt,null,p.createElement(_t,{size:"tiny",className:"no-button-styles",onClick:()=>{t.undeleteLastDeletedProject(),e.onClose()}},"Undo ",p.createElement(tt,{icon:"zzz"})))))},rxe=t=>p.createElement(pt,qe(he({},t),{variant:"success",message:"Successfully removed variable"})),ixe=t=>p.createElement(pt,qe(he({},t),{variant:"success",message:"Environment variables update as you type"})),sxe=t=>p.createElement(pt,qe(he({},t),{name:"DotenvRemovedVariable",message:"Showing and hiding secret variable values only changes the visibility for you, not for other project members"})),oxe=n=>{var i=n,{application:t}=i,e=cn(i,["application"]);const o=j(t.displayedRevision),s=j(t.jigglePreviewingRewindNotification),a="Previewing Rewind";return p.createElement(pt,qe(he({},e),{message:a,persistent:!0,onClose:null}),p.createElement(ir,null,p.createElement("span",null,a),p.createElement(Kt,null,o&&p.createElement(_t,{size:"tiny",variant:"cta",className:dt({jiggle:s},"no-button-styles"),onAnimationEnd:l=>{l.stopPropagation(),t.jigglePreviewingRewindNotification(!1)},onClick:()=>{t.analytics.track("Rewind Applied",{checkpointDate:new Date(t.selectedRevision().timestamp*1e3).toISOString()}),t.rewindToRevision(t.selectedRevision())}},"Rewind Project ",p.createElement("div",{className:"rewind icon"})),p.createElement(_t,{size:"tiny",className:dt({jiggle:s},"no-button-styles"),onAnimationEnd:l=>{l.stopPropagation(),t.jigglePreviewingRewindNotification(!1)},onClick:()=>{t.rewindPanelVisible(!1),e.onClose()}},"Cancel"))))},axe=t=>p.createElement(pt,qe(he({},t),{message:"Rewinding project",persistent:!0,onClose:null}),p.createElement(Kt,null,p.createElement(XF,null),p.createElement(mn,{style:{width:"20px"}}))),lxe=n=>{var i=n,{application:t}=i,e=cn(i,["application"]);const o=j(t.rewoundRevision),s="Project has been rewound";return p.createElement(pt,qe(he({},e),{variant:"success",message:s}),p.createElement(Kt,null,p.createElement(XF,null),p.createElement("span",null,o&&s)))},cxe=t=>{const e="This file already exists but is currently hidden by .gitignore. You can view it in the console or by removing from .gitignore and refreshing the editor.";return p.createElement(pt,qe(he({},t),{message:e,persistent:!0,variant:"error"}),p.createElement(ir,null,p.createElement("span",null,e),p.createElement(Kt,null,p.createElement(_t,{size:"tiny",className:"no-button-styles",onClick:t.onClose},"Dismiss"))))},uxe=t=>{const e="It looks like you just made this project a static site. Did you know that static sites stay awake and are always on for free?";return p.createElement(pt,qe(he({},t),{message:e,persistent:!0}),p.createElement(ir,null,p.createElement("div",null,e," ",p.createElement(tt,{icon:"gift"})),p.createElement(Kt,null,p.createElement(_t,{as:"a",size:"tiny",className:"no-button-styles",href:"https://glitch.com/help/kb/article/38-what-types-of-apps-can-i-make-on-glitch/#Static%20websites",target:"_blank",rel:"noopener noreferrer"},"Learn More ",p.createElement(tt,{icon:"arrowRight"})),p.createElement(_t,{size:"tiny",className:"no-button-styles","data-testid":"close-notify-first-switch-to-static",onClick:t.onClose},"Close"))))},dxe=t=>{const e="It looks like this project is no longer a static site and will go to sleep after it's idle for five minutes.";return p.createElement(pt,qe(he({},t),{message:e,persistent:!0}),p.createElement(ir,null,p.createElement("div",null,e," ",p.createElement(tt,{icon:"zzz"})),p.createElement(Kt,null,p.createElement(_t,{as:"a",size:"tiny",href:"https://glitch.com/help/kb/article/38-what-types-of-apps-can-i-make-on-glitch/#Static%20websites",className:"no-button-styles",target:"_blank",rel:"noopener noreferrer"},"Learn More \xA0 ",p.createElement(tt,{icon:"arrowRight"})),p.createElement(_t,{size:"tiny",className:"no-button-styles","data-testid":"close-notify-first-switch-to-non-static",onClick:t.onClose},"Close"))))},fxe=n=>{var i=n,{application:t}=i,e=cn(i,["application"]);const o=j(t.notifyGenericError);return console.log("\u{1F525}","GenericError",o),p.createElement(pt,qe(he({},e),{variant:"error",message:o.message||"We're sorry, something went wrong! Please try again, or try refreshing the editor.",timeout:1e4}))},hxe=t=>p.createElement(pt,qe(he({},t),{variant:"error",message:"Oops, that repo doesn't have any files so we can't import it.",persistent:!0})),pxe=n=>{var i=n,{application:t}=i,e=cn(i,["application"]);const s=`Exporting to ${j(K.exports.useCallback(()=>{var l;const a=t.currentProjectId();return((l=t.getUserPref("lastUsedGitHubRepoExport"))==null?void 0:l[a])||"GitHub"},[t]))}`;return p.createElement(pt,qe(he({},e),{message:s,persistent:!0,onClose:null}),p.createElement(Kt,null,p.createElement(mn,null),p.createElement("span",null,s)))},mxe=n=>{var i=n,{application:t}=i,e=cn(i,["application"]);const o=j(t.notifyGithubExportFailure),s=`We could not export your project to the Github repo ${o.repo}. ${o.message}`;return p.createElement(pt,qe(he({},e),{variant:"error",persistent:!0,message:s}),s)},gxe=n=>{var i=n,{application:t}=i,e=cn(i,["application"]);const o=j(t.currentUserIsLoggedIn),s="Sign in and connect to GitHub in order to export projects";return p.createElement(pt,qe(he({},e),{variant:"error",persistent:!0,message:s}),p.createElement(ir,null,p.createElement("span",null,s),p.createElement(Kt,null,p.createElement(_t,{size:"tiny",className:"no-button-styles opens-pop-over",onClick:()=>{t.gitImportExportPopVisible(!0),e.onClose()}},o?"Connect to GitHub":"Sign In"),p.createElement(_t,{size:"tiny",className:"no-button-styles",onClick:e.onClose},"Dismiss"))))},vxe=t=>p.createElement(pt,qe(he({},t),{variant:"success",timeout:5e3,message:"Export Successful"})),yxe=t=>p.createElement(pt,qe(he({},t),{variant:"success",timeout:5e3,message:"Import Successful"})),_xe=n=>{var i=n,{application:t}=i,e=cn(i,["application"]);const o=JF(t),{gitRepoUrl:s}=j(t.notifyGitRepositoryNotFoundError);if(!s)return null;const{pathname:a}=new URL(s),l=(s==null?void 0:s.includes("github.com"))&&!o,c=`Couldn't find ${a.substring(1)}. ${l?"If it's private, you can sign in with GitHub to import it.":""}`;return p.createElement(pt,qe(he({},e),{variant:"error",persistent:!0,message:c}),p.createElement(ir,null,p.createElement("span",null,c),p.createElement(Kt,{className:"button-wrap"},l&&p.createElement(_t,{size:"tiny",className:"no-button-styles opens-pop-over",onClick:()=>{e.onClose(),t.redirectToGitHubLogin("repo user:email")}},"Sign In"),p.createElement(_t,{size:"tiny",className:"no-button-styles",onClick:e.onClose},"Dismiss"))))},bxe=t=>{const e="It doesn't look like that was a valid GitHub URL. Please check and try again from the Project menu";return p.createElement(pt,qe(he({},t),{variant:"error",message:e,persistent:!0}),p.createElement(ir,null,p.createElement("span",null,e),p.createElement(Kt,null,p.createElement(_t,{onClick:t.onClose,size:"tiny"},"Dismiss"))))},Exe=n=>{var i=n,{application:t}=i,e=cn(i,["application"]);const{repoUrl:o}=j(t.notifyImportingGitRepo),{hostname:s,pathname:a}=new URL(o),l=`Importing ${a.substring(1)} from ${s}`;return p.createElement(pt,qe(he({},e),{message:l,persistent:!0,onClose:null}),p.createElement(Kt,null,p.createElement(mn,null),p.createElement("span",null,l)))},wxe=t=>p.createElement(pt,qe(he({},t),{variant:"error",message:"Names can\u2019t have .., $, ~, \\, *, or start with /",timeout:5e3})),xxe=t=>p.createElement(pt,qe(he({},t),{variant:"error",message:"Folder can\u2019t be named the same as an existing folder, or include /, .., $, ~, \\, *",timeout:5e3})),Sxe=t=>p.createElement(pt,qe(he({},t),{variant:"error",message:"Invalid git repository. Use the username/repository format."})),Txe=t=>p.createElement(pt,qe(he({},t),{variant:"success",message:"You're now able to edit"})),Cxe=t=>p.createElement(pt,qe(he({},t),{variant:"success",message:"You\u2019ve left this project"})),Mxe=n=>{var i=n,{application:t}=i,e=cn(i,["application"]);const o=j(t.notifyPrettierParseError),s=`We can't format this file yet because there's a syntax error${o.loc?` on line ${o.loc.start.line}.`:"."}`;return p.createElement(pt,qe(he({},e),{variant:"error",persistent:!0,message:s}),s)},Axe=t=>{const e="Nice! Your code is now formatted.";return p.createElement(pt,qe(he({},t),{variant:"success",persistent:!0,message:e}),p.createElement(ir,null,p.createElement("span",null,e),p.createElement(Kt,null,p.createElement(_t,{as:"a",href:"https://glitch.happyfox.com/kb/article/5",className:"no-button-styles",target:"_blank",rel:"noopener noreferrer",size:"tiny",onClick:t.onClose},"Learn More ",p.createElement("span",{"aria-label":""},"\u2192")))))},Pxe=t=>p.createElement(pt,qe(he({},t),{variant:"error",message:"Whoops, we couldn't run the code formatter. Try formatting again."})),Rxe=t=>p.createElement(pt,qe(he({},t),{variant:"success",message:"Opened in another tab or window"})),Lxe=t=>p.createElement(pt,qe(he({},t),{variant:"error",message:"Couldn't connect to your project. Try refreshing?"})),Ixe=t=>p.createElement(pt,qe(he({},t),{variant:"error",message:"Couldn't load your project. Try refreshing?"})),Oxe=t=>p.createElement(pt,qe(he({},t),{variant:"error",message:"Sorry, you must be logged in to upload assets."})),Nxe=t=>p.createElement(pt,qe(he({},t),{variant:"error",message:"Could not load Google Recaptcha. To remix a project, please disable any extensions that might block Google Recaptcha and try again."})),kxe=t=>p.createElement(pt,qe(he({},t),{variant:"success",timeout:5e3,message:"Connected"})),Dxe=t=>{const e="Reconnecting";return p.createElement(pt,qe(he({},t),{message:e,persistent:!0,onClose:null}),p.createElement("span",null,e),p.createElement("span",{className:"loader-ellipses"}))},Fxe=n=>{var i=n,{application:t}=i,e=cn(i,["application"]);const o=j(t.jiggleTakeActionToEditNotification),s=j(t.projectIsReadOnlyForCurrentUser);return j(t.userIsSuspendedVisible)?null:p.createElement(pt,qe(he({},e),{message:"Take action to edit your project",persistent:!0}),p.createElement(_t,{className:dt({jiggle:o},"no-button-styles"),size:"tiny",onAnimationEnd:l=>{l.stopPropagation(),t.jiggleTakeActionToEditNotification(!1)},onClick:async()=>{e.onClose(),s?(await t.remixCurrentProject(),t.notifyCanEditInEmbedRemixedEmbed(!0)):t.notifyCanEdit(!0),t.embedEditingEnabled(!0),t.setCurrentSession(t.selectedFile(),{maintainScrollPosition:!0})},"data-testid":s?"remix-to-edit":"edit-embed-here"},s?p.createElement(p.Fragment,null,p.createElement("span",null,"Remix to Edit "),p.createElement(tt,{icon:"microphone"})):"Edit Project"))},Uxe=t=>p.createElement(pt,qe(he({},t),{variant:"error",message:"File upload failed. Try again in a few minutes?"})),jxe=n=>{var i=n,{application:t}=i,e=cn(i,["application"]);const o=j(t.uploadProgress),s=j(t.notifyUploading),a=`Uploading ${s.numFiles>1?`${s.numFiles} assets`:"asset"}`;return p.createElement(pt,qe(he({},e),{message:a,persistent:!0,onClose:null}),p.createElement(ir,null,p.createElement("span",null,a),p.createElement(mI,{value:o,max:100},o)))};var nU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Copied:f4,MarkdownCSPError:ZF,PackageAdded:QF,PackageUpdated:eU,ProjectIsReadOnlyForCurrentUser:h4,UploadLocalFileOnly:tU,AnonProjectLimits:q2e,AnonUserLimits:Y2e,Autosave:K2e,CanEdit:X2e,CanEditInEmbedRemixedEmbed:J2e,CloneError:Z2e,ConnectionError:Q2e,ConnectionNotEstablished:exe,DebuggerIsChromeOnly:txe,DeletedProject:nxe,DotenvRemovedVariable:rxe,DotenvUpdatesAsYouType:ixe,DotenvVisibility:sxe,EditorIsPreviewingRewind:oxe,EditorIsRewindingProject:axe,EditorRewoundProject:lxe,FileHiddenByGitIgnore:cxe,FirstSwitchToStatic:uxe,FirstSwitchToNonStatic:dxe,GenericError:fxe,GithubEmptyRepositoryError:hxe,GithubExporting:pxe,GithubExportFailure:mxe,GithubExportNoRepoScopeError:gxe,GithubExportSuccess:vxe,GitImportSuccess:yxe,GitRepositoryNotFoundError:_xe,GitImportUrlInvalid:bxe,ImportingGitRepo:Exe,InvalidFileName:wxe,InvalidFolderName:xxe,InvalidGitRepository:Sxe,JoinedProject:Txe,LeftProject:Cxe,PrettierParseError:Mxe,PrettierFirstRun:Axe,PrettierLoadError:Pxe,PreviewWindowOpened:Rxe,ProjectConnectionFailed:Lxe,ProjectLoadFailed:Ixe,ProjectVisitorCannotUploadAssets:Oxe,RecaptchaUnavailable:Nxe,Reconnected:kxe,Reconnecting:Dxe,TakeActionToEdit:Fxe,UploadFailure:Uxe,Uploading:jxe}),p4={exports:{}},Vf={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;function n(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(a){return typeof a}:n=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n(o)}function i(o){var s=typeof o=="string"||o instanceof String;if(!s){var a;throw o===null?a="null":(a=n(o),a==="object"&&o.constructor&&o.constructor.hasOwnProperty("name")?a=o.constructor.name:a="a ".concat(a)),new TypeError("Expected string but received ".concat(a,"."))}}t.exports=e.default,t.exports.default=e.default})(Vf,Vf.exports);var G_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;for(var s in o)typeof i[s]=="undefined"&&(i[s]=o[s]);return i}t.exports=e.default,t.exports.default=e.default})(G_,G_.exports);var m4={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=i(Vf.exports);function i(a){return a&&a.__esModule?a:{default:a}}function o(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(c){return typeof c}:o=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},o(a)}function s(a,l){(0,n.default)(a);var c,u;o(l)==="object"?(c=l.min||0,u=l.max):(c=arguments[1],u=arguments[2]);var d=encodeURI(a).split(/%..|./).length-1;return d>=c&&(typeof u=="undefined"||d<=u)}t.exports=e.default,t.exports.default=e.default})(m4,m4.exports);var g4={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=o(Vf.exports),i=o(G_.exports);function o(l){return l&&l.__esModule?l:{default:l}}var s={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};function a(l,c){(0,n.default)(l),c=(0,i.default)(c,s),c.allow_trailing_dot&&l[l.length-1]==="."&&(l=l.substring(0,l.length-1));for(var u=l.split("."),d=0;d<u.length;d++)if(u[d].length>63)return!1;if(c.require_tld){var f=u.pop();if(!u.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(f)||/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(f))return!1}for(var h,v=0;v<u.length;v++)if(h=u[v],c.allow_underscores&&(h=h.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(h)||/[\uff01-\uff5e]/.test(h)||h[0]==="-"||h[h.length-1]==="-")return!1;return!0}t.exports=e.default,t.exports.default=e.default})(g4,g4.exports);var v4={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=i(Vf.exports);function i(l){return l&&l.__esModule?l:{default:l}}var o=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,s=/^[0-9A-F]{1,4}$/i;function a(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if((0,n.default)(l),c=String(c),c){if(c==="4"){if(!o.test(l))return!1;var u=l.split(".").sort(function(S,E){return S-E});return u[3]<=255}else if(c==="6"){var d=[l];if(l.includes("%")&&(d=l.split("%"),d.length!==2||!d[0].includes(":")||d[1]===""))return!1;var f=d[0].split(":"),h=!1,v=a(f[f.length-1],4),m=v?7:8;if(f.length>m)return!1;if(l==="::")return!0;l.substr(0,2)==="::"?(f.shift(),f.shift(),h=!0):l.substr(l.length-2)==="::"&&(f.pop(),f.pop(),h=!0);for(var _=0;_<f.length;++_)if(f[_]===""&&_>0&&_<f.length-1){if(h)return!1;h=!0}else if(!(v&&_===f.length-1)){if(!s.test(f[_]))return!1}return h?f.length>=1:f.length===m}}else return a(l,4)||a(l,6);return!1}t.exports=e.default,t.exports.default=e.default})(v4,v4.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=P;var n=l(Vf.exports),i=l(G_.exports),o=l(m4.exports),s=l(g4.exports),a=l(v4.exports);function l(R){return R&&R.__esModule?R:{default:R}}function c(R,A){return f(R)||d(R,A)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(R,A){if(Symbol.iterator in Object(R)||Object.prototype.toString.call(R)==="[object Arguments]"){var L=[],k=!0,U=!1,N=void 0;try{for(var I=R[Symbol.iterator](),F;!(k=(F=I.next()).done)&&(L.push(F.value),!(A&&L.length===A));k=!0);}catch(O){U=!0,N=O}finally{try{!k&&I.return!=null&&I.return()}finally{if(U)throw N}}return L}}function f(R){if(Array.isArray(R))return R}var h={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},v=/^([^\x00-\x1F\x7F-\x9F\cX]+)<(.+)>$/i,m=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,_=/^[a-z\d]+$/,S=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,E=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,w=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,T=254;function C(R){var A=R.match(/^"(.+)"$/i),L=A?A[1]:R;if(!L.trim())return!1;var k=/[\.";<>]/.test(L);if(k){if(!A)return!1;var U=L.split('"').length===L.split('\\"').length;if(!U)return!1}return!0}function P(R,A){if((0,n.default)(R),A=(0,i.default)(A,h),A.require_display_name||A.allow_display_name){var L=R.match(v);if(L){var k,U=c(L,3);if(k=U[1],R=U[2],k.endsWith(" ")&&(k=k.substr(0,k.length-1)),!C(k))return!1}else if(A.require_display_name)return!1}if(!A.ignore_max_length&&R.length>T)return!1;var N=R.split("@"),I=N.pop(),F=N.join("@"),O=I.toLowerCase();if(A.domain_specific_validation&&(O==="gmail.com"||O==="googlemail.com")){F=F.toLowerCase();var V=F.split("+")[0];if(!(0,o.default)(V.replace(".",""),{min:6,max:30}))return!1;for(var z=V.split("."),B=0;B<z.length;B++)if(!_.test(z[B]))return!1}if(!(0,o.default)(F,{max:64})||!(0,o.default)(I,{max:254}))return!1;if(!(0,s.default)(I,{require_tld:A.require_tld})){if(!A.allow_ip_domain)return!1;if(!(0,a.default)(I)){if(!I.startsWith("[")||!I.endsWith("]"))return!1;var H=I.substr(1,I.length-2);if(H.length===0||!(0,a.default)(H))return!1}}if(F[0]==='"')return F=F.slice(1,F.length-1),A.allow_utf8_local_part?w.test(F):S.test(F);for(var W=A.allow_utf8_local_part?E:m,G=F.split("."),q=0;q<G.length;q++)if(!W.test(G[q]))return!1;return!0}t.exports=e.default,t.exports.default=e.default})(p4,p4.exports);var y4=WQ(p4.exports),rU={exports:{}};/*! algoliasearch-lite.umd.js | 4.11.0 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(t,e){(function(n,i){t.exports=i()})(Wt,function(){function n(ae,le,ce){return le in ae?Object.defineProperty(ae,le,{value:ce,enumerable:!0,configurable:!0,writable:!0}):ae[le]=ce,ae}function i(ae,le){var ce=Object.keys(ae);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(ae);le&&(me=me.filter(function(Ie){return Object.getOwnPropertyDescriptor(ae,Ie).enumerable})),ce.push.apply(ce,me)}return ce}function o(ae){for(var le=1;le<arguments.length;le++){var ce=arguments[le]!=null?arguments[le]:{};le%2?i(Object(ce),!0).forEach(function(me){n(ae,me,ce[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(ce)):i(Object(ce)).forEach(function(me){Object.defineProperty(ae,me,Object.getOwnPropertyDescriptor(ce,me))})}return ae}function s(ae,le){if(ae==null)return{};var ce,me,Ie=function(Ee,ye){if(Ee==null)return{};var Fe,De,nt={},ft=Object.keys(Ee);for(De=0;De<ft.length;De++)Fe=ft[De],ye.indexOf(Fe)>=0||(nt[Fe]=Ee[Fe]);return nt}(ae,le);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(ae);for(me=0;me<fe.length;me++)ce=fe[me],le.indexOf(ce)>=0||Object.prototype.propertyIsEnumerable.call(ae,ce)&&(Ie[ce]=ae[ce])}return Ie}function a(ae,le){return function(ce){if(Array.isArray(ce))return ce}(ae)||function(ce,me){if(Symbol.iterator in Object(ce)||Object.prototype.toString.call(ce)==="[object Arguments]"){var Ie=[],fe=!0,Ee=!1,ye=void 0;try{for(var Fe,De=ce[Symbol.iterator]();!(fe=(Fe=De.next()).done)&&(Ie.push(Fe.value),!me||Ie.length!==me);fe=!0);}catch(nt){Ee=!0,ye=nt}finally{try{fe||De.return==null||De.return()}finally{if(Ee)throw ye}}return Ie}}(ae,le)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(ae){return function(le){if(Array.isArray(le)){for(var ce=0,me=new Array(le.length);ce<le.length;ce++)me[ce]=le[ce];return me}}(ae)||function(le){if(Symbol.iterator in Object(le)||Object.prototype.toString.call(le)==="[object Arguments]")return Array.from(le)}(ae)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(ae){var le,ce="algoliasearch-client-js-".concat(ae.key),me=function(){return le===void 0&&(le=ae.localStorage||window.localStorage),le},Ie=function(){return JSON.parse(me().getItem(ce)||"{}")};return{get:function(fe,Ee){var ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){var Fe=JSON.stringify(fe),De=Ie()[Fe];return Promise.all([De||Ee(),De!==void 0])}).then(function(Fe){var De=a(Fe,2),nt=De[0],ft=De[1];return Promise.all([nt,ft||ye.miss(nt)])}).then(function(Fe){return a(Fe,1)[0]})},set:function(fe,Ee){return Promise.resolve().then(function(){var ye=Ie();return ye[JSON.stringify(fe)]=Ee,me().setItem(ce,JSON.stringify(ye)),Ee})},delete:function(fe){return Promise.resolve().then(function(){var Ee=Ie();delete Ee[JSON.stringify(fe)],me().setItem(ce,JSON.stringify(Ee))})},clear:function(){return Promise.resolve().then(function(){me().removeItem(ce)})}}}function u(ae){var le=l(ae.caches),ce=le.shift();return ce===void 0?{get:function(me,Ie){var fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},Ee=Ie();return Ee.then(function(ye){return Promise.all([ye,fe.miss(ye)])}).then(function(ye){return a(ye,1)[0]})},set:function(me,Ie){return Promise.resolve(Ie)},delete:function(me){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(me,Ie){var fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return ce.get(me,Ie,fe).catch(function(){return u({caches:le}).get(me,Ie,fe)})},set:function(me,Ie){return ce.set(me,Ie).catch(function(){return u({caches:le}).set(me,Ie)})},delete:function(me){return ce.delete(me).catch(function(){return u({caches:le}).delete(me)})},clear:function(){return ce.clear().catch(function(){return u({caches:le}).clear()})}}}function d(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},le={};return{get:function(ce,me){var Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},fe=JSON.stringify(ce);if(fe in le)return Promise.resolve(ae.serializable?JSON.parse(le[fe]):le[fe]);var Ee=me(),ye=Ie&&Ie.miss||function(){return Promise.resolve()};return Ee.then(function(Fe){return ye(Fe)}).then(function(){return Ee})},set:function(ce,me){return le[JSON.stringify(ce)]=ae.serializable?JSON.stringify(me):me,Promise.resolve(me)},delete:function(ce){return delete le[JSON.stringify(ce)],Promise.resolve()},clear:function(){return le={},Promise.resolve()}}}function f(ae){for(var le=ae.length-1;le>0;le--){var ce=Math.floor(Math.random()*(le+1)),me=ae[le];ae[le]=ae[ce],ae[ce]=me}return ae}function h(ae,le){return le&&Object.keys(le).forEach(function(ce){ae[ce]=le[ce](ae)}),ae}function v(ae){for(var le=arguments.length,ce=new Array(le>1?le-1:0),me=1;me<le;me++)ce[me-1]=arguments[me];var Ie=0;return ae.replace(/%s/g,function(){return encodeURIComponent(ce[Ie++])})}var m={WithinQueryParameters:0,WithinHeaders:1};function _(ae,le){var ce=ae||{},me=ce.data||{};return Object.keys(ce).forEach(function(Ie){["timeout","headers","queryParameters","data","cacheable"].indexOf(Ie)===-1&&(me[Ie]=ce[Ie])}),{data:Object.entries(me).length>0?me:void 0,timeout:ce.timeout||le,headers:ce.headers||{},queryParameters:ce.queryParameters||{},cacheable:ce.cacheable}}var S={Read:1,Write:2,Any:3},E=1,w=2,T=3;function C(ae){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E;return o(o({},ae),{},{status:le,lastUpdate:Date.now()})}function P(ae){return typeof ae=="string"?{protocol:"https",url:ae,accept:S.Any}:{protocol:ae.protocol||"https",url:ae.url,accept:ae.accept||S.Any}}var R="GET",A="POST";function L(ae,le){return Promise.all(le.map(function(ce){return ae.get(ce,function(){return Promise.resolve(C(ce))})})).then(function(ce){var me=ce.filter(function(Ee){return function(ye){return ye.status===E||Date.now()-ye.lastUpdate>12e4}(Ee)}),Ie=ce.filter(function(Ee){return function(ye){return ye.status===T&&Date.now()-ye.lastUpdate<=12e4}(Ee)}),fe=[].concat(l(me),l(Ie));return{getTimeout:function(Ee,ye){return(Ie.length===0&&Ee===0?1:Ie.length+3+Ee)*ye},statelessHosts:fe.length>0?fe.map(function(Ee){return P(Ee)}):le}})}function k(ae,le,ce,me){var Ie=[],fe=function(gt,Ut){if(!(gt.method===R||gt.data===void 0&&Ut.data===void 0)){var Q=Array.isArray(gt.data)?gt.data:o(o({},gt.data),Ut.data);return JSON.stringify(Q)}}(ce,me),Ee=function(gt,Ut){var Q=o(o({},gt.headers),Ut.headers),J={};return Object.keys(Q).forEach(function(Ae){var Ne=Q[Ae];J[Ae.toLowerCase()]=Ne}),J}(ae,me),ye=ce.method,Fe=ce.method!==R?{}:o(o({},ce.data),me.data),De=o(o(o({"x-algolia-agent":ae.userAgent.value},ae.queryParameters),Fe),me.queryParameters),nt=0,ft=function gt(Ut,Q){var J=Ut.pop();if(J===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:F(Ie)};var Ae={data:fe,headers:Ee,method:ye,url:N(J,ce.path,De),connectTimeout:Q(nt,ae.timeouts.connect),responseTimeout:Q(nt,me.timeout)},Ne=function(Le){var Ke={request:Ae,response:Le,host:J,triesLeft:Ut.length};return Ie.push(Ke),Ke},We={onSuccess:function(Le){return function(Ke){try{return JSON.parse(Ke.content)}catch(rt){throw function(Be,ie){return{name:"DeserializationError",message:Be,response:ie}}(rt.message,Ke)}}(Le)},onRetry:function(Le){var Ke=Ne(Le);return Le.isTimedOut&&nt++,Promise.all([ae.logger.info("Retryable failure",O(Ke)),ae.hostsCache.set(J,C(J,Le.isTimedOut?T:w))]).then(function(){return gt(Ut,Q)})},onFail:function(Le){throw Ne(Le),function(Ke,rt){var Be=Ke.content,ie=Ke.status,He=Be;try{He=JSON.parse(Be).message}catch{}return function(Ve,bt,lt){return{name:"ApiError",message:Ve,status:bt,transporterStackTrace:lt}}(He,ie,rt)}(Le,F(Ie))}};return ae.requester.send(Ae).then(function(Le){return function(Ke,rt){return function(Be){var ie=Be.status;return Be.isTimedOut||function(He){var Ve=He.isTimedOut,bt=He.status;return!Ve&&~~bt==0}(Be)||~~(ie/100)!=2&&~~(ie/100)!=4}(Ke)?rt.onRetry(Ke):~~(Ke.status/100)==2?rt.onSuccess(Ke):rt.onFail(Ke)}(Le,We)})};return L(ae.hostsCache,le).then(function(gt){return ft(l(gt.statelessHosts).reverse(),gt.getTimeout)})}function U(ae){var le={value:"Algolia for JavaScript (".concat(ae,")"),add:function(ce){var me="; ".concat(ce.segment).concat(ce.version!==void 0?" (".concat(ce.version,")"):"");return le.value.indexOf(me)===-1&&(le.value="".concat(le.value).concat(me)),le}};return le}function N(ae,le,ce){var me=I(ce),Ie="".concat(ae.protocol,"://").concat(ae.url,"/").concat(le.charAt(0)==="/"?le.substr(1):le);return me.length&&(Ie+="?".concat(me)),Ie}function I(ae){return Object.keys(ae).map(function(le){return v("%s=%s",le,(ce=ae[le],Object.prototype.toString.call(ce)==="[object Object]"||Object.prototype.toString.call(ce)==="[object Array]"?JSON.stringify(ae[le]):ae[le]));var ce}).join("&")}function F(ae){return ae.map(function(le){return O(le)})}function O(ae){var le=ae.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return o(o({},ae),{},{request:o(o({},ae.request),{},{headers:o(o({},ae.request.headers),le)})})}var V=function(ae){var le=ae.appId,ce=function(Ie,fe,Ee){var ye={"x-algolia-api-key":Ee,"x-algolia-application-id":fe};return{headers:function(){return Ie===m.WithinHeaders?ye:{}},queryParameters:function(){return Ie===m.WithinQueryParameters?ye:{}}}}(ae.authMode!==void 0?ae.authMode:m.WithinHeaders,le,ae.apiKey),me=function(Ie){var fe=Ie.hostsCache,Ee=Ie.logger,ye=Ie.requester,Fe=Ie.requestsCache,De=Ie.responsesCache,nt=Ie.timeouts,ft=Ie.userAgent,gt=Ie.hosts,Ut=Ie.queryParameters,Q={hostsCache:fe,logger:Ee,requester:ye,requestsCache:Fe,responsesCache:De,timeouts:nt,userAgent:ft,headers:Ie.headers,queryParameters:Ut,hosts:gt.map(function(J){return P(J)}),read:function(J,Ae){var Ne=_(Ae,Q.timeouts.read),We=function(){return k(Q,Q.hosts.filter(function(Ke){return(Ke.accept&S.Read)!=0}),J,Ne)};if((Ne.cacheable!==void 0?Ne.cacheable:J.cacheable)!==!0)return We();var Le={request:J,mappedRequestOptions:Ne,transporter:{queryParameters:Q.queryParameters,headers:Q.headers}};return Q.responsesCache.get(Le,function(){return Q.requestsCache.get(Le,function(){return Q.requestsCache.set(Le,We()).then(function(Ke){return Promise.all([Q.requestsCache.delete(Le),Ke])},function(Ke){return Promise.all([Q.requestsCache.delete(Le),Promise.reject(Ke)])}).then(function(Ke){var rt=a(Ke,2);return rt[0],rt[1]})})},{miss:function(Ke){return Q.responsesCache.set(Le,Ke)}})},write:function(J,Ae){return k(Q,Q.hosts.filter(function(Ne){return(Ne.accept&S.Write)!=0}),J,_(Ae,Q.timeouts.write))}};return Q}(o(o({hosts:[{url:"".concat(le,"-dsn.algolia.net"),accept:S.Read},{url:"".concat(le,".algolia.net"),accept:S.Write}].concat(f([{url:"".concat(le,"-1.algolianet.com")},{url:"".concat(le,"-2.algolianet.com")},{url:"".concat(le,"-3.algolianet.com")}]))},ae),{},{headers:o(o(o({},ce.headers()),{"content-type":"application/x-www-form-urlencoded"}),ae.headers),queryParameters:o(o({},ce.queryParameters()),ae.queryParameters)}));return h({transporter:me,appId:le,addAlgoliaAgent:function(Ie,fe){me.userAgent.add({segment:Ie,version:fe})},clearCache:function(){return Promise.all([me.requestsCache.clear(),me.responsesCache.clear()]).then(function(){})}},ae.methods)},z=function(ae){return function(le,ce){return le.method===R?ae.transporter.read(le,ce):ae.transporter.write(le,ce)}},B=function(ae){return function(le){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},me={transporter:ae.transporter,appId:ae.appId,indexName:le};return h(me,ce.methods)}},H=function(ae){return function(le,ce){var me=le.map(function(Ie){return o(o({},Ie),{},{params:I(Ie.params||{})})});return ae.transporter.read({method:A,path:"1/indexes/*/queries",data:{requests:me},cacheable:!0},ce)}},W=function(ae){return function(le,ce){return Promise.all(le.map(function(me){var Ie=me.params,fe=Ie.facetName,Ee=Ie.facetQuery,ye=s(Ie,["facetName","facetQuery"]);return B(ae)(me.indexName,{methods:{searchForFacetValues:re}}).searchForFacetValues(fe,Ee,o(o({},ce),ye))}))}},G=function(ae){return function(le,ce,me){return ae.transporter.read({method:A,path:v("1/answers/%s/prediction",ae.indexName),data:{query:le,queryLanguages:ce},cacheable:!0},me)}},q=function(ae){return function(le,ce){return ae.transporter.read({method:A,path:v("1/indexes/%s/query",ae.indexName),data:{query:le},cacheable:!0},ce)}},re=function(ae){return function(le,ce,me){return ae.transporter.read({method:A,path:v("1/indexes/%s/facets/%s/query",ae.indexName,le),data:{facetQuery:ce},cacheable:!0},me)}},se=1,ge=2,_e=3;function pe(ae,le,ce){var me,Ie={appId:ae,apiKey:le,timeouts:{connect:1,read:2,write:30},requester:{send:function(fe){return new Promise(function(Ee){var ye=new XMLHttpRequest;ye.open(fe.method,fe.url,!0),Object.keys(fe.headers).forEach(function(ft){return ye.setRequestHeader(ft,fe.headers[ft])});var Fe,De=function(ft,gt){return setTimeout(function(){ye.abort(),Ee({status:0,content:gt,isTimedOut:!0})},1e3*ft)},nt=De(fe.connectTimeout,"Connection timeout");ye.onreadystatechange=function(){ye.readyState>ye.OPENED&&Fe===void 0&&(clearTimeout(nt),Fe=De(fe.responseTimeout,"Socket timeout"))},ye.onerror=function(){ye.status===0&&(clearTimeout(nt),clearTimeout(Fe),Ee({content:ye.responseText||"Network request failed",status:ye.status,isTimedOut:!1}))},ye.onload=function(){clearTimeout(nt),clearTimeout(Fe),Ee({content:ye.responseText,status:ye.status,isTimedOut:!1})},ye.send(fe.data)})}},logger:(me=_e,{debug:function(fe,Ee){return se>=me&&console.debug(fe,Ee),Promise.resolve()},info:function(fe,Ee){return ge>=me&&console.info(fe,Ee),Promise.resolve()},error:function(fe,Ee){return console.error(fe,Ee),Promise.resolve()}}),responsesCache:d(),requestsCache:d({serializable:!1}),hostsCache:u({caches:[c({key:"".concat("4.11.0","-").concat(ae)}),d()]}),userAgent:U("4.11.0").add({segment:"Browser",version:"lite"}),authMode:m.WithinQueryParameters};return V(o(o(o({},Ie),ce),{},{methods:{search:H,searchForFacetValues:W,multipleQueries:H,multipleSearchForFacetValues:W,customRequest:z,initIndex:function(fe){return function(Ee){return B(fe)(Ee,{methods:{search:q,searchForFacetValues:re,findAnswers:G}})}}}}))}return pe.version="4.11.0",pe})})(rU);var Bxe=rU.exports;const Vxe=Ye.div`
  // inline-table display prevents the user avatars from appearing squashed in some places (e.g. pending project invites on mobile)
  display: inline-table;
  height: 25px;
  width: 25px;
  border-radius: 100%;
  background-color: ${t=>t.color||"#f080fc"};
  background-position: center;
  background-repeat: no-repeat;
  ${t=>t.src?`background-image: url('${t.src}');
          background-size: cover;`:`background-image: url('images/anon-avatar-smile.svg');
          background-size: 18px;`}
`;function iU({avatarUrl:t,color:e}){return p.createElement(Vxe,{src:t,color:e})}const Hxe=Ye(see)`
  min-width: 80%;
  display: flex;
`,zxe=Ye.span`
  grid-column: 1/-1;
  align-self: end;
  font-size: 14px;
  margin-bottom: 4px;
`,Gxe=Ye(_t)`
  width: max-content;
  justify-self: start;
  @media (min-width: 499px) {
    justify-self: end;
  }
`,$xe=Ye.div`
  display: grid;
  grid-template-columns: 1fr;
  gap: 8px 16px;

  @media (min-width: 499px) {
    grid-template-columns: 60% max-content;
    justify-content: space-between;
  }
`;function Wxe({currentProjectPrivacy:t,pendingInvites:e,pendingInviteDispatch:n}){const[i,o]=K.exports.useState(""),s=Bf(),a=Te(),l=a.currentProject().users(),[c,u]=K.exports.useState(null),[d,f]=K.exports.useState(null);K.exports.useEffect(()=>{!s||(async()=>{const{id:E,searchKey:w,indexPrefix:T}=await s.getSearchCreds(),C=Bxe(E,w);u(C.initIndex(`${T}search_users`))})()},[s]);const[h,v]=K.exports.useState([]);K.exports.useEffect(()=>{if(!c)return()=>{};if(!i)return v([]),()=>{};if(d)return v([d]),()=>{};let E=!1;return(async()=>{const w=await c.search(i,{hitsPerPage:3});E||v(w.hits.map(T=>qe(he({},T),{id:Number(T.objectID.replace("user-",""))})).filter(T=>l.every(C=>C.id!==T.id)&&e.every(C=>C.login!==T.login)))})(),()=>{E=!0}},[c,d,i,l,e]);const m=()=>{const E=p2();let w=null,T=null;y4(i)?(T=i,w=a.inviteEmailToProject(i)):d&&(w=a.inviteUserToProject(d.id)),w&&(n({type:"PENDING_SEND_INVITE",invite:{id:E,login:d==null?void 0:d.login,email:T,state:"pending",color:na({luminosity:"light"}),projectPermission:{accessLevel:Tt.MEMBER}}}),w.then(C=>n({type:"SUCCESS_SEND_INVITE",id:E,invite:C}),C=>{qi(C),n({type:"FAILURE_SEND_INVITE",id:E})}),v([]),o(""))},_=()=>t==="private_project"?"to access your project.":"to edit your code.",S=h.filter(E=>E.login===i)[0];return p.createElement($xe,null,p.createElement(zxe,null,p.createElement("strong",null,"Invite project members")," ",_()),p.createElement("form",{id:"project-member-search",onSubmit:()=>{f(S),m()}},p.createElement(Hxe,{label:"user search",value:i,onChange:E=>{o(E),f(null)},options:h},({item:E,buttonProps:w})=>p.createElement(oee,he({onMouseDown:T=>{o(E.login),f(E),T.currentTarget.blur()}},w),p.createElement(aee,null,p.createElement(a2,{columns:"1fr 6fr",rows:2,gap:"0"},p.createElement(l2,{width:1,height:2},p.createElement(iU,{avatarUrl:E.avatarThumbnailUrl,color:E.coverColor})),p.createElement(l2,{width:1},p.createElement(lee,null,E.name)),p.createElement(l2,{width:1,left:2,top:2},p.createElement(cee,null,"@",E.login))))))),p.createElement(Gxe,{disabled:!(S||y4(i)),size:"small",onClick:E=>{E.preventDefault(),f(S),m(),a.analytics.track("Project Invite Sent")},type:"submit",form:"project-member-search"},"Send invite"))}const qxe=Ye.div`
  position: relative;
  width: 100%;
`,Yxe=Ye.select`
  width: 100%;
  display: flex;
  -webkit-box-align: center;
  align-items: center;
  position: relative;
  font-size: 1rem;
  padding-left: 8px;
  padding-right: 2rem;
  height: 36px;
  background: var(--colors-background);
  transition: all 0.2s ease 0s;
  border-radius: 4px;
  border: 1px solid var(--colors-primary);
  appearance: none;
  -moz-appearance: none;
  -webkit-appearance: none;
`,Kxe=Ye.div`
  position: absolute;
  display: inline-flex;
  height: 100%;
  -webkit-box-align: center;
  align-items: center;
  -webkit-box-pack: center;
  justify-content: center;
  right: 12px;
  top: 50%;
  pointer-events: none;
  z-index: 2;
  transform: translateY(-50%);
  path {
    fill: var(--colors-primary);
  }
`,Xxe=()=>p.createElement(Kxe,null,p.createElement("svg",{width:"9",height:"6",viewBox:"0 0 9 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{d:"M4.5 3.22763L7.64801 0L9 1.38618L4.5 6L0 1.38618L1.35199 0L4.5 3.22763Z"})));function Jxe({name:t,id:e,value:n,onChange:i,onFocus:o,children:s}){return p.createElement(qxe,null,p.createElement(Yxe,{name:t,id:e,onFocus:o,onChange:a=>{i(a.target.value)},value:n},s),p.createElement(Xxe,null))}function _4(t,e=!0){const[n,i]=K.exports.useState();return K.exports.useLayoutEffect(()=>{if(t&&typeof window.matchMedia=="function"){const o=window.matchMedia(t),s=()=>{i(o.matches)};return o.addListener(s),i(o.matches),()=>{o.removeListener(s)}}i(e)},[t,e]),n}const sU=Ye.div`
  position: relative;
  width: 100%;
  display: grid;
`,Zxe=Ye.select`
  width: 100%;
  display: flex;
  -webkit-box-align: center;
  align-items: center;
  position: relative;
  font-size: 12px;
  ${t=>!t.readOnly&&"padding-right: 1em;"}
  height: 1.5rem;
  background: var(--colors-background);
  transition: all 0.2s ease 0s;
  border: none;
  appearance: none;
  -moz-appearance: none;
  -webkit-appearance: none;
  @media (min-width: 592px) {
    font-size: 14px;
    text-align: end;
    direction: rtl;
  }
  &:disabled {
    opacity: 1;
  }
`,Qxe=Ye.span`
  width: max-content;
  white-space: nowrap;
  color: var(--colors-secondary);
  font-size: 14px;

  @media (min-width: 592px) {
    margin-left: 0.5rem;
  }
`,eSe=Ye.div`
  display: grid;
  grid-template-columns: 1fr;
  span.hyphen {
    display: none;
  }
  @media (min-width: 592px) {
    grid-template-columns: 1fr max-content;
    span.hyphen {
      display: inline;
    }
  }
`,b4=Ye.span`
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`,tSe=Ye.span`
  color: var(--colors-placeholder);
`,E4=Ye.div`
  display: flex;
  font-size: 14px;
  align-items: center;
  flex-direction: row;
  & > * + * {
    margin-left: 1rem;
  }
`,nSe=Ye.div`
  display: grid;
  grid-template-columns: 1fr max-content;
`,rSe=Ye.div`
  position: absolute;
  display: inline-flex;
  height: 100%;
  -webkit-box-align: center;
  align-items: center;
  -webkit-box-pack: center;
  justify-content: center;
  right: 0;
  top: 50%;
  pointer-events: none;
  z-index: 2;
  transform: translateY(-50%);
  path {
    fill: var(--colors-primary);
  }
`,iSe=()=>p.createElement(rSe,null,p.createElement("svg",{width:"9",height:"6",viewBox:"0 0 9 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{d:"M4.5 3.22763L7.64801 0L9 1.38618L4.5 6L0 1.38618L1.35199 0L4.5 3.22763Z"}))),oU=t=>t==="private_project"||t==="private_code",aU=({accessLevel:t,handleProjectMemberPermission:e,isProUser:n,layout:i,pending:o,readOnly:s,user:a,projectPrivacy:l})=>p.createElement(p.Fragment,null,p.createElement(Zxe,{disabled:s,onChange:c=>e(c.target.value,a),value:t,readOnly:s},p.createElement("option",{disabled:o||oU(l)&&n===!1,value:Tt.ADMIN},"Owner"),p.createElement("option",{value:Tt.MEMBER},"Can edit code",o&&i==="mobile"?" - Pending":""),o&&p.createElement("option",{value:"resend"},"Resend invite"),p.createElement("option",{value:"remove"},"Remove")),!s&&p.createElement(iSe,null));function w4({currentProject:t,currentUser:e,editable:n,member:i,pendingInviteDispatch:o,pending:s,setShowOwnerTransferOverlayForUser:a}){const{avatarUrl:l,color:c,email:u,id:d,login:f,name:h,user:v}=i,m=u||h||f||"Anonymous",_=e.id===i.id,S=p.createElement(iU,{avatarUrl:l,color:c}),E=Bf(),w=Te(),T=j(t.privacy),C=_4("(max-width: 592px)"),[P,R]=K.exports.useState(null);K.exports.useEffect(()=>{if(!oU(T)||P!==null)return;if(!(v==null?void 0:v.login())){R(!1);return}const L=new AbortController;return E.getUserGlitchPro(v.id(),{signal:L.signal}).then(({isActive:k})=>R(k),()=>{}),()=>{L.abort()}},[E,v,T,P]);const A=async(L,k)=>{if(L==="remove"&&s){o({type:"PENDING_CANCEL_INVITE",id:i.id}),E.cancelInvite(t.id(),i.id).then(()=>{},()=>{o({type:"FAILURE_CANCEL_INVITE",invite:i})});return}L==="remove"&&await w.leaveCurrentProject(k),L==="resend"&&(u?w.inviteEmailToProject(u):w.inviteUserToProject(v.id())),Number.parseInt(L,10)===Tt.ADMIN&&a(k)};return p.createElement(p.Fragment,null,n&&p.createElement(p.Fragment,null,C&&p.createElement(E4,{className:"mobile"},S,p.createElement(sU,null,p.createElement(b4,null,m),p.createElement(aU,{layout:"mobile",accessLevel:i.projectPermission.accessLevel,handleProjectMemberPermission:A,isProUser:P,pending:s,readOnly:_,user:v,projectPrivacy:T,setShowOwnerTransferOverlayForUser:a}))),!C&&p.createElement(p.Fragment,null,p.createElement("div",{className:"desktop"},p.createElement(E4,null,S,p.createElement(nSe,null,p.createElement(b4,null,m),s&&p.createElement(tSe,null,"\xA0- Pending\xA0")))),p.createElement("div",{className:"desktop"},p.createElement(sU,null,p.createElement(aU,{layout:"desktop",accessLevel:i.projectPermission.accessLevel,handleProjectMemberPermission:A,isProUser:P,pending:s,readOnly:_,user:v,projectPrivacy:T}))))),!n&&p.createElement(E4,{key:d},S,p.createElement(eSe,null,p.createElement(b4,null,m),i.projectPermission.accessLevel===Tt.ADMIN&&p.createElement(Qxe,null,p.createElement("span",{className:"hyphen"},"\xA0-\xA0"),p.createElement("span",null,"Owner")))))}Ye.div`
  background: var(--colors-background);
  color: var(--colors-primary);
  margin: 6pt auto;
  border: 1px solid var(--colors-border);
  box-sizing: border-box;
  box-shadow: -8px 12px 24px #adbcff;
  border-radius: 3px;
  padding: 34px 34px;
  transition: all 0.2s ease 0s;
  width: 330px;
  @media (min-width: 499px) {
    min-height: 570px;
    max-height: 800px;
    width: 600px;
  }
`;const sSe=Ye.div`
  margin: 6em auto;
  max-width: 375px;
`,oSe=Ye.div`
  font-size: 16px;
  font-weight: bold;
  line-height: 130%;
  margin-bottom: 12px;
`,aSe=Ye.div`
  float: right;
  margin-top: 20px;
`,lU=Ye(_t)`
  margin-left: 10px;
`,lSe=Ye.h6`
  margin: 0px;
  margin-bottom: 4px;
  padding: 0px;
  font-style: normal;
  font-weight: bold;
  font-size: 16px;
  line-height: 130%;
`,cSe=Ye.div`
  display: grid;
  grid-template-columns: 1fr;
  gap: 8px 16px;
  align-items: center;

  @media (min-width: 499px) {
    grid-template-columns: 1fr max-content;
  }
`,cU=Ye.h6`
  margin: 0px;
  margin-bottom: 12px;
  padding: 0px;
  font-style: normal;
  font-weight: bold;
  font-size: 16px;
  line-height: 130%;
`,uSe=Ye.div`
  display: grid;
  grid-template-columns: 1fr;
  gap: 8px 16px;
  max-height: 195px;
  overflow: auto;
  .mobile {
    display: flex;
  }
  .desktop {
    display: none;
  }
  @media (min-width: 499px) {
    ${t=>t.editable?"grid-template-columns: 1fr max-content;":"grid-template-columns: 1fr 1fr;"}

    .mobile {
      display: none;
    }
    .desktop {
      display: flex;
    }
  }
`,dSe=Ye(mn)`
  overflow: hidden;
`;Ye.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  padding: var(--space-2) var(--space-1);
  margin: 0;
  z-index: var(--z-overlay);
  background-color: ${t=>t.currentTheme==="sugar"?"rgba(255, 255, 255, 0.5)":"rgba(34, 34, 34, 0.8)"};
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;

  @media (min-width: 499px) {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-4) var(--space-1);
  }
`;const uU=Ye.div`
  border: 1px solid var(--colors-notice-background);
  box-sizing: border-box;
  border-radius: 3px;
  display: flex;
  height: 32px;
  align-items: center;
  padding: 4px;
  margin: 12px 0px;
  justify-content: space-between;
`;Ye.a`
  color: var(--colors-notice-text);
`;const dU=Ye.div`
  font-size: 10px;
  color: ${t=>t.currentTheme==="sugar"?"#694dff":"#FFF"};
  min-width: 48px;
  border-right: 1px solid var(--colors-notice-background);
  padding-left: 2px;
  /* or 19px */
  flex: 0;
`,fU=Ye.div`
  font-family: Menlo;
  font-size: 13px;
  padding-left: 8px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex: 1;
`,hU=Ye.button`
  padding: 0px 8px;
  flex: 0;
  color: var(--colors-primary);
  background-color: transparent;
  border: none;
  &:hover,
  &:active {
    color: #2800ff;
  }
`,fSe=Ye.p`
  font-size: 12px;
`,hSe=Ye.a`
  margin-left: 5px;
  &:hover,
  &.active {
    text-decoration: none;
  }
`,x4=Ye.option``,pSe=Ye.div`
  display: flex;
  align-items: center;
  position: relative;
`,mSe=Ye.div`
  color: var(--colors-primary);
  position: absolute;
  margin-left: 40px;
  width: 160px;
  font-size: 12px;
  line-height: 16.8px;
`,gSe=Ye.span`
  font-weight: 600;
`,wg=Ye.p`
  font-size: 14px;
  margin: 0px;
  line-height: 1.5;
`;uee`
  body {
    position: fixed;
    width: 100%;
    top: -${({scrollY:t})=>t}px;
  }
`;const vSe={public:{header:"This project is public",permission:"Everyone can see your project.",link:"Anyone with these links can view your project."},private_project:{header:"This project is private",permission:"Only you and people you invite can access your code and live site.",link:"Only invited project members can access these links."},private_code:{header:"This project's code is private",permission:"Only you and people you invite can access the project code. Your live site is visible to everyone.",link:"Only invited project members can access the code. Everyone can visit the site!"}},ySe={public:{header:"This project is public",permission:"Everyone can see this project.",link:"Anyone with these links can view the project."},private_project:{header:"This project is private",permission:"Only people invited to this project can access the code and live site.",link:"Only project members can access these links."},private_code:{header:"This project's code is private",permission:"Only people invited to this project can access the project code. The live site is visible to everyone.",link:"Only project members can access the code. Everyone can visit the site!"}},_Se=t=>({id:t.id,avatarUrl:t.avatarUrl,login:t.login,name:t.name,color:t.color,user:Ys(t),projectPermission:t.projectPermission});function pU(t){var e,n,i,o;return{id:t.id,avatarUrl:(e=t.user)==null?void 0:e.avatarUrl,login:(n=t.user)==null?void 0:n.login,name:(i=t.user)==null?void 0:i.name,email:t.email,color:((o=t.user)==null?void 0:o.color)||na({luminosity:"light",seed:name}),state:"idle",user:Ys(t.user),projectPermission:t.projectPermission}}function bSe(t,e){if(t.state==="not-admin")return t;if(t.state==="loading")switch(e.type){case"LOADED_PENDING_INVITES":return{state:"loaded",invites:e.invites};default:return t}switch(e.type){case"PENDING_SEND_INVITE":case"FAILURE_CANCEL_INVITE":return qe(he({},t),{invites:[...t.invites,e.invite]});case"SUCCESS_SEND_INVITE":return qe(he({},t),{invites:t.invites.map(n=>n.id===e.id?pU(e.invite):n)});case"FAILURE_SEND_INVITE":case"PENDING_CANCEL_INVITE":return qe(he({},t),{invites:t.invites.filter(n=>n.id!==e.id)});case"RELOAD_PENDING_INVITES":return qe(he({},t),{state:"loading"});default:return t}}function ESe(){}function mU({currentProject:t}){const e=Te(),n=j(e.currentTheme),i=Bf(),o=j(e.publishedUrl),s=j(e.editorUrl),a=j(t.privacy),l=j(e.projectIsAdminForCurrentUser),c=Nf(),u=c==null?void 0:c.isProUser,d=!(c==null?void 0:c.isProUser),f=j(e.shareProjectOverlayVisible),[h,v]=K.exports.useState(null),[{state:m,invites:_},S]=K.exports.useReducer(bSe,{state:l?"loading":"not-admin",items:null});K.exports.useEffect(()=>{if(m==="loading"){const N=new AbortController;return i.getPendingInvites(t.id(),{signal:N.signal}).then(I=>{S({type:"LOADED_PENDING_INVITES",invites:I.invites.map(F=>pU(F))})},I=>{if(I.name!=="AbortError")throw I}),()=>{N.abort()}}},[i,t,m]),K.exports.useEffect(()=>{S({type:"RELOAD_PENDING_INVITES"})},[f]);const[E,w]=K.exports.useState(null);function T(){const{id:N}=ESe();w(N)}const C=()=>p.createElement("div",null,p.createElement(sSe,null,p.createElement(oSe,null,"Are you sure you want to transfer ownership of this project",h.login()&&` to ${h.login()}`,"?"),p.createElement(wg,null,"Each project has one owner. If you transfer ownership, you will lose the ability to manage project permissions and settings."),p.createElement(aSe,null,p.createElement(lU,{onClick:()=>{e.transferProjectOwner(h),v(null)}},"Yes, Transfer"),p.createElement(lU,{onClick:()=>v(null)},"Cancel")))),P=j(e.currentProject().users),R=V2e(P.map(_Se)),A=R.filter(N=>N.projectPermission.accessLevel===Tt.ADMIN),L=R.filter(N=>N.projectPermission.accessLevel!==Tt.ADMIN),k=vSe[a],U=ySe[a];return p.createElement(p.Fragment,null,p.createElement(ir,{spacing:3},h?p.createElement(C,null):p.createElement(p.Fragment,null,l&&p.createElement(p.Fragment,null,p.createElement(cSe,null,p.createElement("div",null,p.createElement(lSe,null,"Project permissions"),p.createElement(wg,null,k.permission),p.createElement("div",null,a==="private_code"&&d&&p.createElement(fSe,null,p.createElement(tt,{icon:"boosted"}),p.createElement(hSe,{href:"https://glitch.com/pricing"},"Upgrade")," to make your entire project private."))),p.createElement("div",null,(u||a==="private_code")&&p.createElement(Jxe,{name:"project-member-permission-select",id:"project-member-permission-select",value:a,onFocus:()=>{d&&T()},onChange:async N=>{await e.changeProjectPrivacy(N)}},p.createElement(x4,{value:"public"},"Public"),u&&p.createElement(x4,{value:"private_project"},"Private"),p.createElement(x4,{value:"private_code"},"Private code")),!u&&a==="public"&&p.createElement(pSe,null,p.createElement(mSe,null,p.createElement(gSe,null,p.createElement("a",{href:"/pricing"},"Upgrade"))," ","to make your project private."),p.createElement(j2e,{currentTheme:n})))),p.createElement(Wxe,{currentProjectPrivacy:a,pendingInviteState:m,pendingInvites:_,pendingInviteDispatch:S})),!l&&p.createElement("div",null,p.createElement(Kt,null,p.createElement("div",null,p.createElement(cU,null,U.header),p.createElement(wg,null,U.permission)))),p.createElement("div",null,p.createElement(Kt,null,p.createElement("div",null,p.createElement(cU,null,"Project members"))),p.createElement(uSe,{editable:l},A.map(N=>p.createElement(w4,{key:N.id,currentProject:t,currentUser:c,editable:l,member:N})),L.map(N=>p.createElement(w4,{key:N.id,editable:l,currentProject:t,member:N,currentUser:c,setShowOwnerTransferOverlayForUser:v}))," ",m==="loading"&&p.createElement(dSe,null),m==="loaded"&&_.map(N=>p.createElement(w4,{key:N.id,currentProject:t,currentUser:c,editable:l,member:N,pending:!0,pendingInviteDispatch:S})))),p.createElement("div",null,l&&p.createElement(wg,null,p.createElement("strong",null,"Project links:")," ",k.link),!l&&p.createElement(wg,null,p.createElement("strong",null,"Project links:")," ",U.link),p.createElement(uU,null,p.createElement(dU,{currentTheme:n},"Live site"),p.createElement(fU,null,o),p.createElement(hU,{alt:"Copy live site URL to clipboard",onClick:()=>{e.analytics.track("Glitch Link Copied",{linkType:"live app"}),oa(o)}},p.createElement(YF,null))),p.createElement(uU,null,p.createElement(dU,{currentTheme:n},"Code"),p.createElement(fU,null,s),p.createElement(hU,{alt:"Copy code URL to clipboard",onClick:()=>{e.analytics.track("Glitch Link Copied",{linkType:"code"}),oa(s)}},p.createElement(YF,null)))))))}const wSe=()=>{const t=Te(),e=j(t.currentUsers),n=j(t.offlineMembers),i=a=>a.reduce((l,c)=>l.find(d=>d.id()===c.id())?l:l.concat([c]),[]),o=i(e),s=i(n);return[o,s]},xSe=()=>{const t=Te(),e=j(t.currentUsers),n=j(t.offlineMembers),i=a=>a.reduce((l,c)=>l.find(d=>d.id()===c.id())?l:l.concat([c]),[]),o=i(e),s=i(n);return p.createElement("div",{className:"collaborators opens-pop-over"},o.map(a=>p.createElement(d4,{application:t,user:a,key:a.id()})),s.map(a=>p.createElement(d4,{application:t,user:a,key:a.id()})))},SSe=()=>{const t=Te(),e=j(t.currentProject);return j(e.teams).length>0?p.createElement("div",{className:"collaborators opens-pop-over teams-list"},t.currentProject().teams().map(i=>p.createElement(N2e,{application:t,team:i,key:i.id()}))):null};function TSe(){const t=Te(),e=j(t.userIsLoggingIn),n=j(t.editorIsEmbedded),i=j(t.currentProject),o=j(i==null?void 0:i.privacy),a=j(t.projectIsAdminForCurrentUser)?"Share your project":"Share this project";if(!i||n)return null;const l=p.createElement("button",{onClick:()=>t.analytics.track("Share Menu Viewed"),id:"share-project","data-testid":"share-button",className:"button share-project opens-pop-over","aria-label":"Open share popover menu"},p.createElement(F2e,{privacy:o}),p.createElement("span",{className:"label"},"Share"));return p.createElement("section",{className:"sidebar-section sidebar-people-wrap"},p.createElement("div",{className:"sidebar-people grouped-avatars"},e?p.createElement(mn,null):p.createElement(xSe,{application:t}),p.createElement("div",{className:"collaborators-buttons"},p.createElement(sI,{title:a,passThroughTrigger:l},()=>p.createElement(mU,{currentProject:i})))),p.createElement(SSe,{application:t}))}function CSe(){const t=Te(),e=j(t.aboutPopVisible),n=Nf(),i=o=>{o.preventDefault(),t.aboutPopVisible(!1),t.newStuffOverlayVisible(!0),t.analytics.track("Pupdate Viewed",{clickLocation:"Options Menu"})};return e?p.createElement("dialog",{className:"pop-over about-pop"},p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("a",{href:"/",className:"button"},"Back to Glitch ",p.createElement(tt,{icon:"carpStreamer"}))),(n==null?void 0:n.login)&&p.createElement("div",{className:"button-wrap"},p.createElement("a",{href:"/dashboard",className:"button"},"Your Projects ",p.createElement(tt,{icon:"rocket"})))),p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("a",{href:"/help",className:"button button-small button-secondary"},"Docs and Help ",p.createElement(tt,{icon:"umbrella"}))),p.createElement("div",{className:"button-wrap"},p.createElement("a",{href:"https://support.glitch.com",className:"button button-small button-secondary"},"Forum ",p.createElement(tt,{icon:"ambulance"}))),p.createElement("div",{className:"button-wrap"},p.createElement("a",{href:"/about",className:"button button-small button-secondary"},"About Glitch ",p.createElement(tt,{icon:"carpStreamer"}))),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button button-small button-secondary",onClick:i},"New Stuff ",p.createElement(tt,{icon:"dogFace"}))),p.createElement("div",{className:"button-wrap"},p.createElement("a",{href:"https://status.glitch.com",className:"button button-small button-secondary"},"System Status ",p.createElement(tt,{icon:"trafficLight"}))))):null}function ur(t){return e=>{e.key==="Enter"&&t(e)}}function gU(o){var s=o,{value:t,onChange:e,children:n}=s,i=cn(s,["value","onChange","children"]);return p.createElement("label",he({},i),p.createElement("div",{role:"button","aria-pressed":t,tabIndex:"0",onKeyDown:ur(e),className:"button button-small button-secondary"},p.createElement("input",{className:"input",type:"checkbox",checked:t,onChange:e,tabIndex:"-1"}),n))}function MSe(t,e){const[n,i]=K.exports.useState(t);return K.exports.useEffect(()=>{const o=setTimeout(()=>{i(t)},e);return()=>{clearTimeout(o)}},[t,e]),n}const $_="state_boost_disabled",vU="state_boosted",yU="state_loading_boost",W_="state_boosted_collection_full",S4="state_can_boost";function T4(){const t=Te(),e=Nf(),n=j(t.currentProjectIsBoosted),i=j(t.boostedCollection),o=j(t.boostedProjects),s=j(t.projectIsAdminForCurrentUser),a=j(t.currentProjectIsBoosted);let l=S4;return!(e==null?void 0:e.isProUser)||!s?l=$_:a?l=vU:!o||!i?l=yU:o.length===i.maxProjects&&(l=W_),{currentProjectIsBoosted:n,boostedCollection:i,boostedProjects:o,projectBoostState:l}}function C4(s){var a=s,{children:t,currentProjectIsBoosted:e,projectBoostState:n,onClick:i}=a,o=cn(a,["children","currentProjectIsBoosted","projectBoostState","onClick"]);const l=Te(),[c,u]=K.exports.useState(!1);async function d(h){i==null||i(h),u(!0);try{await l.boostCurrentProject()}catch{u(!1)}}async function f(h){i==null||i(h),u(!0);try{await l.unBoostCurrentProject()}catch{u(!1)}}return K.exports.useEffect(()=>{u(!1)},[e]),n===vU?p.createElement(_t,he({size:"small",onClick:f,disabled:c},o),t("Un-boost This App")):n===yU?p.createElement(_t,he({size:"small",disabled:!0,onClick:d},o),t("Boost This App")):p.createElement("span",{"data-tooltip-top":!0,"data-tooltip":n===W_?`To boost another project,
 you must remove one 
from your Boosted Apps 
collection first`:void 0},p.createElement(_t,he({size:"small",disabled:c||n!==S4,onClick:d},o),t("Boost This App")))}const _U={regular:"24px",small:"18px",tiny:"13px"},bU={default:"images/boosted/boosted-default.png",inactive:"images/boosted/boosted-inactive.png"},ASe=Ye.img`
  height: ${t=>_U[t.size]||_U.regular};
  vertical-align: sub;
`;function M4({variant:t,size:e,tooltip:n,className:i}){return p.createElement("span",{"data-tooltip":n,"data-tooltip-left":!0},p.createElement(ASe,{className:i,size:e,src:bU[t]||bU.default,alt:`${t==="inactive"?"Inactive ":""}Boosted Apps icon`}))}const EU=50,PSe=Ye(M4)`
  margin-left: 7px;
  position: relative;
`;function RSe({showProjectSpecificContent:t}){const e=Te(),n=Bf(),i=Nf(),o=j(e.currentProject),s=j(o==null?void 0:o.privacy),a=j(e.projectAvatarImage),l=j(e.projectIsMemberOrMoreForCurrentUser),c=j(e.projectIsAdminForCurrentUser),u=j(K.exports.useCallback(()=>o==null?void 0:o.domain(),[o])),d=j(K.exports.useCallback(()=>o==null?void 0:o.description(),[o])),h=j(e.projects).length,v=j(e.currentTheme),m=j(e.refreshPreviewOnChanges),_=j(e.wrapText),S=T4(),[E,w]=K.exports.useState(u),[T,C]=K.exports.useState(null),[P,R]=K.exports.useState(d),A=K.exports.useRef(!0),L=s==="public"||i.isProUser;K.exports.useEffect(()=>{w(u)},[u]),K.exports.useEffect(()=>{R(d)},[d]);const k=()=>{e.projectIsReadOnlyForCurrentUser()||(e.projectPopVisible(!1),e.projectAvatarPopVisible(!0))},U=K.exports.useCallback(async z=>z.length>EU?"Project name cannot be longer than 60 characters":ree.isReserved(z)?"This name is restricted":await n.v0.getProject(z,{showDeleted:!0})?"Another project has that name":null,[n]),N=K.exports.useRef(Promise.resolve(!1)),I=K.exports.useCallback(z=>{const B=U(z).catch(()=>"An unknown error occurred.").then(H=>(N.current===B&&C(H),H===null));return N.current=B,B},[U]),F=K.exports.useCallback(async z=>{z===u||await I(z)===!1||(e.projectIsRenaming(!0),o.saveImmediate(n,{domain:z}).then(()=>{o.domain(z),e.updateProjectName(z),e.broadcastProjectName()},()=>{C("Updating this project is not allowed")}).finally(()=>{e.projectIsRenaming(!1)}))},[e,n,o,u,I]),O=MSe(E,500);K.exports.useEffect(()=>{A.current||F(O)},[F,O]);const V=()=>{P!==o.description()&&(o.description(P),o.saveImmediate(n))};return K.exports.useEffect(()=>{A.current=!1},[]),p.createElement("dialog",{className:"pop-over project-pop"},t?p.createElement("section",{className:"info"},p.createElement("div",{className:"project-info-container"},p.createElement("img",{className:"project-avatar-image opens-pop-over",alt:"Project avatar",src:a,onClick:k,onKeyPress:ur(k),tabIndex:"0"}),p.createElement("div",{className:"project-info-meta"},p.createElement("div",{className:"input-wrap"},p.createElement("input",{className:dt("input project-name",{"field-error":T}),"data-testid":"project-name-input",disabled:!l,value:E,onChange:z=>{const B=z.target.value.toLowerCase().replace(/[^a-z0-9-]/gi,"-");if(w(B),B===u){N.current=Promise.resolve(!1);return}I(B)},maxLength:EU}),T&&p.createElement("div",{className:"field-error-message"},T)),l?p.createElement(c2,{className:dt("textarea content-editable",{"read-only":!l}),value:P,onBlur:V,onChange:z=>{R(z.target.value)}}):p.createElement("p",{className:"content-editable read-only"},P)))):p.createElement("section",{className:"info"},p.createElement("h1",null,"Project Menu")),p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"new-project",className:"button",onClick:()=>{e.projectPopVisible(!1),e.newProjectPopVisible(!0)},"data-testid":"new-project-button"},"New Project ",p.createElement(tt,{icon:"sparkles"}))),t&&p.createElement("div",{className:"button-wrap"},p.createElement(dee,{target:p.createElement("button",{id:"remix-project",className:"button",onClick:()=>{L&&(e.closeAllPopOvers(),e.remixCurrentProject())},disabled:!L},"Remix Project ",p.createElement(tt,{icon:"microphone"})),tooltip:L?null:y_(`Upgrade to a Glitch 
                          membership to remix 
                          this private project`),type:"action"})),h>0&&p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"switch-project",className:"button",onClick:()=>{e.projectPopVisible(!1),e.projectsSelectPopVisible(!0)}},"Switch Project ",p.createElement(tt,{icon:"hibiscus"}))),t&&S.projectBoostState!==$_&&p.createElement("div",{className:"button-wrap"},p.createElement(C4,he({className:"button"},S),z=>p.createElement(p.Fragment,null,p.createElement("span",null,z),p.createElement(PSe,{variant:"default",size:"small"}))))),t&&p.createElement(p.Fragment,null,p.createElement("section",{className:"info"},p.createElement("h1",null,"On Your Website")),p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{"data-testid":"embed-project",className:"button button-small button-secondary",onClick:()=>{e.closeAllPopOvers(),e.shareEmbedOverlayVisible(!0)}},"Embed This Project ",p.createElement(tt,{icon:"bentoBox"}))))),p.createElement("section",{className:"info"},p.createElement("h1",null,"Editor Settings")),p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button button-small button-secondary",onClick:()=>{e.actionInterface.changeTheme()}},"Change Theme ",v==="sugar"?p.createElement(tt,{icon:"crescentMoon"}):p.createElement(tt,{icon:"sunny"}))),l&&p.createElement("div",{className:"button-wrap"},p.createElement(gU,{value:m,onChange:()=>{e.refreshPreviewOnChanges.toggle(),e.analytics.track("Refresh App Setting Changed",{currentSetting:e.refreshPreviewOnChanges()})}},"Refresh App on Changes")),p.createElement("div",{className:"button-wrap"},p.createElement(gU,{value:_,onChange:()=>{e.wrapText.toggle(),e.analytics.track("Wrap Text Setting Changed",{currentSetting:e.wrapText()})}},"Wrap Text")),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button button-small button-secondary",onClick:()=>{e.analytics.track("Keyboard Shortcuts Viewed"),e.closeAllPopOvers(),e.keyboardShortcutsOverlayVisible(!0)}},"Keyboard Shortcuts ",p.createElement(tt,{icon:"musicalKeyboard"})))),t&&l&&p.createElement("section",{className:dt("danger-zone",{hidden:!c})},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"delete-project",className:"button","data-testid":"delete-project-button",onClick:()=>{e.actionInterface.deleteCurrentProject()}},"Archive This Project ",p.createElement(tt,{icon:"zzz"})))))}function LSe(){const t=Te(),e=j(t.projectPopVisible),n=j(t.projectIsLoaded),i=j(t.currentProject);return e?p.createElement(RSe,{showProjectSpecificContent:n||i}):null}function wU({children:t,accept:e,multiple:n,onSelection:i}){const o=K.exports.useRef();return p.createElement(p.Fragment,null,p.createElement("button",{className:"button",onClick:()=>{o.current.click()}},t),p.createElement("input",{ref:o,type:"file",onChange:s=>{i(Array.from(s.target.files))},accept:e,multiple:n,hidden:!0}))}function q_(){const t=330,e=210,n=function(a,l){let{width:c,height:u}=a;const d=.92;let f=document.createElement("canvas");f.width=c,f.height=u,f.getContext("2d").drawImage(a,0,0,c,u);let v=f;for(;c>t||u>t;){if(c/=2,u/=2,c<t&&u<t){const _=330/Math.max(c,u);c=Math.ceil(c*_),u=Math.ceil(u*_)}v=document.createElement("canvas");const m=v.getContext("2d");v.width=c,v.height=u,m.drawImage(f,0,0,c,u),f=v}return new Promise(function(m,_){return v.toBlob(function(S){return S.width=c,S.height=u,m(S)},l,d)})},i=a=>L7(a).then(function(l){return a.width=l.width,a.height=l.height,l.width<t&&l.height<t?a:n(l,a.type)}),o=function(){const a=document.createElement("canvas");a.width=e,a.height=e;const l=a.width/2,c=0,u=0,d=e,f=e,h=na({count:6,format:"rgb"}),v=[];for(let S of h)v.push(S.replace(")",", 0.60)").replace("rgb","rgba"));const m=a.getContext("2d");m.globalComposition="multiply",m.fillStyle=v[0],m.fillRect(0,0,e,e),m.beginPath(),m.fillStyle=v[1];const _=a.width/2;return m.arc(l,l,_,0,2*Math.PI,!1),m.fill(),m.closePath(),m.beginPath(),m.fillStyle=v[2],m.moveTo(u,l),m.lineTo(l,c),m.lineTo(d,l),m.lineTo(l,f),m.fill(),m.closePath(),m.fillStyle=v[3],m.fillRect(l/2,l/2,l,l),new Promise(function(S,E){return a.toBlob(function(w){return w.width=e,w.height=e,S(w)})})},s=function(a,l,c,u){return c==null&&(c=a),u==null&&(u=l),{name:a.name,date:new Date,url:R7(l),type:a.type,size:a.size,imageWidth:a.width,imageHeight:a.height,thumbnail:R7(u),thumbnailWidth:c.width,thumbnailHeight:c.height}};return function(a){let l;const c=f=>i(f).then(h=>L7(h).then(function(v){return h===f?a.uploadAsset(f).then(m=>s(f,m,null,null)):(h.name=`thumbnails/${f.name}`,Promise.all([a.uploadAsset(f,!0),a.uploadAsset(h)]).then(function(...m){const[_,S]=Array.from(m[0]);return s(f,_,h,S)}))})),u=f=>o().then(function(h){return h.name=`thumbnails/${f.name}`,Promise.all([a.uploadAsset(f,!0),a.uploadAsset(h)]).then(function(...v){const[m,_]=Array.from(v[0]);return s(f,m,h,_)})});function d(f){const h=a.assets().find(v=>v.name===f.name);h&&a.deleteAsset(h)}return l={addAssetFile(f){const h=Of();return(f.type.match(/(image)/)?c(f):u(f)).then(function(m){if(f.type==="text/html")return a.notifyUploadFailure(!0),!1;d(f),m.uuid=h,a.newAsset(m),a.jiggleAssetFiletreeEntry(!0),a.analytics.track("Asset Uploaded",{fileType:f.type})}).catch(function(m){throw a.notifyUploadFailure(!0),m})},addFile(f){return new Promise(function(h,v){setTimeout(function(){if(f.name===void 0){const m=window.prompt("Please enter a name for your file","newfile.png");if(m)f=new File([f],m,{type:f.type,lastModified:f.lastModified});else throw new Error("You must name the file.")}o_(f)?a.uploadNewFile(f).then(h,v):a.showAssets().then(()=>l.addAssetFile(f)).then(h,v)},0)})},createRandomThumbnail:o,drawCanvasThumbnail:n,isTextFile:o_,createThumbnail:i}}}function ISe(){const t=Te(),e=j(t.projectAvatarPopVisible),n=j(t.projectAvatarImage),i=K.exports.useRef();i.current||(i.current=q_());const o=()=>{t.projectAvatarPopVisible(!1),t.projectPopVisible(!0)},s=()=>{t.projectAvatarUtils.random().then(t.uploadProjectAvatarAsset)};return e?p.createElement("dialog",{className:"pop-over project-avatar-pop"},p.createElement("section",{role:"presentation",className:"info clickable-label",onClick:o},p.createElement("div",{className:"back icon"}),p.createElement("h1",null,"Project Avatar")),p.createElement("section",{className:"actions"},p.createElement("img",{className:"avatar-image",src:n,alt:"Project Avatar"}),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button",onClick:s},"Random ",p.createElement(tt,{icon:"bouquet"}))),p.createElement("div",{className:"button-wrap"},p.createElement(wU,{accept:"image/*",onSelection:a=>{const[l]=a;i.current.createThumbnail(l).then(t.uploadProjectAvatarAsset).catch(c=>{t.notifyUploadFailure(!0),t.logger().log("error addFileFromComputer()",c)})}},"Upload ",p.createElement(tt,{icon:"arrowUp"}))))):null}var OSe=Ty;function NSe(){this.__data__=new OSe,this.size=0}var kSe=NSe;function DSe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var FSe=DSe;function USe(t){return this.__data__.get(t)}var jSe=USe;function BSe(t){return this.__data__.has(t)}var VSe=BSe,HSe=Ty,zSe=oT,GSe=aT,$Se=200;function WSe(t,e){var n=this.__data__;if(n instanceof HSe){var i=n.__data__;if(!zSe||i.length<$Se-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new GSe(i)}return n.set(t,e),this.size=n.size,this}var qSe=WSe,YSe=Ty,KSe=kSe,XSe=FSe,JSe=jSe,ZSe=VSe,QSe=qSe;function Hf(t){var e=this.__data__=new YSe(t);this.size=e.size}Hf.prototype.clear=KSe;Hf.prototype.delete=XSe;Hf.prototype.get=JSe;Hf.prototype.has=ZSe;Hf.prototype.set=QSe;var xU=Hf;function e3e(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var t3e=e3e,n3e=mD,r3e=t3e,i3e=gD,s3e=1,o3e=2;function a3e(t,e,n,i,o,s){var a=n&s3e,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,v=n&o3e?new n3e:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var m=t[f],_=e[f];if(i)var S=a?i(_,m,f,e,t,s):i(m,_,f,t,e,s);if(S!==void 0){if(S)continue;h=!1;break}if(v){if(!r3e(e,function(E,w){if(!i3e(v,w)&&(m===E||o(m,E,n,i,s)))return v.push(w)})){h=!1;break}}else if(!(m===_||o(m,_,n,i,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var SU=a3e,l3e=Yo,c3e=l3e.Uint8Array,u3e=c3e;function d3e(t){var e=-1,n=Array(t.size);return t.forEach(function(i,o){n[++e]=[o,i]}),n}var f3e=d3e,TU=Nm,CU=u3e,h3e=Um,p3e=SU,m3e=f3e,g3e=I5,v3e=1,y3e=2,_3e="[object Boolean]",b3e="[object Date]",E3e="[object Error]",w3e="[object Map]",x3e="[object Number]",S3e="[object RegExp]",T3e="[object Set]",C3e="[object String]",M3e="[object Symbol]",A3e="[object ArrayBuffer]",P3e="[object DataView]",MU=TU?TU.prototype:void 0,A4=MU?MU.valueOf:void 0;function R3e(t,e,n,i,o,s,a){switch(n){case P3e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case A3e:return!(t.byteLength!=e.byteLength||!s(new CU(t),new CU(e)));case _3e:case b3e:case x3e:return h3e(+t,+e);case E3e:return t.name==e.name&&t.message==e.message;case S3e:case C3e:return t==e+"";case w3e:var l=m3e;case T3e:var c=i&v3e;if(l||(l=g3e),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;i|=y3e,a.set(t,e);var d=p3e(l(t),l(e),i,o,s,a);return a.delete(t),d;case M3e:if(A4)return A4.call(t)==A4.call(e)}return!1}var L3e=R3e,I3e=Uk,O3e=qo;function N3e(t,e,n){var i=e(t);return O3e(t)?i:I3e(i,n(t))}var k3e=N3e;function D3e(t,e){for(var n=-1,i=t==null?0:t.length,o=0,s=[];++n<i;){var a=t[n];e(a,n,t)&&(s[o++]=a)}return s}var F3e=D3e;function U3e(){return[]}var j3e=U3e,B3e=F3e,V3e=j3e,H3e=Object.prototype,z3e=H3e.propertyIsEnumerable,AU=Object.getOwnPropertySymbols,G3e=AU?function(t){return t==null?[]:(t=Object(t),B3e(AU(t),function(e){return z3e.call(t,e)}))}:V3e,$3e=G3e,W3e=k3e,q3e=$3e,Y3e=H5;function K3e(t){return W3e(t,Y3e,q3e)}var X3e=K3e,PU=X3e,J3e=1,Z3e=Object.prototype,Q3e=Z3e.hasOwnProperty;function eTe(t,e,n,i,o,s){var a=n&J3e,l=PU(t),c=l.length,u=PU(e),d=u.length;if(c!=d&&!a)return!1;for(var f=c;f--;){var h=l[f];if(!(a?h in e:Q3e.call(e,h)))return!1}var v=s.get(t),m=s.get(e);if(v&&m)return v==e&&m==t;var _=!0;s.set(t,e),s.set(e,t);for(var S=a;++f<c;){h=l[f];var E=t[h],w=e[h];if(i)var T=a?i(w,E,h,e,t,s):i(E,w,h,t,e,s);if(!(T===void 0?E===w||o(E,w,n,i,s):T)){_=!1;break}S||(S=h=="constructor")}if(_&&!S){var C=t.constructor,P=e.constructor;C!=P&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof P=="function"&&P instanceof P)&&(_=!1)}return s.delete(t),s.delete(e),_}var tTe=eTe,nTe=Pu,rTe=Yo,iTe=nTe(rTe,"DataView"),sTe=iTe,oTe=Pu,aTe=Yo,lTe=oTe(aTe,"Promise"),cTe=lTe,uTe=Pu,dTe=Yo,fTe=uTe(dTe,"WeakMap"),hTe=fTe,P4=sTe,R4=oT,L4=cTe,I4=vD,O4=hTe,RU=Dm,zf=wk,LU="[object Map]",pTe="[object Object]",IU="[object Promise]",OU="[object Set]",NU="[object WeakMap]",kU="[object DataView]",mTe=zf(P4),gTe=zf(R4),vTe=zf(L4),yTe=zf(I4),_Te=zf(O4),ju=RU;(P4&&ju(new P4(new ArrayBuffer(1)))!=kU||R4&&ju(new R4)!=LU||L4&&ju(L4.resolve())!=IU||I4&&ju(new I4)!=OU||O4&&ju(new O4)!=NU)&&(ju=function(t){var e=RU(t),n=e==pTe?t.constructor:void 0,i=n?zf(n):"";if(i)switch(i){case mTe:return kU;case gTe:return LU;case vTe:return IU;case yTe:return OU;case _Te:return NU}return e});var bTe=ju,N4=xU,ETe=SU,wTe=L3e,xTe=tTe,DU=bTe,FU=qo,UU=i_.exports,STe=u7,TTe=1,jU="[object Arguments]",BU="[object Array]",Y_="[object Object]",CTe=Object.prototype,VU=CTe.hasOwnProperty;function MTe(t,e,n,i,o,s){var a=FU(t),l=FU(e),c=a?BU:DU(t),u=l?BU:DU(e);c=c==jU?Y_:c,u=u==jU?Y_:u;var d=c==Y_,f=u==Y_,h=c==u;if(h&&UU(t)){if(!UU(e))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new N4),a||STe(t)?ETe(t,e,n,i,o,s):wTe(t,e,c,n,i,o,s);if(!(n&TTe)){var v=d&&VU.call(t,"__wrapped__"),m=f&&VU.call(e,"__wrapped__");if(v||m){var _=v?t.value():t,S=m?e.value():e;return s||(s=new N4),o(_,S,n,i,s)}}return h?(s||(s=new N4),xTe(t,e,n,i,o,s)):!1}var ATe=MTe,PTe=ATe,HU=Fm;function zU(t,e,n,i,o){return t===e?!0:t==null||e==null||!HU(t)&&!HU(e)?t!==t&&e!==e:PTe(t,e,n,i,zU,o)}var GU=zU,RTe=xU,LTe=GU,ITe=1,OTe=2;function NTe(t,e,n,i){var o=n.length,s=o,a=!i;if(t==null)return!s;for(t=Object(t);o--;){var l=n[o];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<s;){l=n[o];var c=l[0],u=t[c],d=l[1];if(a&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new RTe;if(i)var h=i(u,d,c,t,e,f);if(!(h===void 0?LTe(d,u,ITe|OTe,i,f):h))return!1}}return!0}var kTe=NTe,DTe=Ba;function FTe(t){return t===t&&!DTe(t)}var $U=FTe,UTe=$U,jTe=H5;function BTe(t){for(var e=jTe(t),n=e.length;n--;){var i=e[n],o=t[i];e[n]=[i,o,UTe(o)]}return e}var VTe=BTe;function HTe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var WU=HTe,zTe=kTe,GTe=VTe,$Te=WU;function WTe(t){var e=GTe(t);return e.length==1&&e[0][2]?$Te(e[0][0],e[0][1]):function(n){return n===t||zTe(n,t,e)}}var qTe=WTe,YTe=cT;function KTe(t,e,n){var i=t==null?void 0:YTe(t,e);return i===void 0?n:i}var XTe=KTe,JTe=GU,ZTe=XTe,QTe=Fk,e5e=iT,t5e=$U,n5e=WU,r5e=jm,i5e=1,s5e=2;function o5e(t,e){return e5e(t)&&t5e(e)?n5e(r5e(t),e):function(n){var i=ZTe(n,t);return i===void 0&&i===e?QTe(n,t):JTe(e,i,i5e|s5e)}}var a5e=o5e;function l5e(t){return function(e){return e==null?void 0:e[t]}}var c5e=l5e,u5e=cT;function d5e(t){return function(e){return u5e(e,t)}}var f5e=d5e,h5e=c5e,p5e=f5e,m5e=iT,g5e=jm;function v5e(t){return m5e(t)?h5e(g5e(t)):p5e(t)}var y5e=v5e,_5e=qTe,b5e=a5e,E5e=Py,w5e=qo,x5e=y5e;function S5e(t){return typeof t=="function"?t:t==null?E5e:typeof t=="object"?w5e(t)?b5e(t[0],t[1]):_5e(t):x5e(t)}var T5e=S5e,C5e=T5e,M5e=yD;function A5e(t,e){return t&&t.length?M5e(t,C5e(e)):[]}var qU=A5e;function P5e({item:t,highlighted:e={}}){const n=Te(),i=dt("result no-button-styles project-result",{"danger-zone":t.dangerous});function o(s){n.actionInterface.selectAction(t.action,s)}return p.createElement("span",null,t.url?p.createElement("a",{className:i,href:t.url,target:"_blank",rel:"noopener noreferrer"},p.createElement(tt,{icon:t.emojiName}),p.createElement("div",{className:"result-name"},e.name||t.name)):p.createElement("button",{className:i,onClick:o},p.createElement(tt,{icon:t.emojiName}),p.createElement("div",{className:"result-name"},e.name||t.name)))}function YU({item:t,highlighted:e={}}){const n=Te(),o=()=>{n.selectFileByPathOrDefaultFile(t.path)};return p.createElement("span",{className:t.extensionType},p.createElement("button",{className:"result no-button-styles project-result",tabIndex:"0","data-path":t.path,onClick:o},t.recent&&p.createElement("div",{className:"result-tip"},"recent"),p.createElement("div",{className:"result-name"},e.name||t.name),t.path&&p.createElement("div",{className:"result-description"},e.path||t.path)))}var R5e=Object.freeze([{id:"\u{1F331}",name:"New File",emojiName:"seedling",action:"newFilePopToggle"},{name:"Rename Current File",emojiName:"eyes",action:"renameCurrentFile"},{id:"2\uFE0F\u20E3",name:"Copy/Duplicate Current File",emojiName:"two",action:"copyCurrentFile"},{id:"\u{1F4A3}",name:"Delete Current File",emojiName:"bomb",dangerous:!0,action:"deleteCurrentFile"},{id:"sidebarToggle",name:"Toggle Sidebar",emojiName:"arrowBackward",action:"sidebarToggle"},{id:"\u{1F5BC}",name:"Assets",emojiName:"framedPicture",action:"showAssets"},{id:"\u{1F30F}",name:"Share Project",emojiName:"earthAsia",action:"sharePopToggle"},{id:"\u{1F371}",name:"Embed Project",emojiName:"bentoBox",action:"shareEmbedOverlayToggle"},{id:"\u{1F310}",name:"Custom Domains",emojiName:"globeWithMeridians",action:"customDomainPopToggle"},{id:"\u{1F46F}",name:"Share Buttons",emojiName:"dancers",action:"shareButtonsPopToggle"},{id:"\u{1F3B9}",name:"Keyboard Shortcuts",emojiName:"musicalKeyboard",action:"keyboardShortcutOverlayToggle"},{id:"\u23EA",name:"Rewind Project",emojiName:"rewind",action:"rewindPanelToggle"},{id:"\u26D1",name:"Toggle Container Stats",emojiName:"helmetWithWhiteCross",action:"containerStatsPanelToggle"},{id:"\u{1F4F0}",name:"Toggle Logs",emojiName:"newspaper",action:"logsPanelToggle"},{id:"\u{1F4DF}",name:"Open Terminal",emojiName:"pager",action:"openConsole"},{id:"\u{1F308}",name:"Project and Editor Settings",emojiName:"rainbow",action:"projectOptionsPopToggle"},{id:"\u2728",name:"Create New Project",emojiName:"sparkles",action:"newOptionsPopToggle"},{id:"\u{1F3A4}",name:"Remix Project",emojiName:"microphone",action:"remixProject"},{id:"\u{1F33A}",name:"Switch Project",emojiName:"hibiscus",action:"switchProjectPopToggle"},{id:"\u{1F5FC}",name:"Git, Import, Export",emojiName:"tokyoTower",action:"gitImportExportPopToggle"},{id:"importGH",name:"Import from GitHub",emojiName:"octocat",action:"importFromGitHub"},{id:"exportGH",name:"Export to GitHub",emojiName:"octocat",action:"exportToGitHub"},{id:"\u{1F422}",name:"Download Project",emojiName:"turtle",action:"downloadProject"},{id:"\u{1F4A4}project",name:"Archive this Project",emojiName:"zzz",dangerous:!0,action:"deleteCurrentProject"},{id:"\u{1F38F}about",name:"About Glitch",emojiName:"carpStreamer",action:"aboutPopToggle"},{id:"\u{1F691}",name:"Community and Support Forum",emojiName:"ambulance",url:"https://support.glitch.com"},{id:"\u{1F436}",name:"New Stuff",emojiName:"dogFace",action:"newStuffOverlayToggle"},{id:"\u{1F6A5}",name:"System Status",emojiName:"horizontalTrafficLight",url:"https://status.glitch.com/"},{id:"\u{1F469}\u200D\u{1F4BB}",name:"Your Account",emojiName:"femaleTechnologist",action:"accountToggle"},{id:"\u{1F319}",name:"Change Theme",emojiName:"crescentMoon",action:"changeTheme"},{id:"\u{1F300}",name:"Toggle Refresh App on Changes",emojiName:"cyclone",action:"refreshPreviewOnChangesToggle"},{id:"\u{1F501}",name:"Toggle Wrap Text",emojiName:"refresh",action:"wrapTextToggle"},{id:"\u{1F453}",name:"Show App Next to The Code",emojiName:"eyeglasses",action:"toggleAppPreview"}].map(Object.freeze)),Bu=-1/0,KU=1/0,XU=-.005,JU=-.005,ZU=-.01,k4=1,QU=.9,ej=.8,tj=.7,nj=.6;function L5e(t){return t.toLowerCase()===t}function I5e(t){return t.toUpperCase()===t}function O5e(t){for(var e=t.length,n=new Array(e),i="/",o=0;o<e;o++){var s=t[o];i==="/"?n[o]=QU:i==="-"||i==="_"||i===" "?n[o]=ej:i==="."?n[o]=nj:L5e(i)&&I5e(s)?n[o]=tj:n[o]=0,i=s}return n}function rj(t,e,n,i){for(var o=t.length,s=e.length,a=t.toLowerCase(),l=e.toLowerCase(),c=O5e(e),u=0;u<o;u++){n[u]=new Array(s),i[u]=new Array(s);for(var d=Bu,f=u===o-1?JU:ZU,h=0;h<s;h++)if(a[u]===l[h]){var v=Bu;u?h&&(v=Math.max(i[u-1][h-1]+c[h],n[u-1][h-1]+k4)):v=h*XU+c[h],n[u][h]=v,i[u][h]=d=Math.max(v,d+f)}else n[u][h]=Bu,i[u][h]=d=d+f}}function N5e(t,e){var n=t.length,i=e.length;if(!n||!i)return Bu;if(n===i)return KU;if(i>1024)return Bu;var o=new Array(n),s=new Array(n);return rj(t,e,o,s),s[n-1][i-1]}function k5e(t,e){var n=t.length,i=e.length,o=new Array(n);if(!n||!i)return o;if(n===i){for(var s=0;s<n;s++)o[s]=s;return o}if(i>1024)return o;var a=new Array(n),l=new Array(n);rj(t,e,a,l);for(var c=!1,s=n-1,u=i-1;s>=0;s--)for(;u>=0;u--)if(a[s][u]!==Bu&&(c||a[s][u]===l[s][u])){c=s&&u&&l[s][u]===a[s-1][u-1]+k4,o[s]=u--;break}return o}function D5e(t,e){t=t.toLowerCase(),e=e.toLowerCase();for(var n=t.length,i=0,o=0;i<n;i+=1)if(o=e.indexOf(t[i],o)+1,o===0)return!1;return!0}var ij={SCORE_MIN:Bu,SCORE_MAX:KU,SCORE_GAP_LEADING:XU,SCORE_GAP_TRAILING:JU,SCORE_GAP_INNER:ZU,SCORE_MATCH_CONSECUTIVE:k4,SCORE_MATCH_SLASH:QU,SCORE_MATCH_WORD:ej,SCORE_MATCH_CAPITAL:tj,SCORE_MATCH_DOT:nj,score:N5e,positions:k5e,hasMatch:D5e},F5e=Lk,sj=/[\\^$.*+?()[\]{}|]/g,U5e=RegExp(sj.source);function j5e(t){return t=F5e(t),t&&U5e.test(t)?t.replace(sj,"\\$&"):t}var oj=j5e;function B5e(t){return t}function K_(t,e,n=B5e){const i=new RegExp(e.split("").map(oj).join(".*?"));return t.filter(a=>n(a).match(i)).map(a=>{const l=n(a);return{item:a,score:ij.score(e,l),matches:ij.positions(e,l)}})}function V5e(t,e){return t.type==="file"&&e.type==="action"?-1:e.type==="file"&&t.type==="action"?1:e.score-t.score}function H5e(t){const n=t.recentFiles().slice().reverse().filter(o=>t.fileByPath(o.path()));return qU(n,o=>o.path()).slice(0,5)}function z5e(){const t=Te();return j(K.exports.useCallback(()=>H5e(t).map(e=>p.createElement(YU,{item:{path:e.path(),extensionType:e.extensionType(),name:e.name(),recent:!0},key:e.uuid()})),[t]))}function D4({children:t,indices:e}){let n=0;return p.createElement(p.Fragment,null,e.map(i=>{const o=n;return n=i+1,p.createElement(p.Fragment,{key:i},t.slice(o,i),p.createElement("span",{className:"result-match"},t.slice(i,i+1)))}),t.slice(n))}function G5e({query:t}){const e=Te(),n=j(e.recentFiles);return j(K.exports.useCallback(()=>{const o=e.files().filter(f=>f.path()!==vc).map(f=>({path:f.path(),extensionType:f.extensionType(),name:f.name(),recent:n.some(h=>h.path()===f.path())})),s=t.toLowerCase(),l=K_(o,s,f=>f.path.toLowerCase()).map(f=>qe(he({},f),{type:"file",highlighted:{path:p.createElement(D4,{indices:f.matches},f.item.path),name:p.createElement(D4,{indices:f.matches.map(h=>h-(f.item.path.length-f.item.name.length)).filter(h=>h>=0)},f.item.name)}})),u=K_(R5e,s,f=>f.name.toLowerCase()).map(f=>qe(he({},f),{type:"action",highlighted:{name:p.createElement(D4,{indices:f.matches},f.item.name)}}));return l.concat(u).sort(V5e).map(({item:f,highlighted:h,type:v},m)=>v==="file"?p.createElement(YU,{item:f,highlighted:h,key:`file-${m}`}):p.createElement(P5e,{item:f,highlighted:h,key:`action-${m}`}))},[t,e,n]))}function $5e(){const t=Te(),e=j(t.projectSearchPopVisible),n=j(t.projectIsLoaded),i=j(t.projectSearchBoxValue),o=()=>{t.analytics.track("Project Searched",{searchTarget:"Project Search",searchTerm:i}),t.fileSearch.searchValue(i),t.fileSearch.search(),t.closeAllPopOvers(),t.projectSearchFilesOverlayVisible(!0)};return e?p.createElement("dialog",{id:"project-search-pop",className:"pop-over project-search-pop","data-testid":"project-search-pop"},p.createElement("section",{className:"actions results-list"},!n&&p.createElement("div",{className:"loader-ellipses"}),p.createElement("ul",{className:"results"},i.length===0?p.createElement(z5e,null):p.createElement(G5e,{query:i}))),i.length!==0&&p.createElement("section",{className:"info"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button",onClick:o,tabIndex:"0"},"search files for '",i,"'")))):null}var W5e=B5,q5e="Expected a function";function Y5e(t,e){var n;if(typeof e!="function")throw new TypeError(q5e);return t=W5e(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var K5e=Y5e,X5e=K5e;function J5e(t){return X5e(2,t)}var Z5e=J5e;function aj({project:t}){const e=j(t.avatar),n=j(t.domain),i=j(t.description),o=j(t.private);return p.createElement(p.Fragment,null,e?p.createElement("img",{className:"avatar",src:e,alt:`Avatar for project ${n}`}):p.createElement(tt,{icon:"bentoBox"}),p.createElement("div",{className:"result-name"},o&&p.createElement("span",{className:"private-icon"}),n),p.createElement("div",{className:"result-description"},i))}function Q5e(t,e){return!!(e&&t.metaKey||!e&&t.ctrlKey)}function e4e({project:t,onClick:e}){const n=j(t.editorUrl);return p.createElement("li",{className:"result"},p.createElement("a",{className:"no-select",role:"button",tabIndex:0,onClick:e,href:n,onKeyPress:ur(e)},p.createElement(aj,{project:t})))}const t4e=Z5e(t=>{t.fetchUserProjects()});function n4e(){const t=Te(),e=j(t.projectListIsLoaded),[n,i]=K.exports.useState("");K.exports.useEffect(()=>{t4e(t)},[t]);const o=l=>{i(""),t.projectsSelectPopVisible(!1),Q5e(l,t.isMacOS)||t.rewindPanelVisible(!1)},s=j(K.exports.useCallback(()=>{const l=t.currentProject(),c=t.projects().filter(h=>l?h.id()!==l.id():!0),u=n.toLowerCase().trim(),d=K_(c,u,h=>h.domain().toLowerCase()),f=K_(c,u,h=>h.description().toLowerCase());return qU([...d,...f],h=>h.item).sort((h,v)=>v.score-h.score).map(({item:h})=>h).map(h=>({key:h.id(),project:h}))},[n,t])),a=K.exports.useCallback(l=>{l&&l.focus()},[]);return p.createElement("dialog",{className:"pop-over project-select-pop"},p.createElement("section",{role:"presentation",className:"info"},p.createElement("h1",null,"Your Projects ",p.createElement(tt,{icon:"hibiscus"}))),p.createElement("section",{className:"info"},p.createElement("div",{className:"input-wrap"},p.createElement("input",{id:"project-search",className:"input search-input",value:n,"aria-label":"Search Projects",placeholder:"Search Projects",onChange:l=>i(l.target.value),ref:a}))),p.createElement("section",{className:"actions results-list swapped-li-a"},e?p.createElement("ul",{className:"results"},s.map(({key:l,project:c})=>p.createElement(e4e,{key:l,project:c,onClick:u=>o(u)}))):p.createElement("div",{className:"projects-list-loading"},p.createElement(mn,null))))}function r4e(){const t=Te();return j(t.projectsSelectPopVisible)?p.createElement(n4e,null):null}function i4e({project:t,onClick:e}){const n=j(t.remixUrl);return p.createElement("li",{className:"result"},p.createElement("a",{className:"no-select",tabIndex:0,href:n,onClick:e,onKeyPress:ur(e)},p.createElement(aj,{project:t})))}function s4e(){const t=Te(),e=j(t.newProjectPopVisible),n=()=>{t.newProjectPopVisible(!1)},i=j(K.exports.useCallback(()=>t.newProjectTemplates().map(s=>yc(s)).map(s=>({key:s.id(),project:s})),[t])),o=()=>{t.closeAllPopOvers();const s=window.prompt("Paste the full URL of your repository","https://github.com/orgname/reponame.git");if(!!s)try{if(new URL(s).username)throw new Error("We can't import repo URLs with credentials in them");t.history.push(`/import/git?url=${s}`)}catch(a){a.message.includes("Invalid URL")?t.notifyGenericError({message:"That doesn't look like a valid git repo URL. Please check and try again"}):a.message?t.notifyGenericError({message:a.message}):t.notifyGenericError()}};return e?p.createElement("dialog",{className:"pop-over new-project-pop"},p.createElement("section",{role:"presentation"},p.createElement("h1",null,"New Project ",p.createElement(tt,{icon:"sparkles"}))),p.createElement("section",{className:"actions results-list swapped-li-a"},p.createElement("ul",{className:"results"},i.map(({key:s,project:a})=>p.createElement(i4e,{key:s,project:a,onClick:()=>n()})))),p.createElement("section",{className:"info"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button",onClick:o,"data-testid":"new-project-from-github-button"},"Import from GitHub")))):null}function o4e(){const t=Te(),e=j(t.smallViewportOptionsPopVisible),n=j(t.currentUserAvatarUrl),i=j(t.projectAccessLevelForCurrentUser),o=j(t.currentUser),s=j(K.exports.useCallback(()=>o?o.name():null,[o])),a=j(K.exports.useCallback(()=>!!o&&o.loggedIn(),[o])),l=K.exports.useRef();return e?p.createElement("dialog",{className:"pop-over small-viewport-options-pop",ref:l},p.createElement("section",{className:"info"},p.createElement("h1",null,"Hello ",s)),p.createElement("section",{className:"actions"},a?p.createElement("button",{className:"button",onClick:()=>{t.accountPopVisible(!0),t.smallViewportOptionsPopVisible(!1)}},"Your Account ",p.createElement("span",{className:"emoji avatar",style:{backgroundImage:`url(${n})`}})):p.createElement("a",{href:"//glitch.com/signin",className:"onboarding-tip-link",onClick:t.setDestinationAfterAuth},p.createElement("div",{className:"onboarding-tip onboarding-tip-wholly-clickable"},p.createElement("div",null,p.createElement("strong",null,"Create an account")," ",i>=Tt.MEMBER?"to keep this project, and edit it from anywhere.":"to save your favorite apps."),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button button-cta button-small"},"Create an Account"))))),p.createElement("section",{className:"actions"},p.createElement("button",{className:"button",onClick:()=>{t.aboutPopVisible(!0),t.smallViewportOptionsPopVisible(!1)}},"Glitch ",p.createElement(tt,{icon:"glitchLogo"})))):null}function lj(e){var t=cn(e,[]);const n=Te(),i=j(K.exports.useCallback(()=>n.currentUser().awaitingInvite(),[n])),o=j(n.currentUserOnAnyCurrentProjectTeam),s=j(n.projectIsReadOnlyForCurrentUser),a=j(n.editorIsEmbedded),l=!s||i;return l||a?null:p.createElement(p.Fragment,null,!l&&p.createElement(Dn,he({sx:{fontSize:0},onClick:n.askToJoinProject},t),o?"Join Project":"Request to Join"))}function a4e({team:t}){const e=j(t.name),n=j(t.avatarUrl),i=j(t.teamPageUrl);return p.createElement(zv,{external:!0,variant:"blank",href:i,target:"_blank"},p.createElement(un,{sx:{gap:2,alignItems:"center"}},p.createElement(Id,{src:n,styles:{width:"24px",height:"24px"}}),p.createElement(Er,{sx:{color:"primary",letterSpacing:0}},e)))}const Gf={sx:{paddingX:3,paddingY:2,fontSize:0,border:"2px solid",borderColor:"text",letterSpacing:"0.1em",alignContent:"center",fontFamily:"monospace",cursor:"pointer",alignItems:"center"}},l4e={sx:he({backgroundColor:"shareButton",color:"white"},Gf.sx)};function c4e({teams:t}){return p.createElement(p.Fragment,null,t.map(({id:e,team:n})=>p.createElement(Vn,{key:e},p.createElement(a4e,{team:n}))))}const xg=({key:t,url:e,children:n})=>p.createElement(Vn,{key:t},p.createElement(zv,{external:!0,variant:"blank",href:e,target:"_blank"},n));function u4e({currentUser:t}){fo();const e=j(t.thanksCount),n=j(p.useCallback(()=>t.teams().map(i=>({team:i,id:i.id()})),[t]));return p.createElement(p.Fragment,null,p.createElement(xg,{key:"projects",url:"/dashboard"},"Your Projects"),p.createElement(xg,{key:"settings",url:"/settings"},"Account Settings"),p.createElement(xg,{key:"forum",url:"https://support.glitch.com"},"Forum"),p.createElement(xg,{key:"service",url:"https://status.glitch.com/"},"Service Status"),p.createElement(xg,{key:"help",url:"https://help.glitch.com/home/"},"Help"),e>0&&p.createElement(p.Fragment,null,p.createElement(iu,null),p.createElement(Vn,{key:"thanks"},p.createElement(Jt,{emoji:"\u{1F496}"})," You've been thanked ",e," time",e>1&&"s"),p.createElement(iu,null)),p.createElement(c4e,{teams:n}),p.createElement(iu,null),p.createElement(Vn,{key:"logout"},p.createElement(Dn,{sx:{fontWeight:400}},"Sign out")))}function d4e({user:t}){const e=Te(),n=j(e.currentProject),i=j(e.currentUser),o=j(t.profileUrl),s=j(t.color),a=j(t.name),l=j(t.login),c=j(t.isOnline),u=t===i,d=j(K.exports.useCallback(()=>n&&n.accessLevel(t),[n,t])),f=j(K.exports.useCallback(()=>n&&n.accessLevel(i),[n,i])),h=j(t.thanksCount),v=j(t.isThankedByCurrentUser),m=h===1?"time":"times",_=j(e.canBroadcast),S=j(K.exports.useCallback(()=>n&&n.users().length>1,[n])),E=j(K.exports.useCallback(()=>n&&n.name(),[n])),w=j(e.currentUserOnAnyCurrentProjectTeam),T=j(t.awaitingInvite),[C]=fo(),P=j(K.exports.useCallback(()=>{const z=t.lastCursor();if(z&&z.cursor){const B=z.documentId,H=e.fileByUuid(B);if(!H)return;if(z.cursor){const W=z.cursor.line||0;return`${H.name()}, line ${W+1}`}return H.name()}},[e,t])),R=()=>{t.isThankedByCurrentUser()?t.removeThanks(e):(e.analytics.track("Thanks Given",{recipientId:t.id(),recipientHandle:t.login()}),t.addThanks(e))},A=()=>{e.acceptInviteRequest(t),e.closeAllPopOvers()},L=()=>{e.askToJoinProject()},k=()=>{const z=t.lastCursor();if(z){const{cursor:B,documentId:H}=z,{line:W}=B;e.selectFileByUuid(H).then(()=>{e.goToLine(W),e.closeAllPopOvers()})}},U=()=>{e.leaveCurrentProject(t),e.closeAllPopOvers()},N=()=>{var z;S?window.confirm(`Leave ${E}?`)&&(e.closeAllPopOvers(),e.rewindPanelVisible(!1),e.leaveCurrentProject(),e.analytics.track("Project Left",{projectMemberWhoLeft:t.login(),numberProjectMembers:((z=e.currentProject())==null?void 0:z.users().length)-1})):window.alert(`You can't leave ${E} because you are the only member.`)},I=()=>{e.acceptInviteRequest(t)},F=()=>{switch(d){case Tt.NONE:return"Project Visitor";case Tt.MEMBER:return"Project Member";case Tt.ADMIN:return"Project Owner";default:return""}},O=s,V=E2e`
    0% {
      background-color: #FEC1EE;
    }
    50% {
      background-color: #FED4F3;
    }
    100% {
      background-color: #FF7698;
    }
  `;return p.createElement(KQ,null,p.createElement(XQ,null,p.createElement(Id,{src:t.avatarUrl(),styles:{cursor:"pointer",backgroundColor:T?"#FF7698":O,animation:T&&`${V} 2.0s linear 1`,width:"32px",height:"32px",padding:1}})),p.createElement(JQ,null,p.createElement(ZQ,null),p.createElement(un,{sx:{flexDirection:"column",gap:2}},p.createElement(Qe,null,l||a?p.createElement(zv,{href:o,external:!0,target:"_blank",color:C==="light"?"brand.teal":"blueDark.2"},p.createElement(oI,{as:"h5"},a||l)):p.createElement(oI,{as:"h5"},"Anonymous")),l&&p.createElement(Er,{className:"login"},"@",l),p.createElement(Qe,null,p.createElement(Er,{sx:{fontFamily:"monospace",fontSize:"12px!important"}},F()),c&&!u&&p.createElement(QQ,{sx:{color:C==="light"?"green.5":"green.2"}},"Online")),u&&p.createElement(Er,null,"This is you!"),u&&h>0&&p.createElement(Qe,null,"You've been thanked ",h," ",m," ",p.createElement(Jt,{emoji:"\u{1F496}"})),p.createElement(Qe,null,T&&p.createElement(un,{sx:{flexDirection:"column"}},p.createElement(Dn,{onClick:I,variant:"chunky"},"Accept Request"))),!u&&l&&p.createElement("section",{className:"actions",style:{paddingBottom:"6px"}},p.createElement(Dn,{variant:"chunky",onClick:R},v?p.createElement(p.Fragment,null,"Thanked ",p.createElement(Jt,{emoji:"\u{1F496}"})):p.createElement(p.Fragment,null,"Thank ",p.createElement(Jt,{emoji:"\u{1F496}"}))),h>0&&p.createElement("div",{className:"thanks-count"},p.createElement("p",null,"Thanked ",h," ",m," ",p.createElement(Jt,{emoji:"\u{1F496}"})))),!u&&c&&P&&p.createElement(Qe,null,p.createElement(Er,{sx:{textTransform:"uppercase",fontWeight:"500",fontSize:"12px!important",color:"gray.4"}},P),p.createElement(Qe,null,p.createElement(Dn,{variant:"chunky",onClick:k},"Jump to Cursor"))),!u&&d>=Tt.MEMBER&&f>=Tt.MEMBER&&f>=d&&p.createElement(Qe,{className:"danger-zone"},p.createElement(Dn,{variant:"chunky",onClick:U},"Remove from Project ",p.createElement(Jt,{icon:"wave"}))),d<Tt.MEMBER&&!u&&f>=Tt.MEMBER&&p.createElement(Qe,null,p.createElement(Dn,{variant:"chunky",onClick:A},"Invite to Edit ",p.createElement(Jt,{icon:"thumbsUp"}))),f<Tt.MEMBER&&u&&_&&p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"join-project",className:"button button-small button-secondary",onClick:L},w?"Join This Team Project":"Request to Join Project"))),u&&f>=Tt.MEMBER&&S&&p.createElement("section",{className:"danger-zone"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"leave-project",className:"button",onClick:N},"Leave this Project ",p.createElement(Jt,{icon:"wave"})))))))}function f4e({currentUser:t}){const[e]=wSe();return p.createElement(p.Fragment,null,e.filter(n=>n.id!==t.id).map(n=>p.createElement(Qe,{key:n.id()},p.createElement(d4e,{user:n}))))}function h4e(){const t=Te(),e=j(t.userIsLoggingIn),n=j(t.currentUserIsLoggedIn),i=j(t.currentFileInfo),o=j(t.projectSearchBoxValue),s=j(t.currentUser),a=j(s.userAvatarUrl),l=j(t.currentProject),u=j(l==null?void 0:l.privacy)==="public"||s.isProUser,d=()=>{t.closeAllPopOvers(),t.projectSearchPopVisible(!0)};return p.createElement(a2,{as:"header",gap:2,sx:{alignItems:"center",marginY:[2,3,3],marginX:3}},p.createElement(Qe,{sx:{gridColumn:["1 / span 1"],gridRow:["1","1"]}},p.createElement("a",{href:"/dashboard"},p.createElement(qQ,{sx:{display:"block",height:"16px"}}))),p.createElement(un,{sx:{gridColumn:["2 / span 10","2 / span 6"],gridRow:["1","1"]}},p.createElement(c2,{id:"project-search-input",className:"search-input opens-pop-over",sx:{width:"100%",border:"1px solid",borderColor:"gray.2","::placeholder":{color:"gray.3"},padding:3},placeholder:i?i.path:"Project search",type:"text",name:"search",onFocus:()=>{d()},onBlur:()=>{},onClick:()=>{d()},onChange:f=>{d(),t.projectSearchBoxValue(f.target.value)},value:o,autoComplete:"off","aria-label":"Project search"}),p.createElement($5e,null)),p.createElement(un,{sx:{gap:2,gridRow:["2","1"],gridColumn:["1 / span 12","8 / span 3"],flexDirection:["row"],alignItems:"stretch",justifyContent:"center"}},p.createElement(lj,he({},Gf)),p.createElement(as,he({icon:p.createElement(Jt,{emoji:"\u26A1"}),onClick:()=>{u&&(t.closeAllPopOvers(),t.remixCurrentProject())},disabled:!u},Gf),"Remix"),n&&l&&p.createElement(sI,{title:"Share Project",passThroughTrigger:p.createElement(as,he({icon:p.createElement(YQ,{sx:{marginTop:"3px"}},p.createElement(kwe,null))},l4e),"Share")},()=>p.createElement(mU,{currentProject:l}))),p.createElement(Qe,{sx:{paddingX:2,gridRow:["2","1"],gridColumn:["11 / span 3","10 / span 2"],justifySelf:"end"}},p.createElement(un,null,e&&p.createElement(mn,null),n&&p.createElement(Qe,null,p.createElement(Rd,null,p.createElement(Ld,null,p.createElement(Id,{src:a,styles:{cursor:"pointer",height:"32px",width:"32px"}})," ",p.createElement(CF,{style:{position:"relative",top:"5px"}})),p.createElement(Od,{sx:{minWidth:"250px",paddingBottom:"12px"}},p.createElement(un,{sx:{gap:3,alignItems:"top",padding:3}},p.createElement(Id,{src:a,size:32,styles:{marginTop:1}}),p.createElement(un,{sx:{flexDirection:"column"}},p.createElement(Qe,null,p.createElement(Er,{sx:{fontWeight:"bold",display:"block"}},s.name()),p.createElement(Er,{style:{fontSize:"14px",fontWeight:400,marginLeft:"-1px",color:""}},"@",s.login())))),p.createElement(u4e,{currentUser:s})))))),p.createElement(Qe,{sx:{gridRow:["1","1"],gridColumn:["12 / span 2","8 / span 1"]}},p.createElement(un,{sx:{justifySelf:"end","div:nth-child(n+2)":{marginLeft:"-10px"}}},p.createElement(f4e,{currentUser:s}))),p.createElement(CSe,null),p.createElement(LSe,null),p.createElement(ISe,null),p.createElement(r4e,null),p.createElement(s4e,null),p.createElement(o4e,null))}function p4e(){const t=Te();return j(t.editorIsEmbedded)?null:p.createElement(p.Fragment,null,p.createElement(h4e,null))}var m4e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,g4e=pI(function(t){return m4e.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),v4e=g4e,y4e=function(e){return e!=="theme"},cj=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?v4e:y4e},uj=function(e,n,i){var o;if(n){var s=n.shouldForwardProp;o=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof o!="function"&&i&&(o=e.__emotion_forwardProp),o},_4e=function(){return null},b4e=function t(e,n){var i=e.__emotion_real===e,o=i&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var l=uj(e,n,i),c=l||cj(o),u=!c("as");return function(){var d=arguments,f=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{f.push(d[0][0]);for(var h=d.length,v=1;v<h;v++)f.push(d[v],d[0][v])}var m=y2e(function(_,S,E){var w=u&&_.as||o,T="",C=[],P=_;if(_.theme==null){P={};for(var R in _)P[R]=_[R];P.theme=K.exports.useContext(_2e)}typeof _.className=="string"?T=f2e(S.registered,C,_.className):_.className!=null&&(T=_.className+" ");var A=VF(f.concat(C),S.registered,P);h2e(S,A,typeof w=="string"),T+=S.key+"-"+A.name,a!==void 0&&(T+=" "+a);var L=u&&l===void 0?cj(w):c,k={};for(var U in _)u&&U==="as"||L(U)&&(k[U]=_[U]);k.className=T,k.ref=E;var N=K.exports.createElement(w,k),I=K.exports.createElement(_4e,null);return K.exports.createElement(K.exports.Fragment,null,I,N)});return m.displayName=s!==void 0?s:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=f,m.__emotion_forwardProp=l,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(_,S){return t(_,fs({},n,S,{shouldForwardProp:uj(m,S,!0)})).apply(void 0,f)},m}},E4e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],F4=b4e.bind();E4e.forEach(function(t){F4[t]=F4(t)});function w4e({template:t,templateName:e}){const{createNotification:n,removeNotification:i}=Bl(),o=Te(),s=`notify${e}`,a=o[s],l=j(a),[c,u]=K.exports.useState(null);return K.exports.useEffect(()=>{const d=Boolean(l),f=c!==null;if(d===!0&&f===!1){const h=n(v=>p.createElement(t,qe(he({application:o},v),{"data-testid":s,onAnimationEnd:()=>{v.onClose(),a(!1)},onClose:()=>{v.onClose(),a(!1)}}))).id;u(h)}else d===!1&&f===!0&&(i(c),u(null))},[o,n,c,s,a,i,u,l,t]),null}const x4e=["Click \u201CShow\u201D to see your app","Drag in images and files to add them to your project","Search for and add third party libraries in package.json","Securely store app secrets and config in .env","Collaborate live with friends by inviting them to your project","Rewind to fix mistakes and catch up on changes",'Turn your code into a perfectly formatted masterpiece with the "Format This File" button'],S4e=Ye.p`
  position: absolute;
  bottom: 45px;
  font-size: 12px;
  margin: 0;
  padding: 0 2rem;
  text-align: center;
  color: var(--variable-shim-text-on-secondary-background);

  a {
    color: inherit;
  }
`;function T4e(){const t=Te(),e=j(t.projectIsLoaded),n=K.exports.useRef();return n.current||(n.current=HD(x4e)),e?null:p.createElement("section",{className:"blank-slate blank-slate-full-width"},p.createElement("div",{className:"welcome-message"},p.createElement("p",null,p.createElement("strong",null,"Loading Project")),p.createElement(mn,null),p.createElement("p",null,p.createElement("em",null,"Glitch Tip!"),p.createElement("br",null),n.current)),p.createElement(S4e,null,"This site is protected by reCAPTCHA and the Google ",p.createElement("a",{href:"https://policies.google.com/privacy"},"Privacy Policy")," and"," ",p.createElement("a",{href:"https://policies.google.com/terms"},"Terms of Service")," apply."))}function C4e(){const t=Te(),e=j(t.currentUserIsLoggedIn),n=j(t.userIsLoggingIn),i=j(t.editorIsEmbedded),o=j(t.newStuffNotificationVisible)&&!i,s=j(t.projectIsMemberOrMoreForCurrentUser),a=_4("(max-width: 580px)"),l=c=>{t.analytics.track("Pupdate Viewed",{clickLocation:"Editor"}),t.newStuffNotificationVisible(!1),t.newStuffOverlayVisible(!0),c.stopPropagation()};return p.createElement("footer",{className:"footer-options"},a&&n&&p.createElement(mn,null),a&&!i&&!e&&s&&p.createElement(Dn,he({as:"a",external:!0,href:"//glitch.com/signin",onClick:t.setDestinationAfterAuth},Gf),"Sign In"),o&&p.createElement("div",{className:"button-wrap new-stuff opens-pop-over",role:"button",onClick:l},p.createElement("figure",{className:"new-stuff-doggo","data-tooltip":"New","data-tooltip-top":!0,"data-tooltip-notification":!0,"data-tooltip-persistent":!0})))}function M4e({children:t,accept:e,multiple:n,onSelection:i}){const o=K.exports.useRef();return p.createElement(p.Fragment,null,p.createElement(as,{icon:p.createElement(Jt,{emoji:"\u{1F4E4}",sx:{marginTop:"4px"}}),variant:"blank",onClick:()=>{o.current.click()},sx:{textTransform:"uppercase",fontWeight:"500",fontSize:"11px",color:"gray.4",marginRight:"12px",backgroundColor:"background",borderRadius:"10px",paddingX:"15px","&:hover":{color:"text.0",outline:"1px solid",outlineColor:"gray.2"}}},t),p.createElement("input",{ref:o,type:"file",onChange:s=>{i(Array.from(s.target.files))},accept:e,multiple:n,hidden:!0}))}const A4e=Ye.span`
  font-size: 12px;
  margin-left: 5px;
`;function P4e(){const t=Te(),e=j(t.currentProject),n=j(e==null?void 0:e.privacy),i=j(t.projectIsReadOnlyForCurrentUser),o=K.exports.useRef(),[s]=fo();return o.current||(o.current=q_()(t)),i?null:p.createElement(un,{sx:{backgroundColor:"backgroundSecondary",alignContent:"center",alignItems:"center",gap:2,height:"48px",minHeight:"48px",marginBottom:3}},p.createElement(Qe,{sx:{backgroundColor:"background",paddingY:"16px",paddingX:"16px",fontSize:"13px",fontWeight:"bold",minHeight:"48px",color:s==="dark"?"text.0":"text.1"}},"Assets"),p.createElement(un,{sx:{gap:2,alignItems:"flex-start",paddingLeft:"12px",fontFamily:"body",lineHeight:"20px"}},p.createElement(M4e,{accept:"image/*,audio/*,video/*,model/*,.glb,.gltf",onSelection:a=>{t.closeAllPopOvers(),a.forEach(l=>{o.current.addAssetFile(l)})}},"Upload an Asset"),n!=="public"?p.createElement(A4e,null,"*URLs for assets are public.",p.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://glitch.happyfox.com/kb/article/94-who-can-see-the-assets-in-my-project/"},"Learn more"),"."):null))}function R4e(){return p.createElement("div",{className:"blank-slate blank-slate-with-editor-helper"},p.createElement("div",{className:"welcome-message welcome-message-with-image"},p.createElement("div",null,p.createElement("p",null,p.createElement("strong",null,"No Assets Yet")),p.createElement("p",null,"Drag files here to use them in your project.",p.createElement("br",null),"Add images, music, and more."))))}var $f={};function L4e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var I4e=function(t,e,n,i){e=e||"&",n=n||"=";var o={};if(typeof t!="string"||t.length===0)return o;var s=/\+/g;t=t.split(e);var a=1e3;i&&typeof i.maxKeys=="number"&&(a=i.maxKeys);var l=t.length;a>0&&l>a&&(l=a);for(var c=0;c<l;++c){var u=t[c].replace(s,"%20"),d=u.indexOf(n),f,h,v,m;d>=0?(f=u.substr(0,d),h=u.substr(d+1)):(f=u,h=""),v=decodeURIComponent(f),m=decodeURIComponent(h),L4e(o,v)?Array.isArray(o[v])?o[v].push(m):o[v]=[o[v],m]:o[v]=m}return o},Sg=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},O4e=function(t,e,n,i){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(o){var s=encodeURIComponent(Sg(o))+n;return Array.isArray(t[o])?t[o].map(function(a){return s+encodeURIComponent(Sg(a))}).join(e):s+encodeURIComponent(Sg(t[o]))}).join(e):i?encodeURIComponent(Sg(i))+n+encodeURIComponent(Sg(t)):""};$f.decode=$f.parse=I4e;$f.encode=$f.stringify=O4e;var X_={exports:{}};/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */X_.exports=U4e;X_.exports.format=dj;X_.exports.parse=fj;var N4e=/\B(?=(\d{3})+(?!\d))/g,k4e=/(?:\.0*|(\.[^0]+)0+)$/,Wf={b:1,kb:1<<10,mb:1<<20,gb:1<<30,tb:(1<<30)*1024},D4e=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},F4e=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i;function U4e(t,e){return typeof t=="string"?fj(t):typeof t=="number"?dj(t,e):null}function dj(t,e){if(!D4e(t))return null;var n=Math.abs(t),i=e&&e.thousandsSeparator||"",o=e&&e.unitSeparator||"",s=e&&e.decimalPlaces!==void 0?e.decimalPlaces:2,a=Boolean(e&&e.fixedDecimals),l="B";n>=Wf.tb?l="TB":n>=Wf.gb?l="GB":n>=Wf.mb?l="MB":n>=Wf.kb&&(l="kB");var c=t/Wf[l.toLowerCase()],u=c.toFixed(s);return a||(u=u.replace(k4e,"$1")),i&&(u=u.replace(N4e,i)),u+o+l}function fj(t){if(typeof t=="number"&&!isNaN(t))return t;if(typeof t!="string")return null;var e=F4e.exec(t),n,i="b";return e?(n=parseFloat(e[1]),i=e[4].toLowerCase()):(n=parseInt(t,10),i="b"),Math.floor(Wf[i]*n)}var U4=X_.exports;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const hj=typeof window!="undefined"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0,j4=(t,e,n=null)=>{for(;e!==n;){const i=e.nextSibling;t.removeChild(e),e=i}};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Za=`{{lit-${String(Math.random()).slice(2)}}}`,pj=`<!--${Za}-->`,mj=new RegExp(`${Za}|${pj}`),Tg="$lit$";class gj{constructor(e,n){this.parts=[],this.element=n;const i=[],o=[],s=document.createTreeWalker(n.content,133,null,!1);let a=0,l=-1,c=0;const{strings:u,values:{length:d}}=e;for(;c<d;){const f=s.nextNode();if(f===null){s.currentNode=o.pop();continue}if(l++,f.nodeType===1){if(f.hasAttributes()){const h=f.attributes,{length:v}=h;let m=0;for(let _=0;_<v;_++)vj(h[_].name,Tg)&&m++;for(;m-- >0;){const _=u[c],S=B4.exec(_)[2],E=S.toLowerCase()+Tg,w=f.getAttribute(E);f.removeAttribute(E);const T=w.split(mj);this.parts.push({type:"attribute",index:l,name:S,strings:T}),c+=T.length-1}}f.tagName==="TEMPLATE"&&(o.push(f),s.currentNode=f.content)}else if(f.nodeType===3){const h=f.data;if(h.indexOf(Za)>=0){const v=f.parentNode,m=h.split(mj),_=m.length-1;for(let S=0;S<_;S++){let E,w=m[S];if(w==="")E=Ec();else{const T=B4.exec(w);T!==null&&vj(T[2],Tg)&&(w=w.slice(0,T.index)+T[1]+T[2].slice(0,-Tg.length)+T[3]),E=document.createTextNode(w)}v.insertBefore(E,f),this.parts.push({type:"node",index:++l})}m[_]===""?(v.insertBefore(Ec(),f),i.push(f)):f.data=m[_],c+=_}}else if(f.nodeType===8)if(f.data===Za){const h=f.parentNode;(f.previousSibling===null||l===a)&&(l++,h.insertBefore(Ec(),f)),a=l,this.parts.push({type:"node",index:l}),f.nextSibling===null?f.data="":(i.push(f),l--),c++}else{let h=-1;for(;(h=f.data.indexOf(Za,h+1))!==-1;)this.parts.push({type:"node",index:-1}),c++}}for(const f of i)f.parentNode.removeChild(f)}}const vj=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},yj=t=>t.index!==-1,Ec=()=>document.createComment(""),B4=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const V4=133;function _j(t,e){const{element:{content:n},parts:i}=t,o=document.createTreeWalker(n,V4,null,!1);let s=Cg(i),a=i[s],l=-1,c=0;const u=[];let d=null;for(;o.nextNode();){l++;const f=o.currentNode;for(f.previousSibling===d&&(d=null),e.has(f)&&(u.push(f),d===null&&(d=f)),d!==null&&c++;a!==void 0&&a.index===l;)a.index=d!==null?-1:a.index-c,s=Cg(i,s),a=i[s]}u.forEach(f=>f.parentNode.removeChild(f))}const j4e=t=>{let e=t.nodeType===11?0:1;const n=document.createTreeWalker(t,V4,null,!1);for(;n.nextNode();)e++;return e},Cg=(t,e=-1)=>{for(let n=e+1;n<t.length;n++){const i=t[n];if(yj(i))return n}return-1};function B4e(t,e,n=null){const{element:{content:i},parts:o}=t;if(n==null){i.appendChild(e);return}const s=document.createTreeWalker(i,V4,null,!1);let a=Cg(o),l=0,c=-1;for(;s.nextNode();)for(c++,s.currentNode===n&&(l=j4e(e),n.parentNode.insertBefore(e,n));a!==-1&&o[a].index===c;){if(l>0){for(;a!==-1;)o[a].index+=l,a=Cg(o,a);return}a=Cg(o,a)}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const V4e=new WeakMap,Mg=t=>typeof t=="function"&&V4e.has(t);/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Co={},bj={};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class H4{constructor(e,n,i){this.__parts=[],this.template=e,this.processor=n,this.options=i}update(e){let n=0;for(const i of this.__parts)i!==void 0&&i.setValue(e[n]),n++;for(const i of this.__parts)i!==void 0&&i.commit()}_clone(){const e=hj?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],i=this.template.parts,o=document.createTreeWalker(e,133,null,!1);let s=0,a=0,l,c=o.nextNode();for(;s<i.length;){if(l=i[s],!yj(l)){this.__parts.push(void 0),s++;continue}for(;a<l.index;)a++,c.nodeName==="TEMPLATE"&&(n.push(c),o.currentNode=c.content),(c=o.nextNode())===null&&(o.currentNode=n.pop(),c=o.nextNode());if(l.type==="node"){const u=this.processor.handleTextExpression(this.options);u.insertAfterNode(c.previousSibling),this.__parts.push(u)}else this.__parts.push(...this.processor.handleAttributeExpressions(c,l.name,l.strings,this.options));s++}return hj&&(document.adoptNode(e),customElements.upgrade(e)),e}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Ej=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),H4e=` ${Za} `;class wj{constructor(e,n,i,o){this.strings=e,this.values=n,this.type=i,this.processor=o}getHTML(){const e=this.strings.length-1;let n="",i=!1;for(let o=0;o<e;o++){const s=this.strings[o],a=s.lastIndexOf("<!--");i=(a>-1||i)&&s.indexOf("-->",a+1)===-1;const l=B4.exec(s);l===null?n+=s+(i?H4e:pj):n+=s.substr(0,l.index)+l[1]+l[2]+Tg+l[3]+Za}return n+=this.strings[e],n}getTemplateElement(){const e=document.createElement("template");let n=this.getHTML();return Ej!==void 0&&(n=Ej.createHTML(n)),e.innerHTML=n,e}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const z4=t=>t===null||!(typeof t=="object"||typeof t=="function"),G4=t=>Array.isArray(t)||!!(t&&t[Symbol.iterator]);class xj{constructor(e,n,i){this.dirty=!0,this.element=e,this.name=n,this.strings=i,this.parts=[];for(let o=0;o<i.length-1;o++)this.parts[o]=this._createPart()}_createPart(){return new Sj(this)}_getValue(){const e=this.strings,n=e.length-1,i=this.parts;if(n===1&&e[0]===""&&e[1]===""){const s=i[0].value;if(typeof s=="symbol")return String(s);if(typeof s=="string"||!G4(s))return s}let o="";for(let s=0;s<n;s++){o+=e[s];const a=i[s];if(a!==void 0){const l=a.value;if(z4(l)||!G4(l))o+=typeof l=="string"?l:String(l);else for(const c of l)o+=typeof c=="string"?c:String(c)}}return o+=e[n],o}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class Sj{constructor(e){this.value=void 0,this.committer=e}setValue(e){e!==Co&&(!z4(e)||e!==this.value)&&(this.value=e,Mg(e)||(this.committer.dirty=!0))}commit(){for(;Mg(this.value);){const e=this.value;this.value=Co,e(this)}this.value!==Co&&this.committer.commit()}}class J_{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(Ec()),this.endNode=e.appendChild(Ec())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=Ec()),e.__insert(this.endNode=Ec())}insertAfterPart(e){e.__insert(this.startNode=Ec()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(this.startNode.parentNode===null)return;for(;Mg(this.__pendingValue);){const n=this.__pendingValue;this.__pendingValue=Co,n(this)}const e=this.__pendingValue;e!==Co&&(z4(e)?e!==this.value&&this.__commitText(e):e instanceof wj?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):G4(e)?this.__commitIterable(e):e===bj?(this.value=bj,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const n=this.startNode.nextSibling;e=e==null?"":e;const i=typeof e=="string"?e:String(e);n===this.endNode.previousSibling&&n.nodeType===3?n.data=i:this.__commitNode(document.createTextNode(i)),this.value=e}__commitTemplateResult(e){const n=this.options.templateFactory(e);if(this.value instanceof H4&&this.value.template===n)this.value.update(e.values);else{const i=new H4(n,e.processor,this.options),o=i._clone();i.update(e.values),this.__commitNode(o),this.value=i}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const n=this.value;let i=0,o;for(const s of e)o=n[i],o===void 0&&(o=new J_(this.options),n.push(o),i===0?o.appendIntoPart(this):o.insertAfterPart(n[i-1])),o.setValue(s),o.commit(),i++;i<n.length&&(n.length=i,this.clear(o&&o.endNode))}clear(e=this.startNode){j4(this.startNode.parentNode,e.nextSibling,this.endNode)}}class z4e{constructor(e,n,i){if(this.value=void 0,this.__pendingValue=void 0,i.length!==2||i[0]!==""||i[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=n,this.strings=i}setValue(e){this.__pendingValue=e}commit(){for(;Mg(this.__pendingValue);){const n=this.__pendingValue;this.__pendingValue=Co,n(this)}if(this.__pendingValue===Co)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=Co}}class G4e extends xj{constructor(e,n,i){super(e,n,i);this.single=i.length===2&&i[0]===""&&i[1]===""}_createPart(){return new $4e(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class $4e extends Sj{}let Tj=!1;(()=>{try{const t={get capture(){return Tj=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch{}})();class W4e{constructor(e,n,i){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=n,this.eventContext=i,this.__boundHandleEvent=o=>this.handleEvent(o)}setValue(e){this.__pendingValue=e}commit(){for(;Mg(this.__pendingValue);){const s=this.__pendingValue;this.__pendingValue=Co,s(this)}if(this.__pendingValue===Co)return;const e=this.__pendingValue,n=this.value,i=e==null||n!=null&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),o=e!=null&&(n==null||i);i&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=q4e(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=Co}handleEvent(e){typeof this.value=="function"?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const q4e=t=>t&&(Tj?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function Y4e(t){let e=Ag.get(t.type);e===void 0&&(e={stringsArray:new WeakMap,keyString:new Map},Ag.set(t.type,e));let n=e.stringsArray.get(t.strings);if(n!==void 0)return n;const i=t.strings.join(Za);return n=e.keyString.get(i),n===void 0&&(n=new gj(t,t.getTemplateElement()),e.keyString.set(i,n)),e.stringsArray.set(t.strings,n),n}const Ag=new Map;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const qf=new WeakMap,Cj=(t,e,n)=>{let i=qf.get(e);i===void 0&&(j4(e,e.firstChild),qf.set(e,i=new J_(Object.assign({templateFactory:Y4e},n))),i.appendInto(e)),i.setValue(t),i.commit()};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class K4e{handleAttributeExpressions(e,n,i,o){const s=n[0];return s==="."?new G4e(e,n.slice(1),i).parts:s==="@"?[new W4e(e,n.slice(1),o.eventContext)]:s==="?"?[new z4e(e,n.slice(1),i)]:new xj(e,n,i).parts}handleTextExpression(e){return new J_(e)}}const X4e=new K4e;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */typeof window!="undefined"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const Z_=(t,...e)=>new wj(t,e,"html",X4e);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Mj=(t,e)=>`${t}--${e}`;let Q_=!0;typeof window.ShadyCSS=="undefined"?Q_=!1:typeof window.ShadyCSS.prepareTemplateDom=="undefined"&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Q_=!1);const J4e=t=>e=>{const n=Mj(e.type,t);let i=Ag.get(n);i===void 0&&(i={stringsArray:new WeakMap,keyString:new Map},Ag.set(n,i));let o=i.stringsArray.get(e.strings);if(o!==void 0)return o;const s=e.strings.join(Za);if(o=i.keyString.get(s),o===void 0){const a=e.getTemplateElement();Q_&&window.ShadyCSS.prepareTemplateDom(a,t),o=new gj(e,a),i.keyString.set(s,o)}return i.stringsArray.set(e.strings,o),o},Z4e=["html","svg"],Q4e=t=>{Z4e.forEach(e=>{const n=Ag.get(Mj(e,t));n!==void 0&&n.keyString.forEach(i=>{const{element:{content:o}}=i,s=new Set;Array.from(o.querySelectorAll("style")).forEach(a=>{s.add(a)}),_j(i,s)})})},Aj=new Set,eCe=(t,e,n)=>{Aj.add(t);const i=n?n.element:document.createElement("template"),o=e.querySelectorAll("style"),{length:s}=o;if(s===0){window.ShadyCSS.prepareTemplateStyles(i,t);return}const a=document.createElement("style");for(let u=0;u<s;u++){const d=o[u];d.parentNode.removeChild(d),a.textContent+=d.textContent}Q4e(t);const l=i.content;n?B4e(n,a,l.firstChild):l.insertBefore(a,l.firstChild),window.ShadyCSS.prepareTemplateStyles(i,t);const c=l.querySelector("style");if(window.ShadyCSS.nativeShadow&&c!==null)e.insertBefore(c.cloneNode(!0),e.firstChild);else if(n){l.insertBefore(a,l.firstChild);const u=new Set;u.add(a),_j(n,u)}},tCe=(t,e,n)=>{if(!n||typeof n!="object"||!n.scopeName)throw new Error("The `scopeName` option is required.");const i=n.scopeName,o=qf.has(e),s=Q_&&e.nodeType===11&&!!e.host,a=s&&!Aj.has(i),l=a?document.createDocumentFragment():e;if(Cj(t,l,Object.assign({templateFactory:J4e(i)},n)),a){const c=qf.get(l);qf.delete(l);const u=c.value instanceof H4?c.value.template:void 0;eCe(i,l,u),j4(e,e.firstChild),e.appendChild(l),qf.set(e,c)}!o&&s&&window.ShadyCSS.styleElement(e.host)};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */var Pj;window.JSCompiler_renameProperty=(t,e)=>t;const $4={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return t!==null;case Number:return t===null?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},Rj=(t,e)=>e!==t&&(e===e||t===t),W4={attribute:!0,type:String,converter:$4,reflect:!1,hasChanged:Rj},q4=1,Y4=1<<2,K4=1<<3,X4=1<<4,J4="finalized";class Z4 extends HTMLElement{constructor(){super();this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((n,i)=>{const o=this._attributeNameForProperty(i,n);o!==void 0&&(this._attributeToPropertyMap.set(o,i),e.push(o))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;e!==void 0&&e.forEach((n,i)=>this._classProperties.set(i,n))}}static createProperty(e,n=W4){if(this._ensureClassProperties(),this._classProperties.set(e,n),n.noAccessor||this.prototype.hasOwnProperty(e))return;const i=typeof e=="symbol"?Symbol():`__${e}`,o=this.getPropertyDescriptor(e,i,n);o!==void 0&&Object.defineProperty(this.prototype,e,o)}static getPropertyDescriptor(e,n,i){return{get(){return this[n]},set(o){const s=this[e];this[n]=o,this.requestUpdateInternal(e,s,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||W4}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty(J4)||e.finalize(),this[J4]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const n=this.properties,i=[...Object.getOwnPropertyNames(n),...typeof Object.getOwnPropertySymbols=="function"?Object.getOwnPropertySymbols(n):[]];for(const o of i)this.createProperty(o,n[o])}}static _attributeNameForProperty(e,n){const i=n.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}static _valueHasChanged(e,n,i=Rj){return i(e,n)}static _propertyValueFromAttribute(e,n){const i=n.type,o=n.converter||$4,s=typeof o=="function"?o:o.fromAttribute;return s?s(e,i):e}static _propertyValueToAttribute(e,n){if(n.reflect===void 0)return;const i=n.type,o=n.converter;return(o&&o.toAttribute||$4.toAttribute)(e,i)}initialize(){this._updateState=0,this._updatePromise=new Promise(e=>this._enableUpdatingResolver=e),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,n)=>{if(this.hasOwnProperty(n)){const i=this[n];delete this[n],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(n,i)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,n)=>this[n]=e),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){this._enableUpdatingResolver!==void 0&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,n,i){n!==i&&this._attributeToProperty(e,i)}_propertyToAttribute(e,n,i=W4){const o=this.constructor,s=o._attributeNameForProperty(e,i);if(s!==void 0){const a=o._propertyValueToAttribute(n,i);if(a===void 0)return;this._updateState=this._updateState|K4,a==null?this.removeAttribute(s):this.setAttribute(s,a),this._updateState=this._updateState&~K4}}_attributeToProperty(e,n){if(this._updateState&K4)return;const i=this.constructor,o=i._attributeToPropertyMap.get(e);if(o!==void 0){const s=i.getPropertyOptions(o);this._updateState=this._updateState|X4,this[o]=i._propertyValueFromAttribute(n,s),this._updateState=this._updateState&~X4}}requestUpdateInternal(e,n,i){let o=!0;if(e!==void 0){const s=this.constructor;i=i||s.getPropertyOptions(e),s._valueHasChanged(this[e],n,i.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,n),i.reflect===!0&&!(this._updateState&X4)&&(this._reflectingProperties===void 0&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,i))):o=!1}!this._hasRequestedUpdate&&o&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,n){return this.requestUpdateInternal(e,n),this.updateComplete}async _enqueueUpdate(){this._updateState=this._updateState|Y4;try{await this._updatePromise}catch{}const e=this.performUpdate();return e!=null&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return this._updateState&Y4}get hasUpdated(){return this._updateState&q4}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let e=!1;const n=this._changedProperties;try{e=this.shouldUpdate(n),e?this.update(n):this._markUpdated()}catch(i){throw e=!1,this._markUpdated(),i}e&&(this._updateState&q4||(this._updateState=this._updateState|q4,this.firstUpdated(n)),this.updated(n))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~Y4}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){this._reflectingProperties!==void 0&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((n,i)=>this._propertyToAttribute(i,this[i],n)),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}}Pj=J4;Z4[Pj]=!0;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const nCe=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?Object.assign(Object.assign({},e),{finisher(n){n.createProperty(e.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}},rCe=(t,e,n)=>{e.constructor.createProperty(n,t)};function kt(t){return(e,n)=>n!==void 0?rCe(t,e,n):nCe(t,e)}/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const Q4=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Lj=Symbol();class iCe{constructor(e,n){if(n!==Lj)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return this._styleSheet===void 0&&(Q4?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const sCe=t=>new iCe(String(t),Lj);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */(window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");const Ij={};class eC extends Z4{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const e=this.getStyles();if(Array.isArray(e)){const n=(s,a)=>s.reduceRight((l,c)=>Array.isArray(c)?n(c,l):(l.add(c),l),a),i=n(e,new Set),o=[];i.forEach(s=>o.unshift(s)),this._styles=o}else this._styles=e===void 0?[]:[e];this._styles=this._styles.map(n=>{if(n instanceof CSSStyleSheet&&!Q4){const i=Array.prototype.slice.call(n.cssRules).reduce((o,s)=>o+s.cssText,"");return sCe(i)}return n})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow(this.constructor.shadowRootOptions)}adoptStyles(){const e=this.constructor._styles;e.length!==0&&(window.ShadyCSS!==void 0&&!window.ShadyCSS.nativeShadow?window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(n=>n.cssText),this.localName):Q4?this.renderRoot.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):this._needsShimAdoptedStyleSheets=!0)}connectedCallback(){super.connectedCallback(),this.hasUpdated&&window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this)}update(e){const n=this.render();super.update(e),n!==Ij&&this.constructor.render(n,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(i=>{const o=document.createElement("style");o.textContent=i.cssText,this.renderRoot.appendChild(o)}))}render(){return Ij}}eC.finalized=!0;eC.render=tCe;eC.shadowRootOptions={mode:"open"};/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const tC="136",oCe=0,Oj=1,aCe=2,Nj=1,kj=2,Pg=3,Qa=0,dr=1,el=2,Dj=1,tl=0,Rg=1,Fj=2,Uj=3,jj=4,lCe=5,Yf=100,cCe=101,uCe=102,Bj=103,Vj=104,dCe=200,fCe=201,hCe=202,pCe=203,Hj=204,zj=205,mCe=206,gCe=207,vCe=208,yCe=209,_Ce=210,bCe=0,ECe=1,wCe=2,nC=3,xCe=4,SCe=5,TCe=6,CCe=7,eb=0,MCe=1,ACe=2,nl=0,PCe=1,RCe=2,LCe=3,Gj=4,ICe=5,$j=300,Lg=301,Ig=302,tb=303,rC=304,nb=306,iC=307,rl=1e3,Zr=1001,Og=1002,_r=1003,rb=1004,ib=1005,Ln=1006,sC=1007,il=1008,aa=1009,OCe=1010,NCe=1011,Ng=1012,kCe=1013,sb=1014,Xs=1015,ys=1016,DCe=1017,FCe=1018,UCe=1019,Kf=1020,jCe=1021,Js=1022,Qn=1023,BCe=1024,VCe=1025,Vu=1026,Xf=1027,HCe=1028,zCe=1029,GCe=1030,$Ce=1031,WCe=1032,qCe=1033,oC=33776,Wj=33777,qj=33778,aC=33779,lC=35840,Yj=35841,cC=35842,Kj=35843,Xj=36196,uC=37492,dC=37496,Jj=37808,YCe=37809,KCe=37810,XCe=37811,JCe=37812,ZCe=37813,QCe=37814,eMe=37815,tMe=37816,nMe=37817,rMe=37818,iMe=37819,sMe=37820,oMe=37821,Zj=36492,aMe=37840,lMe=37841,cMe=37842,uMe=37843,dMe=37844,fMe=37845,hMe=37846,pMe=37847,mMe=37848,gMe=37849,vMe=37850,yMe=37851,_Me=37852,bMe=37853,Qj=2200,fC=2201,hC=2202,Jf=2300,Hu=2301,pC=2302,Zf=2400,Qf=2401,ob=2402,mC=2500,eB=2501,EMe=0,wMe=1,tB=2,Or=3e3,Ji=3001,xMe=3200,SMe=3201,zu=0,TMe=1,gC=7680,CMe=519,kg=35044,ab=35048,nB="300 es";class _s{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const o=this._listeners[e];if(o!==void 0){const s=o.indexOf(n);s!==-1&&o.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const o=i.slice(0);for(let s=0,a=o.length;s<a;s++)o[s].call(this,e);e.target=null}}}const Qr=[];for(let t=0;t<256;t++)Qr[t]=(t<16?"0":"")+t.toString(16);let lb=1234567;const Dg=Math.PI/180,Fg=180/Math.PI;function Zs(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Qr[t&255]+Qr[t>>8&255]+Qr[t>>16&255]+Qr[t>>24&255]+"-"+Qr[e&255]+Qr[e>>8&255]+"-"+Qr[e>>16&15|64]+Qr[e>>24&255]+"-"+Qr[n&63|128]+Qr[n>>8&255]+"-"+Qr[n>>16&255]+Qr[n>>24&255]+Qr[i&255]+Qr[i>>8&255]+Qr[i>>16&255]+Qr[i>>24&255]).toUpperCase()}function Ai(t,e,n){return Math.max(e,Math.min(n,t))}function vC(t,e){return(t%e+e)%e}function MMe(t,e,n,i,o){return i+(t-e)*(o-i)/(n-e)}function AMe(t,e,n){return t!==e?(n-t)/(e-t):0}function Ug(t,e,n){return(1-n)*t+n*e}function PMe(t,e,n,i){return Ug(t,e,1-Math.exp(-n*i))}function RMe(t,e=1){return e-Math.abs(vC(t,e*2)-e)}function LMe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function IMe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function OMe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function NMe(t,e){return t+Math.random()*(e-t)}function kMe(t){return t*(.5-Math.random())}function DMe(t){return t!==void 0&&(lb=t%2147483647),lb=lb*16807%2147483647,(lb-1)/2147483646}function FMe(t){return t*Dg}function UMe(t){return t*Fg}function yC(t){return(t&t-1)==0&&t!==0}function rB(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function iB(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function jMe(t,e,n,i,o){const s=Math.cos,a=Math.sin,l=s(n/2),c=a(n/2),u=s((e+i)/2),d=a((e+i)/2),f=s((e-i)/2),h=a((e-i)/2),v=s((i-e)/2),m=a((i-e)/2);switch(o){case"XYX":t.set(l*d,c*f,c*h,l*u);break;case"YZY":t.set(c*h,l*d,c*f,l*u);break;case"ZXZ":t.set(c*f,c*h,l*d,l*u);break;case"XZX":t.set(l*d,c*m,c*v,l*u);break;case"YXY":t.set(c*v,l*d,c*m,l*u);break;case"ZYZ":t.set(c*m,c*v,l*d,l*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}var sB=Object.freeze({__proto__:null,DEG2RAD:Dg,RAD2DEG:Fg,generateUUID:Zs,clamp:Ai,euclideanModulo:vC,mapLinear:MMe,inverseLerp:AMe,lerp:Ug,damp:PMe,pingpong:RMe,smoothstep:LMe,smootherstep:IMe,randInt:OMe,randFloat:NMe,randFloatSpread:kMe,seededRandom:DMe,degToRad:FMe,radToDeg:UMe,isPowerOfTwo:yC,ceilPowerOfTwo:rB,floorPowerOfTwo:iB,setQuaternionFromProperEuler:jMe});class Ue{constructor(e=0,n=0){this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,o=e.elements;return this.x=o[0]*n+o[3]*i+o[6],this.y=o[1]*n+o[4]*i+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),o=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*o+e.x,this.y=s*o+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Ue.prototype.isVector2=!0;class Nr{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,n,i,o,s,a,l,c,u){const d=this.elements;return d[0]=e,d[1]=o,d[2]=l,d[3]=n,d[4]=s,d[5]=c,d[6]=i,d[7]=a,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,o=n.elements,s=this.elements,a=i[0],l=i[3],c=i[6],u=i[1],d=i[4],f=i[7],h=i[2],v=i[5],m=i[8],_=o[0],S=o[3],E=o[6],w=o[1],T=o[4],C=o[7],P=o[2],R=o[5],A=o[8];return s[0]=a*_+l*w+c*P,s[3]=a*S+l*T+c*R,s[6]=a*E+l*C+c*A,s[1]=u*_+d*w+f*P,s[4]=u*S+d*T+f*R,s[7]=u*E+d*C+f*A,s[2]=h*_+v*w+m*P,s[5]=h*S+v*T+m*R,s[8]=h*E+v*C+m*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8];return n*a*d-n*l*u-i*s*d+i*l*c+o*s*u-o*a*c}invert(){const e=this.elements,n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=d*a-l*u,h=l*c-d*s,v=u*s-a*c,m=n*f+i*h+o*v;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/m;return e[0]=f*_,e[1]=(o*u-d*i)*_,e[2]=(l*i-o*a)*_,e[3]=h*_,e[4]=(d*n-o*c)*_,e[5]=(o*s-l*n)*_,e[6]=v*_,e[7]=(i*c-u*n)*_,e[8]=(a*n-i*s)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,o,s,a,l){const c=Math.cos(s),u=Math.sin(s);return this.set(i*c,i*u,-i*(c*a+u*l)+a+e,-o*u,o*c,-o*(-u*a+c*l)+l+n,0,0,1),this}scale(e,n){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=n,i[4]*=n,i[7]*=n,this}rotate(e){const n=Math.cos(e),i=Math.sin(e),o=this.elements,s=o[0],a=o[3],l=o[6],c=o[1],u=o[4],d=o[7];return o[0]=n*s+i*c,o[3]=n*a+i*u,o[6]=n*l+i*d,o[1]=-i*s+n*c,o[4]=-i*a+n*u,o[7]=-i*l+n*d,this}translate(e,n){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=n*i[2],i[4]+=n*i[5],i[7]+=n*i[8],this}equals(e){const n=this.elements,i=e.elements;for(let o=0;o<9;o++)if(n[o]!==i[o])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}Nr.prototype.isMatrix3=!0;function oB(t){if(t.length===0)return-1/0;let e=t[0];for(let n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}function cb(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}let eh;class th{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{eh===void 0&&(eh=cb("canvas")),eh.width=e.width,eh.height=e.height;const i=eh.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=eh}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}}let BMe=0;class fr extends _s{constructor(e=fr.DEFAULT_IMAGE,n=fr.DEFAULT_MAPPING,i=Zr,o=Zr,s=Ln,a=il,l=Qn,c=aa,u=1,d=Or){super();Object.defineProperty(this,"id",{value:BMe++}),this.uuid=Zs(),this.name="",this.image=e,this.mipmaps=[],this.mapping=n,this.wrapS=i,this.wrapT=o,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Ue(0,0),this.repeat=new Ue(1,1),this.center=new Ue(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Nr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const o=this.image;if(o.uuid===void 0&&(o.uuid=Zs()),!n&&e.images[o.uuid]===void 0){let s;if(Array.isArray(o)){s=[];for(let a=0,l=o.length;a<l;a++)o[a].isDataTexture?s.push(_C(o[a].image)):s.push(_C(o[a]))}else s=_C(o);e.images[o.uuid]={uuid:o.uuid,url:s}}i.image=o.uuid}return JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==$j)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case rl:e.x=e.x-Math.floor(e.x);break;case Zr:e.x=e.x<0?0:1;break;case Og:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case rl:e.y=e.y-Math.floor(e.y);break;case Zr:e.y=e.y<0?0:1;break;case Og:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}fr.DEFAULT_IMAGE=void 0;fr.DEFAULT_MAPPING=$j;fr.prototype.isTexture=!0;function _C(t){return typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap?th.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class In{constructor(e=0,n=0,i=0,o=1){this.x=e,this.y=n,this.z=i,this.w=o}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,o){return this.x=e,this.y=n,this.z=i,this.w=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,o=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*o+a[12]*s,this.y=a[1]*n+a[5]*i+a[9]*o+a[13]*s,this.z=a[2]*n+a[6]*i+a[10]*o+a[14]*s,this.w=a[3]*n+a[7]*i+a[11]*o+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,o,s;const a=.01,l=.1,c=e.elements,u=c[0],d=c[4],f=c[8],h=c[1],v=c[5],m=c[9],_=c[2],S=c[6],E=c[10];if(Math.abs(d-h)<a&&Math.abs(f-_)<a&&Math.abs(m-S)<a){if(Math.abs(d+h)<l&&Math.abs(f+_)<l&&Math.abs(m+S)<l&&Math.abs(u+v+E-3)<l)return this.set(1,0,0,0),this;n=Math.PI;const T=(u+1)/2,C=(v+1)/2,P=(E+1)/2,R=(d+h)/4,A=(f+_)/4,L=(m+S)/4;return T>C&&T>P?T<a?(i=0,o=.707106781,s=.707106781):(i=Math.sqrt(T),o=R/i,s=A/i):C>P?C<a?(i=.707106781,o=0,s=.707106781):(o=Math.sqrt(C),i=R/o,s=L/o):P<a?(i=.707106781,o=.707106781,s=0):(s=Math.sqrt(P),i=A/s,o=L/s),this.set(i,o,s,n),this}let w=Math.sqrt((S-m)*(S-m)+(f-_)*(f-_)+(h-d)*(h-d));return Math.abs(w)<.001&&(w=1),this.x=(S-m)/w,this.y=(f-_)/w,this.z=(h-d)/w,this.w=Math.acos((u+v+E-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}In.prototype.isVector4=!0;class Zi extends _s{constructor(e,n,i={}){super();this.width=e,this.height=n,this.depth=1,this.scissor=new In(0,0,e,n),this.scissorTest=!1,this.viewport=new In(0,0,e,n),this.texture=new fr(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:n,depth:1},this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Ln,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,n,i=1){(this.width!==e||this.height!==n||this.depth!==i)&&(this.width=e,this.height=n,this.depth=i,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=he({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Zi.prototype.isWebGLRenderTarget=!0;class VMe extends Zi{constructor(e,n,i){super(e,n);const o=this.texture;this.texture=[];for(let s=0;s<i;s++)this.texture[s]=o.clone()}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let o=0,s=this.texture.length;o<s;o++)this.texture[o].image.width=e,this.texture[o].image.height=n,this.texture[o].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let n=0,i=e.texture.length;n<i;n++)this.texture[n]=e.texture[n].clone();return this}}VMe.prototype.isWebGLMultipleRenderTargets=!0;class bC extends Zi{constructor(e,n,i={}){super(e,n,i);this.samples=4,this.ignoreDepthForMultisampleCopy=i.ignoreDepth!==void 0?i.ignoreDepth:!0,this.useRenderToTexture=i.useRenderToTexture!==void 0?i.useRenderToTexture:!1,this.useRenderbuffer=this.useRenderToTexture===!1}copy(e){return super.copy.call(this,e),this.samples=e.samples,this.useRenderToTexture=e.useRenderToTexture,this.useRenderbuffer=e.useRenderbuffer,this}}bC.prototype.isWebGLMultisampleRenderTarget=!0;class Pi{constructor(e=0,n=0,i=0,o=1){this._x=e,this._y=n,this._z=i,this._w=o}static slerp(e,n,i,o){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(e,n,o)}static slerpFlat(e,n,i,o,s,a,l){let c=i[o+0],u=i[o+1],d=i[o+2],f=i[o+3];const h=s[a+0],v=s[a+1],m=s[a+2],_=s[a+3];if(l===0){e[n+0]=c,e[n+1]=u,e[n+2]=d,e[n+3]=f;return}if(l===1){e[n+0]=h,e[n+1]=v,e[n+2]=m,e[n+3]=_;return}if(f!==_||c!==h||u!==v||d!==m){let S=1-l;const E=c*h+u*v+d*m+f*_,w=E>=0?1:-1,T=1-E*E;if(T>Number.EPSILON){const P=Math.sqrt(T),R=Math.atan2(P,E*w);S=Math.sin(S*R)/P,l=Math.sin(l*R)/P}const C=l*w;if(c=c*S+h*C,u=u*S+v*C,d=d*S+m*C,f=f*S+_*C,S===1-l){const P=1/Math.sqrt(c*c+u*u+d*d+f*f);c*=P,u*=P,d*=P,f*=P}}e[n]=c,e[n+1]=u,e[n+2]=d,e[n+3]=f}static multiplyQuaternionsFlat(e,n,i,o,s,a){const l=i[o],c=i[o+1],u=i[o+2],d=i[o+3],f=s[a],h=s[a+1],v=s[a+2],m=s[a+3];return e[n]=l*m+d*f+c*v-u*h,e[n+1]=c*m+d*h+u*f-l*v,e[n+2]=u*m+d*v+l*h-c*f,e[n+3]=d*m-l*f-c*h-u*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,o){return this._x=e,this._y=n,this._z=i,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=e._x,o=e._y,s=e._z,a=e._order,l=Math.cos,c=Math.sin,u=l(i/2),d=l(o/2),f=l(s/2),h=c(i/2),v=c(o/2),m=c(s/2);switch(a){case"XYZ":this._x=h*d*f+u*v*m,this._y=u*v*f-h*d*m,this._z=u*d*m+h*v*f,this._w=u*d*f-h*v*m;break;case"YXZ":this._x=h*d*f+u*v*m,this._y=u*v*f-h*d*m,this._z=u*d*m-h*v*f,this._w=u*d*f+h*v*m;break;case"ZXY":this._x=h*d*f-u*v*m,this._y=u*v*f+h*d*m,this._z=u*d*m+h*v*f,this._w=u*d*f-h*v*m;break;case"ZYX":this._x=h*d*f-u*v*m,this._y=u*v*f+h*d*m,this._z=u*d*m-h*v*f,this._w=u*d*f+h*v*m;break;case"YZX":this._x=h*d*f+u*v*m,this._y=u*v*f+h*d*m,this._z=u*d*m-h*v*f,this._w=u*d*f-h*v*m;break;case"XZY":this._x=h*d*f-u*v*m,this._y=u*v*f-h*d*m,this._z=u*d*m+h*v*f,this._w=u*d*f+h*v*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,o=Math.sin(i);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],o=n[4],s=n[8],a=n[1],l=n[5],c=n[9],u=n[2],d=n[6],f=n[10],h=i+l+f;if(h>0){const v=.5/Math.sqrt(h+1);this._w=.25/v,this._x=(d-c)*v,this._y=(s-u)*v,this._z=(a-o)*v}else if(i>l&&i>f){const v=2*Math.sqrt(1+i-l-f);this._w=(d-c)/v,this._x=.25*v,this._y=(o+a)/v,this._z=(s+u)/v}else if(l>f){const v=2*Math.sqrt(1+l-i-f);this._w=(s-u)/v,this._x=(o+a)/v,this._y=.25*v,this._z=(c+d)/v}else{const v=2*Math.sqrt(1+f-i-l);this._w=(a-o)/v,this._x=(s+u)/v,this._y=(c+d)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ai(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const o=Math.min(1,n/i);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,n)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,o=e._y,s=e._z,a=e._w,l=n._x,c=n._y,u=n._z,d=n._w;return this._x=i*d+a*l+o*u-s*c,this._y=o*d+a*c+s*l-i*u,this._z=s*d+a*u+i*c-o*l,this._w=a*d-i*l-o*c-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,o=this._y,s=this._z,a=this._w;let l=a*e._w+i*e._x+o*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=i,this._y=o,this._z=s,this;const c=1-l*l;if(c<=Number.EPSILON){const v=1-n;return this._w=v*a+n*this._w,this._x=v*i+n*this._x,this._y=v*o+n*this._y,this._z=v*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(c),d=Math.atan2(u,l),f=Math.sin((1-n)*d)/u,h=Math.sin(n*d)/u;return this._w=a*f+this._w*h,this._x=i*f+this._x*h,this._y=o*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,i){this.copy(e).slerp(n,i)}random(){const e=Math.random(),n=Math.sqrt(1-e),i=Math.sqrt(e),o=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(o),i*Math.sin(s),i*Math.cos(s),n*Math.sin(o))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Pi.prototype.isQuaternion=!0;class ee{constructor(e=0,n=0,i=0){this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,n)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(aB.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(aB.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,o=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*o,this.y=s[1]*n+s[4]*i+s[7]*o,this.z=s[2]*n+s[5]*i+s[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,o=this.z,s=e.elements,a=1/(s[3]*n+s[7]*i+s[11]*o+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*o+s[12])*a,this.y=(s[1]*n+s[5]*i+s[9]*o+s[13])*a,this.z=(s[2]*n+s[6]*i+s[10]*o+s[14])*a,this}applyQuaternion(e){const n=this.x,i=this.y,o=this.z,s=e.x,a=e.y,l=e.z,c=e.w,u=c*n+a*o-l*i,d=c*i+l*n-s*o,f=c*o+s*i-a*n,h=-s*n-a*i-l*o;return this.x=u*c+h*-s+d*-l-f*-a,this.y=d*c+h*-a+f*-s-u*-l,this.z=f*c+h*-l+u*-a-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,o=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*o,this.y=s[1]*n+s[5]*i+s[9]*o,this.z=s[2]*n+s[6]*i+s[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,n)):this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,o=e.y,s=e.z,a=n.x,l=n.y,c=n.z;return this.x=o*c-s*l,this.y=s*a-i*c,this.z=i*l-o*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return EC.copy(this).projectOnVector(e),this.sub(EC)}reflect(e){return this.sub(EC.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Ai(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,o=this.z-e.z;return n*n+i*i+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const o=Math.sin(n)*e;return this.x=o*Math.sin(i),this.y=Math.cos(n)*e,this.z=o*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=o,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}ee.prototype.isVector3=!0;const EC=new ee,aB=new Pi;class Ri{constructor(e=new ee(1/0,1/0,1/0),n=new ee(-1/0,-1/0,-1/0)){this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,i=1/0,o=1/0,s=-1/0,a=-1/0,l=-1/0;for(let c=0,u=e.length;c<u;c+=3){const d=e[c],f=e[c+1],h=e[c+2];d<n&&(n=d),f<i&&(i=f),h<o&&(o=h),d>s&&(s=d),f>a&&(a=f),h>l&&(l=h)}return this.min.set(n,i,o),this.max.set(s,a,l),this}setFromBufferAttribute(e){let n=1/0,i=1/0,o=1/0,s=-1/0,a=-1/0,l=-1/0;for(let c=0,u=e.count;c<u;c++){const d=e.getX(c),f=e.getY(c),h=e.getZ(c);d<n&&(n=d),f<i&&(i=f),h<o&&(o=h),d>s&&(s=d),f>a&&(a=f),h>l&&(l=h)}return this.min.set(n,i,o),this.max.set(s,a,l),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=jg.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const n=e.geometry;n!==void 0&&(n.boundingBox===null&&n.computeBoundingBox(),wC.copy(n.boundingBox),wC.applyMatrix4(e.matrixWorld),this.union(wC));const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,jg),jg.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Bg),ub.subVectors(this.max,Bg),nh.subVectors(e.a,Bg),rh.subVectors(e.b,Bg),ih.subVectors(e.c,Bg),wc.subVectors(rh,nh),xc.subVectors(ih,rh),Gu.subVectors(nh,ih);let n=[0,-wc.z,wc.y,0,-xc.z,xc.y,0,-Gu.z,Gu.y,wc.z,0,-wc.x,xc.z,0,-xc.x,Gu.z,0,-Gu.x,-wc.y,wc.x,0,-xc.y,xc.x,0,-Gu.y,Gu.x,0];return!xC(n,nh,rh,ih,ub)||(n=[1,0,0,0,1,0,0,0,1],!xC(n,nh,rh,ih,ub))?!1:(db.crossVectors(wc,xc),n=[db.x,db.y,db.z],xC(n,nh,rh,ih,ub))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return jg.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(jg).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(sl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),sl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),sl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),sl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),sl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),sl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),sl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),sl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(sl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Ri.prototype.isBox3=!0;const sl=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],jg=new ee,wC=new Ri,nh=new ee,rh=new ee,ih=new ee,wc=new ee,xc=new ee,Gu=new ee,Bg=new ee,ub=new ee,db=new ee,$u=new ee;function xC(t,e,n,i,o){for(let s=0,a=t.length-3;s<=a;s+=3){$u.fromArray(t,s);const l=o.x*Math.abs($u.x)+o.y*Math.abs($u.y)+o.z*Math.abs($u.z),c=e.dot($u),u=n.dot($u),d=i.dot($u);if(Math.max(-Math.max(c,u,d),Math.min(c,u,d))>l)return!1}return!0}const HMe=new Ri,lB=new ee,fb=new ee,SC=new ee;class Sc{constructor(e=new ee,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):HMe.setFromPoints(e).getCenter(i);let o=0;for(let s=0,a=e.length;s<a;s++)o=Math.max(o,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){SC.subVectors(e,this.center);const n=SC.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),o=(i-this.radius)*.5;this.center.add(SC.multiplyScalar(o/i)),this.radius+=o}return this}union(e){return this.center.equals(e.center)===!0?fb.set(0,0,1).multiplyScalar(e.radius):fb.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(lB.copy(e.center).add(fb)),this.expandByPoint(lB.copy(e.center).sub(fb)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ol=new ee,TC=new ee,hb=new ee,Tc=new ee,CC=new ee,pb=new ee,MC=new ee;class Wu{constructor(e=new ee,n=new ee(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ol)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ol.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ol.copy(this.direction).multiplyScalar(n).add(this.origin),ol.distanceToSquared(e))}distanceSqToSegment(e,n,i,o){TC.copy(e).add(n).multiplyScalar(.5),hb.copy(n).sub(e).normalize(),Tc.copy(this.origin).sub(TC);const s=e.distanceTo(n)*.5,a=-this.direction.dot(hb),l=Tc.dot(this.direction),c=-Tc.dot(hb),u=Tc.lengthSq(),d=Math.abs(1-a*a);let f,h,v,m;if(d>0)if(f=a*c-l,h=a*l-c,m=s*d,f>=0)if(h>=-m)if(h<=m){const _=1/d;f*=_,h*=_,v=f*(f+a*h+2*l)+h*(a*f+h+2*c)+u}else h=s,f=Math.max(0,-(a*h+l)),v=-f*f+h*(h+2*c)+u;else h=-s,f=Math.max(0,-(a*h+l)),v=-f*f+h*(h+2*c)+u;else h<=-m?(f=Math.max(0,-(-a*s+l)),h=f>0?-s:Math.min(Math.max(-s,-c),s),v=-f*f+h*(h+2*c)+u):h<=m?(f=0,h=Math.min(Math.max(-s,-c),s),v=h*(h+2*c)+u):(f=Math.max(0,-(a*s+l)),h=f>0?s:Math.min(Math.max(-s,-c),s),v=-f*f+h*(h+2*c)+u);else h=a>0?-s:s,f=Math.max(0,-(a*h+l)),v=-f*f+h*(h+2*c)+u;return i&&i.copy(this.direction).multiplyScalar(f).add(this.origin),o&&o.copy(hb).multiplyScalar(h).add(TC),v}intersectSphere(e,n){ol.subVectors(e.center,this.origin);const i=ol.dot(this.direction),o=ol.dot(ol)-i*i,s=e.radius*e.radius;if(o>s)return null;const a=Math.sqrt(s-o),l=i-a,c=i+a;return l<0&&c<0?null:l<0?this.at(c,n):this.at(l,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,o,s,a,l,c;const u=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(i=(e.min.x-h.x)*u,o=(e.max.x-h.x)*u):(i=(e.max.x-h.x)*u,o=(e.min.x-h.x)*u),d>=0?(s=(e.min.y-h.y)*d,a=(e.max.y-h.y)*d):(s=(e.max.y-h.y)*d,a=(e.min.y-h.y)*d),i>a||s>o||((s>i||i!==i)&&(i=s),(a<o||o!==o)&&(o=a),f>=0?(l=(e.min.z-h.z)*f,c=(e.max.z-h.z)*f):(l=(e.max.z-h.z)*f,c=(e.min.z-h.z)*f),i>c||l>o)||((l>i||i!==i)&&(i=l),(c<o||o!==o)&&(o=c),o<0)?null:this.at(i>=0?i:o,n)}intersectsBox(e){return this.intersectBox(e,ol)!==null}intersectTriangle(e,n,i,o,s){CC.subVectors(n,e),pb.subVectors(i,e),MC.crossVectors(CC,pb);let a=this.direction.dot(MC),l;if(a>0){if(o)return null;l=1}else if(a<0)l=-1,a=-a;else return null;Tc.subVectors(this.origin,e);const c=l*this.direction.dot(pb.crossVectors(Tc,pb));if(c<0)return null;const u=l*this.direction.dot(CC.cross(Tc));if(u<0||c+u>a)return null;const d=-l*Tc.dot(MC);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ut{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,n,i,o,s,a,l,c,u,d,f,h,v,m,_,S){const E=this.elements;return E[0]=e,E[4]=n,E[8]=i,E[12]=o,E[1]=s,E[5]=a,E[9]=l,E[13]=c,E[2]=u,E[6]=d,E[10]=f,E[14]=h,E[3]=v,E[7]=m,E[11]=_,E[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ut().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,o=1/sh.setFromMatrixColumn(e,0).length(),s=1/sh.setFromMatrixColumn(e,1).length(),a=1/sh.setFromMatrixColumn(e,2).length();return n[0]=i[0]*o,n[1]=i[1]*o,n[2]=i[2]*o,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*a,n[9]=i[9]*a,n[10]=i[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,i=e.x,o=e.y,s=e.z,a=Math.cos(i),l=Math.sin(i),c=Math.cos(o),u=Math.sin(o),d=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=a*d,v=a*f,m=l*d,_=l*f;n[0]=c*d,n[4]=-c*f,n[8]=u,n[1]=v+m*u,n[5]=h-_*u,n[9]=-l*c,n[2]=_-h*u,n[6]=m+v*u,n[10]=a*c}else if(e.order==="YXZ"){const h=c*d,v=c*f,m=u*d,_=u*f;n[0]=h+_*l,n[4]=m*l-v,n[8]=a*u,n[1]=a*f,n[5]=a*d,n[9]=-l,n[2]=v*l-m,n[6]=_+h*l,n[10]=a*c}else if(e.order==="ZXY"){const h=c*d,v=c*f,m=u*d,_=u*f;n[0]=h-_*l,n[4]=-a*f,n[8]=m+v*l,n[1]=v+m*l,n[5]=a*d,n[9]=_-h*l,n[2]=-a*u,n[6]=l,n[10]=a*c}else if(e.order==="ZYX"){const h=a*d,v=a*f,m=l*d,_=l*f;n[0]=c*d,n[4]=m*u-v,n[8]=h*u+_,n[1]=c*f,n[5]=_*u+h,n[9]=v*u-m,n[2]=-u,n[6]=l*c,n[10]=a*c}else if(e.order==="YZX"){const h=a*c,v=a*u,m=l*c,_=l*u;n[0]=c*d,n[4]=_-h*f,n[8]=m*f+v,n[1]=f,n[5]=a*d,n[9]=-l*d,n[2]=-u*d,n[6]=v*f+m,n[10]=h-_*f}else if(e.order==="XZY"){const h=a*c,v=a*u,m=l*c,_=l*u;n[0]=c*d,n[4]=-f,n[8]=u*d,n[1]=h*f+_,n[5]=a*d,n[9]=v*f-m,n[2]=m*f-v,n[6]=l*d,n[10]=_*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(zMe,e,GMe)}lookAt(e,n,i){const o=this.elements;return bs.subVectors(e,n),bs.lengthSq()===0&&(bs.z=1),bs.normalize(),Cc.crossVectors(i,bs),Cc.lengthSq()===0&&(Math.abs(i.z)===1?bs.x+=1e-4:bs.z+=1e-4,bs.normalize(),Cc.crossVectors(i,bs)),Cc.normalize(),mb.crossVectors(bs,Cc),o[0]=Cc.x,o[4]=mb.x,o[8]=bs.x,o[1]=Cc.y,o[5]=mb.y,o[9]=bs.y,o[2]=Cc.z,o[6]=mb.z,o[10]=bs.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,n)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,o=n.elements,s=this.elements,a=i[0],l=i[4],c=i[8],u=i[12],d=i[1],f=i[5],h=i[9],v=i[13],m=i[2],_=i[6],S=i[10],E=i[14],w=i[3],T=i[7],C=i[11],P=i[15],R=o[0],A=o[4],L=o[8],k=o[12],U=o[1],N=o[5],I=o[9],F=o[13],O=o[2],V=o[6],z=o[10],B=o[14],H=o[3],W=o[7],G=o[11],q=o[15];return s[0]=a*R+l*U+c*O+u*H,s[4]=a*A+l*N+c*V+u*W,s[8]=a*L+l*I+c*z+u*G,s[12]=a*k+l*F+c*B+u*q,s[1]=d*R+f*U+h*O+v*H,s[5]=d*A+f*N+h*V+v*W,s[9]=d*L+f*I+h*z+v*G,s[13]=d*k+f*F+h*B+v*q,s[2]=m*R+_*U+S*O+E*H,s[6]=m*A+_*N+S*V+E*W,s[10]=m*L+_*I+S*z+E*G,s[14]=m*k+_*F+S*B+E*q,s[3]=w*R+T*U+C*O+P*H,s[7]=w*A+T*N+C*V+P*W,s[11]=w*L+T*I+C*z+P*G,s[15]=w*k+T*F+C*B+P*q,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],o=e[8],s=e[12],a=e[1],l=e[5],c=e[9],u=e[13],d=e[2],f=e[6],h=e[10],v=e[14],m=e[3],_=e[7],S=e[11],E=e[15];return m*(+s*c*f-o*u*f-s*l*h+i*u*h+o*l*v-i*c*v)+_*(+n*c*v-n*u*h+s*a*h-o*a*v+o*u*d-s*c*d)+S*(+n*u*f-n*l*v-s*a*f+i*a*v+s*l*d-i*u*d)+E*(-o*l*d-n*c*f+n*l*h+o*a*f-i*a*h+i*c*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=n,o[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=e[9],h=e[10],v=e[11],m=e[12],_=e[13],S=e[14],E=e[15],w=f*S*u-_*h*u+_*c*v-l*S*v-f*c*E+l*h*E,T=m*h*u-d*S*u-m*c*v+a*S*v+d*c*E-a*h*E,C=d*_*u-m*f*u+m*l*v-a*_*v-d*l*E+a*f*E,P=m*f*c-d*_*c-m*l*h+a*_*h+d*l*S-a*f*S,R=n*w+i*T+o*C+s*P;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/R;return e[0]=w*A,e[1]=(_*h*s-f*S*s-_*o*v+i*S*v+f*o*E-i*h*E)*A,e[2]=(l*S*s-_*c*s+_*o*u-i*S*u-l*o*E+i*c*E)*A,e[3]=(f*c*s-l*h*s-f*o*u+i*h*u+l*o*v-i*c*v)*A,e[4]=T*A,e[5]=(d*S*s-m*h*s+m*o*v-n*S*v-d*o*E+n*h*E)*A,e[6]=(m*c*s-a*S*s-m*o*u+n*S*u+a*o*E-n*c*E)*A,e[7]=(a*h*s-d*c*s+d*o*u-n*h*u-a*o*v+n*c*v)*A,e[8]=C*A,e[9]=(m*f*s-d*_*s-m*i*v+n*_*v+d*i*E-n*f*E)*A,e[10]=(a*_*s-m*l*s+m*i*u-n*_*u-a*i*E+n*l*E)*A,e[11]=(d*l*s-a*f*s-d*i*u+n*f*u+a*i*v-n*l*v)*A,e[12]=P*A,e[13]=(d*_*o-m*f*o+m*i*h-n*_*h-d*i*S+n*f*S)*A,e[14]=(m*l*o-a*_*o-m*i*c+n*_*c+a*i*S-n*l*S)*A,e[15]=(a*f*o-d*l*o+d*i*c-n*f*c-a*i*h+n*l*h)*A,this}scale(e){const n=this.elements,i=e.x,o=e.y,s=e.z;return n[0]*=i,n[4]*=o,n[8]*=s,n[1]*=i,n[5]*=o,n[9]*=s,n[2]*=i,n[6]*=o,n[10]*=s,n[3]*=i,n[7]*=o,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],o=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,o))}makeTranslation(e,n,i){return this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),o=Math.sin(n),s=1-i,a=e.x,l=e.y,c=e.z,u=s*a,d=s*l;return this.set(u*a+i,u*l-o*c,u*c+o*l,0,u*l+o*c,d*l+i,d*c-o*a,0,u*c-o*l,d*c+o*a,s*c*c+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,o,s,a){return this.set(1,i,s,0,e,1,a,0,n,o,1,0,0,0,0,1),this}compose(e,n,i){const o=this.elements,s=n._x,a=n._y,l=n._z,c=n._w,u=s+s,d=a+a,f=l+l,h=s*u,v=s*d,m=s*f,_=a*d,S=a*f,E=l*f,w=c*u,T=c*d,C=c*f,P=i.x,R=i.y,A=i.z;return o[0]=(1-(_+E))*P,o[1]=(v+C)*P,o[2]=(m-T)*P,o[3]=0,o[4]=(v-C)*R,o[5]=(1-(h+E))*R,o[6]=(S+w)*R,o[7]=0,o[8]=(m+T)*A,o[9]=(S-w)*A,o[10]=(1-(h+_))*A,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,n,i){const o=this.elements;let s=sh.set(o[0],o[1],o[2]).length();const a=sh.set(o[4],o[5],o[6]).length(),l=sh.set(o[8],o[9],o[10]).length();this.determinant()<0&&(s=-s),e.x=o[12],e.y=o[13],e.z=o[14],Mo.copy(this);const u=1/s,d=1/a,f=1/l;return Mo.elements[0]*=u,Mo.elements[1]*=u,Mo.elements[2]*=u,Mo.elements[4]*=d,Mo.elements[5]*=d,Mo.elements[6]*=d,Mo.elements[8]*=f,Mo.elements[9]*=f,Mo.elements[10]*=f,n.setFromRotationMatrix(Mo),i.x=s,i.y=a,i.z=l,this}makePerspective(e,n,i,o,s,a){a===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const l=this.elements,c=2*s/(n-e),u=2*s/(i-o),d=(n+e)/(n-e),f=(i+o)/(i-o),h=-(a+s)/(a-s),v=-2*a*s/(a-s);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,o,s,a){const l=this.elements,c=1/(n-e),u=1/(i-o),d=1/(a-s),f=(n+e)*c,h=(i+o)*u,v=(a+s)*d;return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=-2*d,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let o=0;o<16;o++)if(n[o]!==i[o])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}ut.prototype.isMatrix4=!0;const sh=new ee,Mo=new ut,zMe=new ee(0,0,0),GMe=new ee(1,1,1),Cc=new ee,mb=new ee,bs=new ee,cB=new ut,uB=new Pi;class Mc{constructor(e=0,n=0,i=0,o=Mc.DefaultOrder){this._x=e,this._y=n,this._z=i,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,o=this._order){return this._x=e,this._y=n,this._z=i,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const o=e.elements,s=o[0],a=o[4],l=o[8],c=o[1],u=o[5],d=o[9],f=o[2],h=o[6],v=o[10];switch(n){case"XYZ":this._y=Math.asin(Ai(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,v),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Ai(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,v),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ai(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,v),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-Ai(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,v),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Ai(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(l,v));break;case"XZY":this._z=Math.asin(-Ai(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-d,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return cB.makeRotationFromQuaternion(e),this.setFromRotationMatrix(cB,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return uB.setFromEuler(this),this.setFromQuaternion(uB,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new ee(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Mc.prototype.isEuler=!0;Mc.DefaultOrder="XYZ";Mc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class AC{constructor(){this.mask=1|0}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=4294967295|0}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}isEnabled(e){return(this.mask&(1<<e|0))!=0}}let $Me=0;const dB=new ee,oh=new Pi,al=new ut,gb=new ee,Vg=new ee,WMe=new ee,qMe=new Pi,fB=new ee(1,0,0),hB=new ee(0,1,0),pB=new ee(0,0,1),YMe={type:"added"},mB={type:"removed"};class dn extends _s{constructor(){super();Object.defineProperty(this,"id",{value:$Me++}),this.uuid=Zs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=dn.DefaultUp.clone();const e=new ee,n=new Mc,i=new Pi,o=new ee(1,1,1);function s(){i.setFromEuler(n,!1)}function a(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new ut},normalMatrix:{value:new Nr}}),this.matrix=new ut,this.matrixWorld=new ut,this.matrixAutoUpdate=dn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new AC,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return oh.setFromAxisAngle(e,n),this.quaternion.multiply(oh),this}rotateOnWorldAxis(e,n){return oh.setFromAxisAngle(e,n),this.quaternion.premultiply(oh),this}rotateX(e){return this.rotateOnAxis(fB,e)}rotateY(e){return this.rotateOnAxis(hB,e)}rotateZ(e){return this.rotateOnAxis(pB,e)}translateOnAxis(e,n){return dB.copy(e).applyQuaternion(this.quaternion),this.position.add(dB.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(fB,e)}translateY(e){return this.translateOnAxis(hB,e)}translateZ(e){return this.translateOnAxis(pB,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(al.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?gb.copy(e):gb.set(e,n,i);const o=this.parent;this.updateWorldMatrix(!0,!1),Vg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?al.lookAt(Vg,gb,this.up):al.lookAt(gb,Vg,this.up),this.quaternion.setFromRotationMatrix(al),o&&(al.extractRotation(o.matrixWorld),oh.setFromRotationMatrix(al),this.quaternion.premultiply(oh.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(YMe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(mB)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(mB)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),al.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),al.multiply(e.parent.matrixWorld)),e.applyMatrix4(al),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,o=this.children.length;i<o;i++){const a=this.children[i].getObjectByProperty(e,n);if(a!==void 0)return a}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vg,e,WMe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vg,qMe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,o=n.length;i<o;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,o=n.length;i<o;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,o=n.length;i<o;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON()));function s(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++){const f=c[u];s(e.shapes,f)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(s(e.materials,this.material[c]));o.material=l}else o.material=s(e.materials,this.material);if(this.children.length>0){o.children=[];for(let l=0;l<this.children.length;l++)o.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];o.animations.push(s(e.animations,c))}}if(n){const l=a(e.geometries),c=a(e.materials),u=a(e.textures),d=a(e.images),f=a(e.shapes),h=a(e.skeletons),v=a(e.animations);l.length>0&&(i.geometries=l),c.length>0&&(i.materials=c),u.length>0&&(i.textures=u),d.length>0&&(i.images=d),f.length>0&&(i.shapes=f),h.length>0&&(i.skeletons=h),v.length>0&&(i.animations=v)}return i.object=o,i;function a(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const o=e.children[i];this.add(o.clone())}return this}}dn.DefaultUp=new ee(0,1,0);dn.DefaultMatrixAutoUpdate=!0;dn.prototype.isObject3D=!0;const Ao=new ee,ll=new ee,PC=new ee,cl=new ee,ah=new ee,lh=new ee,gB=new ee,RC=new ee,LC=new ee,IC=new ee;class Sr{constructor(e=new ee,n=new ee,i=new ee){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,o){o.subVectors(i,n),Ao.subVectors(e,n),o.cross(Ao);const s=o.lengthSq();return s>0?o.multiplyScalar(1/Math.sqrt(s)):o.set(0,0,0)}static getBarycoord(e,n,i,o,s){Ao.subVectors(o,n),ll.subVectors(i,n),PC.subVectors(e,n);const a=Ao.dot(Ao),l=Ao.dot(ll),c=Ao.dot(PC),u=ll.dot(ll),d=ll.dot(PC),f=a*u-l*l;if(f===0)return s.set(-2,-1,-1);const h=1/f,v=(u*c-l*d)*h,m=(a*d-l*c)*h;return s.set(1-v-m,m,v)}static containsPoint(e,n,i,o){return this.getBarycoord(e,n,i,o,cl),cl.x>=0&&cl.y>=0&&cl.x+cl.y<=1}static getUV(e,n,i,o,s,a,l,c){return this.getBarycoord(e,n,i,o,cl),c.set(0,0),c.addScaledVector(s,cl.x),c.addScaledVector(a,cl.y),c.addScaledVector(l,cl.z),c}static isFrontFacing(e,n,i,o){return Ao.subVectors(i,n),ll.subVectors(e,n),Ao.cross(ll).dot(o)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,o){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,n,i,o){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ao.subVectors(this.c,this.b),ll.subVectors(this.a,this.b),Ao.cross(ll).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Sr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Sr.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,i,o,s){return Sr.getUV(e,this.a,this.b,this.c,n,i,o,s)}containsPoint(e){return Sr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Sr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,o=this.b,s=this.c;let a,l;ah.subVectors(o,i),lh.subVectors(s,i),RC.subVectors(e,i);const c=ah.dot(RC),u=lh.dot(RC);if(c<=0&&u<=0)return n.copy(i);LC.subVectors(e,o);const d=ah.dot(LC),f=lh.dot(LC);if(d>=0&&f<=d)return n.copy(o);const h=c*f-d*u;if(h<=0&&c>=0&&d<=0)return a=c/(c-d),n.copy(i).addScaledVector(ah,a);IC.subVectors(e,s);const v=ah.dot(IC),m=lh.dot(IC);if(m>=0&&v<=m)return n.copy(s);const _=v*u-c*m;if(_<=0&&u>=0&&m<=0)return l=u/(u-m),n.copy(i).addScaledVector(lh,l);const S=d*m-v*f;if(S<=0&&f-d>=0&&v-m>=0)return gB.subVectors(s,o),l=(f-d)/(f-d+(v-m)),n.copy(o).addScaledVector(gB,l);const E=1/(S+_+h);return a=_*E,l=h*E,n.copy(i).addScaledVector(ah,a).addScaledVector(lh,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let KMe=0;class Tr extends _s{constructor(){super();Object.defineProperty(this,"id",{value:KMe++}),this.uuid=Zs(),this.name="",this.type="Material",this.fog=!0,this.blending=Rg,this.side=Qa,this.vertexColors=!1,this.opacity=1,this.format=Qn,this.transparent=!1,this.blendSrc=Hj,this.blendDst=zj,this.blendEquation=Yf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=nC,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=CMe,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=gC,this.stencilZFail=gC,this.stencilZPass=gC,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}if(n==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===Dj;continue}const o=this[n];if(o===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}o&&o.isColor?o.set(i):o&&o.isVector3&&i&&i.isVector3?o.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Rg&&(i.blending=this.blending),this.side!==Qa&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.format!==Qn&&(i.format=this.format),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function o(s){const a=[];for(const l in s){const c=s[l];delete c.metadata,a.push(c)}return a}if(n){const s=o(e.textures),a=o(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const o=n.length;i=new Array(o);for(let s=0;s!==o;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}Tr.prototype.isMaterial=!0;const vB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Po={h:0,s:0,l:0},vb={h:0,s:0,l:0};function OC(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function NC(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function kC(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}class at{constructor(e,n,i){return n===void 0&&i===void 0?this.set(e):this.setRGB(e,n,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,n,i){return this.r=e,this.g=n,this.b=i,this}setHSL(e,n,i){if(e=vC(e,1),n=Ai(n,0,1),i=Ai(i,0,1),n===0)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+n):i+n-i*n,s=2*i-o;this.r=OC(s,o,e+1/3),this.g=OC(s,o,e),this.b=OC(s,o,e-1/3)}return this}setStyle(e){function n(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,n(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,n(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(o[1])/360,c=parseInt(o[2],10)/100,u=parseInt(o[3],10)/100;return n(o[4]),this.setHSL(l,c,u)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,this;if(s===6)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const n=vB[e.toLowerCase()];return n!==void 0?this.setHex(n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=NC(e.r),this.g=NC(e.g),this.b=NC(e.b),this}copyLinearToSRGB(e){return this.r=kC(e.r),this.g=kC(e.g),this.b=kC(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const n=this.r,i=this.g,o=this.b,s=Math.max(n,i,o),a=Math.min(n,i,o);let l,c;const u=(a+s)/2;if(a===s)l=0,c=0;else{const d=s-a;switch(c=u<=.5?d/(s+a):d/(2-s-a),s){case n:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-n)/d+2;break;case o:l=(n-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,n,i){return this.getHSL(Po),Po.h+=e,Po.s+=n,Po.l+=i,this.setHSL(Po.h,Po.s,Po.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(Po),e.getHSL(vb);const i=Ug(Po.h,vb.h,n),o=Ug(Po.s,vb.s,n),s=Ug(Po.l,vb.l,n);return this.setHSL(i,o,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}at.NAMES=vB;at.prototype.isColor=!0;at.prototype.r=1;at.prototype.g=1;at.prototype.b=1;class Ro extends Tr{constructor(e){super();this.type="MeshBasicMaterial",this.color=new at(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=eb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}Ro.prototype.isMeshBasicMaterial=!0;const jn=new ee,yb=new Ue;class On{constructor(e,n,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i===!0,this.usage=kg,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let o=0,s=this.itemSize;o<s;o++)this.array[e+o]=n.array[i+o];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const n=this.array;let i=0;for(let o=0,s=e.length;o<s;o++){let a=e[o];a===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",o),a=new at),n[i++]=a.r,n[i++]=a.g,n[i++]=a.b}return this}copyVector2sArray(e){const n=this.array;let i=0;for(let o=0,s=e.length;o<s;o++){let a=e[o];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",o),a=new Ue),n[i++]=a.x,n[i++]=a.y}return this}copyVector3sArray(e){const n=this.array;let i=0;for(let o=0,s=e.length;o<s;o++){let a=e[o];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",o),a=new ee),n[i++]=a.x,n[i++]=a.y,n[i++]=a.z}return this}copyVector4sArray(e){const n=this.array;let i=0;for(let o=0,s=e.length;o<s;o++){let a=e[o];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",o),a=new In),n[i++]=a.x,n[i++]=a.y,n[i++]=a.z,n[i++]=a.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)yb.fromBufferAttribute(this,n),yb.applyMatrix3(e),this.setXY(n,yb.x,yb.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)jn.fromBufferAttribute(this,n),jn.applyMatrix3(e),this.setXYZ(n,jn.x,jn.y,jn.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)jn.x=this.getX(n),jn.y=this.getY(n),jn.z=this.getZ(n),jn.applyMatrix4(e),this.setXYZ(n,jn.x,jn.y,jn.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)jn.x=this.getX(n),jn.y=this.getY(n),jn.z=this.getZ(n),jn.applyNormalMatrix(e),this.setXYZ(n,jn.x,jn.y,jn.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)jn.x=this.getX(n),jn.y=this.getY(n),jn.z=this.getZ(n),jn.transformDirection(e),this.setXYZ(n,jn.x,jn.y,jn.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){return this.array[e*this.itemSize]}setX(e,n){return this.array[e*this.itemSize]=n,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,n){return this.array[e*this.itemSize+1]=n,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,n){return this.array[e*this.itemSize+2]=n,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,n){return this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,o){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=o,this}setXYZW(e,n,i,o,s){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=o,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==kg&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}On.prototype.isBufferAttribute=!0;class yB extends On{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class _B extends On{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class XMe extends On{constructor(e,n,i){super(new Uint16Array(e),n,i)}}XMe.prototype.isFloat16BufferAttribute=!0;class kr extends On{constructor(e,n,i){super(new Float32Array(e),n,i)}}let JMe=0;const Qs=new ut,DC=new dn,ch=new ee,Es=new Ri,Hg=new Ri,Hr=new ee;class Nn extends _s{constructor(){super();Object.defineProperty(this,"id",{value:JMe++}),this.uuid=Zs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(oB(e)>65535?_B:yB)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Nr().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(e),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Qs.makeRotationFromQuaternion(e),this.applyMatrix4(Qs),this}rotateX(e){return Qs.makeRotationX(e),this.applyMatrix4(Qs),this}rotateY(e){return Qs.makeRotationY(e),this.applyMatrix4(Qs),this}rotateZ(e){return Qs.makeRotationZ(e),this.applyMatrix4(Qs),this}translate(e,n,i){return Qs.makeTranslation(e,n,i),this.applyMatrix4(Qs),this}scale(e,n,i){return Qs.makeScale(e,n,i),this.applyMatrix4(Qs),this}lookAt(e){return DC.lookAt(e),DC.updateMatrix(),this.applyMatrix4(DC.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ch).negate(),this.translate(ch.x,ch.y,ch.z),this}setFromPoints(e){const n=[];for(let i=0,o=e.length;i<o;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new kr(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ri);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ee(-1/0,-1/0,-1/0),new ee(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,o=n.length;i<o;i++){const s=n[i];Es.setFromBufferAttribute(s),this.morphTargetsRelative?(Hr.addVectors(this.boundingBox.min,Es.min),this.boundingBox.expandByPoint(Hr),Hr.addVectors(this.boundingBox.max,Es.max),this.boundingBox.expandByPoint(Hr)):(this.boundingBox.expandByPoint(Es.min),this.boundingBox.expandByPoint(Es.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sc);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ee,1/0);return}if(e){const i=this.boundingSphere.center;if(Es.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const l=n[s];Hg.setFromBufferAttribute(l),this.morphTargetsRelative?(Hr.addVectors(Es.min,Hg.min),Es.expandByPoint(Hr),Hr.addVectors(Es.max,Hg.max),Es.expandByPoint(Hr)):(Es.expandByPoint(Hg.min),Es.expandByPoint(Hg.max))}Es.getCenter(i);let o=0;for(let s=0,a=e.count;s<a;s++)Hr.fromBufferAttribute(e,s),o=Math.max(o,i.distanceToSquared(Hr));if(n)for(let s=0,a=n.length;s<a;s++){const l=n[s],c=this.morphTargetsRelative;for(let u=0,d=l.count;u<d;u++)Hr.fromBufferAttribute(l,u),c&&(ch.fromBufferAttribute(e,u),Hr.add(ch)),o=Math.max(o,i.distanceToSquared(Hr))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,o=n.position.array,s=n.normal.array,a=n.uv.array,l=o.length/3;n.tangent===void 0&&this.setAttribute("tangent",new On(new Float32Array(4*l),4));const c=n.tangent.array,u=[],d=[];for(let U=0;U<l;U++)u[U]=new ee,d[U]=new ee;const f=new ee,h=new ee,v=new ee,m=new Ue,_=new Ue,S=new Ue,E=new ee,w=new ee;function T(U,N,I){f.fromArray(o,U*3),h.fromArray(o,N*3),v.fromArray(o,I*3),m.fromArray(a,U*2),_.fromArray(a,N*2),S.fromArray(a,I*2),h.sub(f),v.sub(f),_.sub(m),S.sub(m);const F=1/(_.x*S.y-S.x*_.y);!isFinite(F)||(E.copy(h).multiplyScalar(S.y).addScaledVector(v,-_.y).multiplyScalar(F),w.copy(v).multiplyScalar(_.x).addScaledVector(h,-S.x).multiplyScalar(F),u[U].add(E),u[N].add(E),u[I].add(E),d[U].add(w),d[N].add(w),d[I].add(w))}let C=this.groups;C.length===0&&(C=[{start:0,count:i.length}]);for(let U=0,N=C.length;U<N;++U){const I=C[U],F=I.start,O=I.count;for(let V=F,z=F+O;V<z;V+=3)T(i[V+0],i[V+1],i[V+2])}const P=new ee,R=new ee,A=new ee,L=new ee;function k(U){A.fromArray(s,U*3),L.copy(A);const N=u[U];P.copy(N),P.sub(A.multiplyScalar(A.dot(N))).normalize(),R.crossVectors(L,N);const F=R.dot(d[U])<0?-1:1;c[U*4]=P.x,c[U*4+1]=P.y,c[U*4+2]=P.z,c[U*4+3]=F}for(let U=0,N=C.length;U<N;++U){const I=C[U],F=I.start,O=I.count;for(let V=F,z=F+O;V<z;V+=3)k(i[V+0]),k(i[V+1]),k(i[V+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new On(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let h=0,v=i.count;h<v;h++)i.setXYZ(h,0,0,0);const o=new ee,s=new ee,a=new ee,l=new ee,c=new ee,u=new ee,d=new ee,f=new ee;if(e)for(let h=0,v=e.count;h<v;h+=3){const m=e.getX(h+0),_=e.getX(h+1),S=e.getX(h+2);o.fromBufferAttribute(n,m),s.fromBufferAttribute(n,_),a.fromBufferAttribute(n,S),d.subVectors(a,s),f.subVectors(o,s),d.cross(f),l.fromBufferAttribute(i,m),c.fromBufferAttribute(i,_),u.fromBufferAttribute(i,S),l.add(d),c.add(d),u.add(d),i.setXYZ(m,l.x,l.y,l.z),i.setXYZ(_,c.x,c.y,c.z),i.setXYZ(S,u.x,u.y,u.z)}else for(let h=0,v=n.count;h<v;h+=3)o.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),a.fromBufferAttribute(n,h+2),d.subVectors(a,s),f.subVectors(o,s),d.cross(f),i.setXYZ(h+0,d.x,d.y,d.z),i.setXYZ(h+1,d.x,d.y,d.z),i.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(e,n){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}n===void 0&&(n=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const o in i){if(e.attributes[o]===void 0)continue;const a=i[o].array,l=e.attributes[o],c=l.array,u=l.itemSize*n,d=Math.min(c.length,a.length-u);for(let f=0,h=u;f<d;f++,h++)a[h]=c[f]}return this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Hr.fromBufferAttribute(e,n),Hr.normalize(),e.setXYZ(n,Hr.x,Hr.y,Hr.z)}toNonIndexed(){function e(l,c){const u=l.array,d=l.itemSize,f=l.normalized,h=new u.constructor(c.length*d);let v=0,m=0;for(let _=0,S=c.length;_<S;_++){l.isInterleavedBufferAttribute?v=c[_]*l.data.stride+l.offset:v=c[_]*d;for(let E=0;E<d;E++)h[m++]=u[v++]}return new On(h,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Nn,i=this.index.array,o=this.attributes;for(const l in o){const c=o[l],u=e(c,i);n.setAttribute(l,u)}const s=this.morphAttributes;for(const l in s){const c=[],u=s[l];for(let d=0,f=u.length;d<f;d++){const h=u[d],v=e(h,i);c.push(v)}n.morphAttributes[l]=c}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,c=a.length;l<c;l++){const u=a[l];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const c in i){const u=i[c];e.data.attributes[c]=u.toJSON(e.data)}const o={};let s=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],d=[];for(let f=0,h=u.length;f<h;f++){const v=u[f];d.push(v.toJSON(e.data))}d.length>0&&(o[c]=d,s=!0)}s&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const o=e.attributes;for(const u in o){const d=o[u];this.setAttribute(u,d.clone(n))}const s=e.morphAttributes;for(const u in s){const d=[],f=s[u];for(let h=0,v=f.length;h<v;h++)d.push(f[h].clone(n));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,d=a.length;u<d;u++){const f=a[u];this.addGroup(f.start,f.count,f.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}Nn.prototype.isBufferGeometry=!0;const bB=new ut,uh=new Wu,FC=new Sc,Ac=new ee,Pc=new ee,Rc=new ee,UC=new ee,jC=new ee,BC=new ee,_b=new ee,bb=new ee,Eb=new ee,wb=new Ue,xb=new Ue,Sb=new Ue,VC=new ee,Tb=new ee;class Ct extends dn{constructor(e=new Nn,n=new Ro){super();this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,i=Object.keys(n);if(i.length>0){const o=n[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=o.length;s<a;s++){const l=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,n){const i=this.geometry,o=this.material,s=this.matrixWorld;if(o===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),FC.copy(i.boundingSphere),FC.applyMatrix4(s),e.ray.intersectsSphere(FC)===!1)||(bB.copy(s).invert(),uh.copy(e.ray).applyMatrix4(bB),i.boundingBox!==null&&uh.intersectsBox(i.boundingBox)===!1))return;let a;if(i.isBufferGeometry){const l=i.index,c=i.attributes.position,u=i.morphAttributes.position,d=i.morphTargetsRelative,f=i.attributes.uv,h=i.attributes.uv2,v=i.groups,m=i.drawRange;if(l!==null)if(Array.isArray(o))for(let _=0,S=v.length;_<S;_++){const E=v[_],w=o[E.materialIndex],T=Math.max(E.start,m.start),C=Math.min(l.count,Math.min(E.start+E.count,m.start+m.count));for(let P=T,R=C;P<R;P+=3){const A=l.getX(P),L=l.getX(P+1),k=l.getX(P+2);a=Cb(this,w,e,uh,c,u,d,f,h,A,L,k),a&&(a.faceIndex=Math.floor(P/3),a.face.materialIndex=E.materialIndex,n.push(a))}}else{const _=Math.max(0,m.start),S=Math.min(l.count,m.start+m.count);for(let E=_,w=S;E<w;E+=3){const T=l.getX(E),C=l.getX(E+1),P=l.getX(E+2);a=Cb(this,o,e,uh,c,u,d,f,h,T,C,P),a&&(a.faceIndex=Math.floor(E/3),n.push(a))}}else if(c!==void 0)if(Array.isArray(o))for(let _=0,S=v.length;_<S;_++){const E=v[_],w=o[E.materialIndex],T=Math.max(E.start,m.start),C=Math.min(c.count,Math.min(E.start+E.count,m.start+m.count));for(let P=T,R=C;P<R;P+=3){const A=P,L=P+1,k=P+2;a=Cb(this,w,e,uh,c,u,d,f,h,A,L,k),a&&(a.faceIndex=Math.floor(P/3),a.face.materialIndex=E.materialIndex,n.push(a))}}else{const _=Math.max(0,m.start),S=Math.min(c.count,m.start+m.count);for(let E=_,w=S;E<w;E+=3){const T=E,C=E+1,P=E+2;a=Cb(this,o,e,uh,c,u,d,f,h,T,C,P),a&&(a.faceIndex=Math.floor(E/3),n.push(a))}}}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Ct.prototype.isMesh=!0;function ZMe(t,e,n,i,o,s,a,l){let c;if(e.side===dr?c=i.intersectTriangle(a,s,o,!0,l):c=i.intersectTriangle(o,s,a,e.side!==el,l),c===null)return null;Tb.copy(l),Tb.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Tb);return u<n.near||u>n.far?null:{distance:u,point:Tb.clone(),object:t}}function Cb(t,e,n,i,o,s,a,l,c,u,d,f){Ac.fromBufferAttribute(o,u),Pc.fromBufferAttribute(o,d),Rc.fromBufferAttribute(o,f);const h=t.morphTargetInfluences;if(s&&h){_b.set(0,0,0),bb.set(0,0,0),Eb.set(0,0,0);for(let m=0,_=s.length;m<_;m++){const S=h[m],E=s[m];S!==0&&(UC.fromBufferAttribute(E,u),jC.fromBufferAttribute(E,d),BC.fromBufferAttribute(E,f),a?(_b.addScaledVector(UC,S),bb.addScaledVector(jC,S),Eb.addScaledVector(BC,S)):(_b.addScaledVector(UC.sub(Ac),S),bb.addScaledVector(jC.sub(Pc),S),Eb.addScaledVector(BC.sub(Rc),S)))}Ac.add(_b),Pc.add(bb),Rc.add(Eb)}t.isSkinnedMesh&&(t.boneTransform(u,Ac),t.boneTransform(d,Pc),t.boneTransform(f,Rc));const v=ZMe(t,e,n,i,Ac,Pc,Rc,VC);if(v){l&&(wb.fromBufferAttribute(l,u),xb.fromBufferAttribute(l,d),Sb.fromBufferAttribute(l,f),v.uv=Sr.getUV(VC,Ac,Pc,Rc,wb,xb,Sb,new Ue)),c&&(wb.fromBufferAttribute(c,u),xb.fromBufferAttribute(c,d),Sb.fromBufferAttribute(c,f),v.uv2=Sr.getUV(VC,Ac,Pc,Rc,wb,xb,Sb,new Ue));const m={a:u,b:d,c:f,normal:new ee,materialIndex:0};Sr.getNormal(Ac,Pc,Rc,m.normal),v.face=m}return v}class Lc extends Nn{constructor(e=1,n=1,i=1,o=1,s=1,a=1){super();this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:o,heightSegments:s,depthSegments:a};const l=this;o=Math.floor(o),s=Math.floor(s),a=Math.floor(a);const c=[],u=[],d=[],f=[];let h=0,v=0;m("z","y","x",-1,-1,i,n,e,a,s,0),m("z","y","x",1,-1,i,n,-e,a,s,1),m("x","z","y",1,1,e,i,n,o,a,2),m("x","z","y",1,-1,e,i,-n,o,a,3),m("x","y","z",1,-1,e,n,i,o,s,4),m("x","y","z",-1,-1,e,n,-i,o,s,5),this.setIndex(c),this.setAttribute("position",new kr(u,3)),this.setAttribute("normal",new kr(d,3)),this.setAttribute("uv",new kr(f,2));function m(_,S,E,w,T,C,P,R,A,L,k){const U=C/A,N=P/L,I=C/2,F=P/2,O=R/2,V=A+1,z=L+1;let B=0,H=0;const W=new ee;for(let G=0;G<z;G++){const q=G*N-F;for(let re=0;re<V;re++){const se=re*U-I;W[_]=se*w,W[S]=q*T,W[E]=O,u.push(W.x,W.y,W.z),W[_]=0,W[S]=0,W[E]=R>0?1:-1,d.push(W.x,W.y,W.z),f.push(re/A),f.push(1-G/L),B+=1}}for(let G=0;G<L;G++)for(let q=0;q<A;q++){const re=h+q+V*G,se=h+q+V*(G+1),ge=h+(q+1)+V*(G+1),_e=h+(q+1)+V*G;c.push(re,se,_e),c.push(se,ge,_e),H+=6}l.addGroup(v,H,k),v+=H,h+=B}}static fromJSON(e){return new Lc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function dh(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const o=t[n][i];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?e[n][i]=o.clone():Array.isArray(o)?e[n][i]=o.slice():e[n][i]=o}}return e}function yi(t){const e={};for(let n=0;n<t.length;n++){const i=dh(t[n]);for(const o in i)e[o]=i[o]}return e}const QMe={clone:dh,merge:yi};var eAe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,tAe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ul extends Tr{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=eAe,this.fragmentShader=tAe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=dh(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const o in this.uniforms){const a=this.uniforms[o].value;a&&a.isTexture?n.uniforms[o]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[o]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[o]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[o]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[o]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[o]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[o]={type:"m4",value:a.toArray()}:n.uniforms[o]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const i={};for(const o in this.extensions)this.extensions[o]===!0&&(i[o]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}ul.prototype.isShaderMaterial=!0;class HC extends dn{constructor(){super();this.type="Camera",this.matrixWorldInverse=new ut,this.projectionMatrix=new ut,this.projectionMatrixInverse=new ut}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}HC.prototype.isCamera=!0;class zr extends HC{constructor(e=50,n=1,i=.1,o=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=o,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Fg*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Dg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Fg*2*Math.atan(Math.tan(Dg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,i,o,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=o,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Dg*.5*this.fov)/this.zoom,i=2*n,o=this.aspect*i,s=-.5*o;const a=this.view;if(this.view!==null&&this.view.enabled){const c=a.fullWidth,u=a.fullHeight;s+=a.offsetX*o/c,n-=a.offsetY*i/u,o*=a.width/c,i*=a.height/u}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+o,n,n-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}zr.prototype.isPerspectiveCamera=!0;const fh=90,hh=1;class zg extends dn{constructor(e,n,i){super();if(this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=i;const o=new zr(fh,hh,e,n);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new ee(1,0,0)),this.add(o);const s=new zr(fh,hh,e,n);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new ee(-1,0,0)),this.add(s);const a=new zr(fh,hh,e,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new ee(0,1,0)),this.add(a);const l=new zr(fh,hh,e,n);l.layers=this.layers,l.up.set(0,0,-1),l.lookAt(new ee(0,-1,0)),this.add(l);const c=new zr(fh,hh,e,n);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new ee(0,0,1)),this.add(c);const u=new zr(fh,hh,e,n);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new ee(0,0,-1)),this.add(u)}update(e,n){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[o,s,a,l,c,u]=this.children,d=e.xr.enabled,f=e.getRenderTarget();e.xr.enabled=!1;const h=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(n,o),e.setRenderTarget(i,1),e.render(n,s),e.setRenderTarget(i,2),e.render(n,a),e.setRenderTarget(i,3),e.render(n,l),e.setRenderTarget(i,4),e.render(n,c),i.texture.generateMipmaps=h,e.setRenderTarget(i,5),e.render(n,u),e.setRenderTarget(f),e.xr.enabled=d}}class Mb extends fr{constructor(e,n,i,o,s,a,l,c,u,d){e=e!==void 0?e:[],n=n!==void 0?n:Lg;super(e,n,i,o,s,a,l,c,u,d);this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}Mb.prototype.isCubeTexture=!0;class Ab extends Zi{constructor(e,n,i){Number.isInteger(n)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),n=i);super(e,e,n);n=n||{},this.texture=new Mb(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Ln,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.format=Qn,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},o=new Lc(5,5,5),s=new ul({name:"CubemapFromEquirect",uniforms:dh(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:dr,blending:tl});s.uniforms.tEquirect.value=n;const a=new Ct(o,s),l=n.minFilter;return n.minFilter===il&&(n.minFilter=Ln),new zg(1,10,this).update(e,a),n.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,i,o){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,i,o);e.setRenderTarget(s)}}Ab.prototype.isWebGLCubeRenderTarget=!0;const zC=new ee,nAe=new ee,rAe=new Nr;class dl{constructor(e=new ee(1,0,0),n=0){this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,o){return this.normal.set(e,n,i),this.constant=o,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const o=zC.subVectors(i,n).cross(nAe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const i=e.delta(zC),o=this.normal.dot(i);if(o===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/o;return s<0||s>1?null:n.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||rAe.getNormalMatrix(e),o=this.coplanarPoint(zC).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}dl.prototype.isPlane=!0;const ph=new Sc,Pb=new ee;class Rb{constructor(e=new dl,n=new dl,i=new dl,o=new dl,s=new dl,a=new dl){this.planes=[e,n,i,o,s,a]}set(e,n,i,o,s,a){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(i),l[3].copy(o),l[4].copy(s),l[5].copy(a),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const n=this.planes,i=e.elements,o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],h=i[8],v=i[9],m=i[10],_=i[11],S=i[12],E=i[13],w=i[14],T=i[15];return n[0].setComponents(l-o,f-c,_-h,T-S).normalize(),n[1].setComponents(l+o,f+c,_+h,T+S).normalize(),n[2].setComponents(l+s,f+u,_+v,T+E).normalize(),n[3].setComponents(l-s,f-u,_-v,T-E).normalize(),n[4].setComponents(l-a,f-d,_-m,T-w).normalize(),n[5].setComponents(l+a,f+d,_+m,T+w).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),ph.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ph)}intersectsSprite(e){return ph.center.set(0,0,0),ph.radius=.7071067811865476,ph.applyMatrix4(e.matrixWorld),this.intersectsSphere(ph)}intersectsSphere(e){const n=this.planes,i=e.center,o=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<o)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const o=n[i];if(Pb.x=o.normal.x>0?e.max.x:e.min.x,Pb.y=o.normal.y>0?e.max.y:e.min.y,Pb.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint(Pb)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function EB(){let t=null,e=!1,n=null,i=null;function o(s,a){n(s,a),i=t.requestAnimationFrame(o)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(o),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function iAe(t,e){const n=e.isWebGL2,i=new WeakMap;function o(u,d){const f=u.array,h=u.usage,v=t.createBuffer();t.bindBuffer(d,v),t.bufferData(d,f,h),u.onUploadCallback();let m=5126;return f instanceof Float32Array?m=5126:f instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):f instanceof Uint16Array?u.isFloat16BufferAttribute?n?m=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):m=5123:f instanceof Int16Array?m=5122:f instanceof Uint32Array?m=5125:f instanceof Int32Array?m=5124:f instanceof Int8Array?m=5120:(f instanceof Uint8Array||f instanceof Uint8ClampedArray)&&(m=5121),{buffer:v,type:m,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function s(u,d,f){const h=d.array,v=d.updateRange;t.bindBuffer(f,u),v.count===-1?t.bufferSubData(f,0,h):(n?t.bufferSubData(f,v.offset*h.BYTES_PER_ELEMENT,h,v.offset,v.count):t.bufferSubData(f,v.offset*h.BYTES_PER_ELEMENT,h.subarray(v.offset,v.offset+v.count)),v.count=-1)}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),i.get(u)}function l(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=i.get(u);d&&(t.deleteBuffer(d.buffer),i.delete(u))}function c(u,d){if(u.isGLBufferAttribute){const h=i.get(u);(!h||h.version<u.version)&&i.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=i.get(u);f===void 0?i.set(u,o(u,d)):f.version<u.version&&(s(f.buffer,u,d),f.version=u.version)}return{get:a,remove:l,update:c}}class qu extends Nn{constructor(e=1,n=1,i=1,o=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:o};const s=e/2,a=n/2,l=Math.floor(i),c=Math.floor(o),u=l+1,d=c+1,f=e/l,h=n/c,v=[],m=[],_=[],S=[];for(let E=0;E<d;E++){const w=E*h-a;for(let T=0;T<u;T++){const C=T*f-s;m.push(C,-w,0),_.push(0,0,1),S.push(T/l),S.push(1-E/c)}}for(let E=0;E<c;E++)for(let w=0;w<l;w++){const T=w+u*E,C=w+u*(E+1),P=w+1+u*(E+1),R=w+1+u*E;v.push(T,C,R),v.push(C,P,R)}this.setIndex(v),this.setAttribute("position",new kr(m,3)),this.setAttribute("normal",new kr(_,3)),this.setAttribute("uv",new kr(S,2))}static fromJSON(e){return new qu(e.width,e.height,e.widthSegments,e.heightSegments)}}var sAe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,oAe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,aAe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,lAe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,cAe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,uAe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,dAe="vec3 transformed = vec3( position );",fAe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,hAe=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,pAe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,mAe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,gAe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,vAe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,yAe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,_Ae=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,bAe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,EAe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,wAe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,xAe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,SAe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		return texture2D( envMap, uv ).rgb;
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,TAe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,CAe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,MAe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,AAe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,PAe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,RAe="gl_FragColor = linearToOutputTexel( gl_FragColor );",LAe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,IAe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,OAe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,NAe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,kAe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,DAe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,FAe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,UAe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,jAe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,BAe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,VAe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,HAe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,zAe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,GAe=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,$Ae=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,WAe=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,qAe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,YAe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,KAe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,XAe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,JAe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,ZAe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,QAe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ePe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,tPe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,nPe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,rPe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,iPe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,sPe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,oPe=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,aPe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,lPe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,cPe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,uPe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,dPe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,fPe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,hPe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,pPe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,mPe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,gPe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,vPe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,yPe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_Pe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,bPe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,EPe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,wPe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,xPe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,SPe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,TPe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,CPe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,MPe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,APe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,PPe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,RPe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,LPe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,IPe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,OPe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,NPe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,kPe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,DPe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,FPe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,UPe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,jPe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,BPe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,VPe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,HPe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,zPe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,GPe=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,$Pe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,WPe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,qPe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,YPe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,KPe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,XPe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,JPe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,ZPe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const QPe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,eRe=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,tRe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nRe=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,rRe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,iRe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,sRe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,oRe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,aRe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,lRe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cRe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,uRe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,dRe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fRe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hRe=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pRe=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mRe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,gRe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vRe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,yRe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,_Re=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bRe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ERe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,wRe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xRe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SRe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TRe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,CRe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,MRe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ARe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,PRe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,RRe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Zt={alphamap_fragment:sAe,alphamap_pars_fragment:oAe,alphatest_fragment:aAe,alphatest_pars_fragment:lAe,aomap_fragment:cAe,aomap_pars_fragment:uAe,begin_vertex:dAe,beginnormal_vertex:fAe,bsdfs:hAe,bumpmap_pars_fragment:pAe,clipping_planes_fragment:mAe,clipping_planes_pars_fragment:gAe,clipping_planes_pars_vertex:vAe,clipping_planes_vertex:yAe,color_fragment:_Ae,color_pars_fragment:bAe,color_pars_vertex:EAe,color_vertex:wAe,common:xAe,cube_uv_reflection_fragment:SAe,defaultnormal_vertex:TAe,displacementmap_pars_vertex:CAe,displacementmap_vertex:MAe,emissivemap_fragment:AAe,emissivemap_pars_fragment:PAe,encodings_fragment:RAe,encodings_pars_fragment:LAe,envmap_fragment:IAe,envmap_common_pars_fragment:OAe,envmap_pars_fragment:NAe,envmap_pars_vertex:kAe,envmap_physical_pars_fragment:WAe,envmap_vertex:DAe,fog_vertex:FAe,fog_pars_vertex:UAe,fog_fragment:jAe,fog_pars_fragment:BAe,gradientmap_pars_fragment:VAe,lightmap_fragment:HAe,lightmap_pars_fragment:zAe,lights_lambert_vertex:GAe,lights_pars_begin:$Ae,lights_toon_fragment:qAe,lights_toon_pars_fragment:YAe,lights_phong_fragment:KAe,lights_phong_pars_fragment:XAe,lights_physical_fragment:JAe,lights_physical_pars_fragment:ZAe,lights_fragment_begin:QAe,lights_fragment_maps:ePe,lights_fragment_end:tPe,logdepthbuf_fragment:nPe,logdepthbuf_pars_fragment:rPe,logdepthbuf_pars_vertex:iPe,logdepthbuf_vertex:sPe,map_fragment:oPe,map_pars_fragment:aPe,map_particle_fragment:lPe,map_particle_pars_fragment:cPe,metalnessmap_fragment:uPe,metalnessmap_pars_fragment:dPe,morphnormal_vertex:fPe,morphtarget_pars_vertex:hPe,morphtarget_vertex:pPe,normal_fragment_begin:mPe,normal_fragment_maps:gPe,normal_pars_fragment:vPe,normal_pars_vertex:yPe,normal_vertex:_Pe,normalmap_pars_fragment:bPe,clearcoat_normal_fragment_begin:EPe,clearcoat_normal_fragment_maps:wPe,clearcoat_pars_fragment:xPe,output_fragment:SPe,packing:TPe,premultiplied_alpha_fragment:CPe,project_vertex:MPe,dithering_fragment:APe,dithering_pars_fragment:PPe,roughnessmap_fragment:RPe,roughnessmap_pars_fragment:LPe,shadowmap_pars_fragment:IPe,shadowmap_pars_vertex:OPe,shadowmap_vertex:NPe,shadowmask_pars_fragment:kPe,skinbase_vertex:DPe,skinning_pars_vertex:FPe,skinning_vertex:UPe,skinnormal_vertex:jPe,specularmap_fragment:BPe,specularmap_pars_fragment:VPe,tonemapping_fragment:HPe,tonemapping_pars_fragment:zPe,transmission_fragment:GPe,transmission_pars_fragment:$Pe,uv_pars_fragment:WPe,uv_pars_vertex:qPe,uv_vertex:YPe,uv2_pars_fragment:KPe,uv2_pars_vertex:XPe,uv2_vertex:JPe,worldpos_vertex:ZPe,background_vert:QPe,background_frag:eRe,cube_vert:tRe,cube_frag:nRe,depth_vert:rRe,depth_frag:iRe,distanceRGBA_vert:sRe,distanceRGBA_frag:oRe,equirect_vert:aRe,equirect_frag:lRe,linedashed_vert:cRe,linedashed_frag:uRe,meshbasic_vert:dRe,meshbasic_frag:fRe,meshlambert_vert:hRe,meshlambert_frag:pRe,meshmatcap_vert:mRe,meshmatcap_frag:gRe,meshnormal_vert:vRe,meshnormal_frag:yRe,meshphong_vert:_Re,meshphong_frag:bRe,meshphysical_vert:ERe,meshphysical_frag:wRe,meshtoon_vert:xRe,meshtoon_frag:SRe,points_vert:TRe,points_frag:CRe,shadow_vert:MRe,shadow_frag:ARe,sprite_vert:PRe,sprite_frag:RRe},et={common:{diffuse:{value:new at(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Nr},uv2Transform:{value:new Nr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ue(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new at(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new at(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Nr}},sprite:{diffuse:{value:new at(16777215)},opacity:{value:1},center:{value:new Ue(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Nr}}},la={basic:{uniforms:yi([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.fog]),vertexShader:Zt.meshbasic_vert,fragmentShader:Zt.meshbasic_frag},lambert:{uniforms:yi([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.fog,et.lights,{emissive:{value:new at(0)}}]),vertexShader:Zt.meshlambert_vert,fragmentShader:Zt.meshlambert_frag},phong:{uniforms:yi([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.fog,et.lights,{emissive:{value:new at(0)},specular:{value:new at(1118481)},shininess:{value:30}}]),vertexShader:Zt.meshphong_vert,fragmentShader:Zt.meshphong_frag},standard:{uniforms:yi([et.common,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.roughnessmap,et.metalnessmap,et.fog,et.lights,{emissive:{value:new at(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Zt.meshphysical_vert,fragmentShader:Zt.meshphysical_frag},toon:{uniforms:yi([et.common,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.gradientmap,et.fog,et.lights,{emissive:{value:new at(0)}}]),vertexShader:Zt.meshtoon_vert,fragmentShader:Zt.meshtoon_frag},matcap:{uniforms:yi([et.common,et.bumpmap,et.normalmap,et.displacementmap,et.fog,{matcap:{value:null}}]),vertexShader:Zt.meshmatcap_vert,fragmentShader:Zt.meshmatcap_frag},points:{uniforms:yi([et.points,et.fog]),vertexShader:Zt.points_vert,fragmentShader:Zt.points_frag},dashed:{uniforms:yi([et.common,et.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Zt.linedashed_vert,fragmentShader:Zt.linedashed_frag},depth:{uniforms:yi([et.common,et.displacementmap]),vertexShader:Zt.depth_vert,fragmentShader:Zt.depth_frag},normal:{uniforms:yi([et.common,et.bumpmap,et.normalmap,et.displacementmap,{opacity:{value:1}}]),vertexShader:Zt.meshnormal_vert,fragmentShader:Zt.meshnormal_frag},sprite:{uniforms:yi([et.sprite,et.fog]),vertexShader:Zt.sprite_vert,fragmentShader:Zt.sprite_frag},background:{uniforms:{uvTransform:{value:new Nr},t2D:{value:null}},vertexShader:Zt.background_vert,fragmentShader:Zt.background_frag},cube:{uniforms:yi([et.envmap,{opacity:{value:1}}]),vertexShader:Zt.cube_vert,fragmentShader:Zt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Zt.equirect_vert,fragmentShader:Zt.equirect_frag},distanceRGBA:{uniforms:yi([et.common,et.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Zt.distanceRGBA_vert,fragmentShader:Zt.distanceRGBA_frag},shadow:{uniforms:yi([et.lights,et.fog,{color:{value:new at(0)},opacity:{value:1}}]),vertexShader:Zt.shadow_vert,fragmentShader:Zt.shadow_frag}};la.physical={uniforms:yi([la.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ue(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new at(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ue},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new at(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new at(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Zt.meshphysical_vert,fragmentShader:Zt.meshphysical_frag};function LRe(t,e,n,i,o){const s=new at(0);let a=0,l,c,u=null,d=0,f=null;function h(m,_){let S=!1,E=_.isScene===!0?_.background:null;E&&E.isTexture&&(E=e.get(E));const w=t.xr,T=w.getSession&&w.getSession();T&&T.environmentBlendMode==="additive"&&(E=null),E===null?v(s,a):E&&E.isColor&&(v(E,1),S=!0),(t.autoClear||S)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),E&&(E.isCubeTexture||E.mapping===nb)?(c===void 0&&(c=new Ct(new Lc(1,1,1),new ul({name:"BackgroundCubeMaterial",uniforms:dh(la.cube.uniforms),vertexShader:la.cube.vertexShader,fragmentShader:la.cube.fragmentShader,side:dr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(C,P,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=E,c.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,(u!==E||d!==E.version||f!==t.toneMapping)&&(c.material.needsUpdate=!0,u=E,d=E.version,f=t.toneMapping),m.unshift(c,c.geometry,c.material,0,0,null)):E&&E.isTexture&&(l===void 0&&(l=new Ct(new qu(2,2),new ul({name:"BackgroundMaterial",uniforms:dh(la.background.uniforms),vertexShader:la.background.vertexShader,fragmentShader:la.background.fragmentShader,side:Qa,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=E,E.matrixAutoUpdate===!0&&E.updateMatrix(),l.material.uniforms.uvTransform.value.copy(E.matrix),(u!==E||d!==E.version||f!==t.toneMapping)&&(l.material.needsUpdate=!0,u=E,d=E.version,f=t.toneMapping),m.unshift(l,l.geometry,l.material,0,0,null))}function v(m,_){n.buffers.color.setClear(m.r,m.g,m.b,_,o)}return{getClearColor:function(){return s},setClearColor:function(m,_=1){s.set(m),a=_,v(s,a)},getClearAlpha:function(){return a},setClearAlpha:function(m){a=m,v(s,a)},render:h}}function IRe(t,e,n,i){const o=t.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),a=i.isWebGL2||s!==null,l={},c=_(null);let u=c;function d(F,O,V,z,B){let H=!1;if(a){const W=m(z,V,O);u!==W&&(u=W,h(u.object)),H=S(z,B),H&&E(z,B)}else{const W=O.wireframe===!0;(u.geometry!==z.id||u.program!==V.id||u.wireframe!==W)&&(u.geometry=z.id,u.program=V.id,u.wireframe=W,H=!0)}F.isInstancedMesh===!0&&(H=!0),B!==null&&n.update(B,34963),H&&(A(F,O,V,z),B!==null&&t.bindBuffer(34963,n.get(B).buffer))}function f(){return i.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function h(F){return i.isWebGL2?t.bindVertexArray(F):s.bindVertexArrayOES(F)}function v(F){return i.isWebGL2?t.deleteVertexArray(F):s.deleteVertexArrayOES(F)}function m(F,O,V){const z=V.wireframe===!0;let B=l[F.id];B===void 0&&(B={},l[F.id]=B);let H=B[O.id];H===void 0&&(H={},B[O.id]=H);let W=H[z];return W===void 0&&(W=_(f()),H[z]=W),W}function _(F){const O=[],V=[],z=[];for(let B=0;B<o;B++)O[B]=0,V[B]=0,z[B]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:V,attributeDivisors:z,object:F,attributes:{},index:null}}function S(F,O){const V=u.attributes,z=F.attributes;let B=0;for(const H in z){const W=V[H],G=z[H];if(W===void 0||W.attribute!==G||W.data!==G.data)return!0;B++}return u.attributesNum!==B||u.index!==O}function E(F,O){const V={},z=F.attributes;let B=0;for(const H in z){const W=z[H],G={};G.attribute=W,W.data&&(G.data=W.data),V[H]=G,B++}u.attributes=V,u.attributesNum=B,u.index=O}function w(){const F=u.newAttributes;for(let O=0,V=F.length;O<V;O++)F[O]=0}function T(F){C(F,0)}function C(F,O){const V=u.newAttributes,z=u.enabledAttributes,B=u.attributeDivisors;V[F]=1,z[F]===0&&(t.enableVertexAttribArray(F),z[F]=1),B[F]!==O&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](F,O),B[F]=O)}function P(){const F=u.newAttributes,O=u.enabledAttributes;for(let V=0,z=O.length;V<z;V++)O[V]!==F[V]&&(t.disableVertexAttribArray(V),O[V]=0)}function R(F,O,V,z,B,H){i.isWebGL2===!0&&(V===5124||V===5125)?t.vertexAttribIPointer(F,O,V,B,H):t.vertexAttribPointer(F,O,V,z,B,H)}function A(F,O,V,z){if(i.isWebGL2===!1&&(F.isInstancedMesh||z.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const B=z.attributes,H=V.getAttributes(),W=O.defaultAttributeValues;for(const G in H){const q=H[G];if(q.location>=0){let re=B[G];if(re===void 0&&(G==="instanceMatrix"&&F.instanceMatrix&&(re=F.instanceMatrix),G==="instanceColor"&&F.instanceColor&&(re=F.instanceColor)),re!==void 0){const se=re.normalized,ge=re.itemSize,_e=n.get(re);if(_e===void 0)continue;const pe=_e.buffer,ae=_e.type,le=_e.bytesPerElement;if(re.isInterleavedBufferAttribute){const ce=re.data,me=ce.stride,Ie=re.offset;if(ce&&ce.isInstancedInterleavedBuffer){for(let fe=0;fe<q.locationSize;fe++)C(q.location+fe,ce.meshPerAttribute);F.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(let fe=0;fe<q.locationSize;fe++)T(q.location+fe);t.bindBuffer(34962,pe);for(let fe=0;fe<q.locationSize;fe++)R(q.location+fe,ge/q.locationSize,ae,se,me*le,(Ie+ge/q.locationSize*fe)*le)}else{if(re.isInstancedBufferAttribute){for(let ce=0;ce<q.locationSize;ce++)C(q.location+ce,re.meshPerAttribute);F.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let ce=0;ce<q.locationSize;ce++)T(q.location+ce);t.bindBuffer(34962,pe);for(let ce=0;ce<q.locationSize;ce++)R(q.location+ce,ge/q.locationSize,ae,se,ge*le,ge/q.locationSize*ce*le)}}else if(W!==void 0){const se=W[G];if(se!==void 0)switch(se.length){case 2:t.vertexAttrib2fv(q.location,se);break;case 3:t.vertexAttrib3fv(q.location,se);break;case 4:t.vertexAttrib4fv(q.location,se);break;default:t.vertexAttrib1fv(q.location,se)}}}}P()}function L(){N();for(const F in l){const O=l[F];for(const V in O){const z=O[V];for(const B in z)v(z[B].object),delete z[B];delete O[V]}delete l[F]}}function k(F){if(l[F.id]===void 0)return;const O=l[F.id];for(const V in O){const z=O[V];for(const B in z)v(z[B].object),delete z[B];delete O[V]}delete l[F.id]}function U(F){for(const O in l){const V=l[O];if(V[F.id]===void 0)continue;const z=V[F.id];for(const B in z)v(z[B].object),delete z[B];delete V[F.id]}}function N(){I(),u!==c&&(u=c,h(u.object))}function I(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:d,reset:N,resetDefaultState:I,dispose:L,releaseStatesOfGeometry:k,releaseStatesOfProgram:U,initAttributes:w,enableAttribute:T,disableUnusedAttributes:P}}function ORe(t,e,n,i){const o=i.isWebGL2;let s;function a(u){s=u}function l(u,d){t.drawArrays(s,u,d),n.update(d,s,1)}function c(u,d,f){if(f===0)return;let h,v;if(o)h=t,v="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[v](s,u,d,f),n.update(d,s,f)}this.setMode=a,this.render=l,this.renderInstances=c}function NRe(t,e,n){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(A){if(A==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext!="undefined"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&t instanceof WebGL2ComputeRenderingContext;let l=n.precision!==void 0?n.precision:"highp";const c=s(l);c!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",c,"instead."),l=c);const u=a||e.has("WEBGL_draw_buffers"),d=n.logarithmicDepthBuffer===!0,f=t.getParameter(34930),h=t.getParameter(35660),v=t.getParameter(3379),m=t.getParameter(34076),_=t.getParameter(34921),S=t.getParameter(36347),E=t.getParameter(36348),w=t.getParameter(36349),T=h>0,C=a||e.has("OES_texture_float"),P=T&&C,R=a?t.getParameter(36183):0;return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:o,getMaxPrecision:s,precision:l,logarithmicDepthBuffer:d,maxTextures:f,maxVertexTextures:h,maxTextureSize:v,maxCubemapSize:m,maxAttributes:_,maxVertexUniforms:S,maxVaryings:E,maxFragmentUniforms:w,vertexTextures:T,floatFragmentTextures:C,floatVertexTextures:P,maxSamples:R}}function kRe(t){const e=this;let n=null,i=0,o=!1,s=!1;const a=new dl,l=new Nr,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h,v){const m=f.length!==0||h||i!==0||o;return o=h,n=d(f,v,0),i=f.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1,u()},this.setState=function(f,h,v){const m=f.clippingPlanes,_=f.clipIntersection,S=f.clipShadows,E=t.get(f);if(!o||m===null||m.length===0||s&&!S)s?d(null):u();else{const w=s?0:i,T=w*4;let C=E.clippingState||null;c.value=C,C=d(m,h,T,v);for(let P=0;P!==T;++P)C[P]=n[P];E.clippingState=C,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=w}};function u(){c.value!==n&&(c.value=n,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(f,h,v,m){const _=f!==null?f.length:0;let S=null;if(_!==0){if(S=c.value,m!==!0||S===null){const E=v+_*4,w=h.matrixWorldInverse;l.getNormalMatrix(w),(S===null||S.length<E)&&(S=new Float32Array(E));for(let T=0,C=v;T!==_;++T,C+=4)a.copy(f[T]).applyMatrix4(w,l),a.normal.toArray(S,C),S[C+3]=a.constant}c.value=S,c.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,S}}function DRe(t){let e=new WeakMap;function n(a,l){return l===tb?a.mapping=Lg:l===rC&&(a.mapping=Ig),a}function i(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const l=a.mapping;if(l===tb||l===rC)if(e.has(a)){const c=e.get(a).texture;return n(c,a.mapping)}else{const c=a.image;if(c&&c.height>0){const u=t.getRenderTarget(),d=new Ab(c.height/2);return d.fromEquirectangularTexture(t,a),e.set(a,d),t.setRenderTarget(u),a.addEventListener("dispose",o),n(d.texture,a.mapping)}else return null}}return a}function o(a){const l=a.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class mh extends HC{constructor(e=-1,n=1,i=1,o=-1,s=.1,a=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=o,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,o,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=o,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let s=i-e,a=i+e,l=o+n,c=o-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,l-=d*this.view.offsetY,c=l-d*this.view.height}this.projectionMatrix.makeOrthographic(s,a,l,c,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}mh.prototype.isOrthographicCamera=!0;class Lb extends ul{constructor(e){super(e);this.type="RawShaderMaterial"}}Lb.prototype.isRawShaderMaterial=!0;const gh=4,Ic=8,ca=Math.pow(2,Ic),wB=[.125,.215,.35,.446,.526,.582],xB=Ic-gh+1+wB.length,vh=20,Ib={[Or]:0,[Ji]:1},GC=new mh,{_lodPlanes:Gg,_sizeLods:SB,_sigmas:Ob}=URe(),TB=new at;let $C=null;const Yu=(1+Math.sqrt(5))/2,yh=1/Yu,CB=[new ee(1,1,1),new ee(-1,1,1),new ee(1,1,-1),new ee(-1,1,-1),new ee(0,Yu,yh),new ee(0,Yu,-yh),new ee(yh,0,Yu),new ee(-yh,0,Yu),new ee(Yu,yh,0),new ee(-Yu,yh,0)];class FRe{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=jRe(vh),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,o=100){$C=this._renderer.getRenderTarget();const s=this._allocateTargets();return this._sceneToCubeUV(e,i,o,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=PB(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=AB(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<Gg.length;e++)Gg[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget($C),e.scissorTest=!1,Nb(e,0,0,e.width,e.height)}_fromTexture(e){$C=this._renderer.getRenderTarget();const n=this._allocateTargets(e);return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(e){const n={magFilter:Ln,minFilter:Ln,generateMipmaps:!1,type:ys,format:Qn,encoding:Or,depthBuffer:!1},i=MB(n);return i.depthBuffer=!e,this._pingPongRenderTarget=MB(n),i}_compileMaterial(e){const n=new Ct(Gg[0],e);this._renderer.compile(n,GC)}_sceneToCubeUV(e,n,i,o){const s=90,a=1,l=new zr(s,a,n,i),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,h=d.toneMapping;d.getClearColor(TB),d.toneMapping=nl,d.autoClear=!1;const v=new Ro({name:"PMREM.Background",side:dr,depthWrite:!1,depthTest:!1}),m=new Ct(new Lc,v);let _=!1;const S=e.background;S?S.isColor&&(v.color.copy(S),e.background=null,_=!0):(v.color.copy(TB),_=!0);for(let E=0;E<6;E++){const w=E%3;w==0?(l.up.set(0,c[E],0),l.lookAt(u[E],0,0)):w==1?(l.up.set(0,0,c[E]),l.lookAt(0,u[E],0)):(l.up.set(0,c[E],0),l.lookAt(0,0,u[E])),Nb(o,w*ca,E>2?ca:0,ca,ca),d.setRenderTarget(o),_&&d.render(m,l),d.render(e,l)}m.geometry.dispose(),m.material.dispose(),d.toneMapping=h,d.autoClear=f,e.background=S}_setEncoding(e,n){this._renderer.capabilities.isWebGL2===!0&&n.format===Qn&&n.type===aa&&n.encoding===Ji?e.value=Ib[Or]:e.value=Ib[n.encoding]}_textureToCubeUV(e,n){const i=this._renderer,o=e.mapping===Lg||e.mapping===Ig;o?this._cubemapShader==null&&(this._cubemapShader=PB()):this._equirectShader==null&&(this._equirectShader=AB());const s=o?this._cubemapShader:this._equirectShader,a=new Ct(Gg[0],s),l=s.uniforms;l.envMap.value=e,o||l.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(l.inputEncoding,e),Nb(n,0,0,3*ca,2*ca),i.setRenderTarget(n),i.render(a,GC)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let o=1;o<xB;o++){const s=Math.sqrt(Ob[o]*Ob[o]-Ob[o-1]*Ob[o-1]),a=CB[(o-1)%CB.length];this._blur(e,o-1,o,s,a)}n.autoClear=i}_blur(e,n,i,o,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,i,o,"latitudinal",s),this._halfBlur(a,e,i,i,o,"longitudinal",s)}_halfBlur(e,n,i,o,s,a,l){const c=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new Ct(Gg[o],u),h=u.uniforms,v=SB[i]-1,m=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*vh-1),_=s/m,S=isFinite(s)?1+Math.floor(d*_):vh;S>vh&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${vh}`);const E=[];let w=0;for(let R=0;R<vh;++R){const A=R/_,L=Math.exp(-A*A/2);E.push(L),R==0?w+=L:R<S&&(w+=2*L)}for(let R=0;R<E.length;R++)E[R]=E[R]/w;h.envMap.value=e.texture,h.samples.value=S,h.weights.value=E,h.latitudinal.value=a==="latitudinal",l&&(h.poleAxis.value=l),h.dTheta.value=m,h.mipInt.value=Ic-i;const T=SB[o],C=3*Math.max(0,ca-2*T),P=(o===0?0:2*ca)+2*T*(o>Ic-gh?o-Ic+gh:0);Nb(n,C,P,3*T,2*T),c.setRenderTarget(n),c.render(f,GC)}}function URe(){const t=[],e=[],n=[];let i=Ic;for(let o=0;o<xB;o++){const s=Math.pow(2,i);e.push(s);let a=1/s;o>Ic-gh?a=wB[o-Ic+gh-1]:o==0&&(a=0),n.push(a);const l=1/(s-1),c=-l/2,u=1+l/2,d=[c,c,u,c,u,u,c,c,u,u,c,u],f=6,h=6,v=3,m=2,_=1,S=new Float32Array(v*h*f),E=new Float32Array(m*h*f),w=new Float32Array(_*h*f);for(let C=0;C<f;C++){const P=C%3*2/3-1,R=C>2?0:-1,A=[P,R,0,P+2/3,R,0,P+2/3,R+1,0,P,R,0,P+2/3,R+1,0,P,R+1,0];S.set(A,v*h*C),E.set(d,m*h*C);const L=[C,C,C,C,C,C];w.set(L,_*h*C)}const T=new Nn;T.setAttribute("position",new On(S,v)),T.setAttribute("uv",new On(E,m)),T.setAttribute("faceIndex",new On(w,_)),t.push(T),i>gh&&i--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}function MB(t){const e=new Zi(3*ca,3*ca,t);return e.texture.mapping=nb,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Nb(t,e,n,i,o){t.viewport.set(e,n,i,o),t.scissor.set(e,n,i,o)}function jRe(t){const e=new Float32Array(t),n=new ee(0,1,0);return new Lb({name:"SphericalGaussianBlur",defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n}},vertexShader:WC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${qC()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:tl,depthTest:!1,depthWrite:!1})}function AB(){const t=new Ue(1,1);return new Lb({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:t},inputEncoding:{value:Ib[Or]}},vertexShader:WC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${qC()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

			}
		`,blending:tl,depthTest:!1,depthWrite:!1})}function PB(){return new Lb({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Ib[Or]}},vertexShader:WC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${qC()}

			void main() {

				gl_FragColor = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) );

			}
		`,blending:tl,depthTest:!1,depthWrite:!1})}function WC(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function qC(){return`

		uniform int inputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else {

				return sRGBToLinear( value );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function BRe(t){let e=new WeakMap,n=null;function i(l){if(l&&l.isTexture&&l.isRenderTargetTexture===!1){const c=l.mapping,u=c===tb||c===rC,d=c===Lg||c===Ig;if(u||d){if(e.has(l))return e.get(l).texture;{const f=l.image;if(u&&f&&f.height>0||d&&f&&o(f)){const h=t.getRenderTarget();n===null&&(n=new FRe(t));const v=u?n.fromEquirectangular(l):n.fromCubemap(l);return e.set(l,v),t.setRenderTarget(h),l.addEventListener("dispose",s),v.texture}else return null}}}return l}function o(l){let c=0;const u=6;for(let d=0;d<u;d++)l[d]!==void 0&&c++;return c===u}function s(l){const c=l.target;c.removeEventListener("dispose",s);const u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:a}}function VRe(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let o;switch(i){case"WEBGL_depth_texture":o=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=t.getExtension(i)}return e[i]=o,o}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){const o=n(i);return o===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),o}}}function HRe(t,e,n,i){const o={},s=new WeakMap;function a(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const m in h.attributes)e.remove(h.attributes[m]);h.removeEventListener("dispose",a),delete o[h.id];const v=s.get(h);v&&(e.remove(v),s.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function l(f,h){return o[h.id]===!0||(h.addEventListener("dispose",a),o[h.id]=!0,n.memory.geometries++),h}function c(f){const h=f.attributes;for(const m in h)e.update(h[m],34962);const v=f.morphAttributes;for(const m in v){const _=v[m];for(let S=0,E=_.length;S<E;S++)e.update(_[S],34962)}}function u(f){const h=[],v=f.index,m=f.attributes.position;let _=0;if(v!==null){const w=v.array;_=v.version;for(let T=0,C=w.length;T<C;T+=3){const P=w[T+0],R=w[T+1],A=w[T+2];h.push(P,R,R,A,A,P)}}else{const w=m.array;_=m.version;for(let T=0,C=w.length/3-1;T<C;T+=3){const P=T+0,R=T+1,A=T+2;h.push(P,R,R,A,A,P)}}const S=new(oB(h)>65535?_B:yB)(h,1);S.version=_;const E=s.get(f);E&&e.remove(E),s.set(f,S)}function d(f){const h=s.get(f);if(h){const v=f.index;v!==null&&h.version<v.version&&u(f)}else u(f);return s.get(f)}return{get:l,update:c,getWireframeAttribute:d}}function zRe(t,e,n,i){const o=i.isWebGL2;let s;function a(h){s=h}let l,c;function u(h){l=h.type,c=h.bytesPerElement}function d(h,v){t.drawElements(s,v,l,h*c),n.update(v,s,1)}function f(h,v,m){if(m===0)return;let _,S;if(o)_=t,S="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),S="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[S](s,v,l,h*c,m),n.update(v,s,m)}this.setMode=a,this.setIndex=u,this.render=d,this.renderInstances=f}function GRe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,l){switch(n.calls++,a){case 4:n.triangles+=l*(s/3);break;case 1:n.lines+=l*(s/2);break;case 3:n.lines+=l*(s-1);break;case 2:n.lines+=l*s;break;case 0:n.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function o(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:o,update:i}}class YC extends fr{constructor(e=null,n=1,i=1,o=1){super(null);this.image={data:e,width:n,height:i,depth:o},this.magFilter=_r,this.minFilter=_r,this.wrapR=Zr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}YC.prototype.isDataTexture2DArray=!0;function $Re(t,e){return t[0]-e[0]}function WRe(t,e){return Math.abs(e[1])-Math.abs(t[1])}function RB(t,e){let n=1;const i=e.isInterleavedBufferAttribute?e.data.array:e.array;i instanceof Int8Array?n=127:i instanceof Int16Array?n=32767:i instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",i),t.divideScalar(n)}function qRe(t,e,n){const i={},o=new Float32Array(8),s=new WeakMap,a=new ee,l=[];for(let u=0;u<8;u++)l[u]=[u,0];function c(u,d,f,h){const v=u.morphTargetInfluences;if(e.isWebGL2===!0){const m=d.morphAttributes.position.length;let _=s.get(d);if(_===void 0||_.count!==m){_!==void 0&&_.texture.dispose();const w=d.morphAttributes.normal!==void 0,T=d.morphAttributes.position,C=d.morphAttributes.normal||[],P=d.attributes.position.count,R=w===!0?2:1;let A=P*R,L=1;A>e.maxTextureSize&&(L=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);const k=new Float32Array(A*L*4*m),U=new YC(k,A,L,m);U.format=Qn,U.type=Xs,U.needsUpdate=!0;const N=R*4;for(let I=0;I<m;I++){const F=T[I],O=C[I],V=A*L*4*I;for(let z=0;z<F.count;z++){a.fromBufferAttribute(F,z),F.normalized===!0&&RB(a,F);const B=z*N;k[V+B+0]=a.x,k[V+B+1]=a.y,k[V+B+2]=a.z,k[V+B+3]=0,w===!0&&(a.fromBufferAttribute(O,z),O.normalized===!0&&RB(a,O),k[V+B+4]=a.x,k[V+B+5]=a.y,k[V+B+6]=a.z,k[V+B+7]=0)}}_={count:m,texture:U,size:new Ue(A,L)},s.set(d,_)}let S=0;for(let w=0;w<v.length;w++)S+=v[w];const E=d.morphTargetsRelative?1:1-S;h.getUniforms().setValue(t,"morphTargetBaseInfluence",E),h.getUniforms().setValue(t,"morphTargetInfluences",v),h.getUniforms().setValue(t,"morphTargetsTexture",_.texture,n),h.getUniforms().setValue(t,"morphTargetsTextureSize",_.size)}else{const m=v===void 0?0:v.length;let _=i[d.id];if(_===void 0||_.length!==m){_=[];for(let C=0;C<m;C++)_[C]=[C,0];i[d.id]=_}for(let C=0;C<m;C++){const P=_[C];P[0]=C,P[1]=v[C]}_.sort(WRe);for(let C=0;C<8;C++)C<m&&_[C][1]?(l[C][0]=_[C][0],l[C][1]=_[C][1]):(l[C][0]=Number.MAX_SAFE_INTEGER,l[C][1]=0);l.sort($Re);const S=d.morphAttributes.position,E=d.morphAttributes.normal;let w=0;for(let C=0;C<8;C++){const P=l[C],R=P[0],A=P[1];R!==Number.MAX_SAFE_INTEGER&&A?(S&&d.getAttribute("morphTarget"+C)!==S[R]&&d.setAttribute("morphTarget"+C,S[R]),E&&d.getAttribute("morphNormal"+C)!==E[R]&&d.setAttribute("morphNormal"+C,E[R]),o[C]=A,w+=A):(S&&d.hasAttribute("morphTarget"+C)===!0&&d.deleteAttribute("morphTarget"+C),E&&d.hasAttribute("morphNormal"+C)===!0&&d.deleteAttribute("morphNormal"+C),o[C]=0)}const T=d.morphTargetsRelative?1:1-w;h.getUniforms().setValue(t,"morphTargetBaseInfluence",T),h.getUniforms().setValue(t,"morphTargetInfluences",o)}}return{update:c}}function YRe(t,e,n,i){let o=new WeakMap;function s(c){const u=i.render.frame,d=c.geometry,f=e.get(c,d);return o.get(f)!==u&&(e.update(f),o.set(f,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),n.update(c.instanceMatrix,34962),c.instanceColor!==null&&n.update(c.instanceColor,34962)),f}function a(){o=new WeakMap}function l(c){const u=c.target;u.removeEventListener("dispose",l),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:a}}class LB extends fr{constructor(e=null,n=1,i=1,o=1){super(null);this.image={data:e,width:n,height:i,depth:o},this.magFilter=_r,this.minFilter=_r,this.wrapR=Zr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}LB.prototype.isDataTexture3D=!0;const IB=new fr,OB=new YC,NB=new LB,kB=new Mb,DB=[],FB=[],UB=new Float32Array(16),jB=new Float32Array(9),BB=new Float32Array(4);function _h(t,e,n){const i=t[0];if(i<=0||i>0)return t;const o=e*n;let s=DB[o];if(s===void 0&&(s=new Float32Array(o),DB[o]=s),e!==0){i.toArray(s,0);for(let a=1,l=0;a!==e;++a)l+=n,t[a].toArray(s,l)}return s}function Li(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function _i(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function kb(t,e){let n=FB[e];n===void 0&&(n=new Int32Array(e),FB[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function KRe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function XRe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Li(n,e))return;t.uniform2fv(this.addr,e),_i(n,e)}}function JRe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Li(n,e))return;t.uniform3fv(this.addr,e),_i(n,e)}}function ZRe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Li(n,e))return;t.uniform4fv(this.addr,e),_i(n,e)}}function QRe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Li(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),_i(n,e)}else{if(Li(n,i))return;BB.set(i),t.uniformMatrix2fv(this.addr,!1,BB),_i(n,i)}}function eLe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Li(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),_i(n,e)}else{if(Li(n,i))return;jB.set(i),t.uniformMatrix3fv(this.addr,!1,jB),_i(n,i)}}function tLe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Li(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),_i(n,e)}else{if(Li(n,i))return;UB.set(i),t.uniformMatrix4fv(this.addr,!1,UB),_i(n,i)}}function nLe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function rLe(t,e){const n=this.cache;Li(n,e)||(t.uniform2iv(this.addr,e),_i(n,e))}function iLe(t,e){const n=this.cache;Li(n,e)||(t.uniform3iv(this.addr,e),_i(n,e))}function sLe(t,e){const n=this.cache;Li(n,e)||(t.uniform4iv(this.addr,e),_i(n,e))}function oLe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function aLe(t,e){const n=this.cache;Li(n,e)||(t.uniform2uiv(this.addr,e),_i(n,e))}function lLe(t,e){const n=this.cache;Li(n,e)||(t.uniform3uiv(this.addr,e),_i(n,e))}function cLe(t,e){const n=this.cache;Li(n,e)||(t.uniform4uiv(this.addr,e),_i(n,e))}function uLe(t,e,n){const i=this.cache,o=n.allocateTextureUnit();i[0]!==o&&(t.uniform1i(this.addr,o),i[0]=o),n.safeSetTexture2D(e||IB,o)}function dLe(t,e,n){const i=this.cache,o=n.allocateTextureUnit();i[0]!==o&&(t.uniform1i(this.addr,o),i[0]=o),n.setTexture3D(e||NB,o)}function fLe(t,e,n){const i=this.cache,o=n.allocateTextureUnit();i[0]!==o&&(t.uniform1i(this.addr,o),i[0]=o),n.safeSetTextureCube(e||kB,o)}function hLe(t,e,n){const i=this.cache,o=n.allocateTextureUnit();i[0]!==o&&(t.uniform1i(this.addr,o),i[0]=o),n.setTexture2DArray(e||OB,o)}function pLe(t){switch(t){case 5126:return KRe;case 35664:return XRe;case 35665:return JRe;case 35666:return ZRe;case 35674:return QRe;case 35675:return eLe;case 35676:return tLe;case 5124:case 35670:return nLe;case 35667:case 35671:return rLe;case 35668:case 35672:return iLe;case 35669:case 35673:return sLe;case 5125:return oLe;case 36294:return aLe;case 36295:return lLe;case 36296:return cLe;case 35678:case 36198:case 36298:case 36306:case 35682:return uLe;case 35679:case 36299:case 36307:return dLe;case 35680:case 36300:case 36308:case 36293:return fLe;case 36289:case 36303:case 36311:case 36292:return hLe}}function mLe(t,e){t.uniform1fv(this.addr,e)}function gLe(t,e){const n=_h(e,this.size,2);t.uniform2fv(this.addr,n)}function vLe(t,e){const n=_h(e,this.size,3);t.uniform3fv(this.addr,n)}function yLe(t,e){const n=_h(e,this.size,4);t.uniform4fv(this.addr,n)}function _Le(t,e){const n=_h(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function bLe(t,e){const n=_h(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function ELe(t,e){const n=_h(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function wLe(t,e){t.uniform1iv(this.addr,e)}function xLe(t,e){t.uniform2iv(this.addr,e)}function SLe(t,e){t.uniform3iv(this.addr,e)}function TLe(t,e){t.uniform4iv(this.addr,e)}function CLe(t,e){t.uniform1uiv(this.addr,e)}function MLe(t,e){t.uniform2uiv(this.addr,e)}function ALe(t,e){t.uniform3uiv(this.addr,e)}function PLe(t,e){t.uniform4uiv(this.addr,e)}function RLe(t,e,n){const i=e.length,o=kb(n,i);t.uniform1iv(this.addr,o);for(let s=0;s!==i;++s)n.safeSetTexture2D(e[s]||IB,o[s])}function LLe(t,e,n){const i=e.length,o=kb(n,i);t.uniform1iv(this.addr,o);for(let s=0;s!==i;++s)n.setTexture3D(e[s]||NB,o[s])}function ILe(t,e,n){const i=e.length,o=kb(n,i);t.uniform1iv(this.addr,o);for(let s=0;s!==i;++s)n.safeSetTextureCube(e[s]||kB,o[s])}function OLe(t,e,n){const i=e.length,o=kb(n,i);t.uniform1iv(this.addr,o);for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||OB,o[s])}function NLe(t){switch(t){case 5126:return mLe;case 35664:return gLe;case 35665:return vLe;case 35666:return yLe;case 35674:return _Le;case 35675:return bLe;case 35676:return ELe;case 5124:case 35670:return wLe;case 35667:case 35671:return xLe;case 35668:case 35672:return SLe;case 35669:case 35673:return TLe;case 5125:return CLe;case 36294:return MLe;case 36295:return ALe;case 36296:return PLe;case 35678:case 36198:case 36298:case 36306:case 35682:return RLe;case 35679:case 36299:case 36307:return LLe;case 35680:case 36300:case 36308:case 36293:return ILe;case 36289:case 36303:case 36311:case 36292:return OLe}}function kLe(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=pLe(e.type)}function VB(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=NLe(e.type)}VB.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),_i(e,t)};function HB(t){this.id=t,this.seq=[],this.map={}}HB.prototype.setValue=function(t,e,n){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(t,e[a.id],n)}};const KC=/(\w+)(\])?(\[|\.)?/g;function zB(t,e){t.seq.push(e),t.map[e.id]=e}function DLe(t,e,n){const i=t.name,o=i.length;for(KC.lastIndex=0;;){const s=KC.exec(i),a=KC.lastIndex;let l=s[1];const c=s[2]==="]",u=s[3];if(c&&(l=l|0),u===void 0||u==="["&&a+2===o){zB(n,u===void 0?new kLe(l,t,e):new VB(l,t,e));break}else{let f=n.map[l];f===void 0&&(f=new HB(l),zB(n,f)),n=f}}}function Oc(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let i=0;i<n;++i){const o=t.getActiveUniform(e,i),s=t.getUniformLocation(e,o.name);DLe(o,s,this)}}Oc.prototype.setValue=function(t,e,n,i){const o=this.map[e];o!==void 0&&o.setValue(t,n,i)};Oc.prototype.setOptional=function(t,e,n){const i=e[n];i!==void 0&&this.setValue(t,n,i)};Oc.upload=function(t,e,n,i){for(let o=0,s=e.length;o!==s;++o){const a=e[o],l=n[a.id];l.needsUpdate!==!1&&a.setValue(t,l.value,i)}};Oc.seqWithValue=function(t,e){const n=[];for(let i=0,o=t.length;i!==o;++i){const s=t[i];s.id in e&&n.push(s)}return n};function GB(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}let FLe=0;function ULe(t){const e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function $B(t){switch(t){case Or:return["Linear","( value )"];case Ji:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function WB(t,e,n){const i=t.getShaderParameter(e,35713),o=t.getShaderInfoLog(e).trim();return i&&o===""?"":n.toUpperCase()+`

`+o+`

`+ULe(t.getShaderSource(e))}function Ku(t,e){const n=$B(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function jLe(t,e){const n=$B(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function BLe(t,e){let n;switch(e){case PCe:n="Linear";break;case RCe:n="Reinhard";break;case LCe:n="OptimizedCineon";break;case Gj:n="ACESFilmic";break;case ICe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function VLe(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter($g).join(`
`)}function HLe(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function zLe(t,e){const n={},i=t.getProgramParameter(e,35721);for(let o=0;o<i;o++){const s=t.getActiveAttrib(e,o),a=s.name;let l=1;s.type===35674&&(l=2),s.type===35675&&(l=3),s.type===35676&&(l=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:l}}return n}function $g(t){return t!==""}function qB(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function YB(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const GLe=/^[ \t]*#include +<([\w\d./]+)>/gm;function XC(t){return t.replace(GLe,$Le)}function $Le(t,e){const n=Zt[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return XC(n)}const WLe=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,qLe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function KB(t){return t.replace(qLe,XB).replace(WLe,YLe)}function YLe(t,e,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),XB(t,e,n,i)}function XB(t,e,n,i){let o="";for(let s=parseInt(e);s<parseInt(n);s++)o+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return o}function JB(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function KLe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Nj?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===kj?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Pg&&(e="SHADOWMAP_TYPE_VSM"),e}function XLe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Lg:case Ig:e="ENVMAP_TYPE_CUBE";break;case nb:case iC:e="ENVMAP_TYPE_CUBE_UV";break}return e}function JLe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ig:case iC:e="ENVMAP_MODE_REFRACTION";break}return e}function ZLe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case eb:e="ENVMAP_BLENDING_MULTIPLY";break;case MCe:e="ENVMAP_BLENDING_MIX";break;case ACe:e="ENVMAP_BLENDING_ADD";break}return e}function QLe(t,e,n,i){const o=t.getContext(),s=n.defines;let a=n.vertexShader,l=n.fragmentShader;const c=KLe(n),u=XLe(n),d=JLe(n),f=ZLe(n),h=n.isWebGL2?"":VLe(n),v=HLe(s),m=o.createProgram();let _,S,E=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(_=[v].filter($g).join(`
`),_.length>0&&(_+=`
`),S=[h,v].filter($g).join(`
`),S.length>0&&(S+=`
`)):(_=[JB(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphTargets&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargets&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter($g).join(`
`),S=[h,JB(n),"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==nl?"#define TONE_MAPPING":"",n.toneMapping!==nl?Zt.tonemapping_pars_fragment:"",n.toneMapping!==nl?BLe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.format===Js?"#define OPAQUE":"",Zt.encodings_pars_fragment,n.map?Ku("mapTexelToLinear",n.mapEncoding):"",n.matcap?Ku("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Ku("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Ku("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.specularColorMap?Ku("specularColorMapTexelToLinear",n.specularColorMapEncoding):"",n.sheenColorMap?Ku("sheenColorMapTexelToLinear",n.sheenColorMapEncoding):"",n.lightMap?Ku("lightMapTexelToLinear",n.lightMapEncoding):"",jLe("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter($g).join(`
`)),a=XC(a),a=qB(a,n),a=YB(a,n),l=XC(l),l=qB(l,n),l=YB(l,n),a=KB(a),l=KB(l),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(E=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,S=["#define varying in",n.glslVersion===nB?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===nB?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const w=E+_+a,T=E+S+l,C=GB(o,35633,w),P=GB(o,35632,T);if(o.attachShader(m,C),o.attachShader(m,P),n.index0AttributeName!==void 0?o.bindAttribLocation(m,0,n.index0AttributeName):n.morphTargets===!0&&o.bindAttribLocation(m,0,"position"),o.linkProgram(m),t.debug.checkShaderErrors){const L=o.getProgramInfoLog(m).trim(),k=o.getShaderInfoLog(C).trim(),U=o.getShaderInfoLog(P).trim();let N=!0,I=!0;if(o.getProgramParameter(m,35714)===!1){N=!1;const F=WB(o,C,"vertex"),O=WB(o,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(m,35715)+`

Program Info Log: `+L+`
`+F+`
`+O)}else L!==""?console.warn("THREE.WebGLProgram: Program Info Log:",L):(k===""||U==="")&&(I=!1);I&&(this.diagnostics={runnable:N,programLog:L,vertexShader:{log:k,prefix:_},fragmentShader:{log:U,prefix:S}})}o.deleteShader(C),o.deleteShader(P);let R;this.getUniforms=function(){return R===void 0&&(R=new Oc(o,m)),R};let A;return this.getAttributes=function(){return A===void 0&&(A=zLe(o,m)),A},this.destroy=function(){i.releaseStatesOfProgram(this),o.deleteProgram(m),this.program=void 0},this.name=n.shaderName,this.id=FLe++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=C,this.fragmentShader=P,this}let eIe=0;class tIe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,o=this._getShaderStage(n),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(o)===!1&&(a.add(o),o.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;return n.has(e)===!1&&n.set(e,new Set),n.get(e)}_getShaderStage(e){const n=this.shaderCache;if(n.has(e)===!1){const i=new nIe;n.set(e,i)}return n.get(e)}}class nIe{constructor(){this.id=eIe++,this.usedTimes=0}}function rIe(t,e,n,i,o,s,a){const l=new AC,c=new tIe,u=[],d=o.isWebGL2,f=o.logarithmicDepthBuffer,h=o.floatVertexTextures,v=o.maxVertexUniforms,m=o.vertexTextures;let _=o.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(I){const O=I.skeleton.bones;if(h)return 1024;{const z=Math.floor((v-20)/4),B=Math.min(z,O.length);return B<O.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+O.length+" bones. This GPU supports "+B+"."),0):B}}function w(I){let F;return I&&I.isTexture?F=I.encoding:I&&I.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),F=I.texture.encoding):F=Or,d&&I&&I.isTexture&&I.format===Qn&&I.type===aa&&I.encoding===Ji&&(F=Or),F}function T(I,F,O,V,z){const B=V.fog,H=I.isMeshStandardMaterial?V.environment:null,W=(I.isMeshStandardMaterial?n:e).get(I.envMap||H),G=S[I.type],q=z.isSkinnedMesh?E(z):0;I.precision!==null&&(_=o.getMaxPrecision(I.precision),_!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",_,"instead."));let re,se,ge,_e;if(G){const me=la[G];re=me.vertexShader,se=me.fragmentShader}else re=I.vertexShader,se=I.fragmentShader,c.update(I),ge=c.getVertexShaderID(I),_e=c.getFragmentShaderID(I);const pe=t.getRenderTarget(),ae=I.alphaTest>0,le=I.clearcoat>0;return{isWebGL2:d,shaderID:G,shaderName:I.type,vertexShader:re,fragmentShader:se,defines:I.defines,customVertexShaderID:ge,customFragmentShaderID:_e,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:_,instancing:z.isInstancedMesh===!0,instancingColor:z.isInstancedMesh===!0&&z.instanceColor!==null,supportsVertexTextures:m,outputEncoding:pe!==null?w(pe.texture):t.outputEncoding,map:!!I.map,mapEncoding:w(I.map),matcap:!!I.matcap,matcapEncoding:w(I.matcap),envMap:!!W,envMapMode:W&&W.mapping,envMapEncoding:w(W),envMapCubeUV:!!W&&(W.mapping===nb||W.mapping===iC),lightMap:!!I.lightMap,lightMapEncoding:w(I.lightMap),aoMap:!!I.aoMap,emissiveMap:!!I.emissiveMap,emissiveMapEncoding:w(I.emissiveMap),bumpMap:!!I.bumpMap,normalMap:!!I.normalMap,objectSpaceNormalMap:I.normalMapType===TMe,tangentSpaceNormalMap:I.normalMapType===zu,clearcoat:le,clearcoatMap:le&&!!I.clearcoatMap,clearcoatRoughnessMap:le&&!!I.clearcoatRoughnessMap,clearcoatNormalMap:le&&!!I.clearcoatNormalMap,displacementMap:!!I.displacementMap,roughnessMap:!!I.roughnessMap,metalnessMap:!!I.metalnessMap,specularMap:!!I.specularMap,specularIntensityMap:!!I.specularIntensityMap,specularColorMap:!!I.specularColorMap,specularColorMapEncoding:w(I.specularColorMap),alphaMap:!!I.alphaMap,alphaTest:ae,gradientMap:!!I.gradientMap,sheen:I.sheen>0,sheenColorMap:!!I.sheenColorMap,sheenColorMapEncoding:w(I.sheenColorMap),sheenRoughnessMap:!!I.sheenRoughnessMap,transmission:I.transmission>0,transmissionMap:!!I.transmissionMap,thicknessMap:!!I.thicknessMap,combine:I.combine,vertexTangents:!!I.normalMap&&!!z.geometry&&!!z.geometry.attributes.tangent,vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!z.geometry&&!!z.geometry.attributes.color&&z.geometry.attributes.color.itemSize===4,vertexUvs:!!I.map||!!I.bumpMap||!!I.normalMap||!!I.specularMap||!!I.alphaMap||!!I.emissiveMap||!!I.roughnessMap||!!I.metalnessMap||!!I.clearcoatMap||!!I.clearcoatRoughnessMap||!!I.clearcoatNormalMap||!!I.displacementMap||!!I.transmissionMap||!!I.thicknessMap||!!I.specularIntensityMap||!!I.specularColorMap||!!I.sheenColorMap||!!I.sheenRoughnessMap,uvsVertexOnly:!(!!I.map||!!I.bumpMap||!!I.normalMap||!!I.specularMap||!!I.alphaMap||!!I.emissiveMap||!!I.roughnessMap||!!I.metalnessMap||!!I.clearcoatNormalMap||I.transmission>0||!!I.transmissionMap||!!I.thicknessMap||!!I.specularIntensityMap||!!I.specularColorMap||I.sheen>0||!!I.sheenColorMap||!!I.sheenRoughnessMap)&&!!I.displacementMap,fog:!!B,useFog:I.fog,fogExp2:B&&B.isFogExp2,flatShading:!!I.flatShading,sizeAttenuation:I.sizeAttenuation,logarithmicDepthBuffer:f,skinning:z.isSkinnedMesh===!0&&q>0,maxBones:q,useVertexTexture:h,morphTargets:!!z.geometry&&!!z.geometry.morphAttributes.position,morphNormals:!!z.geometry&&!!z.geometry.morphAttributes.normal,morphTargetsCount:!!z.geometry&&!!z.geometry.morphAttributes.position?z.geometry.morphAttributes.position.length:0,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,format:I.format,dithering:I.dithering,shadowMapEnabled:t.shadowMap.enabled&&O.length>0,shadowMapType:t.shadowMap.type,toneMapping:I.toneMapped?t.toneMapping:nl,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===el,flipSided:I.side===dr,depthPacking:I.depthPacking!==void 0?I.depthPacking:!1,index0AttributeName:I.index0AttributeName,extensionDerivatives:I.extensions&&I.extensions.derivatives,extensionFragDepth:I.extensions&&I.extensions.fragDepth,extensionDrawBuffers:I.extensions&&I.extensions.drawBuffers,extensionShaderTextureLOD:I.extensions&&I.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:I.customProgramCacheKey()}}function C(I){const F=[];if(I.shaderID?F.push(I.shaderID):(F.push(I.customVertexShaderID),F.push(I.customFragmentShaderID)),I.defines!==void 0)for(const O in I.defines)F.push(O),F.push(I.defines[O]);return I.isRawShaderMaterial===!1&&(P(F,I),R(F,I),F.push(t.outputEncoding)),F.push(I.customProgramCacheKey),F.join()}function P(I,F){I.push(F.precision),I.push(F.outputEncoding),I.push(F.mapEncoding),I.push(F.matcapEncoding),I.push(F.envMapMode),I.push(F.envMapEncoding),I.push(F.lightMapEncoding),I.push(F.emissiveMapEncoding),I.push(F.combine),I.push(F.vertexUvs),I.push(F.fogExp2),I.push(F.sizeAttenuation),I.push(F.maxBones),I.push(F.morphTargetsCount),I.push(F.numDirLights),I.push(F.numPointLights),I.push(F.numSpotLights),I.push(F.numHemiLights),I.push(F.numRectAreaLights),I.push(F.numDirLightShadows),I.push(F.numPointLightShadows),I.push(F.numSpotLightShadows),I.push(F.shadowMapType),I.push(F.toneMapping),I.push(F.numClippingPlanes),I.push(F.numClipIntersection),I.push(F.format),I.push(F.specularColorMapEncoding),I.push(F.sheenColorMapEncoding)}function R(I,F){l.disableAll(),F.isWebGL2&&l.enable(0),F.supportsVertexTextures&&l.enable(1),F.instancing&&l.enable(2),F.instancingColor&&l.enable(3),F.map&&l.enable(4),F.matcap&&l.enable(5),F.envMap&&l.enable(6),F.envMapCubeUV&&l.enable(7),F.lightMap&&l.enable(8),F.aoMap&&l.enable(9),F.emissiveMap&&l.enable(10),F.bumpMap&&l.enable(11),F.normalMap&&l.enable(12),F.objectSpaceNormalMap&&l.enable(13),F.tangentSpaceNormalMap&&l.enable(14),F.clearcoat&&l.enable(15),F.clearcoatMap&&l.enable(16),F.clearcoatRoughnessMap&&l.enable(17),F.clearcoatNormalMap&&l.enable(18),F.displacementMap&&l.enable(19),F.specularMap&&l.enable(20),F.roughnessMap&&l.enable(21),F.metalnessMap&&l.enable(22),F.gradientMap&&l.enable(23),F.alphaMap&&l.enable(24),F.alphaTest&&l.enable(25),F.vertexColors&&l.enable(26),F.vertexAlphas&&l.enable(27),F.vertexUvs&&l.enable(28),F.vertexTangents&&l.enable(29),F.uvsVertexOnly&&l.enable(30),F.fog&&l.enable(31),I.push(l.mask),l.disableAll(),F.useFog&&l.enable(0),F.flatShading&&l.enable(1),F.logarithmicDepthBuffer&&l.enable(2),F.skinning&&l.enable(3),F.useVertexTexture&&l.enable(4),F.morphTargets&&l.enable(5),F.morphNormals&&l.enable(6),F.premultipliedAlpha&&l.enable(7),F.shadowMapEnabled&&l.enable(8),F.physicallyCorrectLights&&l.enable(9),F.doubleSided&&l.enable(10),F.flipSided&&l.enable(11),F.depthPacking&&l.enable(12),F.dithering&&l.enable(13),F.specularIntensityMap&&l.enable(14),F.specularColorMap&&l.enable(15),F.transmission&&l.enable(16),F.transmissionMap&&l.enable(17),F.thicknessMap&&l.enable(18),F.sheen&&l.enable(19),F.sheenColorMap&&l.enable(20),F.sheenRoughnessMap&&l.enable(21),I.push(l.mask)}function A(I){const F=S[I.type];let O;if(F){const V=la[F];O=QMe.clone(V.uniforms)}else O=I.uniforms;return O}function L(I,F){let O;for(let V=0,z=u.length;V<z;V++){const B=u[V];if(B.cacheKey===F){O=B,++O.usedTimes;break}}return O===void 0&&(O=new QLe(t,F,I,s),u.push(O)),O}function k(I){if(--I.usedTimes==0){const F=u.indexOf(I);u[F]=u[u.length-1],u.pop(),I.destroy()}}function U(I){c.remove(I)}function N(){c.dispose()}return{getParameters:T,getProgramCacheKey:C,getUniforms:A,acquireProgram:L,releaseProgram:k,releaseShaderCache:U,programs:u,dispose:N}}function iIe(){let t=new WeakMap;function e(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function n(s){t.delete(s)}function i(s,a,l){t.get(s)[a]=l}function o(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:o}}function sIe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function ZB(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function QB(){const t=[];let e=0;const n=[],i=[],o=[];function s(){e=0,n.length=0,i.length=0,o.length=0}function a(f,h,v,m,_,S){let E=t[e];return E===void 0?(E={id:f.id,object:f,geometry:h,material:v,groupOrder:m,renderOrder:f.renderOrder,z:_,group:S},t[e]=E):(E.id=f.id,E.object=f,E.geometry=h,E.material=v,E.groupOrder=m,E.renderOrder=f.renderOrder,E.z=_,E.group=S),e++,E}function l(f,h,v,m,_,S){const E=a(f,h,v,m,_,S);v.transmission>0?i.push(E):v.transparent===!0?o.push(E):n.push(E)}function c(f,h,v,m,_,S){const E=a(f,h,v,m,_,S);v.transmission>0?i.unshift(E):v.transparent===!0?o.unshift(E):n.unshift(E)}function u(f,h){n.length>1&&n.sort(f||sIe),i.length>1&&i.sort(h||ZB),o.length>1&&o.sort(h||ZB)}function d(){for(let f=e,h=t.length;f<h;f++){const v=t[f];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:i,transparent:o,init:s,push:l,unshift:c,finish:d,sort:u}}function oIe(){let t=new WeakMap;function e(i,o){let s;return t.has(i)===!1?(s=new QB,t.set(i,[s])):o>=t.get(i).length?(s=new QB,t.get(i).push(s)):s=t.get(i)[o],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function aIe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ee,color:new at};break;case"SpotLight":n={position:new ee,direction:new ee,color:new at,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ee,color:new at,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ee,skyColor:new at,groundColor:new at};break;case"RectAreaLight":n={color:new at,position:new ee,halfWidth:new ee,halfHeight:new ee};break}return t[e.id]=n,n}}}function lIe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let cIe=0;function uIe(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function dIe(t,e){const n=new aIe,i=lIe(),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let d=0;d<9;d++)o.probe.push(new ee);const s=new ee,a=new ut,l=new ut;function c(d,f){let h=0,v=0,m=0;for(let k=0;k<9;k++)o.probe[k].set(0,0,0);let _=0,S=0,E=0,w=0,T=0,C=0,P=0,R=0;d.sort(uIe);const A=f!==!0?Math.PI:1;for(let k=0,U=d.length;k<U;k++){const N=d[k],I=N.color,F=N.intensity,O=N.distance,V=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)h+=I.r*F*A,v+=I.g*F*A,m+=I.b*F*A;else if(N.isLightProbe)for(let z=0;z<9;z++)o.probe[z].addScaledVector(N.sh.coefficients[z],F);else if(N.isDirectionalLight){const z=n.get(N);if(z.color.copy(N.color).multiplyScalar(N.intensity*A),N.castShadow){const B=N.shadow,H=i.get(N);H.shadowBias=B.bias,H.shadowNormalBias=B.normalBias,H.shadowRadius=B.radius,H.shadowMapSize=B.mapSize,o.directionalShadow[_]=H,o.directionalShadowMap[_]=V,o.directionalShadowMatrix[_]=N.shadow.matrix,C++}o.directional[_]=z,_++}else if(N.isSpotLight){const z=n.get(N);if(z.position.setFromMatrixPosition(N.matrixWorld),z.color.copy(I).multiplyScalar(F*A),z.distance=O,z.coneCos=Math.cos(N.angle),z.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),z.decay=N.decay,N.castShadow){const B=N.shadow,H=i.get(N);H.shadowBias=B.bias,H.shadowNormalBias=B.normalBias,H.shadowRadius=B.radius,H.shadowMapSize=B.mapSize,o.spotShadow[E]=H,o.spotShadowMap[E]=V,o.spotShadowMatrix[E]=N.shadow.matrix,R++}o.spot[E]=z,E++}else if(N.isRectAreaLight){const z=n.get(N);z.color.copy(I).multiplyScalar(F),z.halfWidth.set(N.width*.5,0,0),z.halfHeight.set(0,N.height*.5,0),o.rectArea[w]=z,w++}else if(N.isPointLight){const z=n.get(N);if(z.color.copy(N.color).multiplyScalar(N.intensity*A),z.distance=N.distance,z.decay=N.decay,N.castShadow){const B=N.shadow,H=i.get(N);H.shadowBias=B.bias,H.shadowNormalBias=B.normalBias,H.shadowRadius=B.radius,H.shadowMapSize=B.mapSize,H.shadowCameraNear=B.camera.near,H.shadowCameraFar=B.camera.far,o.pointShadow[S]=H,o.pointShadowMap[S]=V,o.pointShadowMatrix[S]=N.shadow.matrix,P++}o.point[S]=z,S++}else if(N.isHemisphereLight){const z=n.get(N);z.skyColor.copy(N.color).multiplyScalar(F*A),z.groundColor.copy(N.groundColor).multiplyScalar(F*A),o.hemi[T]=z,T++}}w>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(o.rectAreaLTC1=et.LTC_FLOAT_1,o.rectAreaLTC2=et.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(o.rectAreaLTC1=et.LTC_HALF_1,o.rectAreaLTC2=et.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),o.ambient[0]=h,o.ambient[1]=v,o.ambient[2]=m;const L=o.hash;(L.directionalLength!==_||L.pointLength!==S||L.spotLength!==E||L.rectAreaLength!==w||L.hemiLength!==T||L.numDirectionalShadows!==C||L.numPointShadows!==P||L.numSpotShadows!==R)&&(o.directional.length=_,o.spot.length=E,o.rectArea.length=w,o.point.length=S,o.hemi.length=T,o.directionalShadow.length=C,o.directionalShadowMap.length=C,o.pointShadow.length=P,o.pointShadowMap.length=P,o.spotShadow.length=R,o.spotShadowMap.length=R,o.directionalShadowMatrix.length=C,o.pointShadowMatrix.length=P,o.spotShadowMatrix.length=R,L.directionalLength=_,L.pointLength=S,L.spotLength=E,L.rectAreaLength=w,L.hemiLength=T,L.numDirectionalShadows=C,L.numPointShadows=P,L.numSpotShadows=R,o.version=cIe++)}function u(d,f){let h=0,v=0,m=0,_=0,S=0;const E=f.matrixWorldInverse;for(let w=0,T=d.length;w<T;w++){const C=d[w];if(C.isDirectionalLight){const P=o.directional[h];P.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),P.direction.sub(s),P.direction.transformDirection(E),h++}else if(C.isSpotLight){const P=o.spot[m];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(E),P.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),P.direction.sub(s),P.direction.transformDirection(E),m++}else if(C.isRectAreaLight){const P=o.rectArea[_];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(E),l.identity(),a.copy(C.matrixWorld),a.premultiply(E),l.extractRotation(a),P.halfWidth.set(C.width*.5,0,0),P.halfHeight.set(0,C.height*.5,0),P.halfWidth.applyMatrix4(l),P.halfHeight.applyMatrix4(l),_++}else if(C.isPointLight){const P=o.point[v];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(E),v++}else if(C.isHemisphereLight){const P=o.hemi[S];P.direction.setFromMatrixPosition(C.matrixWorld),P.direction.transformDirection(E),P.direction.normalize(),S++}}}return{setup:c,setupView:u,state:o}}function eV(t,e){const n=new dIe(t,e),i=[],o=[];function s(){i.length=0,o.length=0}function a(f){i.push(f)}function l(f){o.push(f)}function c(f){n.setup(i,f)}function u(f){n.setupView(i,f)}return{init:s,state:{lightsArray:i,shadowsArray:o,lights:n},setupLights:c,setupLightsView:u,pushLight:a,pushShadow:l}}function fIe(t,e){let n=new WeakMap;function i(s,a=0){let l;return n.has(s)===!1?(l=new eV(t,e),n.set(s,[l])):a>=n.get(s).length?(l=new eV(t,e),n.get(s).push(l)):l=n.get(s)[a],l}function o(){n=new WeakMap}return{get:i,dispose:o}}class tV extends Tr{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=xMe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}tV.prototype.isMeshDepthMaterial=!0;class nV extends Tr{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new ee,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}nV.prototype.isMeshDistanceMaterial=!0;const hIe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,pIe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function rV(t,e,n){let i=new Rb;const o=new Ue,s=new Ue,a=new In,l=new tV({depthPacking:SMe}),c=new nV,u={},d=n.maxTextureSize,f={0:dr,1:Qa,2:el},h=new ul({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ue},radius:{value:4}},vertexShader:hIe,fragmentShader:pIe}),v=h.clone();v.defines.HORIZONTAL_PASS=1;const m=new Nn;m.setAttribute("position",new On(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Ct(m,h),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Nj,this.render=function(C,P,R){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||C.length===0)return;const A=t.getRenderTarget(),L=t.getActiveCubeFace(),k=t.getActiveMipmapLevel(),U=t.state;U.setBlending(tl),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);for(let N=0,I=C.length;N<I;N++){const F=C[N],O=F.shadow;if(O===void 0){console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");continue}if(O.autoUpdate===!1&&O.needsUpdate===!1)continue;o.copy(O.mapSize);const V=O.getFrameExtents();if(o.multiply(V),s.copy(O.mapSize),(o.x>d||o.y>d)&&(o.x>d&&(s.x=Math.floor(d/V.x),o.x=s.x*V.x,O.mapSize.x=s.x),o.y>d&&(s.y=Math.floor(d/V.y),o.y=s.y*V.y,O.mapSize.y=s.y)),O.map===null&&!O.isPointLightShadow&&this.type===Pg){const B={minFilter:Ln,magFilter:Ln,format:Qn};O.map=new Zi(o.x,o.y,B),O.map.texture.name=F.name+".shadowMap",O.mapPass=new Zi(o.x,o.y,B),O.camera.updateProjectionMatrix()}if(O.map===null){const B={minFilter:_r,magFilter:_r,format:Qn};O.map=new Zi(o.x,o.y,B),O.map.texture.name=F.name+".shadowMap",O.camera.updateProjectionMatrix()}t.setRenderTarget(O.map),t.clear();const z=O.getViewportCount();for(let B=0;B<z;B++){const H=O.getViewport(B);a.set(s.x*H.x,s.y*H.y,s.x*H.z,s.y*H.w),U.viewport(a),O.updateMatrices(F,B),i=O.getFrustum(),T(P,R,O.camera,F,this.type)}!O.isPointLightShadow&&this.type===Pg&&E(O,R),O.needsUpdate=!1}S.needsUpdate=!1,t.setRenderTarget(A,L,k)};function E(C,P){const R=e.update(_);h.defines.VSM_SAMPLES!==C.blurSamples&&(h.defines.VSM_SAMPLES=C.blurSamples,v.defines.VSM_SAMPLES=C.blurSamples,h.needsUpdate=!0,v.needsUpdate=!0),h.uniforms.shadow_pass.value=C.map.texture,h.uniforms.resolution.value=C.mapSize,h.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(P,null,R,h,_,null),v.uniforms.shadow_pass.value=C.mapPass.texture,v.uniforms.resolution.value=C.mapSize,v.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(P,null,R,v,_,null)}function w(C,P,R,A,L,k,U){let N=null;const I=A.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(I!==void 0?N=I:N=A.isPointLight===!0?c:l,t.localClippingEnabled&&R.clipShadows===!0&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0){const F=N.uuid,O=R.uuid;let V=u[F];V===void 0&&(V={},u[F]=V);let z=V[O];z===void 0&&(z=N.clone(),V[O]=z),N=z}return N.visible=R.visible,N.wireframe=R.wireframe,U===Pg?N.side=R.shadowSide!==null?R.shadowSide:R.side:N.side=R.shadowSide!==null?R.shadowSide:f[R.side],N.alphaMap=R.alphaMap,N.alphaTest=R.alphaTest,N.clipShadows=R.clipShadows,N.clippingPlanes=R.clippingPlanes,N.clipIntersection=R.clipIntersection,N.displacementMap=R.displacementMap,N.displacementScale=R.displacementScale,N.displacementBias=R.displacementBias,N.wireframeLinewidth=R.wireframeLinewidth,N.linewidth=R.linewidth,A.isPointLight===!0&&N.isMeshDistanceMaterial===!0&&(N.referencePosition.setFromMatrixPosition(A.matrixWorld),N.nearDistance=L,N.farDistance=k),N}function T(C,P,R,A,L){if(C.visible===!1)return;if(C.layers.test(P.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&L===Pg)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,C.matrixWorld);const N=e.update(C),I=C.material;if(Array.isArray(I)){const F=N.groups;for(let O=0,V=F.length;O<V;O++){const z=F[O],B=I[z.materialIndex];if(B&&B.visible){const H=w(C,N,B,A,R.near,R.far,L);t.renderBufferDirect(R,null,N,H,C,z)}}}else if(I.visible){const F=w(C,N,I,A,R.near,R.far,L);t.renderBufferDirect(R,null,N,F,C,null)}}const U=C.children;for(let N=0,I=U.length;N<I;N++)T(U[N],P,R,A,L)}}function mIe(t,e,n){const i=n.isWebGL2;function o(){let ie=!1;const He=new In;let Ve=null;const bt=new In(0,0,0,0);return{setMask:function(lt){Ve!==lt&&!ie&&(t.colorMask(lt,lt,lt,lt),Ve=lt)},setLocked:function(lt){ie=lt},setClear:function(lt,Dt,Xe,It,Sn){Sn===!0&&(lt*=It,Dt*=It,Xe*=It),He.set(lt,Dt,Xe,It),bt.equals(He)===!1&&(t.clearColor(lt,Dt,Xe,It),bt.copy(He))},reset:function(){ie=!1,Ve=null,bt.set(-1,0,0,0)}}}function s(){let ie=!1,He=null,Ve=null,bt=null;return{setTest:function(lt){lt?se(2929):ge(2929)},setMask:function(lt){He!==lt&&!ie&&(t.depthMask(lt),He=lt)},setFunc:function(lt){if(Ve!==lt){if(lt)switch(lt){case bCe:t.depthFunc(512);break;case ECe:t.depthFunc(519);break;case wCe:t.depthFunc(513);break;case nC:t.depthFunc(515);break;case xCe:t.depthFunc(514);break;case SCe:t.depthFunc(518);break;case TCe:t.depthFunc(516);break;case CCe:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);Ve=lt}},setLocked:function(lt){ie=lt},setClear:function(lt){bt!==lt&&(t.clearDepth(lt),bt=lt)},reset:function(){ie=!1,He=null,Ve=null,bt=null}}}function a(){let ie=!1,He=null,Ve=null,bt=null,lt=null,Dt=null,Xe=null,It=null,Sn=null;return{setTest:function(vn){ie||(vn?se(2960):ge(2960))},setMask:function(vn){He!==vn&&!ie&&(t.stencilMask(vn),He=vn)},setFunc:function(vn,Ss,es){(Ve!==vn||bt!==Ss||lt!==es)&&(t.stencilFunc(vn,Ss,es),Ve=vn,bt=Ss,lt=es)},setOp:function(vn,Ss,es){(Dt!==vn||Xe!==Ss||It!==es)&&(t.stencilOp(vn,Ss,es),Dt=vn,Xe=Ss,It=es)},setLocked:function(vn){ie=vn},setClear:function(vn){Sn!==vn&&(t.clearStencil(vn),Sn=vn)},reset:function(){ie=!1,He=null,Ve=null,bt=null,lt=null,Dt=null,Xe=null,It=null,Sn=null}}}const l=new o,c=new s,u=new a;let d={},f={},h=null,v=!1,m=null,_=null,S=null,E=null,w=null,T=null,C=null,P=!1,R=null,A=null,L=null,k=null,U=null;const N=t.getParameter(35661);let I=!1,F=0;const O=t.getParameter(7938);O.indexOf("WebGL")!==-1?(F=parseFloat(/^WebGL (\d)/.exec(O)[1]),I=F>=1):O.indexOf("OpenGL ES")!==-1&&(F=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),I=F>=2);let V=null,z={};const B=t.getParameter(3088),H=t.getParameter(2978),W=new In().fromArray(B),G=new In().fromArray(H);function q(ie,He,Ve){const bt=new Uint8Array(4),lt=t.createTexture();t.bindTexture(ie,lt),t.texParameteri(ie,10241,9728),t.texParameteri(ie,10240,9728);for(let Dt=0;Dt<Ve;Dt++)t.texImage2D(He+Dt,0,6408,1,1,0,6408,5121,bt);return lt}const re={};re[3553]=q(3553,3553,1),re[34067]=q(34067,34069,6),l.setClear(0,0,0,1),c.setClear(1),u.setClear(0),se(2929),c.setFunc(nC),Ie(!1),fe(Oj),se(2884),ce(tl);function se(ie){d[ie]!==!0&&(t.enable(ie),d[ie]=!0)}function ge(ie){d[ie]!==!1&&(t.disable(ie),d[ie]=!1)}function _e(ie,He){return f[ie]!==He?(t.bindFramebuffer(ie,He),f[ie]=He,i&&(ie===36009&&(f[36160]=He),ie===36160&&(f[36009]=He)),!0):!1}function pe(ie){return h!==ie?(t.useProgram(ie),h=ie,!0):!1}const ae={[Yf]:32774,[cCe]:32778,[uCe]:32779};if(i)ae[Bj]=32775,ae[Vj]=32776;else{const ie=e.get("EXT_blend_minmax");ie!==null&&(ae[Bj]=ie.MIN_EXT,ae[Vj]=ie.MAX_EXT)}const le={[dCe]:0,[fCe]:1,[hCe]:768,[Hj]:770,[_Ce]:776,[vCe]:774,[mCe]:772,[pCe]:769,[zj]:771,[yCe]:775,[gCe]:773};function ce(ie,He,Ve,bt,lt,Dt,Xe,It){if(ie===tl){v===!0&&(ge(3042),v=!1);return}if(v===!1&&(se(3042),v=!0),ie!==lCe){if(ie!==m||It!==P){if((_!==Yf||w!==Yf)&&(t.blendEquation(32774),_=Yf,w=Yf),It)switch(ie){case Rg:t.blendFuncSeparate(1,771,1,771);break;case Fj:t.blendFunc(1,1);break;case Uj:t.blendFuncSeparate(0,0,769,771);break;case jj:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ie);break}else switch(ie){case Rg:t.blendFuncSeparate(770,771,1,771);break;case Fj:t.blendFunc(770,1);break;case Uj:t.blendFunc(0,769);break;case jj:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ie);break}S=null,E=null,T=null,C=null,m=ie,P=It}return}lt=lt||He,Dt=Dt||Ve,Xe=Xe||bt,(He!==_||lt!==w)&&(t.blendEquationSeparate(ae[He],ae[lt]),_=He,w=lt),(Ve!==S||bt!==E||Dt!==T||Xe!==C)&&(t.blendFuncSeparate(le[Ve],le[bt],le[Dt],le[Xe]),S=Ve,E=bt,T=Dt,C=Xe),m=ie,P=null}function me(ie,He){ie.side===el?ge(2884):se(2884);let Ve=ie.side===dr;He&&(Ve=!Ve),Ie(Ve),ie.blending===Rg&&ie.transparent===!1?ce(tl):ce(ie.blending,ie.blendEquation,ie.blendSrc,ie.blendDst,ie.blendEquationAlpha,ie.blendSrcAlpha,ie.blendDstAlpha,ie.premultipliedAlpha),c.setFunc(ie.depthFunc),c.setTest(ie.depthTest),c.setMask(ie.depthWrite),l.setMask(ie.colorWrite);const bt=ie.stencilWrite;u.setTest(bt),bt&&(u.setMask(ie.stencilWriteMask),u.setFunc(ie.stencilFunc,ie.stencilRef,ie.stencilFuncMask),u.setOp(ie.stencilFail,ie.stencilZFail,ie.stencilZPass)),ye(ie.polygonOffset,ie.polygonOffsetFactor,ie.polygonOffsetUnits),ie.alphaToCoverage===!0?se(32926):ge(32926)}function Ie(ie){R!==ie&&(ie?t.frontFace(2304):t.frontFace(2305),R=ie)}function fe(ie){ie!==oCe?(se(2884),ie!==A&&(ie===Oj?t.cullFace(1029):ie===aCe?t.cullFace(1028):t.cullFace(1032))):ge(2884),A=ie}function Ee(ie){ie!==L&&(I&&t.lineWidth(ie),L=ie)}function ye(ie,He,Ve){ie?(se(32823),(k!==He||U!==Ve)&&(t.polygonOffset(He,Ve),k=He,U=Ve)):ge(32823)}function Fe(ie){ie?se(3089):ge(3089)}function De(ie){ie===void 0&&(ie=33984+N-1),V!==ie&&(t.activeTexture(ie),V=ie)}function nt(ie,He){V===null&&De();let Ve=z[V];Ve===void 0&&(Ve={type:void 0,texture:void 0},z[V]=Ve),(Ve.type!==ie||Ve.texture!==He)&&(t.bindTexture(ie,He||re[ie]),Ve.type=ie,Ve.texture=He)}function ft(){const ie=z[V];ie!==void 0&&ie.type!==void 0&&(t.bindTexture(ie.type,null),ie.type=void 0,ie.texture=void 0)}function gt(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Ut(){try{t.texSubImage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Q(){try{t.texSubImage3D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function J(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Ae(){try{t.texStorage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Ne(){try{t.texStorage3D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function We(){try{t.texImage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Le(){try{t.texImage3D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Ke(ie){W.equals(ie)===!1&&(t.scissor(ie.x,ie.y,ie.z,ie.w),W.copy(ie))}function rt(ie){G.equals(ie)===!1&&(t.viewport(ie.x,ie.y,ie.z,ie.w),G.copy(ie))}function Be(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),i===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},V=null,z={},f={},h=null,v=!1,m=null,_=null,S=null,E=null,w=null,T=null,C=null,P=!1,R=null,A=null,L=null,k=null,U=null,W.set(0,0,t.canvas.width,t.canvas.height),G.set(0,0,t.canvas.width,t.canvas.height),l.reset(),c.reset(),u.reset()}return{buffers:{color:l,depth:c,stencil:u},enable:se,disable:ge,bindFramebuffer:_e,useProgram:pe,setBlending:ce,setMaterial:me,setFlipSided:Ie,setCullFace:fe,setLineWidth:Ee,setPolygonOffset:ye,setScissorTest:Fe,activeTexture:De,bindTexture:nt,unbindTexture:ft,compressedTexImage2D:gt,texImage2D:We,texImage3D:Le,texStorage2D:Ae,texStorage3D:Ne,texSubImage2D:Ut,texSubImage3D:Q,compressedTexSubImage2D:J,scissor:Ke,viewport:rt,reset:Be}}function gIe(t,e,n,i,o,s,a){const l=o.isWebGL2,c=o.maxTextures,u=o.maxCubemapSize,d=o.maxTextureSize,f=o.maxSamples,v=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):void 0,m=new WeakMap;let _,S=!1;try{S=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function E(Q,J){return S?new OffscreenCanvas(Q,J):cb("canvas")}function w(Q,J,Ae,Ne){let We=1;if((Q.width>Ne||Q.height>Ne)&&(We=Ne/Math.max(Q.width,Q.height)),We<1||J===!0)if(typeof HTMLImageElement!="undefined"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&Q instanceof ImageBitmap){const Le=J?iB:Math.floor,Ke=Le(We*Q.width),rt=Le(We*Q.height);_===void 0&&(_=E(Ke,rt));const Be=Ae?E(Ke,rt):_;return Be.width=Ke,Be.height=rt,Be.getContext("2d").drawImage(Q,0,0,Ke,rt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Q.width+"x"+Q.height+") to ("+Ke+"x"+rt+")."),Be}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Q.width+"x"+Q.height+")."),Q;return Q}function T(Q){return yC(Q.width)&&yC(Q.height)}function C(Q){return l?!1:Q.wrapS!==Zr||Q.wrapT!==Zr||Q.minFilter!==_r&&Q.minFilter!==Ln}function P(Q,J){return Q.generateMipmaps&&J&&Q.minFilter!==_r&&Q.minFilter!==Ln}function R(Q){t.generateMipmap(Q)}function A(Q,J,Ae,Ne){if(l===!1)return J;if(Q!==null){if(t[Q]!==void 0)return t[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let We=J;return J===6403&&(Ae===5126&&(We=33326),Ae===5131&&(We=33325),Ae===5121&&(We=33321)),J===6407&&(Ae===5126&&(We=34837),Ae===5131&&(We=34843),Ae===5121&&(We=32849)),J===6408&&(Ae===5126&&(We=34836),Ae===5131&&(We=34842),Ae===5121&&(We=Ne===Ji?35907:32856)),(We===33325||We===33326||We===34842||We===34836)&&e.get("EXT_color_buffer_float"),We}function L(Q,J,Ae){return P(Q,Ae)===!0||Q.isFramebufferTexture&&Q.minFilter!==_r&&Q.minFilter!==Ln?Math.log2(Math.max(J.width,J.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?J.mipmaps.length:1}function k(Q){return Q===_r||Q===rb||Q===ib?9728:9729}function U(Q){const J=Q.target;J.removeEventListener("dispose",U),I(J),J.isVideoTexture&&m.delete(J),a.memory.textures--}function N(Q){const J=Q.target;J.removeEventListener("dispose",N),F(J)}function I(Q){const J=i.get(Q);J.__webglInit!==void 0&&(t.deleteTexture(J.__webglTexture),i.remove(Q))}function F(Q){const J=Q.texture,Ae=i.get(Q),Ne=i.get(J);if(!!Q){if(Ne.__webglTexture!==void 0&&(t.deleteTexture(Ne.__webglTexture),a.memory.textures--),Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let We=0;We<6;We++)t.deleteFramebuffer(Ae.__webglFramebuffer[We]),Ae.__webglDepthbuffer&&t.deleteRenderbuffer(Ae.__webglDepthbuffer[We]);else t.deleteFramebuffer(Ae.__webglFramebuffer),Ae.__webglDepthbuffer&&t.deleteRenderbuffer(Ae.__webglDepthbuffer),Ae.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Ae.__webglMultisampledFramebuffer),Ae.__webglColorRenderbuffer&&t.deleteRenderbuffer(Ae.__webglColorRenderbuffer),Ae.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Ae.__webglDepthRenderbuffer);if(Q.isWebGLMultipleRenderTargets)for(let We=0,Le=J.length;We<Le;We++){const Ke=i.get(J[We]);Ke.__webglTexture&&(t.deleteTexture(Ke.__webglTexture),a.memory.textures--),i.remove(J[We])}i.remove(J),i.remove(Q)}}let O=0;function V(){O=0}function z(){const Q=O;return Q>=c&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+c),O+=1,Q}function B(Q,J){const Ae=i.get(Q);if(Q.isVideoTexture&&De(Q),Q.version>0&&Ae.__version!==Q.version){const Ne=Q.image;if(Ne===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(Ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{_e(Ae,Q,J);return}}n.activeTexture(33984+J),n.bindTexture(3553,Ae.__webglTexture)}function H(Q,J){const Ae=i.get(Q);if(Q.version>0&&Ae.__version!==Q.version){_e(Ae,Q,J);return}n.activeTexture(33984+J),n.bindTexture(35866,Ae.__webglTexture)}function W(Q,J){const Ae=i.get(Q);if(Q.version>0&&Ae.__version!==Q.version){_e(Ae,Q,J);return}n.activeTexture(33984+J),n.bindTexture(32879,Ae.__webglTexture)}function G(Q,J){const Ae=i.get(Q);if(Q.version>0&&Ae.__version!==Q.version){pe(Ae,Q,J);return}n.activeTexture(33984+J),n.bindTexture(34067,Ae.__webglTexture)}const q={[rl]:10497,[Zr]:33071,[Og]:33648},re={[_r]:9728,[rb]:9984,[ib]:9986,[Ln]:9729,[sC]:9985,[il]:9987};function se(Q,J,Ae){if(Ae?(t.texParameteri(Q,10242,q[J.wrapS]),t.texParameteri(Q,10243,q[J.wrapT]),(Q===32879||Q===35866)&&t.texParameteri(Q,32882,q[J.wrapR]),t.texParameteri(Q,10240,re[J.magFilter]),t.texParameteri(Q,10241,re[J.minFilter])):(t.texParameteri(Q,10242,33071),t.texParameteri(Q,10243,33071),(Q===32879||Q===35866)&&t.texParameteri(Q,32882,33071),(J.wrapS!==Zr||J.wrapT!==Zr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Q,10240,k(J.magFilter)),t.texParameteri(Q,10241,k(J.minFilter)),J.minFilter!==_r&&J.minFilter!==Ln&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ne=e.get("EXT_texture_filter_anisotropic");if(J.type===Xs&&e.has("OES_texture_float_linear")===!1||l===!1&&J.type===ys&&e.has("OES_texture_half_float_linear")===!1)return;(J.anisotropy>1||i.get(J).__currentAnisotropy)&&(t.texParameterf(Q,Ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(J.anisotropy,o.getMaxAnisotropy())),i.get(J).__currentAnisotropy=J.anisotropy)}}function ge(Q,J){Q.__webglInit===void 0&&(Q.__webglInit=!0,J.addEventListener("dispose",U),Q.__webglTexture=t.createTexture(),a.memory.textures++)}function _e(Q,J,Ae){let Ne=3553;J.isDataTexture2DArray&&(Ne=35866),J.isDataTexture3D&&(Ne=32879),ge(Q,J),n.activeTexture(33984+Ae),n.bindTexture(Ne,Q.__webglTexture),t.pixelStorei(37440,J.flipY),t.pixelStorei(37441,J.premultiplyAlpha),t.pixelStorei(3317,J.unpackAlignment),t.pixelStorei(37443,0);const We=C(J)&&T(J.image)===!1,Le=w(J.image,We,!1,d),Ke=T(Le)||l,rt=s.convert(J.format);let Be=s.convert(J.type),ie=A(J.internalFormat,rt,Be,J.encoding);se(Ne,J,Ke);let He;const Ve=J.mipmaps,bt=l&&J.isVideoTexture!==!0,lt=Q.__version===void 0,Dt=L(J,Le,Ke);if(J.isDepthTexture)ie=6402,l?J.type===Xs?ie=36012:J.type===sb?ie=33190:J.type===Kf?ie=35056:ie=33189:J.type===Xs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),J.format===Vu&&ie===6402&&J.type!==Ng&&J.type!==sb&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),J.type=Ng,Be=s.convert(J.type)),J.format===Xf&&ie===6402&&(ie=34041,J.type!==Kf&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),J.type=Kf,Be=s.convert(J.type))),bt&&lt?n.texStorage2D(3553,1,ie,Le.width,Le.height):n.texImage2D(3553,0,ie,Le.width,Le.height,0,rt,Be,null);else if(J.isDataTexture)if(Ve.length>0&&Ke){bt&&lt&&n.texStorage2D(3553,Dt,ie,Ve[0].width,Ve[0].height);for(let Xe=0,It=Ve.length;Xe<It;Xe++)He=Ve[Xe],bt?n.texSubImage2D(3553,0,0,0,He.width,He.height,rt,Be,He.data):n.texImage2D(3553,Xe,ie,He.width,He.height,0,rt,Be,He.data);J.generateMipmaps=!1}else bt?(lt&&n.texStorage2D(3553,Dt,ie,Le.width,Le.height),n.texSubImage2D(3553,0,0,0,Le.width,Le.height,rt,Be,Le.data)):n.texImage2D(3553,0,ie,Le.width,Le.height,0,rt,Be,Le.data);else if(J.isCompressedTexture){bt&&lt&&n.texStorage2D(3553,Dt,ie,Ve[0].width,Ve[0].height);for(let Xe=0,It=Ve.length;Xe<It;Xe++)He=Ve[Xe],J.format!==Qn&&J.format!==Js?rt!==null?bt?n.compressedTexSubImage2D(3553,Xe,0,0,He.width,He.height,rt,He.data):n.compressedTexImage2D(3553,Xe,ie,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):bt?n.texSubImage2D(3553,Xe,0,0,He.width,He.height,rt,Be,He.data):n.texImage2D(3553,Xe,ie,He.width,He.height,0,rt,Be,He.data)}else if(J.isDataTexture2DArray)bt?(lt&&n.texStorage3D(35866,Dt,ie,Le.width,Le.height,Le.depth),n.texSubImage3D(35866,0,0,0,0,Le.width,Le.height,Le.depth,rt,Be,Le.data)):n.texImage3D(35866,0,ie,Le.width,Le.height,Le.depth,0,rt,Be,Le.data);else if(J.isDataTexture3D)bt?(lt&&n.texStorage3D(32879,Dt,ie,Le.width,Le.height,Le.depth),n.texSubImage3D(32879,0,0,0,0,Le.width,Le.height,Le.depth,rt,Be,Le.data)):n.texImage3D(32879,0,ie,Le.width,Le.height,Le.depth,0,rt,Be,Le.data);else if(J.isFramebufferTexture)bt&&lt?n.texStorage2D(3553,Dt,ie,Le.width,Le.height):n.texImage2D(3553,0,ie,Le.width,Le.height,0,rt,Be,null);else if(Ve.length>0&&Ke){bt&&lt&&n.texStorage2D(3553,Dt,ie,Ve[0].width,Ve[0].height);for(let Xe=0,It=Ve.length;Xe<It;Xe++)He=Ve[Xe],bt?n.texSubImage2D(3553,Xe,0,0,rt,Be,He):n.texImage2D(3553,Xe,ie,rt,Be,He);J.generateMipmaps=!1}else bt?(lt&&n.texStorage2D(3553,Dt,ie,Le.width,Le.height),n.texSubImage2D(3553,0,0,0,rt,Be,Le)):n.texImage2D(3553,0,ie,rt,Be,Le);P(J,Ke)&&R(Ne),Q.__version=J.version,J.onUpdate&&J.onUpdate(J)}function pe(Q,J,Ae){if(J.image.length!==6)return;ge(Q,J),n.activeTexture(33984+Ae),n.bindTexture(34067,Q.__webglTexture),t.pixelStorei(37440,J.flipY),t.pixelStorei(37441,J.premultiplyAlpha),t.pixelStorei(3317,J.unpackAlignment),t.pixelStorei(37443,0);const Ne=J&&(J.isCompressedTexture||J.image[0].isCompressedTexture),We=J.image[0]&&J.image[0].isDataTexture,Le=[];for(let Xe=0;Xe<6;Xe++)!Ne&&!We?Le[Xe]=w(J.image[Xe],!1,!0,u):Le[Xe]=We?J.image[Xe].image:J.image[Xe];const Ke=Le[0],rt=T(Ke)||l,Be=s.convert(J.format),ie=s.convert(J.type),He=A(J.internalFormat,Be,ie,J.encoding),Ve=l&&J.isVideoTexture!==!0,bt=Q.__version===void 0;let lt=L(J,Ke,rt);se(34067,J,rt);let Dt;if(Ne){Ve&&bt&&n.texStorage2D(34067,lt,He,Ke.width,Ke.height);for(let Xe=0;Xe<6;Xe++){Dt=Le[Xe].mipmaps;for(let It=0;It<Dt.length;It++){const Sn=Dt[It];J.format!==Qn&&J.format!==Js?Be!==null?Ve?n.compressedTexSubImage2D(34069+Xe,It,0,0,Sn.width,Sn.height,Be,Sn.data):n.compressedTexImage2D(34069+Xe,It,He,Sn.width,Sn.height,0,Sn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ve?n.texSubImage2D(34069+Xe,It,0,0,Sn.width,Sn.height,Be,ie,Sn.data):n.texImage2D(34069+Xe,It,He,Sn.width,Sn.height,0,Be,ie,Sn.data)}}}else{Dt=J.mipmaps,Ve&&bt&&(Dt.length>0&&lt++,n.texStorage2D(34067,lt,He,Le[0].width,Le[0].height));for(let Xe=0;Xe<6;Xe++)if(We){Ve?n.texSubImage2D(34069+Xe,0,0,0,Le[Xe].width,Le[Xe].height,Be,ie,Le[Xe].data):n.texImage2D(34069+Xe,0,He,Le[Xe].width,Le[Xe].height,0,Be,ie,Le[Xe].data);for(let It=0;It<Dt.length;It++){const vn=Dt[It].image[Xe].image;Ve?n.texSubImage2D(34069+Xe,It+1,0,0,vn.width,vn.height,Be,ie,vn.data):n.texImage2D(34069+Xe,It+1,He,vn.width,vn.height,0,Be,ie,vn.data)}}else{Ve?n.texSubImage2D(34069+Xe,0,0,0,Be,ie,Le[Xe]):n.texImage2D(34069+Xe,0,He,Be,ie,Le[Xe]);for(let It=0;It<Dt.length;It++){const Sn=Dt[It];Ve?n.texSubImage2D(34069+Xe,It+1,0,0,Be,ie,Sn.image[Xe]):n.texImage2D(34069+Xe,It+1,He,Be,ie,Sn.image[Xe])}}}P(J,rt)&&R(34067),Q.__version=J.version,J.onUpdate&&J.onUpdate(J)}function ae(Q,J,Ae,Ne,We){const Le=s.convert(Ae.format),Ke=s.convert(Ae.type),rt=A(Ae.internalFormat,Le,Ke,Ae.encoding);i.get(J).__hasExternalTextures||(We===32879||We===35866?n.texImage3D(We,0,rt,J.width,J.height,J.depth,0,Le,Ke,null):n.texImage2D(We,0,rt,J.width,J.height,0,Le,Ke,null)),n.bindFramebuffer(36160,Q),J.useRenderToTexture?v.framebufferTexture2DMultisampleEXT(36160,Ne,We,i.get(Ae).__webglTexture,0,Fe(J)):t.framebufferTexture2D(36160,Ne,We,i.get(Ae).__webglTexture,0),n.bindFramebuffer(36160,null)}function le(Q,J,Ae){if(t.bindRenderbuffer(36161,Q),J.depthBuffer&&!J.stencilBuffer){let Ne=33189;if(Ae||J.useRenderToTexture){const We=J.depthTexture;We&&We.isDepthTexture&&(We.type===Xs?Ne=36012:We.type===sb&&(Ne=33190));const Le=Fe(J);J.useRenderToTexture?v.renderbufferStorageMultisampleEXT(36161,Le,Ne,J.width,J.height):t.renderbufferStorageMultisample(36161,Le,Ne,J.width,J.height)}else t.renderbufferStorage(36161,Ne,J.width,J.height);t.framebufferRenderbuffer(36160,36096,36161,Q)}else if(J.depthBuffer&&J.stencilBuffer){const Ne=Fe(J);Ae&&J.useRenderbuffer?t.renderbufferStorageMultisample(36161,Ne,35056,J.width,J.height):J.useRenderToTexture?v.renderbufferStorageMultisampleEXT(36161,Ne,35056,J.width,J.height):t.renderbufferStorage(36161,34041,J.width,J.height),t.framebufferRenderbuffer(36160,33306,36161,Q)}else{const Ne=J.isWebGLMultipleRenderTargets===!0?J.texture[0]:J.texture,We=s.convert(Ne.format),Le=s.convert(Ne.type),Ke=A(Ne.internalFormat,We,Le,Ne.encoding),rt=Fe(J);Ae&&J.useRenderbuffer?t.renderbufferStorageMultisample(36161,rt,Ke,J.width,J.height):J.useRenderToTexture?v.renderbufferStorageMultisampleEXT(36161,rt,Ke,J.width,J.height):t.renderbufferStorage(36161,Ke,J.width,J.height)}t.bindRenderbuffer(36161,null)}function ce(Q,J){if(J&&J.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,Q),!(J.depthTexture&&J.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(J.depthTexture).__webglTexture||J.depthTexture.image.width!==J.width||J.depthTexture.image.height!==J.height)&&(J.depthTexture.image.width=J.width,J.depthTexture.image.height=J.height,J.depthTexture.needsUpdate=!0),B(J.depthTexture,0);const Ne=i.get(J.depthTexture).__webglTexture,We=Fe(J);if(J.depthTexture.format===Vu)J.useRenderToTexture?v.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ne,0,We):t.framebufferTexture2D(36160,36096,3553,Ne,0);else if(J.depthTexture.format===Xf)J.useRenderToTexture?v.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ne,0,We):t.framebufferTexture2D(36160,33306,3553,Ne,0);else throw new Error("Unknown depthTexture format")}function me(Q){const J=i.get(Q),Ae=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!J.__autoAllocateDepthBuffer){if(Ae)throw new Error("target.depthTexture not supported in Cube render targets");ce(J.__webglFramebuffer,Q)}else if(Ae){J.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)n.bindFramebuffer(36160,J.__webglFramebuffer[Ne]),J.__webglDepthbuffer[Ne]=t.createRenderbuffer(),le(J.__webglDepthbuffer[Ne],Q,!1)}else n.bindFramebuffer(36160,J.__webglFramebuffer),J.__webglDepthbuffer=t.createRenderbuffer(),le(J.__webglDepthbuffer,Q,!1);n.bindFramebuffer(36160,null)}function Ie(Q,J,Ae){const Ne=i.get(Q);J!==void 0&&ae(Ne.__webglFramebuffer,Q,Q.texture,36064,3553),Ae!==void 0&&me(Q)}function fe(Q){const J=Q.texture,Ae=i.get(Q),Ne=i.get(J);Q.addEventListener("dispose",N),Q.isWebGLMultipleRenderTargets!==!0&&(Ne.__webglTexture===void 0&&(Ne.__webglTexture=t.createTexture()),Ne.__version=J.version,a.memory.textures++);const We=Q.isWebGLCubeRenderTarget===!0,Le=Q.isWebGLMultipleRenderTargets===!0,Ke=J.isDataTexture3D||J.isDataTexture2DArray,rt=T(Q)||l;if(l&&J.format===Js&&(J.type===Xs||J.type===ys)&&(J.format=Qn,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),We){Ae.__webglFramebuffer=[];for(let Be=0;Be<6;Be++)Ae.__webglFramebuffer[Be]=t.createFramebuffer()}else if(Ae.__webglFramebuffer=t.createFramebuffer(),Le)if(o.drawBuffers){const Be=Q.texture;for(let ie=0,He=Be.length;ie<He;ie++){const Ve=i.get(Be[ie]);Ve.__webglTexture===void 0&&(Ve.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(Q.useRenderbuffer)if(l){Ae.__webglMultisampledFramebuffer=t.createFramebuffer(),Ae.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,Ae.__webglColorRenderbuffer);const Be=s.convert(J.format),ie=s.convert(J.type),He=A(J.internalFormat,Be,ie,J.encoding),Ve=Fe(Q);t.renderbufferStorageMultisample(36161,Ve,He,Q.width,Q.height),n.bindFramebuffer(36160,Ae.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,Ae.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),Q.depthBuffer&&(Ae.__webglDepthRenderbuffer=t.createRenderbuffer(),le(Ae.__webglDepthRenderbuffer,Q,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(We){n.bindTexture(34067,Ne.__webglTexture),se(34067,J,rt);for(let Be=0;Be<6;Be++)ae(Ae.__webglFramebuffer[Be],Q,J,36064,34069+Be);P(J,rt)&&R(34067),n.unbindTexture()}else if(Le){const Be=Q.texture;for(let ie=0,He=Be.length;ie<He;ie++){const Ve=Be[ie],bt=i.get(Ve);n.bindTexture(3553,bt.__webglTexture),se(3553,Ve,rt),ae(Ae.__webglFramebuffer,Q,Ve,36064+ie,3553),P(Ve,rt)&&R(3553)}n.unbindTexture()}else{let Be=3553;Ke&&(l?Be=J.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),n.bindTexture(Be,Ne.__webglTexture),se(Be,J,rt),ae(Ae.__webglFramebuffer,Q,J,36064,Be),P(J,rt)&&R(Be),n.unbindTexture()}Q.depthBuffer&&me(Q)}function Ee(Q){const J=T(Q)||l,Ae=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let Ne=0,We=Ae.length;Ne<We;Ne++){const Le=Ae[Ne];if(P(Le,J)){const Ke=Q.isWebGLCubeRenderTarget?34067:3553,rt=i.get(Le).__webglTexture;n.bindTexture(Ke,rt),R(Ke),n.unbindTexture()}}}function ye(Q){if(Q.useRenderbuffer)if(l){const J=Q.width,Ae=Q.height;let Ne=16384;const We=[36064],Le=Q.stencilBuffer?33306:36096;Q.depthBuffer&&We.push(Le),Q.ignoreDepthForMultisampleCopy||(Q.depthBuffer&&(Ne|=256),Q.stencilBuffer&&(Ne|=1024));const Ke=i.get(Q);n.bindFramebuffer(36008,Ke.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,Ke.__webglFramebuffer),Q.ignoreDepthForMultisampleCopy&&(t.invalidateFramebuffer(36008,[Le]),t.invalidateFramebuffer(36009,[Le])),t.blitFramebuffer(0,0,J,Ae,0,0,J,Ae,Ne,9728),t.invalidateFramebuffer(36008,We),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,Ke.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Fe(Q){return l&&(Q.useRenderbuffer||Q.useRenderToTexture)?Math.min(f,Q.samples):0}function De(Q){const J=a.render.frame;m.get(Q)!==J&&(m.set(Q,J),Q.update())}let nt=!1,ft=!1;function gt(Q,J){Q&&Q.isWebGLRenderTarget&&(nt===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),nt=!0),Q=Q.texture),B(Q,J)}function Ut(Q,J){Q&&Q.isWebGLCubeRenderTarget&&(ft===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),ft=!0),Q=Q.texture),G(Q,J)}this.allocateTextureUnit=z,this.resetTextureUnits=V,this.setTexture2D=B,this.setTexture2DArray=H,this.setTexture3D=W,this.setTextureCube=G,this.rebindTextures=Ie,this.setupRenderTarget=fe,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=ye,this.setupDepthRenderbuffer=me,this.setupFrameBufferTexture=ae,this.safeSetTexture2D=gt,this.safeSetTextureCube=Ut}function vIe(t,e,n){const i=n.isWebGL2;function o(s){let a;if(s===aa)return 5121;if(s===DCe)return 32819;if(s===FCe)return 32820;if(s===UCe)return 33635;if(s===OCe)return 5120;if(s===NCe)return 5122;if(s===Ng)return 5123;if(s===kCe)return 5124;if(s===sb)return 5125;if(s===Xs)return 5126;if(s===ys)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===jCe)return 6406;if(s===Js)return 6407;if(s===Qn)return 6408;if(s===BCe)return 6409;if(s===VCe)return 6410;if(s===Vu)return 6402;if(s===Xf)return 34041;if(s===HCe)return 6403;if(s===zCe)return 36244;if(s===GCe)return 33319;if(s===$Ce)return 33320;if(s===WCe)return 36248;if(s===qCe)return 36249;if(s===oC||s===Wj||s===qj||s===aC)if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===oC)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Wj)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===qj)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===aC)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===lC||s===Yj||s===cC||s===Kj)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===lC)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Yj)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===cC)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Kj)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===Xj)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if((s===uC||s===dC)&&(a=e.get("WEBGL_compressed_texture_etc"),a!==null)){if(s===uC)return a.COMPRESSED_RGB8_ETC2;if(s===dC)return a.COMPRESSED_RGBA8_ETC2_EAC}if(s===Jj||s===YCe||s===KCe||s===XCe||s===JCe||s===ZCe||s===QCe||s===eMe||s===tMe||s===nMe||s===rMe||s===iMe||s===sMe||s===oMe||s===aMe||s===lMe||s===cMe||s===uMe||s===dMe||s===fMe||s===hMe||s===pMe||s===mMe||s===gMe||s===vMe||s===yMe||s===_Me||s===bMe)return a=e.get("WEBGL_compressed_texture_astc"),a!==null?s:null;if(s===Zj)return a=e.get("EXT_texture_compression_bptc"),a!==null?s:null;if(s===Kf)return i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:o}}class iV extends zr{constructor(e=[]){super();this.cameras=e}}iV.prototype.isArrayCamera=!0;class fl extends dn{constructor(){super();this.type="Group"}}fl.prototype.isGroup=!0;const yIe={type:"move"};class JC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new fl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new fl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ee),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new fl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ee),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let o=null,s=null,a=null;const l=this._targetRay,c=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred")if(l!==null&&(o=n.getPose(e.targetRaySpace,i),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(yIe))),u&&e.hand){a=!0;for(const _ of e.hand.values()){const S=n.getJointPose(_,i);if(u.joints[_.jointName]===void 0){const w=new fl;w.matrixAutoUpdate=!1,w.visible=!1,u.joints[_.jointName]=w,u.add(w)}const E=u.joints[_.jointName];S!==null&&(E.matrix.fromArray(S.transform.matrix),E.matrix.decompose(E.position,E.rotation,E.scale),E.jointRadius=S.radius),E.visible=S!==null}const d=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=d.position.distanceTo(f.position),v=.02,m=.005;u.inputState.pinching&&h>v+m?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=v-m&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));return l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),u!==null&&(u.visible=a!==null),this}}class ZC extends fr{constructor(e,n,i,o,s,a,l,c,u,d){if(d=d!==void 0?d:Vu,d!==Vu&&d!==Xf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===Vu&&(i=Ng),i===void 0&&d===Xf&&(i=Kf);super(null,o,s,a,l,c,d,i,u);this.image={width:e,height:n},this.magFilter=l!==void 0?l:_r,this.minFilter=c!==void 0?c:_r,this.flipY=!1,this.generateMipmaps=!1}}ZC.prototype.isDepthTexture=!0;class _Ie extends _s{constructor(e,n){super();const i=this;let o=null,s=1,a=null,l="local-floor";const c=e.extensions.has("WEBGL_multisampled_render_to_texture");let u=null,d=null,f=null,h=null,v=!1,m=null;const _=n.getContextAttributes();let S=null,E=null;const w=[],T=new Map,C=new zr;C.layers.enable(1),C.viewport=new In;const P=new zr;P.layers.enable(2),P.viewport=new In;const R=[C,P],A=new iV;A.layers.enable(1),A.layers.enable(2);let L=null,k=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let q=w[G];return q===void 0&&(q=new JC,w[G]=q),q.getTargetRaySpace()},this.getControllerGrip=function(G){let q=w[G];return q===void 0&&(q=new JC,w[G]=q),q.getGripSpace()},this.getHand=function(G){let q=w[G];return q===void 0&&(q=new JC,w[G]=q),q.getHandSpace()};function U(G){const q=T.get(G.inputSource);q&&q.dispatchEvent({type:G.type,data:G.inputSource})}function N(){T.forEach(function(G,q){G.disconnect(q)}),T.clear(),L=null,k=null,e.setRenderTarget(S),h=null,f=null,d=null,o=null,E=null,W.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){s=G,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){l=G,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d},this.getFrame=function(){return m},this.getSession=function(){return o},this.setSession=async function(G){if(o=G,o!==null){if(S=e.getRenderTarget(),o.addEventListener("select",U),o.addEventListener("selectstart",U),o.addEventListener("selectend",U),o.addEventListener("squeeze",U),o.addEventListener("squeezestart",U),o.addEventListener("squeezeend",U),o.addEventListener("end",N),o.addEventListener("inputsourceschange",I),_.xrCompatible!==!0&&await n.makeXRCompatible(),o.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const q={antialias:o.renderState.layers===void 0?_.antialias:!0,alpha:_.alpha,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(o,n,q),o.updateRenderState({baseLayer:h}),E=new Zi(h.framebufferWidth,h.framebufferHeight,{format:Qn,type:aa,encoding:e.outputEncoding})}else{v=_.antialias;let q=null,re=null,se=null;_.depth&&(se=_.stencil?35056:33190,q=_.stencil?Xf:Vu,re=_.stencil?Kf:Ng);const ge={colorFormat:_.alpha||v?32856:32849,depthFormat:se,scaleFactor:s};d=new XRWebGLBinding(o,n),f=d.createProjectionLayer(ge),o.updateRenderState({layers:[f]}),v?E=new bC(f.textureWidth,f.textureHeight,{format:Qn,type:aa,depthTexture:new ZC(f.textureWidth,f.textureHeight,re,void 0,void 0,void 0,void 0,void 0,void 0,q),stencilBuffer:_.stencil,ignoreDepth:f.ignoreDepthValues,useRenderToTexture:c,encoding:e.outputEncoding}):E=new Zi(f.textureWidth,f.textureHeight,{format:_.alpha?Qn:Js,type:aa,depthTexture:new ZC(f.textureWidth,f.textureHeight,re,void 0,void 0,void 0,void 0,void 0,void 0,q),stencilBuffer:_.stencil,ignoreDepth:f.ignoreDepthValues,encoding:e.outputEncoding})}this.setFoveation(1),a=await o.requestReferenceSpace(l),W.setContext(o),W.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function I(G){const q=o.inputSources;for(let re=0;re<w.length;re++)T.set(q[re],w[re]);for(let re=0;re<G.removed.length;re++){const se=G.removed[re],ge=T.get(se);ge&&(ge.dispatchEvent({type:"disconnected",data:se}),T.delete(se))}for(let re=0;re<G.added.length;re++){const se=G.added[re],ge=T.get(se);ge&&ge.dispatchEvent({type:"connected",data:se})}}const F=new ee,O=new ee;function V(G,q,re){F.setFromMatrixPosition(q.matrixWorld),O.setFromMatrixPosition(re.matrixWorld);const se=F.distanceTo(O),ge=q.projectionMatrix.elements,_e=re.projectionMatrix.elements,pe=ge[14]/(ge[10]-1),ae=ge[14]/(ge[10]+1),le=(ge[9]+1)/ge[5],ce=(ge[9]-1)/ge[5],me=(ge[8]-1)/ge[0],Ie=(_e[8]+1)/_e[0],fe=pe*me,Ee=pe*Ie,ye=se/(-me+Ie),Fe=ye*-me;q.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(Fe),G.translateZ(ye),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert();const De=pe+ye,nt=ae+ye,ft=fe-Fe,gt=Ee+(se-Fe),Ut=le*ae/nt*De,Q=ce*ae/nt*De;G.projectionMatrix.makePerspective(ft,gt,Ut,Q,De,nt)}function z(G,q){q===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(q.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(o===null)return;A.near=P.near=C.near=G.near,A.far=P.far=C.far=G.far,(L!==A.near||k!==A.far)&&(o.updateRenderState({depthNear:A.near,depthFar:A.far}),L=A.near,k=A.far);const q=G.parent,re=A.cameras;z(A,q);for(let ge=0;ge<re.length;ge++)z(re[ge],q);A.matrixWorld.decompose(A.position,A.quaternion,A.scale),G.position.copy(A.position),G.quaternion.copy(A.quaternion),G.scale.copy(A.scale),G.matrix.copy(A.matrix),G.matrixWorld.copy(A.matrixWorld);const se=G.children;for(let ge=0,_e=se.length;ge<_e;ge++)se[ge].updateMatrixWorld(!0);re.length===2?V(A,C,P):A.projectionMatrix.copy(C.projectionMatrix)},this.getCamera=function(){return A},this.getFoveation=function(){if(f!==null)return f.fixedFoveation;if(h!==null)return h.fixedFoveation},this.setFoveation=function(G){f!==null&&(f.fixedFoveation=G),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=G)};let B=null;function H(G,q){if(u=q.getViewerPose(a),m=q,u!==null){const se=u.views;h!==null&&(e.setRenderTargetFramebuffer(E,h.framebuffer),e.setRenderTarget(E));let ge=!1;se.length!==A.cameras.length&&(A.cameras.length=0,ge=!0);for(let _e=0;_e<se.length;_e++){const pe=se[_e];let ae=null;if(h!==null)ae=h.getViewport(pe);else{const ce=d.getViewSubImage(f,pe);ae=ce.viewport,_e===0&&(e.setRenderTargetTextures(E,ce.colorTexture,f.ignoreDepthValues?void 0:ce.depthStencilTexture),e.setRenderTarget(E))}const le=R[_e];le.matrix.fromArray(pe.transform.matrix),le.projectionMatrix.fromArray(pe.projectionMatrix),le.viewport.set(ae.x,ae.y,ae.width,ae.height),_e===0&&A.matrix.copy(le.matrix),ge===!0&&A.cameras.push(le)}}const re=o.inputSources;for(let se=0;se<w.length;se++){const ge=w[se],_e=re[se];ge.update(_e,q,a)}B&&B(G,q),m=null}const W=new EB;W.setAnimationLoop(H),this.setAnimationLoop=function(G){B=G},this.dispose=function(){}}}function bIe(t){function e(E,w){E.fogColor.value.copy(w.color),w.isFog?(E.fogNear.value=w.near,E.fogFar.value=w.far):w.isFogExp2&&(E.fogDensity.value=w.density)}function n(E,w,T,C,P){w.isMeshBasicMaterial?i(E,w):w.isMeshLambertMaterial?(i(E,w),c(E,w)):w.isMeshToonMaterial?(i(E,w),d(E,w)):w.isMeshPhongMaterial?(i(E,w),u(E,w)):w.isMeshStandardMaterial?(i(E,w),w.isMeshPhysicalMaterial?h(E,w,P):f(E,w)):w.isMeshMatcapMaterial?(i(E,w),v(E,w)):w.isMeshDepthMaterial?(i(E,w),m(E,w)):w.isMeshDistanceMaterial?(i(E,w),_(E,w)):w.isMeshNormalMaterial?(i(E,w),S(E,w)):w.isLineBasicMaterial?(o(E,w),w.isLineDashedMaterial&&s(E,w)):w.isPointsMaterial?a(E,w,T,C):w.isSpriteMaterial?l(E,w):w.isShadowMaterial?(E.color.value.copy(w.color),E.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function i(E,w){E.opacity.value=w.opacity,w.color&&E.diffuse.value.copy(w.color),w.emissive&&E.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(E.map.value=w.map),w.alphaMap&&(E.alphaMap.value=w.alphaMap),w.specularMap&&(E.specularMap.value=w.specularMap),w.alphaTest>0&&(E.alphaTest.value=w.alphaTest);const T=t.get(w).envMap;T&&(E.envMap.value=T,E.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=w.reflectivity,E.ior.value=w.ior,E.refractionRatio.value=w.refractionRatio),w.lightMap&&(E.lightMap.value=w.lightMap,E.lightMapIntensity.value=w.lightMapIntensity),w.aoMap&&(E.aoMap.value=w.aoMap,E.aoMapIntensity.value=w.aoMapIntensity);let C;w.map?C=w.map:w.specularMap?C=w.specularMap:w.displacementMap?C=w.displacementMap:w.normalMap?C=w.normalMap:w.bumpMap?C=w.bumpMap:w.roughnessMap?C=w.roughnessMap:w.metalnessMap?C=w.metalnessMap:w.alphaMap?C=w.alphaMap:w.emissiveMap?C=w.emissiveMap:w.clearcoatMap?C=w.clearcoatMap:w.clearcoatNormalMap?C=w.clearcoatNormalMap:w.clearcoatRoughnessMap?C=w.clearcoatRoughnessMap:w.specularIntensityMap?C=w.specularIntensityMap:w.specularColorMap?C=w.specularColorMap:w.transmissionMap?C=w.transmissionMap:w.thicknessMap?C=w.thicknessMap:w.sheenColorMap?C=w.sheenColorMap:w.sheenRoughnessMap&&(C=w.sheenRoughnessMap),C!==void 0&&(C.isWebGLRenderTarget&&(C=C.texture),C.matrixAutoUpdate===!0&&C.updateMatrix(),E.uvTransform.value.copy(C.matrix));let P;w.aoMap?P=w.aoMap:w.lightMap&&(P=w.lightMap),P!==void 0&&(P.isWebGLRenderTarget&&(P=P.texture),P.matrixAutoUpdate===!0&&P.updateMatrix(),E.uv2Transform.value.copy(P.matrix))}function o(E,w){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity}function s(E,w){E.dashSize.value=w.dashSize,E.totalSize.value=w.dashSize+w.gapSize,E.scale.value=w.scale}function a(E,w,T,C){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity,E.size.value=w.size*T,E.scale.value=C*.5,w.map&&(E.map.value=w.map),w.alphaMap&&(E.alphaMap.value=w.alphaMap),w.alphaTest>0&&(E.alphaTest.value=w.alphaTest);let P;w.map?P=w.map:w.alphaMap&&(P=w.alphaMap),P!==void 0&&(P.matrixAutoUpdate===!0&&P.updateMatrix(),E.uvTransform.value.copy(P.matrix))}function l(E,w){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity,E.rotation.value=w.rotation,w.map&&(E.map.value=w.map),w.alphaMap&&(E.alphaMap.value=w.alphaMap),w.alphaTest>0&&(E.alphaTest.value=w.alphaTest);let T;w.map?T=w.map:w.alphaMap&&(T=w.alphaMap),T!==void 0&&(T.matrixAutoUpdate===!0&&T.updateMatrix(),E.uvTransform.value.copy(T.matrix))}function c(E,w){w.emissiveMap&&(E.emissiveMap.value=w.emissiveMap)}function u(E,w){E.specular.value.copy(w.specular),E.shininess.value=Math.max(w.shininess,1e-4),w.emissiveMap&&(E.emissiveMap.value=w.emissiveMap),w.bumpMap&&(E.bumpMap.value=w.bumpMap,E.bumpScale.value=w.bumpScale,w.side===dr&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,E.normalScale.value.copy(w.normalScale),w.side===dr&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias)}function d(E,w){w.gradientMap&&(E.gradientMap.value=w.gradientMap),w.emissiveMap&&(E.emissiveMap.value=w.emissiveMap),w.bumpMap&&(E.bumpMap.value=w.bumpMap,E.bumpScale.value=w.bumpScale,w.side===dr&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,E.normalScale.value.copy(w.normalScale),w.side===dr&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias)}function f(E,w){E.roughness.value=w.roughness,E.metalness.value=w.metalness,w.roughnessMap&&(E.roughnessMap.value=w.roughnessMap),w.metalnessMap&&(E.metalnessMap.value=w.metalnessMap),w.emissiveMap&&(E.emissiveMap.value=w.emissiveMap),w.bumpMap&&(E.bumpMap.value=w.bumpMap,E.bumpScale.value=w.bumpScale,w.side===dr&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,E.normalScale.value.copy(w.normalScale),w.side===dr&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias),t.get(w).envMap&&(E.envMapIntensity.value=w.envMapIntensity)}function h(E,w,T){f(E,w),E.ior.value=w.ior,w.sheen>0&&(E.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),E.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(E.sheenColorMap.value=w.sheenColorMap),w.sheenRoughnessMap&&(E.sheenRoughnessMap.value=w.sheenRoughnessMap)),w.clearcoat>0&&(E.clearcoat.value=w.clearcoat,E.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(E.clearcoatMap.value=w.clearcoatMap),w.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap),w.clearcoatNormalMap&&(E.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),E.clearcoatNormalMap.value=w.clearcoatNormalMap,w.side===dr&&E.clearcoatNormalScale.value.negate())),w.transmission>0&&(E.transmission.value=w.transmission,E.transmissionSamplerMap.value=T.texture,E.transmissionSamplerSize.value.set(T.width,T.height),w.transmissionMap&&(E.transmissionMap.value=w.transmissionMap),E.thickness.value=w.thickness,w.thicknessMap&&(E.thicknessMap.value=w.thicknessMap),E.attenuationDistance.value=w.attenuationDistance,E.attenuationColor.value.copy(w.attenuationColor)),E.specularIntensity.value=w.specularIntensity,E.specularColor.value.copy(w.specularColor),w.specularIntensityMap&&(E.specularIntensityMap.value=w.specularIntensityMap),w.specularColorMap&&(E.specularColorMap.value=w.specularColorMap)}function v(E,w){w.matcap&&(E.matcap.value=w.matcap),w.bumpMap&&(E.bumpMap.value=w.bumpMap,E.bumpScale.value=w.bumpScale,w.side===dr&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,E.normalScale.value.copy(w.normalScale),w.side===dr&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias)}function m(E,w){w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias)}function _(E,w){w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias),E.referencePosition.value.copy(w.referencePosition),E.nearDistance.value=w.nearDistance,E.farDistance.value=w.farDistance}function S(E,w){w.bumpMap&&(E.bumpMap.value=w.bumpMap,E.bumpScale.value=w.bumpScale,w.side===dr&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,E.normalScale.value.copy(w.normalScale),w.side===dr&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:n}}function EIe(){const t=cb("canvas");return t.style.display="block",t}function wn(t={}){const e=t.canvas!==void 0?t.canvas:EIe(),n=t.context!==void 0?t.context:null,i=t.alpha!==void 0?t.alpha:!1,o=t.depth!==void 0?t.depth:!0,s=t.stencil!==void 0?t.stencil:!0,a=t.antialias!==void 0?t.antialias:!1,l=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,c=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,u=t.powerPreference!==void 0?t.powerPreference:"default",d=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let f=null,h=null;const v=[],m=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Or,this.physicallyCorrectLights=!1,this.toneMapping=nl,this.toneMappingExposure=1;const _=this;let S=!1,E=0,w=0,T=null,C=-1,P=null;const R=new In,A=new In;let L=null,k=e.width,U=e.height,N=1,I=null,F=null;const O=new In(0,0,k,U),V=new In(0,0,k,U);let z=!1;const B=[],H=new Rb;let W=!1,G=!1,q=null;const re=new ut,se=new ee,ge={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function _e(){return T===null?N:1}let pe=n;function ae(Z,ve){for(let Ce=0;Ce<Z.length;Ce++){const xe=Z[Ce],Oe=e.getContext(xe,ve);if(Oe!==null)return Oe}return null}try{const Z={alpha:i,depth:o,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${tC}`),e.addEventListener("webglcontextlost",bt,!1),e.addEventListener("webglcontextrestored",lt,!1),pe===null){const ve=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&ve.shift(),pe=ae(ve,Z),pe===null)throw ae(ve)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}pe.getShaderPrecisionFormat===void 0&&(pe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z}let le,ce,me,Ie,fe,Ee,ye,Fe,De,nt,ft,gt,Ut,Q,J,Ae,Ne,We,Le,Ke,rt,Be,ie;function He(){le=new VRe(pe),ce=new NRe(pe,le,t),le.init(ce),Be=new vIe(pe,le,ce),me=new mIe(pe,le,ce),B[0]=1029,Ie=new GRe(pe),fe=new iIe,Ee=new gIe(pe,le,me,fe,ce,Be,Ie),ye=new DRe(_),Fe=new BRe(_),De=new iAe(pe,ce),ie=new IRe(pe,le,De,ce),nt=new HRe(pe,De,Ie,ie),ft=new YRe(pe,nt,De,Ie),Le=new qRe(pe,ce,Ee),Ae=new kRe(fe),gt=new rIe(_,ye,Fe,le,ce,ie,Ae),Ut=new bIe(fe),Q=new oIe,J=new fIe(le,ce),We=new LRe(_,ye,me,ft,l),Ne=new rV(_,ft,ce),Ke=new ORe(pe,le,Ie,ce),rt=new zRe(pe,le,Ie,ce),Ie.programs=gt.programs,_.capabilities=ce,_.extensions=le,_.properties=fe,_.renderLists=Q,_.shadowMap=Ne,_.state=me,_.info=Ie}He();const Ve=new _Ie(_,pe);this.xr=Ve,this.getContext=function(){return pe},this.getContextAttributes=function(){return pe.getContextAttributes()},this.forceContextLoss=function(){const Z=le.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){const Z=le.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function(Z){Z!==void 0&&(N=Z,this.setSize(k,U,!1))},this.getSize=function(Z){return Z.set(k,U)},this.setSize=function(Z,ve,Ce){if(Ve.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}k=Z,U=ve,e.width=Math.floor(Z*N),e.height=Math.floor(ve*N),Ce!==!1&&(e.style.width=Z+"px",e.style.height=ve+"px"),this.setViewport(0,0,Z,ve)},this.getDrawingBufferSize=function(Z){return Z.set(k*N,U*N).floor()},this.setDrawingBufferSize=function(Z,ve,Ce){k=Z,U=ve,N=Ce,e.width=Math.floor(Z*Ce),e.height=Math.floor(ve*Ce),this.setViewport(0,0,Z,ve)},this.getCurrentViewport=function(Z){return Z.copy(R)},this.getViewport=function(Z){return Z.copy(O)},this.setViewport=function(Z,ve,Ce,xe){Z.isVector4?O.set(Z.x,Z.y,Z.z,Z.w):O.set(Z,ve,Ce,xe),me.viewport(R.copy(O).multiplyScalar(N).floor())},this.getScissor=function(Z){return Z.copy(V)},this.setScissor=function(Z,ve,Ce,xe){Z.isVector4?V.set(Z.x,Z.y,Z.z,Z.w):V.set(Z,ve,Ce,xe),me.scissor(A.copy(V).multiplyScalar(N).floor())},this.getScissorTest=function(){return z},this.setScissorTest=function(Z){me.setScissorTest(z=Z)},this.setOpaqueSort=function(Z){I=Z},this.setTransparentSort=function(Z){F=Z},this.getClearColor=function(Z){return Z.copy(We.getClearColor())},this.setClearColor=function(){We.setClearColor.apply(We,arguments)},this.getClearAlpha=function(){return We.getClearAlpha()},this.setClearAlpha=function(){We.setClearAlpha.apply(We,arguments)},this.clear=function(Z,ve,Ce){let xe=0;(Z===void 0||Z)&&(xe|=16384),(ve===void 0||ve)&&(xe|=256),(Ce===void 0||Ce)&&(xe|=1024),pe.clear(xe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",bt,!1),e.removeEventListener("webglcontextrestored",lt,!1),Q.dispose(),J.dispose(),fe.dispose(),ye.dispose(),Fe.dispose(),ft.dispose(),ie.dispose(),gt.dispose(),Ve.dispose(),Ve.removeEventListener("sessionstart",Ss),Ve.removeEventListener("sessionend",es),q&&(q.dispose(),q=null),Oo.stop()};function bt(Z){Z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function lt(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const Z=Ie.autoReset,ve=Ne.enabled,Ce=Ne.autoUpdate,xe=Ne.needsUpdate,Oe=Ne.type;He(),Ie.autoReset=Z,Ne.enabled=ve,Ne.autoUpdate=Ce,Ne.needsUpdate=xe,Ne.type=Oe}function Dt(Z){const ve=Z.target;ve.removeEventListener("dispose",Dt),Xe(ve)}function Xe(Z){It(Z),fe.remove(Z)}function It(Z){const ve=fe.get(Z).programs;ve!==void 0&&(ve.forEach(function(Ce){gt.releaseProgram(Ce)}),Z.isShaderMaterial&&gt.releaseShaderCache(Z))}this.renderBufferDirect=function(Z,ve,Ce,xe,Oe,Pt){ve===null&&(ve=ge);const Ot=Oe.isMesh&&Oe.matrixWorld.determinant()<0,Vt=YE(Z,ve,Ce,xe,Oe);me.setMaterial(xe,Ot);let Rt=Ce.index;const Qt=Ce.attributes.position;if(Rt===null){if(Qt===void 0||Qt.count===0)return}else if(Rt.count===0)return;let Ht=1;xe.wireframe===!0&&(Rt=nt.getWireframeAttribute(Ce),Ht=2),ie.setup(Oe,xe,Vt,Ce,Rt);let en,Kn=Ke;Rt!==null&&(en=De.get(Rt),Kn=rt,Kn.setIndex(en));const xa=Rt!==null?Rt.count:Qt.count,Pl=Ce.drawRange.start*Ht,ln=Ce.drawRange.count*Ht,Ei=Pt!==null?Pt.start*Ht:0,hr=Pt!==null?Pt.count*Ht:1/0,wi=Math.max(Pl,Ei),pd=Math.min(xa,Pl+ln,Ei+hr)-1,Ts=Math.max(0,pd-wi+1);if(Ts!==0){if(Oe.isMesh)xe.wireframe===!0?(me.setLineWidth(xe.wireframeLinewidth*_e()),Kn.setMode(1)):Kn.setMode(4);else if(Oe.isLine){let oo=xe.linewidth;oo===void 0&&(oo=1),me.setLineWidth(oo*_e()),Oe.isLineSegments?Kn.setMode(1):Oe.isLineLoop?Kn.setMode(2):Kn.setMode(3)}else Oe.isPoints?Kn.setMode(0):Oe.isSprite&&Kn.setMode(4);if(Oe.isInstancedMesh)Kn.renderInstances(wi,Ts,Oe.count);else if(Ce.isInstancedBufferGeometry){const oo=Math.min(Ce.instanceCount,Ce._maxInstanceCount);Kn.renderInstances(wi,Ts,oo)}else Kn.render(wi,Ts)}},this.compile=function(Z,ve){h=J.get(Z),h.init(),m.push(h),Z.traverseVisible(function(Ce){Ce.isLight&&Ce.layers.test(ve.layers)&&(h.pushLight(Ce),Ce.castShadow&&h.pushShadow(Ce))}),h.setupLights(_.physicallyCorrectLights),Z.traverse(function(Ce){const xe=Ce.material;if(xe)if(Array.isArray(xe))for(let Oe=0;Oe<xe.length;Oe++){const Pt=xe[Oe];tp(Pt,Z,Ce)}else tp(xe,Z,Ce)}),m.pop(),h=null};let Sn=null;function vn(Z){Sn&&Sn(Z)}function Ss(){Oo.stop()}function es(){Oo.start()}const Oo=new EB;Oo.setAnimationLoop(vn),typeof window!="undefined"&&Oo.setContext(window),this.setAnimationLoop=function(Z){Sn=Z,Ve.setAnimationLoop(Z),Z===null?Oo.stop():Oo.start()},Ve.addEventListener("sessionstart",Ss),Ve.addEventListener("sessionend",es),this.render=function(Z,ve){if(ve!==void 0&&ve.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;Z.autoUpdate===!0&&Z.updateMatrixWorld(),ve.parent===null&&ve.updateMatrixWorld(),Ve.enabled===!0&&Ve.isPresenting===!0&&(Ve.cameraAutoUpdate===!0&&Ve.updateCamera(ve),ve=Ve.getCamera()),Z.isScene===!0&&Z.onBeforeRender(_,Z,ve,T),h=J.get(Z,m.length),h.init(),m.push(h),re.multiplyMatrices(ve.projectionMatrix,ve.matrixWorldInverse),H.setFromProjectionMatrix(re),G=this.localClippingEnabled,W=Ae.init(this.clippingPlanes,G,ve),f=Q.get(Z,v.length),f.init(),v.push(f),Z0(Z,ve,0,_.sortObjects),f.finish(),_.sortObjects===!0&&f.sort(I,F),W===!0&&Ae.beginShadows();const Ce=h.state.shadowsArray;if(Ne.render(Ce,Z,ve),W===!0&&Ae.endShadows(),this.info.autoReset===!0&&this.info.reset(),We.render(f,Z),h.setupLights(_.physicallyCorrectLights),ve.isArrayCamera){const xe=ve.cameras;for(let Oe=0,Pt=xe.length;Oe<Pt;Oe++){const Ot=xe[Oe];Q0(f,Z,Ot,Ot.viewport)}}else Q0(f,Z,ve);T!==null&&(Ee.updateMultisampleRenderTarget(T),Ee.updateRenderTargetMipmap(T)),Z.isScene===!0&&Z.onAfterRender(_,Z,ve),me.buffers.depth.setTest(!0),me.buffers.depth.setMask(!0),me.buffers.color.setMask(!0),me.setPolygonOffset(!1),ie.resetDefaultState(),C=-1,P=null,m.pop(),m.length>0?h=m[m.length-1]:h=null,v.pop(),v.length>0?f=v[v.length-1]:f=null};function Z0(Z,ve,Ce,xe){if(Z.visible===!1)return;if(Z.layers.test(ve.layers)){if(Z.isGroup)Ce=Z.renderOrder;else if(Z.isLOD)Z.autoUpdate===!0&&Z.update(ve);else if(Z.isLight)h.pushLight(Z),Z.castShadow&&h.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||H.intersectsSprite(Z)){xe&&se.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(re);const Ot=ft.update(Z),Vt=Z.material;Vt.visible&&f.push(Z,Ot,Vt,Ce,se.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(Z.isSkinnedMesh&&Z.skeleton.frame!==Ie.render.frame&&(Z.skeleton.update(),Z.skeleton.frame=Ie.render.frame),!Z.frustumCulled||H.intersectsObject(Z))){xe&&se.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(re);const Ot=ft.update(Z),Vt=Z.material;if(Array.isArray(Vt)){const Rt=Ot.groups;for(let Qt=0,Ht=Rt.length;Qt<Ht;Qt++){const en=Rt[Qt],Kn=Vt[en.materialIndex];Kn&&Kn.visible&&f.push(Z,Ot,Kn,Ce,se.z,en)}}else Vt.visible&&f.push(Z,Ot,Vt,Ce,se.z,null)}}const Pt=Z.children;for(let Ot=0,Vt=Pt.length;Ot<Vt;Ot++)Z0(Pt[Ot],ve,Ce,xe)}function Q0(Z,ve,Ce,xe){const Oe=Z.opaque,Pt=Z.transmissive,Ot=Z.transparent;h.setupLightsView(Ce),Pt.length>0&&qE(Oe,ve,Ce),xe&&me.viewport(R.copy(xe)),Oe.length>0&&hd(Oe,ve,Ce),Pt.length>0&&hd(Pt,ve,Ce),Ot.length>0&&hd(Ot,ve,Ce)}function qE(Z,ve,Ce){if(q===null){const Ot=a===!0&&ce.isWebGL2===!0?bC:Zi;q=new Ot(1024,1024,{generateMipmaps:!0,type:Be.convert(ys)!==null?ys:aa,minFilter:il,magFilter:_r,wrapS:Zr,wrapT:Zr,useRenderToTexture:le.has("WEBGL_multisampled_render_to_texture")})}const xe=_.getRenderTarget();_.setRenderTarget(q),_.clear();const Oe=_.toneMapping;_.toneMapping=nl,hd(Z,ve,Ce),_.toneMapping=Oe,Ee.updateMultisampleRenderTarget(q),Ee.updateRenderTargetMipmap(q),_.setRenderTarget(xe)}function hd(Z,ve,Ce){const xe=ve.isScene===!0?ve.overrideMaterial:null;for(let Oe=0,Pt=Z.length;Oe<Pt;Oe++){const Ot=Z[Oe],Vt=Ot.object,Rt=Ot.geometry,Qt=xe===null?Ot.material:xe,Ht=Ot.group;Vt.layers.test(Ce.layers)&&ev(Vt,ve,Ce,Rt,Qt,Ht)}}function ev(Z,ve,Ce,xe,Oe,Pt){Z.onBeforeRender(_,ve,Ce,xe,Oe,Pt),Z.modelViewMatrix.multiplyMatrices(Ce.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),Oe.onBeforeRender(_,ve,Ce,xe,Z,Pt),Oe.transparent===!0&&Oe.side===el?(Oe.side=dr,Oe.needsUpdate=!0,_.renderBufferDirect(Ce,ve,xe,Oe,Z,Pt),Oe.side=Qa,Oe.needsUpdate=!0,_.renderBufferDirect(Ce,ve,xe,Oe,Z,Pt),Oe.side=el):_.renderBufferDirect(Ce,ve,xe,Oe,Z,Pt),Z.onAfterRender(_,ve,Ce,xe,Oe,Pt)}function tp(Z,ve,Ce){ve.isScene!==!0&&(ve=ge);const xe=fe.get(Z),Oe=h.state.lights,Pt=h.state.shadowsArray,Ot=Oe.state.version,Vt=gt.getParameters(Z,Oe.state,Pt,ve,Ce),Rt=gt.getProgramCacheKey(Vt);let Qt=xe.programs;xe.environment=Z.isMeshStandardMaterial?ve.environment:null,xe.fog=ve.fog,xe.envMap=(Z.isMeshStandardMaterial?Fe:ye).get(Z.envMap||xe.environment),Qt===void 0&&(Z.addEventListener("dispose",Dt),Qt=new Map,xe.programs=Qt);let Ht=Qt.get(Rt);if(Ht!==void 0){if(xe.currentProgram===Ht&&xe.lightsStateVersion===Ot)return tv(Z,Vt),Ht}else Vt.uniforms=gt.getUniforms(Z),Z.onBuild(Ce,Vt,_),Z.onBeforeCompile(Vt,_),Ht=gt.acquireProgram(Vt,Rt),Qt.set(Rt,Ht),xe.uniforms=Vt.uniforms;const en=xe.uniforms;(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||Z.clipping===!0)&&(en.clippingPlanes=Ae.uniform),tv(Z,Vt),xe.needsLights=KE(Z),xe.lightsStateVersion=Ot,xe.needsLights&&(en.ambientLightColor.value=Oe.state.ambient,en.lightProbe.value=Oe.state.probe,en.directionalLights.value=Oe.state.directional,en.directionalLightShadows.value=Oe.state.directionalShadow,en.spotLights.value=Oe.state.spot,en.spotLightShadows.value=Oe.state.spotShadow,en.rectAreaLights.value=Oe.state.rectArea,en.ltc_1.value=Oe.state.rectAreaLTC1,en.ltc_2.value=Oe.state.rectAreaLTC2,en.pointLights.value=Oe.state.point,en.pointLightShadows.value=Oe.state.pointShadow,en.hemisphereLights.value=Oe.state.hemi,en.directionalShadowMap.value=Oe.state.directionalShadowMap,en.directionalShadowMatrix.value=Oe.state.directionalShadowMatrix,en.spotShadowMap.value=Oe.state.spotShadowMap,en.spotShadowMatrix.value=Oe.state.spotShadowMatrix,en.pointShadowMap.value=Oe.state.pointShadowMap,en.pointShadowMatrix.value=Oe.state.pointShadowMatrix);const Kn=Ht.getUniforms(),xa=Oc.seqWithValue(Kn.seq,en);return xe.currentProgram=Ht,xe.uniformsList=xa,Ht}function tv(Z,ve){const Ce=fe.get(Z);Ce.outputEncoding=ve.outputEncoding,Ce.instancing=ve.instancing,Ce.skinning=ve.skinning,Ce.morphTargets=ve.morphTargets,Ce.morphNormals=ve.morphNormals,Ce.morphTargetsCount=ve.morphTargetsCount,Ce.numClippingPlanes=ve.numClippingPlanes,Ce.numIntersection=ve.numClipIntersection,Ce.vertexAlphas=ve.vertexAlphas,Ce.vertexTangents=ve.vertexTangents,Ce.toneMapping=ve.toneMapping}function YE(Z,ve,Ce,xe,Oe){ve.isScene!==!0&&(ve=ge),Ee.resetTextureUnits();const Pt=ve.fog,Ot=xe.isMeshStandardMaterial?ve.environment:null,Vt=T===null?_.outputEncoding:T.texture.encoding,Rt=(xe.isMeshStandardMaterial?Fe:ye).get(xe.envMap||Ot),Qt=xe.vertexColors===!0&&!!Ce.attributes.color&&Ce.attributes.color.itemSize===4,Ht=!!xe.normalMap&&!!Ce.attributes.tangent,en=!!Ce.morphAttributes.position,Kn=!!Ce.morphAttributes.normal,xa=Ce.morphAttributes.position?Ce.morphAttributes.position.length:0,Pl=xe.toneMapped?_.toneMapping:nl,ln=fe.get(xe),Ei=h.state.lights;if(W===!0&&(G===!0||Z!==P)){const Fi=Z===P&&xe.id===C;Ae.setState(xe,Z,Fi)}let hr=!1;xe.version===ln.__version?(ln.needsLights&&ln.lightsStateVersion!==Ei.state.version||ln.outputEncoding!==Vt||Oe.isInstancedMesh&&ln.instancing===!1||!Oe.isInstancedMesh&&ln.instancing===!0||Oe.isSkinnedMesh&&ln.skinning===!1||!Oe.isSkinnedMesh&&ln.skinning===!0||ln.envMap!==Rt||xe.fog&&ln.fog!==Pt||ln.numClippingPlanes!==void 0&&(ln.numClippingPlanes!==Ae.numPlanes||ln.numIntersection!==Ae.numIntersection)||ln.vertexAlphas!==Qt||ln.vertexTangents!==Ht||ln.morphTargets!==en||ln.morphNormals!==Kn||ln.toneMapping!==Pl||ce.isWebGL2===!0&&ln.morphTargetsCount!==xa)&&(hr=!0):(hr=!0,ln.__version=xe.version);let wi=ln.currentProgram;hr===!0&&(wi=tp(xe,ve,Oe));let pd=!1,Ts=!1,oo=!1;const Mr=wi.getUniforms(),Rl=ln.uniforms;if(me.useProgram(wi.program)&&(pd=!0,Ts=!0,oo=!0),xe.id!==C&&(C=xe.id,Ts=!0),pd||P!==Z){if(Mr.setValue(pe,"projectionMatrix",Z.projectionMatrix),ce.logarithmicDepthBuffer&&Mr.setValue(pe,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),P!==Z&&(P=Z,Ts=!0,oo=!0),xe.isShaderMaterial||xe.isMeshPhongMaterial||xe.isMeshToonMaterial||xe.isMeshStandardMaterial||xe.envMap){const Fi=Mr.map.cameraPosition;Fi!==void 0&&Fi.setValue(pe,se.setFromMatrixPosition(Z.matrixWorld))}(xe.isMeshPhongMaterial||xe.isMeshToonMaterial||xe.isMeshLambertMaterial||xe.isMeshBasicMaterial||xe.isMeshStandardMaterial||xe.isShaderMaterial)&&Mr.setValue(pe,"isOrthographic",Z.isOrthographicCamera===!0),(xe.isMeshPhongMaterial||xe.isMeshToonMaterial||xe.isMeshLambertMaterial||xe.isMeshBasicMaterial||xe.isMeshStandardMaterial||xe.isShaderMaterial||xe.isShadowMaterial||Oe.isSkinnedMesh)&&Mr.setValue(pe,"viewMatrix",Z.matrixWorldInverse)}if(Oe.isSkinnedMesh){Mr.setOptional(pe,Oe,"bindMatrix"),Mr.setOptional(pe,Oe,"bindMatrixInverse");const Fi=Oe.skeleton;Fi&&(ce.floatVertexTextures?(Fi.boneTexture===null&&Fi.computeBoneTexture(),Mr.setValue(pe,"boneTexture",Fi.boneTexture,Ee),Mr.setValue(pe,"boneTextureSize",Fi.boneTextureSize)):Mr.setOptional(pe,Fi,"boneMatrices"))}return!!Ce&&(Ce.morphAttributes.position!==void 0||Ce.morphAttributes.normal!==void 0)&&Le.update(Oe,Ce,xe,wi),(Ts||ln.receiveShadow!==Oe.receiveShadow)&&(ln.receiveShadow=Oe.receiveShadow,Mr.setValue(pe,"receiveShadow",Oe.receiveShadow)),Ts&&(Mr.setValue(pe,"toneMappingExposure",_.toneMappingExposure),ln.needsLights&&np(Rl,oo),Pt&&xe.fog&&Ut.refreshFogUniforms(Rl,Pt),Ut.refreshMaterialUniforms(Rl,xe,N,U,q),Oc.upload(pe,ln.uniformsList,Rl,Ee)),xe.isShaderMaterial&&xe.uniformsNeedUpdate===!0&&(Oc.upload(pe,ln.uniformsList,Rl,Ee),xe.uniformsNeedUpdate=!1),xe.isSpriteMaterial&&Mr.setValue(pe,"center",Oe.center),Mr.setValue(pe,"modelViewMatrix",Oe.modelViewMatrix),Mr.setValue(pe,"normalMatrix",Oe.normalMatrix),Mr.setValue(pe,"modelMatrix",Oe.matrixWorld),wi}function np(Z,ve){Z.ambientLightColor.needsUpdate=ve,Z.lightProbe.needsUpdate=ve,Z.directionalLights.needsUpdate=ve,Z.directionalLightShadows.needsUpdate=ve,Z.pointLights.needsUpdate=ve,Z.pointLightShadows.needsUpdate=ve,Z.spotLights.needsUpdate=ve,Z.spotLightShadows.needsUpdate=ve,Z.rectAreaLights.needsUpdate=ve,Z.hemisphereLights.needsUpdate=ve}function KE(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&Z.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(Z,ve,Ce){fe.get(Z.texture).__webglTexture=ve,fe.get(Z.depthTexture).__webglTexture=Ce;const xe=fe.get(Z);xe.__hasExternalTextures=!0,xe.__hasExternalTextures&&(xe.__autoAllocateDepthBuffer=Ce===void 0,xe.__autoAllocateDepthBuffer||Z.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),Z.useRenderToTexture=!1,Z.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(Z,ve){const Ce=fe.get(Z);Ce.__webglFramebuffer=ve,Ce.__useDefaultFramebuffer=ve===void 0},this.setRenderTarget=function(Z,ve=0,Ce=0){T=Z,E=ve,w=Ce;let xe=!0;if(Z){const Rt=fe.get(Z);Rt.__useDefaultFramebuffer!==void 0?(me.bindFramebuffer(36160,null),xe=!1):Rt.__webglFramebuffer===void 0?Ee.setupRenderTarget(Z):Rt.__hasExternalTextures&&Ee.rebindTextures(Z,fe.get(Z.texture).__webglTexture,fe.get(Z.depthTexture).__webglTexture)}let Oe=null,Pt=!1,Ot=!1;if(Z){const Rt=Z.texture;(Rt.isDataTexture3D||Rt.isDataTexture2DArray)&&(Ot=!0);const Qt=fe.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(Oe=Qt[ve],Pt=!0):Z.useRenderbuffer?Oe=fe.get(Z).__webglMultisampledFramebuffer:Oe=Qt,R.copy(Z.viewport),A.copy(Z.scissor),L=Z.scissorTest}else R.copy(O).multiplyScalar(N).floor(),A.copy(V).multiplyScalar(N).floor(),L=z;if(me.bindFramebuffer(36160,Oe)&&ce.drawBuffers&&xe){let Rt=!1;if(Z)if(Z.isWebGLMultipleRenderTargets){const Qt=Z.texture;if(B.length!==Qt.length||B[0]!==36064){for(let Ht=0,en=Qt.length;Ht<en;Ht++)B[Ht]=36064+Ht;B.length=Qt.length,Rt=!0}}else(B.length!==1||B[0]!==36064)&&(B[0]=36064,B.length=1,Rt=!0);else(B.length!==1||B[0]!==1029)&&(B[0]=1029,B.length=1,Rt=!0);Rt&&(ce.isWebGL2?pe.drawBuffers(B):le.get("WEBGL_draw_buffers").drawBuffersWEBGL(B))}if(me.viewport(R),me.scissor(A),me.setScissorTest(L),Pt){const Rt=fe.get(Z.texture);pe.framebufferTexture2D(36160,36064,34069+ve,Rt.__webglTexture,Ce)}else if(Ot){const Rt=fe.get(Z.texture),Qt=ve||0;pe.framebufferTextureLayer(36160,36064,Rt.__webglTexture,Ce||0,Qt)}C=-1},this.readRenderTargetPixels=function(Z,ve,Ce,xe,Oe,Pt,Ot){if(!(Z&&Z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Vt=fe.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&Ot!==void 0&&(Vt=Vt[Ot]),Vt){me.bindFramebuffer(36160,Vt);try{const Rt=Z.texture,Qt=Rt.format,Ht=Rt.type;if(Qt!==Qn&&Be.convert(Qt)!==pe.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const en=Ht===ys&&(le.has("EXT_color_buffer_half_float")||ce.isWebGL2&&le.has("EXT_color_buffer_float"));if(Ht!==aa&&Be.convert(Ht)!==pe.getParameter(35738)&&!(Ht===Xs&&(ce.isWebGL2||le.has("OES_texture_float")||le.has("WEBGL_color_buffer_float")))&&!en){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}pe.checkFramebufferStatus(36160)===36053?ve>=0&&ve<=Z.width-xe&&Ce>=0&&Ce<=Z.height-Oe&&pe.readPixels(ve,Ce,xe,Oe,Be.convert(Qt),Be.convert(Ht),Pt):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const Rt=T!==null?fe.get(T).__webglFramebuffer:null;me.bindFramebuffer(36160,Rt)}}},this.copyFramebufferToTexture=function(Z,ve,Ce=0){if(ve.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const xe=Math.pow(2,-Ce),Oe=Math.floor(ve.image.width*xe),Pt=Math.floor(ve.image.height*xe);Ee.setTexture2D(ve,0),pe.copyTexSubImage2D(3553,Ce,0,0,Z.x,Z.y,Oe,Pt),me.unbindTexture()},this.copyTextureToTexture=function(Z,ve,Ce,xe=0){const Oe=ve.image.width,Pt=ve.image.height,Ot=Be.convert(Ce.format),Vt=Be.convert(Ce.type);Ee.setTexture2D(Ce,0),pe.pixelStorei(37440,Ce.flipY),pe.pixelStorei(37441,Ce.premultiplyAlpha),pe.pixelStorei(3317,Ce.unpackAlignment),ve.isDataTexture?pe.texSubImage2D(3553,xe,Z.x,Z.y,Oe,Pt,Ot,Vt,ve.image.data):ve.isCompressedTexture?pe.compressedTexSubImage2D(3553,xe,Z.x,Z.y,ve.mipmaps[0].width,ve.mipmaps[0].height,Ot,ve.mipmaps[0].data):pe.texSubImage2D(3553,xe,Z.x,Z.y,Ot,Vt,ve.image),xe===0&&Ce.generateMipmaps&&pe.generateMipmap(3553),me.unbindTexture()},this.copyTextureToTexture3D=function(Z,ve,Ce,xe,Oe=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Pt=Z.max.x-Z.min.x+1,Ot=Z.max.y-Z.min.y+1,Vt=Z.max.z-Z.min.z+1,Rt=Be.convert(xe.format),Qt=Be.convert(xe.type);let Ht;if(xe.isDataTexture3D)Ee.setTexture3D(xe,0),Ht=32879;else if(xe.isDataTexture2DArray)Ee.setTexture2DArray(xe,0),Ht=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}pe.pixelStorei(37440,xe.flipY),pe.pixelStorei(37441,xe.premultiplyAlpha),pe.pixelStorei(3317,xe.unpackAlignment);const en=pe.getParameter(3314),Kn=pe.getParameter(32878),xa=pe.getParameter(3316),Pl=pe.getParameter(3315),ln=pe.getParameter(32877),Ei=Ce.isCompressedTexture?Ce.mipmaps[0]:Ce.image;pe.pixelStorei(3314,Ei.width),pe.pixelStorei(32878,Ei.height),pe.pixelStorei(3316,Z.min.x),pe.pixelStorei(3315,Z.min.y),pe.pixelStorei(32877,Z.min.z),Ce.isDataTexture||Ce.isDataTexture3D?pe.texSubImage3D(Ht,Oe,ve.x,ve.y,ve.z,Pt,Ot,Vt,Rt,Qt,Ei.data):Ce.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),pe.compressedTexSubImage3D(Ht,Oe,ve.x,ve.y,ve.z,Pt,Ot,Vt,Rt,Ei.data)):pe.texSubImage3D(Ht,Oe,ve.x,ve.y,ve.z,Pt,Ot,Vt,Rt,Qt,Ei),pe.pixelStorei(3314,en),pe.pixelStorei(32878,Kn),pe.pixelStorei(3316,xa),pe.pixelStorei(3315,Pl),pe.pixelStorei(32877,ln),Oe===0&&xe.generateMipmaps&&pe.generateMipmap(Ht),me.unbindTexture()},this.initTexture=function(Z){Ee.setTexture2D(Z,0),me.unbindTexture()},this.resetState=function(){E=0,w=0,T=null,me.reset(),ie.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}wn.prototype.isWebGLRenderer=!0;class wIe extends wn{}wIe.prototype.isWebGL1Renderer=!0;class ua extends dn{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}ua.prototype.isScene=!0;class bh{constructor(e,n){this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=kg,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Zs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let o=0,s=this.stride;o<s;o++)this.array[e+o]=n.array[i+o];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}bh.prototype.isInterleavedBuffer=!0;const br=new ee;class Eh{constructor(e,n,i,o=!1){this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=o===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)br.x=this.getX(n),br.y=this.getY(n),br.z=this.getZ(n),br.applyMatrix4(e),this.setXYZ(n,br.x,br.y,br.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)br.x=this.getX(n),br.y=this.getY(n),br.z=this.getZ(n),br.applyNormalMatrix(e),this.setXYZ(n,br.x,br.y,br.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)br.x=this.getX(n),br.y=this.getY(n),br.z=this.getZ(n),br.transformDirection(e),this.setXYZ(n,br.x,br.y,br.z);return this}setX(e,n){return this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=o,this}setXYZW(e,n,i,o,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=o,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const o=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[o+s])}return new On(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Eh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const o=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[o+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Eh.prototype.isInterleavedBufferAttribute=!0;class sV extends Tr{constructor(e){super();this.type="SpriteMaterial",this.color=new at(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}sV.prototype.isSpriteMaterial=!0;let wh;const Wg=new ee,xh=new ee,Sh=new ee,Th=new Ue,qg=new Ue,oV=new ut,Db=new ee,Yg=new ee,Fb=new ee,aV=new Ue,QC=new Ue,lV=new Ue;class xIe extends dn{constructor(e){super();if(this.type="Sprite",wh===void 0){wh=new Nn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new bh(n,5);wh.setIndex([0,1,2,0,2,3]),wh.setAttribute("position",new Eh(i,3,0,!1)),wh.setAttribute("uv",new Eh(i,2,3,!1))}this.geometry=wh,this.material=e!==void 0?e:new sV,this.center=new Ue(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),xh.setFromMatrixScale(this.matrixWorld),oV.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Sh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&xh.multiplyScalar(-Sh.z);const i=this.material.rotation;let o,s;i!==0&&(s=Math.cos(i),o=Math.sin(i));const a=this.center;Ub(Db.set(-.5,-.5,0),Sh,a,xh,o,s),Ub(Yg.set(.5,-.5,0),Sh,a,xh,o,s),Ub(Fb.set(.5,.5,0),Sh,a,xh,o,s),aV.set(0,0),QC.set(1,0),lV.set(1,1);let l=e.ray.intersectTriangle(Db,Yg,Fb,!1,Wg);if(l===null&&(Ub(Yg.set(-.5,.5,0),Sh,a,xh,o,s),QC.set(0,1),l=e.ray.intersectTriangle(Db,Fb,Yg,!1,Wg),l===null))return;const c=e.ray.origin.distanceTo(Wg);c<e.near||c>e.far||n.push({distance:c,point:Wg.clone(),uv:Sr.getUV(Wg,Db,Yg,Fb,aV,QC,lV,new Ue),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}xIe.prototype.isSprite=!0;function Ub(t,e,n,i,o,s){Th.subVectors(t,n).addScalar(.5).multiply(i),o!==void 0?(qg.x=s*Th.x-o*Th.y,qg.y=o*Th.x+s*Th.y):qg.copy(Th),t.copy(e),t.x+=qg.x,t.y+=qg.y,t.applyMatrix4(oV)}const cV=new ee,uV=new In,dV=new In,SIe=new ee,fV=new ut;class eM extends Ct{constructor(e,n){super(e,n);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ut,this.bindMatrixInverse=new ut}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new In,n=this.geometry.attributes.skinWeight;for(let i=0,o=n.count;i<o;i++){e.x=n.getX(i),e.y=n.getY(i),e.z=n.getZ(i),e.w=n.getW(i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const i=this.skeleton,o=this.geometry;uV.fromBufferAttribute(o.attributes.skinIndex,e),dV.fromBufferAttribute(o.attributes.skinWeight,e),cV.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const a=dV.getComponent(s);if(a!==0){const l=uV.getComponent(s);fV.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),n.addScaledVector(SIe.copy(cV).applyMatrix4(fV),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}eM.prototype.isSkinnedMesh=!0;class tM extends dn{constructor(){super();this.type="Bone"}}tM.prototype.isBone=!0;class nM extends fr{constructor(e=null,n=1,i=1,o,s,a,l,c,u=_r,d=_r,f,h){super(null,a,l,c,u,d,o,s,f,h);this.image={data:e,width:n,height:i},this.magFilter=u,this.minFilter=d,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}nM.prototype.isDataTexture=!0;const hV=new ut,TIe=new ut;class rM{constructor(e=[],n=[]){this.uuid=Zs(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,o=this.bones.length;i<o;i++)this.boneInverses.push(new ut)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new ut;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,o=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const l=e[s]?e[s].matrixWorld:TIe;hV.multiplyMatrices(l,n[s]),hV.toArray(i,s*16)}o!==null&&(o.needsUpdate=!0)}clone(){return new rM(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=rB(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new nM(n,e,e,Qn,Xs);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const o=this.bones[n];if(o.name===e)return o}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,o=e.bones.length;i<o;i++){const s=e.bones[i];let a=n[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new tM),this.bones.push(a),this.boneInverses.push(new ut().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let o=0,s=n.length;o<s;o++){const a=n[o];e.bones.push(a.uuid);const l=i[o];e.boneInverses.push(l.toArray())}return e}}class iM extends On{constructor(e,n,i,o=1){typeof i=="number"&&(o=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,n,i);this.meshPerAttribute=o}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}iM.prototype.isInstancedBufferAttribute=!0;const pV=new ut,mV=new ut,jb=[],Kg=new Ct;class CIe extends Ct{constructor(e,n,i){super(e,n);this.instanceMatrix=new iM(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const i=this.matrixWorld,o=this.count;if(Kg.geometry=this.geometry,Kg.material=this.material,Kg.material!==void 0)for(let s=0;s<o;s++){this.getMatrixAt(s,pV),mV.multiplyMatrices(i,pV),Kg.matrixWorld=mV,Kg.raycast(e,jb);for(let a=0,l=jb.length;a<l;a++){const c=jb[a];c.instanceId=s,c.object=this,n.push(c)}jb.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new iM(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}CIe.prototype.isInstancedMesh=!0;class Ch extends Tr{constructor(e){super();this.type="LineBasicMaterial",this.color=new at(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}Ch.prototype.isLineBasicMaterial=!0;const gV=new ee,vV=new ee,yV=new ut,sM=new Wu,Bb=new Sc;class Vb extends dn{constructor(e=new Nn,n=new Ch){super();this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,i=[0];for(let o=1,s=n.count;o<s;o++)gV.fromBufferAttribute(n,o-1),vV.fromBufferAttribute(n,o),i[o]=i[o-1],i[o]+=gV.distanceTo(vV);e.setAttribute("lineDistance",new kr(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,n){const i=this.geometry,o=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Bb.copy(i.boundingSphere),Bb.applyMatrix4(o),Bb.radius+=s,e.ray.intersectsSphere(Bb)===!1)return;yV.copy(o).invert(),sM.copy(e.ray).applyMatrix4(yV);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=new ee,d=new ee,f=new ee,h=new ee,v=this.isLineSegments?2:1;if(i.isBufferGeometry){const m=i.index,S=i.attributes.position;if(m!==null){const E=Math.max(0,a.start),w=Math.min(m.count,a.start+a.count);for(let T=E,C=w-1;T<C;T+=v){const P=m.getX(T),R=m.getX(T+1);if(u.fromBufferAttribute(S,P),d.fromBufferAttribute(S,R),sM.distanceSqToSegment(u,d,h,f)>c)continue;h.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(h);L<e.near||L>e.far||n.push({distance:L,point:f.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}else{const E=Math.max(0,a.start),w=Math.min(S.count,a.start+a.count);for(let T=E,C=w-1;T<C;T+=v){if(u.fromBufferAttribute(S,T),d.fromBufferAttribute(S,T+1),sM.distanceSqToSegment(u,d,h,f)>c)continue;h.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(h);R<e.near||R>e.far||n.push({distance:R,point:f.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,i=Object.keys(n);if(i.length>0){const o=n[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=o.length;s<a;s++){const l=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Vb.prototype.isLine=!0;const _V=new ee,bV=new ee;class Hb extends Vb{constructor(e,n){super(e,n);this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,i=[];for(let o=0,s=n.count;o<s;o+=2)_V.fromBufferAttribute(n,o),bV.fromBufferAttribute(n,o+1),i[o]=o===0?0:i[o-1],i[o+1]=i[o]+_V.distanceTo(bV);e.setAttribute("lineDistance",new kr(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Hb.prototype.isLineSegments=!0;class EV extends Vb{constructor(e,n){super(e,n);this.type="LineLoop"}}EV.prototype.isLineLoop=!0;class oM extends Tr{constructor(e){super();this.type="PointsMaterial",this.color=new at(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}oM.prototype.isPointsMaterial=!0;const wV=new ut,aM=new Wu,zb=new Sc,Gb=new ee;class xV extends dn{constructor(e=new Nn,n=new oM){super();this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,o=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),zb.copy(i.boundingSphere),zb.applyMatrix4(o),zb.radius+=s,e.ray.intersectsSphere(zb)===!1)return;wV.copy(o).invert(),aM.copy(e.ray).applyMatrix4(wV);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l;if(i.isBufferGeometry){const u=i.index,f=i.attributes.position;if(u!==null){const h=Math.max(0,a.start),v=Math.min(u.count,a.start+a.count);for(let m=h,_=v;m<_;m++){const S=u.getX(m);Gb.fromBufferAttribute(f,S),SV(Gb,S,c,o,e,n,this)}}else{const h=Math.max(0,a.start),v=Math.min(f.count,a.start+a.count);for(let m=h,_=v;m<_;m++)Gb.fromBufferAttribute(f,m),SV(Gb,m,c,o,e,n,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,i=Object.keys(n);if(i.length>0){const o=n[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=o.length;s<a;s++){const l=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}xV.prototype.isPoints=!0;function SV(t,e,n,i,o,s,a){const l=aM.distanceSqToPoint(t);if(l<n){const c=new ee;aM.closestPointToPoint(t,c),c.applyMatrix4(i);const u=o.ray.origin.distanceTo(c);if(u<o.near||u>o.far)return;s.push({distance:u,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,object:a})}}class MIe extends fr{constructor(e,n,i,o,s,a,l,c,u){super(e,n,i,o,s,a,l,c,u);this.format=l!==void 0?l:Js,this.minFilter=a!==void 0?a:Ln,this.magFilter=s!==void 0?s:Ln,this.generateMipmaps=!1;const d=this;function f(){d.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}MIe.prototype.isVideoTexture=!0;class AIe extends fr{constructor(e,n,i){super({width:e,height:n});this.format=i,this.magFilter=_r,this.minFilter=_r,this.generateMipmaps=!1,this.needsUpdate=!0}}AIe.prototype.isFramebufferTexture=!0;class lM extends fr{constructor(e,n,i,o,s,a,l,c,u,d,f,h){super(null,a,l,c,u,d,o,s,f,h);this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}lM.prototype.isCompressedTexture=!0;class PIe extends fr{constructor(e,n,i,o,s,a,l,c,u){super(e,n,i,o,s,a,l,c,u);this.needsUpdate=!0}}PIe.prototype.isCanvasTexture=!0;new ee;new ee;new ee;new Sr;class eo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,o=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(o),n.push(s),o=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let o=0;const s=i.length;let a;n?a=n:a=e*i[s-1];let l=0,c=s-1,u;for(;l<=c;)if(o=Math.floor(l+(c-l)/2),u=i[o]-a,u<0)l=o+1;else if(u>0)c=o-1;else{c=o;break}if(o=c,i[o]===a)return o/(s-1);const d=i[o],h=i[o+1]-d,v=(a-d)/h;return(o+v)/(s-1)}getTangent(e,n){const i=1e-4;let o=e-i,s=e+i;o<0&&(o=0),s>1&&(s=1);const a=this.getPoint(o),l=this.getPoint(s),c=n||(a.isVector2?new Ue:new ee);return c.copy(l).sub(a).normalize(),c}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new ee,o=[],s=[],a=[],l=new ee,c=new ut;for(let v=0;v<=e;v++){const m=v/e;o[v]=this.getTangentAt(m,new ee)}s[0]=new ee,a[0]=new ee;let u=Number.MAX_VALUE;const d=Math.abs(o[0].x),f=Math.abs(o[0].y),h=Math.abs(o[0].z);d<=u&&(u=d,i.set(1,0,0)),f<=u&&(u=f,i.set(0,1,0)),h<=u&&i.set(0,0,1),l.crossVectors(o[0],i).normalize(),s[0].crossVectors(o[0],l),a[0].crossVectors(o[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),a[v]=a[v-1].clone(),l.crossVectors(o[v-1],o[v]),l.length()>Number.EPSILON){l.normalize();const m=Math.acos(Ai(o[v-1].dot(o[v]),-1,1));s[v].applyMatrix4(c.makeRotationAxis(l,m))}a[v].crossVectors(o[v],s[v])}if(n===!0){let v=Math.acos(Ai(s[0].dot(s[e]),-1,1));v/=e,o[0].dot(l.crossVectors(s[0],s[e]))>0&&(v=-v);for(let m=1;m<=e;m++)s[m].applyMatrix4(c.makeRotationAxis(o[m],v*m)),a[m].crossVectors(o[m],s[m])}return{tangents:o,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class $b extends eo{constructor(e=0,n=0,i=1,o=1,s=0,a=Math.PI*2,l=!1,c=0){super();this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=o,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=l,this.aRotation=c}getPoint(e,n){const i=n||new Ue,o=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=o;for(;s>o;)s-=o;s<Number.EPSILON&&(a?s=0:s=o),this.aClockwise===!0&&!a&&(s===o?s=-o:s=s-o);const l=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(l),u=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const d=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=c-this.aX,v=u-this.aY;c=h*d-v*f+this.aX,u=h*f+v*d+this.aY}return i.set(c,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}$b.prototype.isEllipseCurve=!0;class TV extends $b{constructor(e,n,i,o,s,a){super(e,n,i,i,o,s,a);this.type="ArcCurve"}}TV.prototype.isArcCurve=!0;function cM(){let t=0,e=0,n=0,i=0;function o(s,a,l,c){t=s,e=l,n=-3*s+3*a-2*l-c,i=2*s-2*a+l+c}return{initCatmullRom:function(s,a,l,c,u){o(a,l,u*(l-s),u*(c-a))},initNonuniformCatmullRom:function(s,a,l,c,u,d,f){let h=(a-s)/u-(l-s)/(u+d)+(l-a)/d,v=(l-a)/d-(c-a)/(d+f)+(c-l)/f;h*=d,v*=d,o(a,l,h,v)},calc:function(s){const a=s*s,l=a*s;return t+e*s+n*a+i*l}}}const Wb=new ee,uM=new cM,dM=new cM,fM=new cM;class CV extends eo{constructor(e=[],n=!1,i="centripetal",o=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=o}getPoint(e,n=new ee){const i=n,o=this.points,s=o.length,a=(s-(this.closed?0:1))*e;let l=Math.floor(a),c=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:c===0&&l===s-1&&(l=s-2,c=1);let u,d;this.closed||l>0?u=o[(l-1)%s]:(Wb.subVectors(o[0],o[1]).add(o[0]),u=Wb);const f=o[l%s],h=o[(l+1)%s];if(this.closed||l+2<s?d=o[(l+2)%s]:(Wb.subVectors(o[s-1],o[s-2]).add(o[s-1]),d=Wb),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let m=Math.pow(u.distanceToSquared(f),v),_=Math.pow(f.distanceToSquared(h),v),S=Math.pow(h.distanceToSquared(d),v);_<1e-4&&(_=1),m<1e-4&&(m=_),S<1e-4&&(S=_),uM.initNonuniformCatmullRom(u.x,f.x,h.x,d.x,m,_,S),dM.initNonuniformCatmullRom(u.y,f.y,h.y,d.y,m,_,S),fM.initNonuniformCatmullRom(u.z,f.z,h.z,d.z,m,_,S)}else this.curveType==="catmullrom"&&(uM.initCatmullRom(u.x,f.x,h.x,d.x,this.tension),dM.initCatmullRom(u.y,f.y,h.y,d.y,this.tension),fM.initCatmullRom(u.z,f.z,h.z,d.z,this.tension));return i.set(uM.calc(c),dM.calc(c),fM.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const o=e.points[n];this.points.push(o.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const o=this.points[n];e.points.push(o.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const o=e.points[n];this.points.push(new ee().fromArray(o))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}CV.prototype.isCatmullRomCurve3=!0;function MV(t,e,n,i,o){const s=(i-e)*.5,a=(o-n)*.5,l=t*t,c=t*l;return(2*n-2*i+s+a)*c+(-3*n+3*i-2*s-a)*l+s*t+n}function RIe(t,e){const n=1-t;return n*n*e}function LIe(t,e){return 2*(1-t)*t*e}function IIe(t,e){return t*t*e}function Xg(t,e,n,i){return RIe(t,e)+LIe(t,n)+IIe(t,i)}function OIe(t,e){const n=1-t;return n*n*n*e}function NIe(t,e){const n=1-t;return 3*n*n*t*e}function kIe(t,e){return 3*(1-t)*t*t*e}function DIe(t,e){return t*t*t*e}function Jg(t,e,n,i,o){return OIe(t,e)+NIe(t,n)+kIe(t,i)+DIe(t,o)}class hM extends eo{constructor(e=new Ue,n=new Ue,i=new Ue,o=new Ue){super();this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=o}getPoint(e,n=new Ue){const i=n,o=this.v0,s=this.v1,a=this.v2,l=this.v3;return i.set(Jg(e,o.x,s.x,a.x,l.x),Jg(e,o.y,s.y,a.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}hM.prototype.isCubicBezierCurve=!0;class AV extends eo{constructor(e=new ee,n=new ee,i=new ee,o=new ee){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=o}getPoint(e,n=new ee){const i=n,o=this.v0,s=this.v1,a=this.v2,l=this.v3;return i.set(Jg(e,o.x,s.x,a.x,l.x),Jg(e,o.y,s.y,a.y,l.y),Jg(e,o.z,s.z,a.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}AV.prototype.isCubicBezierCurve3=!0;class qb extends eo{constructor(e=new Ue,n=new Ue){super();this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ue){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const i=n||new Ue;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}qb.prototype.isLineCurve=!0;class FIe extends eo{constructor(e=new ee,n=new ee){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=n}getPoint(e,n=new ee){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pM extends eo{constructor(e=new Ue,n=new Ue,i=new Ue){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new Ue){const i=n,o=this.v0,s=this.v1,a=this.v2;return i.set(Xg(e,o.x,s.x,a.x),Xg(e,o.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}pM.prototype.isQuadraticBezierCurve=!0;class PV extends eo{constructor(e=new ee,n=new ee,i=new ee){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new ee){const i=n,o=this.v0,s=this.v1,a=this.v2;return i.set(Xg(e,o.x,s.x,a.x),Xg(e,o.y,s.y,a.y),Xg(e,o.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}PV.prototype.isQuadraticBezierCurve3=!0;class mM extends eo{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,n=new Ue){const i=n,o=this.points,s=(o.length-1)*e,a=Math.floor(s),l=s-a,c=o[a===0?a:a-1],u=o[a],d=o[a>o.length-2?o.length-1:a+1],f=o[a>o.length-3?o.length-1:a+2];return i.set(MV(l,c.x,u.x,d.x,f.x),MV(l,c.y,u.y,d.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const o=e.points[n];this.points.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const o=this.points[n];e.points.push(o.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const o=e.points[n];this.points.push(new Ue().fromArray(o))}return this}}mM.prototype.isSplineCurve=!0;var RV=Object.freeze({__proto__:null,ArcCurve:TV,CatmullRomCurve3:CV,CubicBezierCurve:hM,CubicBezierCurve3:AV,EllipseCurve:$b,LineCurve:qb,LineCurve3:FIe,QuadraticBezierCurve:pM,QuadraticBezierCurve3:PV,SplineCurve:mM});class UIe extends eo{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new qb(n,e))}getPoint(e,n){const i=e*this.getLength(),o=this.getCurveLengths();let s=0;for(;s<o.length;){if(o[s]>=i){const a=o[s]-i,l=this.curves[s],c=l.getLength(),u=c===0?0:1-a/c;return l.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,o=this.curves.length;i<o;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let o=0,s=this.curves;o<s.length;o++){const a=s[o],l=a&&a.isEllipseCurve?e*2:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,c=a.getPoints(l);for(let u=0;u<c.length;u++){const d=c[u];i&&i.equals(d)||(n.push(d),i=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const o=e.curves[n];this.curves.push(o.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const o=this.curves[n];e.curves.push(o.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const o=e.curves[n];this.curves.push(new RV[o.type]().fromJSON(o))}return this}}class gM extends UIe{constructor(e){super();this.type="Path",this.currentPoint=new Ue,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new qb(this.currentPoint.clone(),new Ue(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,o){const s=new pM(this.currentPoint.clone(),new Ue(e,n),new Ue(i,o));return this.curves.push(s),this.currentPoint.set(i,o),this}bezierCurveTo(e,n,i,o,s,a){const l=new hM(this.currentPoint.clone(),new Ue(e,n),new Ue(i,o),new Ue(s,a));return this.curves.push(l),this.currentPoint.set(s,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new mM(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,o,s,a){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,n+c,i,o,s,a),this}absarc(e,n,i,o,s,a){return this.absellipse(e,n,i,i,o,s,a),this}ellipse(e,n,i,o,s,a,l,c){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,n+d,i,o,s,a,l,c),this}absellipse(e,n,i,o,s,a,l,c){const u=new $b(e,n,i,o,s,a,l,c);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Zg extends gM{constructor(e){super(e);this.uuid=Zs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,o=this.holes.length;i<o;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const o=e.holes[n];this.holes.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const o=this.holes[n];e.holes.push(o.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const o=e.holes[n];this.holes.push(new gM().fromJSON(o))}return this}}const jIe={triangulate:function(t,e,n=2){const i=e&&e.length,o=i?e[0]*n:t.length;let s=LV(t,0,o,n,!0);const a=[];if(!s||s.next===s.prev)return a;let l,c,u,d,f,h,v;if(i&&(s=GIe(t,e,s,n)),t.length>80*n){l=u=t[0],c=d=t[1];for(let m=n;m<o;m+=n)f=t[m],h=t[m+1],f<l&&(l=f),h<c&&(c=h),f>u&&(u=f),h>d&&(d=h);v=Math.max(u-l,d-c),v=v!==0?1/v:0}return Qg(s,a,n,l,c,v),a}};function LV(t,e,n,i,o){let s,a;if(o===tOe(t,e,n,i)>0)for(s=e;s<n;s+=i)a=NV(s,t[s],t[s+1],a);else for(s=n-i;s>=e;s-=i)a=NV(s,t[s],t[s+1],a);return a&&Yb(a,a.next)&&(t0(a),a=a.next),a}function Nc(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(Yb(n,n.next)||sr(n.prev,n,n.next)===0)){if(t0(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function Qg(t,e,n,i,o,s,a){if(!t)return;!a&&s&&KIe(t,i,o,s);let l=t,c,u;for(;t.prev!==t.next;){if(c=t.prev,u=t.next,s?VIe(t,i,o,s):BIe(t)){e.push(c.i/n),e.push(t.i/n),e.push(u.i/n),t0(t),t=u.next,l=u.next;continue}if(t=u,t===l){a?a===1?(t=HIe(Nc(t),e,n),Qg(t,e,n,i,o,s,2)):a===2&&zIe(t,e,n,i,o,s):Qg(Nc(t),e,n,i,o,s,1);break}}}function BIe(t){const e=t.prev,n=t,i=t.next;if(sr(e,n,i)>=0)return!1;let o=t.next.next;for(;o!==t.prev;){if(Mh(e.x,e.y,n.x,n.y,i.x,i.y,o.x,o.y)&&sr(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function VIe(t,e,n,i){const o=t.prev,s=t,a=t.next;if(sr(o,s,a)>=0)return!1;const l=o.x<s.x?o.x<a.x?o.x:a.x:s.x<a.x?s.x:a.x,c=o.y<s.y?o.y<a.y?o.y:a.y:s.y<a.y?s.y:a.y,u=o.x>s.x?o.x>a.x?o.x:a.x:s.x>a.x?s.x:a.x,d=o.y>s.y?o.y>a.y?o.y:a.y:s.y>a.y?s.y:a.y,f=vM(l,c,e,n,i),h=vM(u,d,e,n,i);let v=t.prevZ,m=t.nextZ;for(;v&&v.z>=f&&m&&m.z<=h;){if(v!==t.prev&&v!==t.next&&Mh(o.x,o.y,s.x,s.y,a.x,a.y,v.x,v.y)&&sr(v.prev,v,v.next)>=0||(v=v.prevZ,m!==t.prev&&m!==t.next&&Mh(o.x,o.y,s.x,s.y,a.x,a.y,m.x,m.y)&&sr(m.prev,m,m.next)>=0))return!1;m=m.nextZ}for(;v&&v.z>=f;){if(v!==t.prev&&v!==t.next&&Mh(o.x,o.y,s.x,s.y,a.x,a.y,v.x,v.y)&&sr(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;m&&m.z<=h;){if(m!==t.prev&&m!==t.next&&Mh(o.x,o.y,s.x,s.y,a.x,a.y,m.x,m.y)&&sr(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function HIe(t,e,n){let i=t;do{const o=i.prev,s=i.next.next;!Yb(o,s)&&IV(o,i,i.next,s)&&e0(o,s)&&e0(s,o)&&(e.push(o.i/n),e.push(i.i/n),e.push(s.i/n),t0(i),t0(i.next),i=t=s),i=i.next}while(i!==t);return Nc(i)}function zIe(t,e,n,i,o,s){let a=t;do{let l=a.next.next;for(;l!==a.prev;){if(a.i!==l.i&&ZIe(a,l)){let c=OV(a,l);a=Nc(a,a.next),c=Nc(c,c.next),Qg(a,e,n,i,o,s),Qg(c,e,n,i,o,s);return}l=l.next}a=a.next}while(a!==t)}function GIe(t,e,n,i){const o=[];let s,a,l,c,u;for(s=0,a=e.length;s<a;s++)l=e[s]*i,c=s<a-1?e[s+1]*i:t.length,u=LV(t,l,c,i,!1),u===u.next&&(u.steiner=!0),o.push(JIe(u));for(o.sort($Ie),s=0;s<o.length;s++)WIe(o[s],n),n=Nc(n,n.next);return n}function $Ie(t,e){return t.x-e.x}function WIe(t,e){if(e=qIe(t,e),e){const n=OV(e,t);Nc(e,e.next),Nc(n,n.next)}}function qIe(t,e){let n=e;const i=t.x,o=t.y;let s=-1/0,a;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const h=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=i&&h>s){if(s=h,h===i){if(o===n.y)return n;if(o===n.next.y)return n.next}a=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!a)return null;if(i===s)return a;const l=a,c=a.x,u=a.y;let d=1/0,f;n=a;do i>=n.x&&n.x>=c&&i!==n.x&&Mh(o<u?i:s,o,c,u,o<u?s:i,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(i-n.x),e0(n,t)&&(f<d||f===d&&(n.x>a.x||n.x===a.x&&YIe(a,n)))&&(a=n,d=f)),n=n.next;while(n!==l);return a}function YIe(t,e){return sr(t.prev,t,e.prev)<0&&sr(e.next,t,t.next)<0}function KIe(t,e,n,i){let o=t;do o.z===null&&(o.z=vM(o.x,o.y,e,n,i)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,XIe(o)}function XIe(t){let e,n,i,o,s,a,l,c,u=1;do{for(n=t,t=null,s=null,a=0;n;){for(a++,i=n,l=0,e=0;e<u&&(l++,i=i.nextZ,!!i);e++);for(c=u;l>0||c>0&&i;)l!==0&&(c===0||!i||n.z<=i.z)?(o=n,n=n.nextZ,l--):(o=i,i=i.nextZ,c--),s?s.nextZ=o:t=o,o.prevZ=s,s=o;n=i}s.nextZ=null,u*=2}while(a>1);return t}function vM(t,e,n,i,o){return t=32767*(t-n)*o,e=32767*(e-i)*o,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function JIe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Mh(t,e,n,i,o,s,a,l){return(o-a)*(e-l)-(t-a)*(s-l)>=0&&(t-a)*(i-l)-(n-a)*(e-l)>=0&&(n-a)*(s-l)-(o-a)*(i-l)>=0}function ZIe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!QIe(t,e)&&(e0(t,e)&&e0(e,t)&&eOe(t,e)&&(sr(t.prev,t,e.prev)||sr(t,e.prev,e))||Yb(t,e)&&sr(t.prev,t,t.next)>0&&sr(e.prev,e,e.next)>0)}function sr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Yb(t,e){return t.x===e.x&&t.y===e.y}function IV(t,e,n,i){const o=Xb(sr(t,e,n)),s=Xb(sr(t,e,i)),a=Xb(sr(n,i,t)),l=Xb(sr(n,i,e));return!!(o!==s&&a!==l||o===0&&Kb(t,n,e)||s===0&&Kb(t,i,e)||a===0&&Kb(n,t,i)||l===0&&Kb(n,e,i))}function Kb(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Xb(t){return t>0?1:t<0?-1:0}function QIe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&IV(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function e0(t,e){return sr(t.prev,t,t.next)<0?sr(t,e,t.next)>=0&&sr(t,t.prev,e)>=0:sr(t,e,t.prev)<0||sr(t,t.next,e)<0}function eOe(t,e){let n=t,i=!1;const o=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&o<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function OV(t,e){const n=new yM(t.i,t.x,t.y),i=new yM(e.i,e.x,e.y),o=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=o,o.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function NV(t,e,n,i){const o=new yM(t,e,n);return i?(o.next=i.next,o.prev=i,i.next.prev=o,i.next=o):(o.prev=o,o.next=o),o}function t0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function yM(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function tOe(t,e,n,i){let o=0;for(let s=e,a=n-i;s<n;s+=i)o+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return o}class kc{static area(e){const n=e.length;let i=0;for(let o=n-1,s=0;s<n;o=s++)i+=e[o].x*e[s].y-e[s].x*e[o].y;return i*.5}static isClockWise(e){return kc.area(e)<0}static triangulateShape(e,n){const i=[],o=[],s=[];kV(e),DV(i,e);let a=e.length;n.forEach(kV);for(let c=0;c<n.length;c++)o.push(a),a+=n[c].length,DV(i,n[c]);const l=jIe.triangulate(i,o);for(let c=0;c<l.length;c+=3)s.push(l.slice(c,c+3));return s}}function kV(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function DV(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Ah extends Nn{constructor(e=new Zg([new Ue(.5,.5),new Ue(-.5,.5),new Ue(-.5,-.5),new Ue(.5,-.5)]),n={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,o=[],s=[];for(let l=0,c=e.length;l<c;l++){const u=e[l];a(u)}this.setAttribute("position",new kr(o,3)),this.setAttribute("uv",new kr(s,2)),this.computeVertexNormals();function a(l){const c=[],u=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1;let f=n.depth!==void 0?n.depth:1,h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:v-.1,_=n.bevelOffset!==void 0?n.bevelOffset:0,S=n.bevelSegments!==void 0?n.bevelSegments:3;const E=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:nOe;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),f=n.amount);let T,C=!1,P,R,A,L;E&&(T=E.getSpacedPoints(d),C=!0,h=!1,P=E.computeFrenetFrames(d,!1),R=new ee,A=new ee,L=new ee),h||(S=0,v=0,m=0,_=0);const k=l.extractPoints(u);let U=k.shape;const N=k.holes;if(!kc.isClockWise(U)){U=U.reverse();for(let fe=0,Ee=N.length;fe<Ee;fe++){const ye=N[fe];kc.isClockWise(ye)&&(N[fe]=ye.reverse())}}const F=kc.triangulateShape(U,N),O=U;for(let fe=0,Ee=N.length;fe<Ee;fe++){const ye=N[fe];U=U.concat(ye)}function V(fe,Ee,ye){return Ee||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ee.clone().multiplyScalar(ye).add(fe)}const z=U.length,B=F.length;function H(fe,Ee,ye){let Fe,De,nt;const ft=fe.x-Ee.x,gt=fe.y-Ee.y,Ut=ye.x-fe.x,Q=ye.y-fe.y,J=ft*ft+gt*gt,Ae=ft*Q-gt*Ut;if(Math.abs(Ae)>Number.EPSILON){const Ne=Math.sqrt(J),We=Math.sqrt(Ut*Ut+Q*Q),Le=Ee.x-gt/Ne,Ke=Ee.y+ft/Ne,rt=ye.x-Q/We,Be=ye.y+Ut/We,ie=((rt-Le)*Q-(Be-Ke)*Ut)/(ft*Q-gt*Ut);Fe=Le+ft*ie-fe.x,De=Ke+gt*ie-fe.y;const He=Fe*Fe+De*De;if(He<=2)return new Ue(Fe,De);nt=Math.sqrt(He/2)}else{let Ne=!1;ft>Number.EPSILON?Ut>Number.EPSILON&&(Ne=!0):ft<-Number.EPSILON?Ut<-Number.EPSILON&&(Ne=!0):Math.sign(gt)===Math.sign(Q)&&(Ne=!0),Ne?(Fe=-gt,De=ft,nt=Math.sqrt(J)):(Fe=ft,De=gt,nt=Math.sqrt(J/2))}return new Ue(Fe/nt,De/nt)}const W=[];for(let fe=0,Ee=O.length,ye=Ee-1,Fe=fe+1;fe<Ee;fe++,ye++,Fe++)ye===Ee&&(ye=0),Fe===Ee&&(Fe=0),W[fe]=H(O[fe],O[ye],O[Fe]);const G=[];let q,re=W.concat();for(let fe=0,Ee=N.length;fe<Ee;fe++){const ye=N[fe];q=[];for(let Fe=0,De=ye.length,nt=De-1,ft=Fe+1;Fe<De;Fe++,nt++,ft++)nt===De&&(nt=0),ft===De&&(ft=0),q[Fe]=H(ye[Fe],ye[nt],ye[ft]);G.push(q),re=re.concat(q)}for(let fe=0;fe<S;fe++){const Ee=fe/S,ye=v*Math.cos(Ee*Math.PI/2),Fe=m*Math.sin(Ee*Math.PI/2)+_;for(let De=0,nt=O.length;De<nt;De++){const ft=V(O[De],W[De],Fe);ae(ft.x,ft.y,-ye)}for(let De=0,nt=N.length;De<nt;De++){const ft=N[De];q=G[De];for(let gt=0,Ut=ft.length;gt<Ut;gt++){const Q=V(ft[gt],q[gt],Fe);ae(Q.x,Q.y,-ye)}}}const se=m+_;for(let fe=0;fe<z;fe++){const Ee=h?V(U[fe],re[fe],se):U[fe];C?(A.copy(P.normals[0]).multiplyScalar(Ee.x),R.copy(P.binormals[0]).multiplyScalar(Ee.y),L.copy(T[0]).add(A).add(R),ae(L.x,L.y,L.z)):ae(Ee.x,Ee.y,0)}for(let fe=1;fe<=d;fe++)for(let Ee=0;Ee<z;Ee++){const ye=h?V(U[Ee],re[Ee],se):U[Ee];C?(A.copy(P.normals[fe]).multiplyScalar(ye.x),R.copy(P.binormals[fe]).multiplyScalar(ye.y),L.copy(T[fe]).add(A).add(R),ae(L.x,L.y,L.z)):ae(ye.x,ye.y,f/d*fe)}for(let fe=S-1;fe>=0;fe--){const Ee=fe/S,ye=v*Math.cos(Ee*Math.PI/2),Fe=m*Math.sin(Ee*Math.PI/2)+_;for(let De=0,nt=O.length;De<nt;De++){const ft=V(O[De],W[De],Fe);ae(ft.x,ft.y,f+ye)}for(let De=0,nt=N.length;De<nt;De++){const ft=N[De];q=G[De];for(let gt=0,Ut=ft.length;gt<Ut;gt++){const Q=V(ft[gt],q[gt],Fe);C?ae(Q.x,Q.y+T[d-1].y,T[d-1].x+ye):ae(Q.x,Q.y,f+ye)}}}ge(),_e();function ge(){const fe=o.length/3;if(h){let Ee=0,ye=z*Ee;for(let Fe=0;Fe<B;Fe++){const De=F[Fe];le(De[2]+ye,De[1]+ye,De[0]+ye)}Ee=d+S*2,ye=z*Ee;for(let Fe=0;Fe<B;Fe++){const De=F[Fe];le(De[0]+ye,De[1]+ye,De[2]+ye)}}else{for(let Ee=0;Ee<B;Ee++){const ye=F[Ee];le(ye[2],ye[1],ye[0])}for(let Ee=0;Ee<B;Ee++){const ye=F[Ee];le(ye[0]+z*d,ye[1]+z*d,ye[2]+z*d)}}i.addGroup(fe,o.length/3-fe,0)}function _e(){const fe=o.length/3;let Ee=0;pe(O,Ee),Ee+=O.length;for(let ye=0,Fe=N.length;ye<Fe;ye++){const De=N[ye];pe(De,Ee),Ee+=De.length}i.addGroup(fe,o.length/3-fe,1)}function pe(fe,Ee){let ye=fe.length;for(;--ye>=0;){const Fe=ye;let De=ye-1;De<0&&(De=fe.length-1);for(let nt=0,ft=d+S*2;nt<ft;nt++){const gt=z*nt,Ut=z*(nt+1),Q=Ee+Fe+gt,J=Ee+De+gt,Ae=Ee+De+Ut,Ne=Ee+Fe+Ut;ce(Q,J,Ae,Ne)}}}function ae(fe,Ee,ye){c.push(fe),c.push(Ee),c.push(ye)}function le(fe,Ee,ye){me(fe),me(Ee),me(ye);const Fe=o.length/3,De=w.generateTopUV(i,o,Fe-3,Fe-2,Fe-1);Ie(De[0]),Ie(De[1]),Ie(De[2])}function ce(fe,Ee,ye,Fe){me(fe),me(Ee),me(Fe),me(Ee),me(ye),me(Fe);const De=o.length/3,nt=w.generateSideWallUV(i,o,De-6,De-3,De-2,De-1);Ie(nt[0]),Ie(nt[1]),Ie(nt[3]),Ie(nt[1]),Ie(nt[2]),Ie(nt[3])}function me(fe){o.push(c[fe*3+0]),o.push(c[fe*3+1]),o.push(c[fe*3+2])}function Ie(fe){s.push(fe.x),s.push(fe.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return rOe(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const l=n[e.shapes[s]];i.push(l)}const o=e.options.extrudePath;return o!==void 0&&(e.options.extrudePath=new RV[o.type]().fromJSON(o)),new Ah(i,e.options)}}const nOe={generateTopUV:function(t,e,n,i,o){const s=e[n*3],a=e[n*3+1],l=e[i*3],c=e[i*3+1],u=e[o*3],d=e[o*3+1];return[new Ue(s,a),new Ue(l,c),new Ue(u,d)]},generateSideWallUV:function(t,e,n,i,o,s){const a=e[n*3],l=e[n*3+1],c=e[n*3+2],u=e[i*3],d=e[i*3+1],f=e[i*3+2],h=e[o*3],v=e[o*3+1],m=e[o*3+2],_=e[s*3],S=e[s*3+1],E=e[s*3+2];return Math.abs(l-d)<Math.abs(a-u)?[new Ue(a,1-c),new Ue(u,1-f),new Ue(h,1-m),new Ue(_,1-E)]:[new Ue(l,1-c),new Ue(d,1-f),new Ue(v,1-m),new Ue(S,1-E)]}};function rOe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,o=t.length;i<o;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class _M extends Nn{constructor(e=new Zg([new Ue(0,.5),new Ue(-.5,-.5),new Ue(.5,-.5)]),n=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],o=[],s=[],a=[];let l=0,c=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(l,c,d),l+=c,c=0;this.setIndex(i),this.setAttribute("position",new kr(o,3)),this.setAttribute("normal",new kr(s,3)),this.setAttribute("uv",new kr(a,2));function u(d){const f=o.length/3,h=d.extractPoints(n);let v=h.shape;const m=h.holes;kc.isClockWise(v)===!1&&(v=v.reverse());for(let S=0,E=m.length;S<E;S++){const w=m[S];kc.isClockWise(w)===!0&&(m[S]=w.reverse())}const _=kc.triangulateShape(v,m);for(let S=0,E=m.length;S<E;S++){const w=m[S];v=v.concat(w)}for(let S=0,E=v.length;S<E;S++){const w=v[S];o.push(w.x,w.y,0),s.push(0,0,1),a.push(w.x,w.y)}for(let S=0,E=_.length;S<E;S++){const w=_[S],T=w[0]+f,C=w[1]+f,P=w[2]+f;i.push(T,C,P),c+=3}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return iOe(n,e)}static fromJSON(e,n){const i=[];for(let o=0,s=e.shapes.length;o<s;o++){const a=n[e.shapes[o]];i.push(a)}return new _M(i,e.curveSegments)}}function iOe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const o=t[n];e.shapes.push(o.uuid)}else e.shapes.push(t.uuid);return e}class FV extends Tr{constructor(e){super();this.type="ShadowMaterial",this.color=new at(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}FV.prototype.isShadowMaterial=!0;class hl extends Tr{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new at(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zu,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}hl.prototype.isMeshStandardMaterial=!0;class Xu extends hl{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ue(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ai(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.sheenColor=new at(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new at(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new at(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}Xu.prototype.isMeshPhysicalMaterial=!0;class sOe extends Tr{constructor(e){super();this.type="MeshPhongMaterial",this.color=new at(16777215),this.specular=new at(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zu,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=eb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}sOe.prototype.isMeshPhongMaterial=!0;class oOe extends Tr{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new at(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zu,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}oOe.prototype.isMeshToonMaterial=!0;class aOe extends Tr{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zu,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}aOe.prototype.isMeshNormalMaterial=!0;class lOe extends Tr{constructor(e){super();this.type="MeshLambertMaterial",this.color=new at(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=eb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}lOe.prototype.isMeshLambertMaterial=!0;class cOe extends Tr{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new at(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zu,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}cOe.prototype.isMeshMatcapMaterial=!0;class uOe extends Ch{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}uOe.prototype.isLineDashedMaterial=!0;const er={arraySlice:function(t,e,n){return er.isTypedArray(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(o,s){return t[o]-t[s]}const n=t.length,i=new Array(n);for(let o=0;o!==n;++o)i[o]=o;return i.sort(e),i},sortedArray:function(t,e,n){const i=t.length,o=new t.constructor(i);for(let s=0,a=0;a!==i;++s){const l=n[s]*e;for(let c=0;c!==e;++c)o[a++]=t[l+c]}return o},flattenJSON:function(t,e,n,i){let o=1,s=t[0];for(;s!==void 0&&s[i]===void 0;)s=t[o++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),n.push.apply(n,a)),s=t[o++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(n,n.length)),s=t[o++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),n.push(a)),s=t[o++];while(s!==void 0)},subclip:function(t,e,n,i,o=30){const s=t.clone();s.name=e;const a=[];for(let c=0;c<s.tracks.length;++c){const u=s.tracks[c],d=u.getValueSize(),f=[],h=[];for(let v=0;v<u.times.length;++v){const m=u.times[v]*o;if(!(m<n||m>=i)){f.push(u.times[v]);for(let _=0;_<d;++_)h.push(u.values[v*d+_])}}f.length!==0&&(u.times=er.convertArray(f,u.times.constructor),u.values=er.convertArray(h,u.values.constructor),a.push(u))}s.tracks=a;let l=1/0;for(let c=0;c<s.tracks.length;++c)l>s.tracks[c].times[0]&&(l=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*l);return s.resetDuration(),s},makeClipAdditive:function(t,e=0,n=t,i=30){i<=0&&(i=30);const o=n.tracks.length,s=e/i;for(let a=0;a<o;++a){const l=n.tracks[a],c=l.ValueTypeName;if(c==="bool"||c==="string")continue;const u=t.tracks.find(function(E){return E.name===l.name&&E.ValueTypeName===c});if(u===void 0)continue;let d=0;const f=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=f/3);let h=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=v/3);const m=l.times.length-1;let _;if(s<=l.times[0]){const E=d,w=f-d;_=er.arraySlice(l.values,E,w)}else if(s>=l.times[m]){const E=m*f+d,w=E+f-d;_=er.arraySlice(l.values,E,w)}else{const E=l.createInterpolant(),w=d,T=f-d;E.evaluate(s),_=er.arraySlice(E.resultBuffer,w,T)}c==="quaternion"&&new Pi().fromArray(_).normalize().conjugate().toArray(_);const S=u.times.length;for(let E=0;E<S;++E){const w=E*v+h;if(c==="quaternion")Pi.multiplyQuaternionsFlat(u.values,w,_,0,u.values,w);else{const T=v-h*2;for(let C=0;C<T;++C)u.values[w+C]-=_[C]}}}return t.blendMode=eB,t}};class pl{constructor(e,n,i,o){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=o!==void 0?o:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,o=n[i],s=n[i-1];e:{t:{let a;n:{r:if(!(e<o)){for(let l=i+2;;){if(o===void 0){if(e<s)break r;return i=n.length,this._cachedIndex=i,this.afterEnd_(i-1,e,s)}if(i===l)break;if(s=o,o=n[++i],e<o)break t}a=n.length;break n}if(!(e>=s)){const l=n[1];e<l&&(i=2,s=l);for(let c=i-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,o);if(i===c)break;if(o=s,s=n[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const l=i+a>>>1;e<n[l]?a=l:i=l+1}if(o=n[i],s=n[i-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,o);if(o===void 0)return i=n.length,this._cachedIndex=i,this.afterEnd_(i-1,s,e)}this._cachedIndex=i,this.intervalChanged_(i,s,o)}return this.interpolate_(i,s,e,o)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=e*o;for(let a=0;a!==o;++a)n[a]=i[s+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}pl.prototype.beforeStart_=pl.prototype.copySampleValue_;pl.prototype.afterEnd_=pl.prototype.copySampleValue_;class dOe extends pl{constructor(e,n,i,o){super(e,n,i,o);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Zf,endingEnd:Zf}}intervalChanged_(e,n,i){const o=this.parameterPositions;let s=e-2,a=e+1,l=o[s],c=o[a];if(l===void 0)switch(this.getSettings_().endingStart){case Qf:s=e,l=2*n-i;break;case ob:s=o.length-2,l=n+o[s]-o[s+1];break;default:s=e,l=i}if(c===void 0)switch(this.getSettings_().endingEnd){case Qf:a=e,c=2*i-n;break;case ob:a=1,c=i+o[1]-o[0];break;default:a=e-1,c=n}const u=(i-n)*.5,d=this.valueSize;this._weightPrev=u/(n-l),this._weightNext=u/(c-i),this._offsetPrev=s*d,this._offsetNext=a*d}interpolate_(e,n,i,o){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=e*l,u=c-l,d=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,v=this._weightNext,m=(i-n)/(o-n),_=m*m,S=_*m,E=-h*S+2*h*_-h*m,w=(1+h)*S+(-1.5-2*h)*_+(-.5+h)*m+1,T=(-1-v)*S+(1.5+v)*_+.5*m,C=v*S-v*_;for(let P=0;P!==l;++P)s[P]=E*a[d+P]+w*a[u+P]+T*a[c+P]+C*a[f+P];return s}}class UV extends pl{constructor(e,n,i,o){super(e,n,i,o)}interpolate_(e,n,i,o){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=e*l,u=c-l,d=(i-n)/(o-n),f=1-d;for(let h=0;h!==l;++h)s[h]=a[u+h]*f+a[c+h]*d;return s}}class fOe extends pl{constructor(e,n,i,o){super(e,n,i,o)}interpolate_(e){return this.copySampleValue_(e-1)}}class da{constructor(e,n,i,o){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=er.convertArray(n,this.TimeBufferType),this.values=er.convertArray(i,this.ValueBufferType),this.setInterpolation(o||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:er.convertArray(e.times,Array),values:er.convertArray(e.values,Array)};const o=e.getInterpolation();o!==e.DefaultInterpolation&&(i.interpolation=o)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new fOe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new UV(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new dOe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Jf:n=this.InterpolantFactoryMethodDiscrete;break;case Hu:n=this.InterpolantFactoryMethodLinear;break;case pC:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Jf;case this.InterpolantFactoryMethodLinear:return Hu;case this.InterpolantFactoryMethodSmooth:return pC}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,o=n.length;i!==o;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,o=n.length;i!==o;++i)n[i]*=e}return this}trim(e,n){const i=this.times,o=i.length;let s=0,a=o-1;for(;s!==o&&i[s]<e;)++s;for(;a!==-1&&i[a]>n;)--a;if(++a,s!==0||a!==o){s>=a&&(a=Math.max(a,1),s=a-1);const l=this.getValueSize();this.times=er.arraySlice(i,s,a),this.values=er.arraySlice(this.values,s*l,a*l)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,o=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let l=0;l!==s;l++){const c=i[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(a!==null&&a>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,a),e=!1;break}a=c}if(o!==void 0&&er.isTypedArray(o))for(let l=0,c=o.length;l!==c;++l){const u=o[l];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,u),e=!1;break}}return e}optimize(){const e=er.arraySlice(this.times),n=er.arraySlice(this.values),i=this.getValueSize(),o=this.getInterpolation()===pC,s=e.length-1;let a=1;for(let l=1;l<s;++l){let c=!1;const u=e[l],d=e[l+1];if(u!==d&&(l!==1||u!==e[0]))if(o)c=!0;else{const f=l*i,h=f-i,v=f+i;for(let m=0;m!==i;++m){const _=n[f+m];if(_!==n[h+m]||_!==n[v+m]){c=!0;break}}}if(c){if(l!==a){e[a]=e[l];const f=l*i,h=a*i;for(let v=0;v!==i;++v)n[h+v]=n[f+v]}++a}}if(s>0){e[a]=e[s];for(let l=s*i,c=a*i,u=0;u!==i;++u)n[c+u]=n[l+u];++a}return a!==e.length?(this.times=er.arraySlice(e,0,a),this.values=er.arraySlice(n,0,a*i)):(this.times=e,this.values=n),this}clone(){const e=er.arraySlice(this.times,0),n=er.arraySlice(this.values,0),i=this.constructor,o=new i(this.name,e,n);return o.createInterpolant=this.createInterpolant,o}}da.prototype.TimeBufferType=Float32Array;da.prototype.ValueBufferType=Float32Array;da.prototype.DefaultInterpolation=Hu;class Ph extends da{}Ph.prototype.ValueTypeName="bool";Ph.prototype.ValueBufferType=Array;Ph.prototype.DefaultInterpolation=Jf;Ph.prototype.InterpolantFactoryMethodLinear=void 0;Ph.prototype.InterpolantFactoryMethodSmooth=void 0;class jV extends da{}jV.prototype.ValueTypeName="color";class n0 extends da{}n0.prototype.ValueTypeName="number";class hOe extends pl{constructor(e,n,i,o){super(e,n,i,o)}interpolate_(e,n,i,o){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=(i-n)/(o-n);let u=e*l;for(let d=u+l;u!==d;u+=4)Pi.slerpFlat(s,0,a,u-l,a,u,c);return s}}class Ju extends da{InterpolantFactoryMethodLinear(e){return new hOe(this.times,this.values,this.getValueSize(),e)}}Ju.prototype.ValueTypeName="quaternion";Ju.prototype.DefaultInterpolation=Hu;Ju.prototype.InterpolantFactoryMethodSmooth=void 0;class Rh extends da{}Rh.prototype.ValueTypeName="string";Rh.prototype.ValueBufferType=Array;Rh.prototype.DefaultInterpolation=Jf;Rh.prototype.InterpolantFactoryMethodLinear=void 0;Rh.prototype.InterpolantFactoryMethodSmooth=void 0;class r0 extends da{}r0.prototype.ValueTypeName="vector";class bM{constructor(e,n=-1,i,o=mC){this.name=e,this.tracks=i,this.duration=n,this.blendMode=o,this.uuid=Zs(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,o=1/(e.fps||1);for(let a=0,l=i.length;a!==l;++a)n.push(mOe(i[a]).scale(o));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],i=e.tracks,o={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)n.push(da.toJSON(i[s]));return o}static CreateFromMorphTargetSequence(e,n,i,o){const s=n.length,a=[];for(let l=0;l<s;l++){let c=[],u=[];c.push((l+s-1)%s,l,(l+1)%s),u.push(0,1,0);const d=er.getKeyframeOrder(c);c=er.sortedArray(c,1,d),u=er.sortedArray(u,1,d),!o&&c[0]===0&&(c.push(s),u.push(u[0])),a.push(new n0(".morphTargetInfluences["+n[l].name+"]",c,u).scale(1/i))}return new this(e,-1,a)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const o=e;i=o.geometry&&o.geometry.animations||o.animations}for(let o=0;o<i.length;o++)if(i[o].name===n)return i[o];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const o={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){const u=e[l],d=u.name.match(s);if(d&&d.length>1){const f=d[1];let h=o[f];h||(o[f]=h=[]),h.push(u)}}const a=[];for(const l in o)a.push(this.CreateFromMorphTargetSequence(l,o[l],n,i));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(f,h,v,m,_){if(v.length!==0){const S=[],E=[];er.flattenJSON(v,S,E,m),S.length!==0&&_.push(new f(h,S,E))}},o=[],s=e.name||"default",a=e.fps||30,l=e.blendMode;let c=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const v={};let m;for(m=0;m<h.length;m++)if(h[m].morphTargets)for(let _=0;_<h[m].morphTargets.length;_++)v[h[m].morphTargets[_]]=-1;for(const _ in v){const S=[],E=[];for(let w=0;w!==h[m].morphTargets.length;++w){const T=h[m];S.push(T.time),E.push(T.morphTarget===_?1:0)}o.push(new n0(".morphTargetInfluence["+_+"]",S,E))}c=v.length*(a||1)}else{const v=".bones["+n[f].name+"]";i(r0,v+".position",h,"pos",o),i(Ju,v+".quaternion",h,"rot",o),i(r0,v+".scale",h,"scl",o)}}return o.length===0?null:new this(s,c,o,l)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,o=e.length;i!==o;++i){const s=this.tracks[i];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function pOe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return n0;case"vector":case"vector2":case"vector3":case"vector4":return r0;case"color":return jV;case"quaternion":return Ju;case"bool":case"boolean":return Ph;case"string":return Rh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function mOe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=pOe(t.type);if(t.times===void 0){const n=[],i=[];er.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Lh={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class gOe{constructor(e,n,i){const o=this;let s=!1,a=0,l=0,c;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(d){l++,s===!1&&o.onStart!==void 0&&o.onStart(d,a,l),s=!0},this.itemEnd=function(d){a++,o.onProgress!==void 0&&o.onProgress(d,a,l),a===l&&(s=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(d){o.onError!==void 0&&o.onError(d)},this.resolveURL=function(d){return c?c(d):d},this.setURLModifier=function(d){return c=d,this},this.addHandler=function(d,f){return u.push(d,f),this},this.removeHandler=function(d){const f=u.indexOf(d);return f!==-1&&u.splice(f,2),this},this.getHandler=function(d){for(let f=0,h=u.length;f<h;f+=2){const v=u[f],m=u[f+1];if(v.global&&(v.lastIndex=0),v.test(d))return m}return null}}}const vOe=new gOe;class to{constructor(e){this.manager=e!==void 0?e:vOe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(o,s){i.load(e,o,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const ml={};class gl extends to{constructor(e){super(e)}load(e,n,i,o){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Lh.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(ml[e]!==void 0){ml[e].push({onLoad:n,onProgress:i,onError:o});return}ml[e]=[],ml[e].push({onLoad:n,onProgress:i,onError:o});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(a).then(l=>{if(l.status===200||l.status===0){if(l.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||l.body.getReader===void 0)return l;const c=ml[e],u=l.body.getReader(),d=l.headers.get("Content-Length"),f=d?parseInt(d):0,h=f!==0;let v=0;const m=new ReadableStream({start(_){S();function S(){u.read().then(({done:E,value:w})=>{if(E)_.close();else{v+=w.byteLength;const T=new ProgressEvent("progress",{lengthComputable:h,loaded:v,total:f});for(let C=0,P=c.length;C<P;C++){const R=c[C];R.onProgress&&R.onProgress(T)}_.enqueue(w),S()}})}}});return new Response(m)}else throw Error(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`)}).then(l=>{switch(this.responseType){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(c=>new DOMParser().parseFromString(c,this.mimeType));case"json":return l.json();default:return l.text()}}).then(l=>{Lh.add(e,l);const c=ml[e];delete ml[e];for(let u=0,d=c.length;u<d;u++){const f=c[u];f.onLoad&&f.onLoad(l)}}).catch(l=>{const c=ml[e];if(c===void 0)throw this.manager.itemError(e),l;delete ml[e];for(let u=0,d=c.length;u<d;u++){const f=c[u];f.onError&&f.onError(l)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class EM extends to{constructor(e){super(e)}load(e,n,i,o){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Lh.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a;const l=cb("img");function c(){d(),Lh.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(f){d(),o&&o(f),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){l.removeEventListener("load",c,!1),l.removeEventListener("error",u,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",u,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(e),l.src=e,l}}class yOe extends to{constructor(e){super(e)}load(e,n,i,o){const s=new Mb,a=new EM(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let l=0;function c(u){a.load(e[u],function(d){s.images[u]=d,l++,l===6&&(s.needsUpdate=!0,n&&n(s))},void 0,o)}for(let u=0;u<e.length;++u)c(u);return s}}class _Oe extends to{constructor(e){super(e)}load(e,n,i,o){const s=this,a=new nM,l=new gl(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(e,function(c){const u=s.parse(c);!u||(u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:Zr,a.wrapT=u.wrapT!==void 0?u.wrapT:Zr,a.magFilter=u.magFilter!==void 0?u.magFilter:Ln,a.minFilter=u.minFilter!==void 0?u.minFilter:Ln,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(a.encoding=u.encoding),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=il),u.mipmapCount===1&&(a.minFilter=Ln),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,n&&n(a,u))},i,o),a}}class Jb extends to{constructor(e){super(e)}load(e,n,i,o){const s=new fr,a=new EM(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){s.image=l,s.needsUpdate=!0,n!==void 0&&n(s)},i,o),s}}class fa extends dn{constructor(e,n=1){super();this.type="Light",this.color=new at(e),this.intensity=n}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}fa.prototype.isLight=!0;class bOe extends fa{constructor(e,n,i){super(e,i);this.type="HemisphereLight",this.position.copy(dn.DefaultUp),this.updateMatrix(),this.groundColor=new at(n)}copy(e){return fa.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}bOe.prototype.isHemisphereLight=!0;const BV=new ut,VV=new ee,HV=new ee;class wM{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ue(512,512),this.map=null,this.mapPass=null,this.matrix=new ut,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Rb,this._frameExtents=new Ue(1,1),this._viewportCount=1,this._viewports=[new In(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;VV.setFromMatrixPosition(e.matrixWorld),n.position.copy(VV),HV.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(HV),n.updateMatrixWorld(),BV.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(BV),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(n.projectionMatrix),i.multiply(n.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class zV extends wM{constructor(){super(new zr(50,1,.5,500));this.focus=1}updateMatrices(e){const n=this.camera,i=Fg*2*e.angle*this.focus,o=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(i!==n.fov||o!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=o,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}zV.prototype.isSpotLightShadow=!0;class GV extends fa{constructor(e,n,i=0,o=Math.PI/3,s=0,a=1){super(e,n);this.type="SpotLight",this.position.copy(dn.DefaultUp),this.updateMatrix(),this.target=new dn,this.distance=i,this.angle=o,this.penumbra=s,this.decay=a,this.shadow=new zV}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}GV.prototype.isSpotLight=!0;const $V=new ut,i0=new ee,xM=new ee;class WV extends wM{constructor(){super(new zr(90,1,.5,500));this._frameExtents=new Ue(4,2),this._viewportCount=6,this._viewports=[new In(2,1,1,1),new In(0,1,1,1),new In(3,1,1,1),new In(1,1,1,1),new In(3,0,1,1),new In(1,0,1,1)],this._cubeDirections=[new ee(1,0,0),new ee(-1,0,0),new ee(0,0,1),new ee(0,0,-1),new ee(0,1,0),new ee(0,-1,0)],this._cubeUps=[new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,0,1),new ee(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,o=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),i0.setFromMatrixPosition(e.matrixWorld),i.position.copy(i0),xM.copy(i.position),xM.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(xM),i.updateMatrixWorld(),o.makeTranslation(-i0.x,-i0.y,-i0.z),$V.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix($V)}}WV.prototype.isPointLightShadow=!0;class Zb extends fa{constructor(e,n,i=0,o=1){super(e,n);this.type="PointLight",this.distance=i,this.decay=o,this.shadow=new WV}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}Zb.prototype.isPointLight=!0;class qV extends wM{constructor(){super(new mh(-5,5,5,-5,.5,500))}}qV.prototype.isDirectionalLightShadow=!0;class Qb extends fa{constructor(e,n){super(e,n);this.type="DirectionalLight",this.position.copy(dn.DefaultUp),this.updateMatrix(),this.target=new dn,this.shadow=new qV}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Qb.prototype.isDirectionalLight=!0;class EOe extends fa{constructor(e,n){super(e,n);this.type="AmbientLight"}}EOe.prototype.isAmbientLight=!0;class wOe extends fa{constructor(e,n,i=10,o=10){super(e,n);this.type="RectAreaLight",this.width=i,this.height=o}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}wOe.prototype.isRectAreaLight=!0;class YV{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ee)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,o=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*o),n.addScaledVector(a[2],.488603*s),n.addScaledVector(a[3],.488603*i),n.addScaledVector(a[4],1.092548*(i*o)),n.addScaledVector(a[5],1.092548*(o*s)),n.addScaledVector(a[6],.315392*(3*s*s-1)),n.addScaledVector(a[7],1.092548*(i*s)),n.addScaledVector(a[8],.546274*(i*i-o*o)),n}getIrradianceAt(e,n){const i=e.x,o=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*o),n.addScaledVector(a[2],2*.511664*s),n.addScaledVector(a[3],2*.511664*i),n.addScaledVector(a[4],2*.429043*i*o),n.addScaledVector(a[5],2*.429043*o*s),n.addScaledVector(a[6],.743125*s*s-.247708),n.addScaledVector(a[7],2*.429043*i*s),n.addScaledVector(a[8],.429043*(i*i-o*o)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let o=0;o<9;o++)i[o].fromArray(e,n+o*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let o=0;o<9;o++)i[o].toArray(e,n+o*3);return e}static getBasisAt(e,n){const i=e.x,o=e.y,s=e.z;n[0]=.282095,n[1]=.488603*o,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*o,n[5]=1.092548*o*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-o*o)}}YV.prototype.isSphericalHarmonics3=!0;class eE extends fa{constructor(e=new YV,n=1){super(void 0,n);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}eE.prototype.isLightProbe=!0;class Dc{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let n="";for(let i=0,o=e.length;i<o;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.substr(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class xOe extends Nn{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}xOe.prototype.isInstancedBufferGeometry=!0;class KV extends to{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,o){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Lh.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a;const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,fetch(e,l).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){Lh.add(e,c),n&&n(c),s.manager.itemEnd(e)}).catch(function(c){o&&o(c),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}KV.prototype.isImageBitmapLoader=!0;let tE;const SOe={getContext:function(){return tE===void 0&&(tE=new(window.AudioContext||window.webkitAudioContext)),tE},setContext:function(t){tE=t}};class TOe extends to{constructor(e){super(e)}load(e,n,i,o){const s=this,a=new gl(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);SOe.getContext().decodeAudioData(c,function(d){n(d)})}catch(c){o?o(c):console.error(c),s.manager.itemError(e)}},i,o)}}class COe extends eE{constructor(e,n,i=1){super(void 0,i);const o=new at().set(e),s=new at().set(n),a=new ee(o.r,o.g,o.b),l=new ee(s.r,s.g,s.b),c=Math.sqrt(Math.PI),u=c*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(l).multiplyScalar(c),this.sh.coefficients[1].copy(a).sub(l).multiplyScalar(u)}}COe.prototype.isHemisphereLightProbe=!0;class MOe extends eE{constructor(e,n=1){super(void 0,n);const i=new at().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}MOe.prototype.isAmbientLightProbe=!0;class AOe extends dn{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}class POe{constructor(e,n,i){this.binding=e,this.valueSize=i;let o,s,a;switch(n){case"quaternion":o=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":o=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:o=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=o,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,o=this.valueSize,s=e*o+o;let a=this.cumulativeWeight;if(a===0){for(let l=0;l!==o;++l)i[s+l]=i[l];a=n}else{a+=n;const l=n/a;this._mixBufferRegion(i,s,0,l,o)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,o=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,o,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,o=e*n+n,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=n*this._origIndex;this._mixBufferRegion(i,o,c,1-s,n)}a>0&&this._mixBufferRegionAdditive(i,o,this._addIndex*n,1,n);for(let c=n,u=n+n;c!==u;++c)if(i[c]!==i[c+n]){l.setValue(i,o);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,o=i*this._origIndex;e.getValue(n,o);for(let s=i,a=o;s!==a;++s)n[s]=n[o+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,o,s){if(o>=.5)for(let a=0;a!==s;++a)e[n+a]=e[i+a]}_slerp(e,n,i,o){Pi.slerpFlat(e,n,e,n,e,i,o)}_slerpAdditive(e,n,i,o,s){const a=this._workIndex*s;Pi.multiplyQuaternionsFlat(e,a,e,n,e,i),Pi.slerpFlat(e,n,e,n,e,a,o)}_lerp(e,n,i,o,s){const a=1-o;for(let l=0;l!==s;++l){const c=n+l;e[c]=e[c]*a+e[i+l]*o}}_lerpAdditive(e,n,i,o,s){for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]+e[i+a]*o}}}const SM="\\[\\]\\.:\\/",ROe=new RegExp("["+SM+"]","g"),TM="[^"+SM+"]",LOe="[^"+SM.replace("\\.","")+"]",IOe=/((?:WC+[\/:])*)/.source.replace("WC",TM),OOe=/(WCOD+)?/.source.replace("WCOD",LOe),NOe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",TM),kOe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",TM),DOe=new RegExp("^"+IOe+OOe+NOe+kOe+"$"),FOe=["material","materials","bones"];class UOe{constructor(e,n,i){const o=i||an.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,o)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,o=this._bindings[i];o!==void 0&&o.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let o=this._targetGroup.nCachedObjects_,s=i.length;o!==s;++o)i[o].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class an{constructor(e,n,i){this.path=n,this.parsedPath=i||an.parseTrackName(n),this.node=an.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new an.Composite(e,n,i):new an(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(ROe,"")}static parseTrackName(e){const n=DOe.exec(e);if(!n)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},o=i.nodeName&&i.nodeName.lastIndexOf(".");if(o!==void 0&&o!==-1){const s=i.nodeName.substring(o+1);FOe.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,o),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(!n||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const l=s[a];if(l.name===n||l.uuid===n)return l;const c=i(l.children);if(c)return c}return null},o=i(e.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)e[n++]=i[o]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,o=n.propertyName;let s=n.propertyIndex;if(e||(e=an.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let u=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[o];if(a===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+o+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(o==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=o;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}an.Composite=UOe;an.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};an.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};an.prototype.GetterByBindingType=[an.prototype._getValue_direct,an.prototype._getValue_array,an.prototype._getValue_arrayElement,an.prototype._getValue_toArray];an.prototype.SetterByBindingTypeAndVersioning=[[an.prototype._setValue_direct,an.prototype._setValue_direct_setNeedsUpdate,an.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[an.prototype._setValue_array,an.prototype._setValue_array_setNeedsUpdate,an.prototype._setValue_array_setMatrixWorldNeedsUpdate],[an.prototype._setValue_arrayElement,an.prototype._setValue_arrayElement_setNeedsUpdate,an.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[an.prototype._setValue_fromArray,an.prototype._setValue_fromArray_setNeedsUpdate,an.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class jOe{constructor(e,n,i=null,o=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=o;const s=n.tracks,a=s.length,l=new Array(a),c={endingStart:Zf,endingEnd:Zf};for(let u=0;u!==a;++u){const d=s[u].createInterpolant(null);l[u]=d,d.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=fC,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const o=this._clip.duration,s=e._clip.duration,a=s/o,l=o/s;e.warp(1,a,n),this.warp(l,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const o=this._mixer,s=o.time,a=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=o._lendControlInterpolant(),this._timeScaleInterpolant=l);const c=l.parameterPositions,u=l.sampleValues;return c[0]=s,c[1]=s+i,u[0]=e/a,u[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,o){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*i;if(c<0||i===0)return;this._startTime=null,n=i*c}n*=this._updateTimeScale(e);const a=this._updateTime(n),l=this._updateWeight(e);if(l>0){const c=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case eB:for(let d=0,f=c.length;d!==f;++d)c[d].evaluate(a),u[d].accumulateAdditive(l);break;case mC:default:for(let d=0,f=c.length;d!==f;++d)c[d].evaluate(a),u[d].accumulate(o,l)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const o=i.evaluate(e)[0];n*=o,e>i.parameterPositions[1]&&(this.stopFading(),o===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;i!==null&&(n*=i.evaluate(e)[0],e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n))}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let o=this.time+e,s=this._loopCount;const a=i===hC;if(e===0)return s===-1?o:a&&(s&1)==1?n-o:o;if(i===Qj){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(o>=n)o=n;else if(o<0)o=0;else{this.time=o;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),o>=n||o<0){const l=Math.floor(o/n);o-=n*l,s+=Math.abs(l);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,o=e>0?n:0,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=o,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=o;if(a&&(s&1)==1)return n-o}return o}_setEndings(e,n,i){const o=this._interpolantSettings;i?(o.endingStart=Qf,o.endingEnd=Qf):(e?o.endingStart=this.zeroSlopeAtStart?Qf:Zf:o.endingStart=ob,n?o.endingEnd=this.zeroSlopeAtEnd?Qf:Zf:o.endingEnd=ob)}_scheduleFading(e,n,i){const o=this._mixer,s=o.time;let a=this._weightInterpolant;a===null&&(a=o._lendControlInterpolant(),this._weightInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,c[0]=n,l[1]=s+e,c[1]=i,this}}class XV extends _s{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,o=e._clip.tracks,s=o.length,a=e._propertyBindings,l=e._interpolants,c=i.uuid,u=this._bindingsByRootAndName;let d=u[c];d===void 0&&(d={},u[c]=d);for(let f=0;f!==s;++f){const h=o[f],v=h.name;let m=d[v];if(m!==void 0)a[f]=m;else{if(m=a[f],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,c,v));continue}const _=n&&n._propertyBindings[f].binding.parsedPath;m=new POe(an.create(i,v,_),h.ValueTypeName,h.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,c,v),a[f]=m}l[f].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,o=e._clip.uuid,s=this._actionsByClip[o];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,o,i)}const n=e._propertyBindings;for(let i=0,o=n.length;i!==o;++i){const s=n[i];s.useCount++==0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,o=n.length;i!==o;++i){const s=n[i];--s.useCount==0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const o=this._actions,s=this._actionsByClip;let a=s[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=a;else{const l=a.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=o.length,o.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],o=e._cacheIndex;i._cacheIndex=o,n[o]=i,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,l=a[s],c=l.knownActions,u=c[c.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,c[d]=u,c.pop(),e._byClipCacheIndex=null;const f=l.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],c.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,o=n.length;i!==o;++i){const s=n[i];--s.referenceCount==0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,o=this._nActiveActions++,s=n[o];e._cacheIndex=o,n[o]=e,s._cacheIndex=i,n[i]=s}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,o=--this._nActiveActions,s=n[o];e._cacheIndex=o,n[o]=e,s._cacheIndex=i,n[i]=s}_addInactiveBinding(e,n,i){const o=this._bindingsByRootAndName,s=this._bindings;let a=o[n];a===void 0&&(a={},o[n]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,o=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,l=a[o],c=n[n.length-1],u=e._cacheIndex;c._cacheIndex=u,n[u]=c,n.pop(),delete l[s],Object.keys(l).length===0&&delete a[o]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,o=this._nActiveBindings++,s=n[o];e._cacheIndex=o,n[o]=e,s._cacheIndex=i,n[i]=s}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,o=--this._nActiveBindings,s=n[o];e._cacheIndex=o,n[o]=e,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new UV(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,o=--this._nActiveControlInterpolants,s=n[o];e.__cacheIndex=o,n[o]=e,s.__cacheIndex=i,n[i]=s}clipAction(e,n,i){const o=n||this._root,s=o.uuid;let a=typeof e=="string"?bM.findByName(o,e):e;const l=a!==null?a.uuid:e,c=this._actionsByClip[l];let u=null;if(i===void 0&&(a!==null?i=a.blendMode:i=mC),c!==void 0){const f=c.actionByRoot[s];if(f!==void 0&&f.blendMode===i)return f;u=c.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const d=new jOe(this,a,n,i);return this._bindAction(d,u),this._addInactiveAction(d,l,s),d}existingAction(e,n){const i=n||this._root,o=i.uuid,s=typeof e=="string"?bM.findByName(i,e):e,a=s?s.uuid:e,l=this._actionsByClip[a];return l!==void 0&&l.actionByRoot[o]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,o=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==i;++u)n[u]._update(o,e,s,a);const l=this._bindings,c=this._nActiveBindings;for(let u=0;u!==c;++u)l[u].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,o=this._actionsByClip,s=o[i];if(s!==void 0){const a=s.knownActions;for(let l=0,c=a.length;l!==c;++l){const u=a[l];this._deactivateAction(u);const d=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=d,n[d]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete o[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const a in i){const l=i[a].actionByRoot,c=l[n];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const o=this._bindingsByRootAndName,s=o[n];if(s!==void 0)for(const a in s){const l=s[a];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}XV.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class BOe extends bh{constructor(e,n,i=1){super(e,n);this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}BOe.prototype.isInstancedInterleavedBuffer=!0;class VOe{constructor(e,n,i=0,o=1/0){this.ray=new Wu(e,n),this.near=i,this.far=o,this.camera=null,this.layers=new AC,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n&&n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n&&n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,i=[]){return CM(e,this,i,n),i.sort(JV),i}intersectObjects(e,n=!0,i=[]){for(let o=0,s=e.length;o<s;o++)CM(e[o],this,i,n);return i.sort(JV),i}}function JV(t,e){return t.distance-e.distance}function CM(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),i===!0){const o=t.children;for(let s=0,a=o.length;s<a;s++)CM(o[s],e,n,!0)}}class nE{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Ai(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const Fc=new ee,rE=new ut,MM=new ut;class HOe extends Hb{constructor(e){const n=ZV(e),i=new Nn,o=[],s=[],a=new at(0,0,1),l=new at(0,1,0);for(let u=0;u<n.length;u++){const d=n[u];d.parent&&d.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(a.r,a.g,a.b),s.push(l.r,l.g,l.b))}i.setAttribute("position",new kr(o,3)),i.setAttribute("color",new kr(s,3));const c=new Ch({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,c);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,o=i.getAttribute("position");MM.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<n.length;s++){const l=n[s];l.parent&&l.parent.isBone&&(rE.multiplyMatrices(MM,l.matrixWorld),Fc.setFromMatrixPosition(rE),o.setXYZ(a,Fc.x,Fc.y,Fc.z),rE.multiplyMatrices(MM,l.parent.matrixWorld),Fc.setFromMatrixPosition(rE),o.setXYZ(a+1,Fc.x,Fc.y,Fc.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function ZV(t){const e=[];t&&t.isBone&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,ZV(t.children[n]));return e}class zOe extends Hb{constructor(e=10,n=10,i=4473924,o=8947848){i=new at(i),o=new at(o);const s=n/2,a=e/n,l=e/2,c=[],u=[];for(let h=0,v=0,m=-l;h<=n;h++,m+=a){c.push(-l,0,m,l,0,m),c.push(m,0,-l,m,0,l);const _=h===s?i:o;_.toArray(u,v),v+=3,_.toArray(u,v),v+=3,_.toArray(u,v),v+=3,_.toArray(u,v),v+=3}const d=new Nn;d.setAttribute("position",new kr(c,3)),d.setAttribute("color",new kr(u,3));const f=new Ch({vertexColors:!0,toneMapped:!1});super(d,f);this.type="GridHelper"}}const QV=new Float32Array(1),GOe=new Int32Array(QV.buffer);class AM{static toHalfFloat(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),QV[0]=e;const n=GOe[0];let i=n>>16&32768,o=n>>12&2047;const s=n>>23&255;return s<103?i:s>142?(i|=31744,i|=(s==255?0:1)&&n&8388607,i):s<113?(o|=2048,i|=(o>>114-s)+(o>>113-s&1),i):(i|=s-112<<10|o>>1,i+=o&1,i)}}eo.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(eo.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t};gM.prototype.fromPoints=function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)};zOe.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};HOe.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};to.prototype.extractUrlBase=function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Dc.extractUrlBase(t)};to.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Ri.prototype.center=function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)};Ri.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Ri.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};Ri.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)};Ri.prototype.size=function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)};Sc.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Rb.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)};Nr.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)};Nr.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)};Nr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Nr.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)};Nr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Nr.prototype.getInverse=function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()};ut.prototype.extractPosition=function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)};ut.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)};ut.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new ee().setFromMatrixColumn(this,3)};ut.prototype.setRotationFromQuaternion=function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)};ut.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};ut.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};ut.prototype.multiplyVector4=function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};ut.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};ut.prototype.rotateAxis=function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)};ut.prototype.crossVector=function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};ut.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};ut.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};ut.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};ut.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};ut.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};ut.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};ut.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};ut.prototype.makeFrustum=function(t,e,n,i,o,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,o,s)};ut.prototype.getInverse=function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()};dl.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)};Pi.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)};Pi.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Wu.prototype.isIntersectionBox=function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};Wu.prototype.isIntersectionPlane=function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)};Wu.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)};Sr.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Sr.prototype.barycoordFromPoint=function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)};Sr.prototype.midpoint=function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)};Sr.prototypenormal=function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)};Sr.prototype.plane=function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)};Sr.barycoordFromPoint=function(t,e,n,i,o){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Sr.getBarycoord(t,e,n,i,o)};Sr.normal=function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Sr.getNormal(t,e,n,i)};Zg.prototype.extractAllPoints=function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)};Zg.prototype.extrude=function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ah(this,t)};Zg.prototype.makeGeometry=function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new _M(this,t)};Ue.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};Ue.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)};Ue.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};ee.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};ee.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};ee.prototype.getPositionFromMatrix=function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)};ee.prototype.getScaleFromMatrix=function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)};ee.prototype.getColumnFromMatrix=function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)};ee.prototype.applyProjection=function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)};ee.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};ee.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)};ee.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};In.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};In.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};dn.prototype.getChildByName=function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)};dn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};dn.prototype.translate=function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)};dn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};dn.prototype.applyMatrix=function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)};Object.defineProperties(dn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Ct.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Ct.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),EMe},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});eM.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};zr.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(t)};Object.defineProperties(fa.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}});Object.defineProperties(On.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===ab},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(ab)}}});On.prototype.setDynamic=function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?ab:kg),this};On.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},On.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Nn.prototype.addIndex=function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)};Nn.prototype.addAttribute=function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new On(arguments[1],arguments[2]))):t==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e)};Nn.prototype.addDrawCall=function(t,e,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)};Nn.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Nn.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Nn.prototype.removeAttribute=function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)};Nn.prototype.applyMatrix=function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)};Object.defineProperties(Nn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});bh.prototype.setDynamic=function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?ab:kg),this};bh.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Ah.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Ah.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Ah.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};ua.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(Tr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new at}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===Dj}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(ul.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}});wn.prototype.clearTarget=function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)};wn.prototype.animate=function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)};wn.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};wn.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};wn.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};wn.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};wn.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};wn.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};wn.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};wn.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};wn.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};wn.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};wn.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};wn.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};wn.prototype.enableScissorTest=function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)};wn.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};wn.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};wn.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};wn.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};wn.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};wn.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};wn.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};wn.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};wn.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};wn.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(wn.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=t===!0?Ji:Or}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(rV.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(Zi.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}});AOe.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new TOe().load(t,function(i){e.setBuffer(i)}),this};zg.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};zg.prototype.clear=function(t,e,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,i)};th.crossOrigin=void 0;th.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const o=new Jb;o.setCrossOrigin(this.crossOrigin);const s=o.load(t,n,void 0,i);return e&&(s.mapping=e),s};th.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const o=new yOe;o.setCrossOrigin(this.crossOrigin);const s=o.load(t,n,void 0,i);return e&&(s.mapping=e),s};th.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};th.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:tC}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=tC);/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=navigator.xr!=null&&self.XRSession!=null&&navigator.xr.isSessionSupported!=null,tH=eH&&self.XRSession.prototype.requestHitTestSource,PM=self.ResizeObserver!=null,RM=self.IntersectionObserver!=null,nH=tH;(()=>{const t=navigator.userAgent||navigator.vendor||self.opera;let e=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e})();/\bCrOS\b/.test(navigator.userAgent);const $Oe=/android/i.test(navigator.userAgent),WOe=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!self.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,rH=(()=>{const t=document.createElement("a");return Boolean(t.relList&&t.relList.supports&&t.relList.supports("ar"))})();/Safari\//.test(navigator.userAgent);const qOe=/firefox/i.test(navigator.userAgent),YOe=/OculusBrowser/.test(navigator.userAgent);WOe&&/CriOS\//.test(navigator.userAgent);const KOe=$Oe&&!qOe&&!YOe;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XOe=Z_`
<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#000000">
    <!-- NOTE(cdata): This SVG filter is a stop-gap until we can implement
         support for dynamic re-coloring of UI components -->
    <defs>
      <filter id="drop-shadow" x="-100%" y="-100%" width="300%" height="300%">
        <feGaussianBlur in="SourceAlpha" stdDeviation="1"/>
        <feOffset dx="0" dy="0" result="offsetblur"/>
        <feFlood flood-color="#000000"/>
        <feComposite in2="offsetblur" operator="in"/>
        <feMerge>
          <feMergeNode/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>
    <path filter="url(#drop-shadow)" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JOe=Z_`
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="36">
    <defs>
        <path id="A" d="M.001.232h24.997V36H.001z" />
    </defs>
    <g transform="translate(-11 -4)" fill="none" fill-rule="evenodd">
        <path fill-opacity="0" fill="#fff" d="M0 0h44v44H0z" />
        <g transform="translate(11 3)">
            <path d="M8.733 11.165c.04-1.108.766-2.027 1.743-2.307a2.54 2.54 0 0 1 .628-.089c.16 0 .314.017.463.044 1.088.2 1.9 1.092 1.9 2.16v8.88h1.26c2.943-1.39 5-4.45 5-8.025a9.01 9.01 0 0 0-1.9-5.56l-.43-.5c-.765-.838-1.683-1.522-2.712-2-1.057-.49-2.226-.77-3.46-.77s-2.4.278-3.46.77c-1.03.478-1.947 1.162-2.71 2l-.43.5a9.01 9.01 0 0 0-1.9 5.56 9.04 9.04 0 0 0 .094 1.305c.03.21.088.41.13.617l.136.624c.083.286.196.56.305.832l.124.333a8.78 8.78 0 0 0 .509.953l.065.122a8.69 8.69 0 0 0 3.521 3.191l1.11.537v-9.178z" fill-opacity=".5" fill="#e4e4e4" />
            <path d="M22.94 26.218l-2.76 7.74c-.172.485-.676.8-1.253.8H12.24c-1.606 0-3.092-.68-3.98-1.82-1.592-2.048-3.647-3.822-6.11-5.27-.095-.055-.15-.137-.152-.23-.004-.1.046-.196.193-.297.56-.393 1.234-.6 1.926-.6a3.43 3.43 0 0 1 .691.069l4.922.994V10.972c0-.663.615-1.203 1.37-1.203s1.373.54 1.373 1.203v9.882h2.953c.273 0 .533.073.757.21l6.257 3.874c.027.017.045.042.07.06.41.296.586.77.426 1.22M4.1 16.614c-.024-.04-.042-.083-.065-.122a8.69 8.69 0 0 1-.509-.953c-.048-.107-.08-.223-.124-.333l-.305-.832c-.058-.202-.09-.416-.136-.624l-.13-.617a9.03 9.03 0 0 1-.094-1.305c0-2.107.714-4.04 1.9-5.56l.43-.5c.764-.84 1.682-1.523 2.71-2 1.058-.49 2.226-.77 3.46-.77s2.402.28 3.46.77c1.03.477 1.947 1.16 2.712 2l.428.5a9 9 0 0 1 1.901 5.559c0 3.577-2.056 6.636-5 8.026h-1.26v-8.882c0-1.067-.822-1.96-1.9-2.16-.15-.028-.304-.044-.463-.044-.22 0-.427.037-.628.09-.977.28-1.703 1.198-1.743 2.306v9.178l-1.11-.537C6.18 19.098 4.96 18 4.1 16.614M22.97 24.09l-6.256-3.874c-.102-.063-.218-.098-.33-.144 2.683-1.8 4.354-4.855 4.354-8.243 0-.486-.037-.964-.104-1.43a9.97 9.97 0 0 0-1.57-4.128l-.295-.408-.066-.092a10.05 10.05 0 0 0-.949-1.078c-.342-.334-.708-.643-1.094-.922-1.155-.834-2.492-1.412-3.94-1.65l-.732-.088-.748-.03a9.29 9.29 0 0 0-1.482.119c-1.447.238-2.786.816-3.94 1.65a9.33 9.33 0 0 0-.813.686 9.59 9.59 0 0 0-.845.877l-.385.437-.36.5-.288.468-.418.778-.04.09c-.593 1.28-.93 2.71-.93 4.222 0 3.832 2.182 7.342 5.56 8.938l1.437.68v4.946L5 25.64a4.44 4.44 0 0 0-.888-.086c-.017 0-.034.003-.05.003-.252.004-.503.033-.75.08a5.08 5.08 0 0 0-.237.056c-.193.046-.382.107-.568.18-.075.03-.15.057-.225.1-.25.114-.494.244-.723.405a1.31 1.31 0 0 0-.566 1.122 1.28 1.28 0 0 0 .645 1.051C4 29.925 5.96 31.614 7.473 33.563a5.06 5.06 0 0 0 .434.491c1.086 1.082 2.656 1.713 4.326 1.715h6.697c.748-.001 1.43-.333 1.858-.872.142-.18.256-.38.336-.602l2.757-7.74c.094-.26.13-.53.112-.794s-.088-.52-.203-.76a2.19 2.19 0 0 0-.821-.91" fill-opacity=".6" fill="#000" />
            <path d="M22.444 24.94l-6.257-3.874a1.45 1.45 0 0 0-.757-.211h-2.953v-9.88c0-.663-.616-1.203-1.373-1.203s-1.37.54-1.37 1.203v16.643l-4.922-.994a3.44 3.44 0 0 0-.692-.069 3.35 3.35 0 0 0-1.925.598c-.147.102-.198.198-.194.298.004.094.058.176.153.23 2.462 1.448 4.517 3.22 6.11 5.27.887 1.14 2.373 1.82 3.98 1.82h6.686c.577 0 1.08-.326 1.253-.8l2.76-7.74c.16-.448-.017-.923-.426-1.22-.025-.02-.043-.043-.07-.06z" fill="#fff" />
            <g transform="translate(0 .769)">
                <mask id="B" fill="#fff">
                    <use xlink:href="#A" />
                </mask>
                <path d="M23.993 24.992a1.96 1.96 0 0 1-.111.794l-2.758 7.74c-.08.22-.194.423-.336.602-.427.54-1.11.87-1.857.872h-6.698c-1.67-.002-3.24-.633-4.326-1.715-.154-.154-.3-.318-.434-.49C5.96 30.846 4 29.157 1.646 27.773c-.385-.225-.626-.618-.645-1.05a1.31 1.31 0 0 1 .566-1.122 4.56 4.56 0 0 1 .723-.405l.225-.1a4.3 4.3 0 0 1 .568-.18l.237-.056c.248-.046.5-.075.75-.08.018 0 .034-.003.05-.003.303-.001.597.027.89.086l3.722.752V20.68l-1.436-.68c-3.377-1.596-5.56-5.106-5.56-8.938 0-1.51.336-2.94.93-4.222.015-.03.025-.06.04-.09.127-.267.268-.525.418-.778.093-.16.186-.316.288-.468.063-.095.133-.186.2-.277L3.773 5c.118-.155.26-.29.385-.437.266-.3.544-.604.845-.877a9.33 9.33 0 0 1 .813-.686C6.97 2.167 8.31 1.59 9.757 1.35a9.27 9.27 0 0 1 1.481-.119 8.82 8.82 0 0 1 .748.031c.247.02.49.05.733.088 1.448.238 2.786.816 3.94 1.65.387.28.752.588 1.094.922a9.94 9.94 0 0 1 .949 1.078l.066.092c.102.133.203.268.295.408a9.97 9.97 0 0 1 1.571 4.128c.066.467.103.945.103 1.43 0 3.388-1.67 6.453-4.353 8.243.11.046.227.08.33.144l6.256 3.874c.37.23.645.55.82.9.115.24.185.498.203.76m.697-1.195c-.265-.55-.677-1.007-1.194-1.326l-5.323-3.297c2.255-2.037 3.564-4.97 3.564-8.114 0-2.19-.637-4.304-1.84-6.114-.126-.188-.26-.37-.4-.552-.645-.848-1.402-1.6-2.252-2.204C15.472.91 13.393.232 11.238.232A10.21 10.21 0 0 0 5.23 2.19c-.848.614-1.606 1.356-2.253 2.205-.136.18-.272.363-.398.55C1.374 6.756.737 8.87.737 11.06c0 4.218 2.407 8.08 6.133 9.842l.863.41v3.092l-2.525-.51c-.356-.07-.717-.106-1.076-.106a5.45 5.45 0 0 0-3.14.996c-.653.46-1.022 1.202-.99 1.983a2.28 2.28 0 0 0 1.138 1.872c2.24 1.318 4.106 2.923 5.543 4.772 1.26 1.62 3.333 2.59 5.55 2.592h6.698c1.42-.001 2.68-.86 3.134-2.138l2.76-7.74c.272-.757.224-1.584-.134-2.325" fill-opacity=".05" fill="#000" mask="url(#B)" />
            </g>
        </g>
    </g>
</svg>`;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZOe=Z_`
<svg version="1.1" id="view_x5F_in_x5F_AR_x5F_icon"
	 xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px"
	 viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
<rect id="Bounding_Box" x="0" y="0" fill="none" width="24" height="24"/>
<g id="Art_layer">
	<path d="M3,4c0-0.55,0.45-1,1-1h2V1H4C2.35,1,1,2.35,1,4v2h2V4z"/>
	<path d="M20,3c0.55,0,1,0.45,1,1v2h2V4c0-1.65-1.35-3-3-3h-2v2H20z"/>
	<path d="M4,21c-0.55,0-1-0.45-1-1v-2H1v2c0,1.65,1.35,3,3,3h2v-2H4z"/>
	<path d="M20,21c0.55,0,1-0.45,1-1v-2h2v2c0,1.65-1.35,3-3,3h-2v-2H20z"/>
	<g>
		<path d="M18.25,7.6l-5.5-3.18c-0.46-0.27-1.04-0.27-1.5,0L5.75,7.6C5.29,7.87,5,8.36,5,8.9v6.35c0,0.54,0.29,1.03,0.75,1.3
			l5.5,3.18c0.46,0.27,1.04,0.27,1.5,0l5.5-3.18c0.46-0.27,0.75-0.76,0.75-1.3V8.9C19,8.36,18.71,7.87,18.25,7.6z M7,14.96v-4.62
			l4,2.32v4.61L7,14.96z M12,10.93L8,8.61l4-2.31l4,2.31L12,10.93z M13,17.27v-4.61l4-2.32v4.62L13,17.27z"/>
	</g>
</g>
</svg>`;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QOe=Z_`
<style>
:host {
  display: block;
  position: relative;
  contain: strict;
  width: 300px;
  height: 150px;
}

/* NOTE: This ruleset is our integration surface area with the
 * :focus-visible polyfill.
 *
 * @see https://github.com/WICG/focus-visible/pull/196 */
:host([data-js-focus-visible]:focus:not(.focus-visible)),
:host([data-js-focus-visible]) :focus:not(.focus-visible) {
  outline: none;
}

.container {
  position: relative;
}

.userInput {
  width: 100%;
  height: 100%;
  display: block;
  position: relative;
  overflow: hidden;
}

canvas {
  position: absolute;
  display: none;
  pointer-events: none;
  /* NOTE(cdata): Chrome 76 and below apparently have a bug
   * that causes our canvas not to display pixels unless it is
   * on its own render layer
   * @see https://github.com/google/model-viewer/pull/755#issuecomment-536597893
   */
  transform: translateZ(0);
}

canvas.show {
  display: block;
}

/* Adapted from HTML5 Boilerplate
 *
 * @see https://github.com/h5bp/html5-boilerplate/blob/ceb4620c78fc82e13534fc44202a3f168754873f/dist/css/main.css#L122-L133 */
.screen-reader-only {
  border: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}

.slot {
  position: absolute;
  pointer-events: none;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.slot > * {
  pointer-events: initial;
}

.annotation-wrapper ::slotted(*) {
  opacity: var(--max-hotspot-opacity, 1);
  transition: opacity 0.3s;
}

.pointer-tumbling .annotation-wrapper ::slotted(*) {
  pointer-events: none;
}

.annotation-wrapper ::slotted(*) {
  pointer-events: initial;
}

.annotation-wrapper.hide ::slotted(*) {
  opacity: var(--min-hotspot-opacity, 0.25);
}

.slot.poster {
  opacity: 0;
  transition: opacity 0.3s 0.3s;
  background-color: inherit;
}

.slot.poster.show {
  opacity: 1;
  transition: none;
}

.slot.poster.quick {
  transition: none;
}

.slot.poster > * {
  pointer-events: initial;
}

.slot.poster:not(.show) > * {
  pointer-events: none;
}

#default-poster {
  width: 100%;
  height: 100%;
  /* The default poster is a <button> so we need to set display
   * to prevent it from being affected by text-align: */
  display: block;
  position: absolute;
  border: none;
  padding: 0;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: var(--poster-color, #fff);
  background-image: var(--poster-image, none);
}

#default-progress-bar {
  display: block;
  position: relative;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
}

#default-progress-bar > .mask {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--progress-mask, #fff);
  transition: opacity 0.3s;
  opacity: 0.2;
}

#default-progress-bar > .bar {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--progress-bar-height, 5px);
  background-color: var(--progress-bar-color, rgba(0, 0, 0, 0.4));
  transition: transform 0.09s;
  transform-origin: top left;
  transform: scaleX(0);
  overflow: hidden;
}

#default-progress-bar > .bar.hide {
  transition: opacity 0.3s 1s;
  opacity: 0;
}

.slot.interaction-prompt {
  display: var(--interaction-prompt-display, flex);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  align-items: center;
  justify-content: center;

  opacity: 0;
  will-change: opacity;
  overflow: hidden;
  transition: opacity 0.3s;
}

.slot.interaction-prompt.visible {
  opacity: 1;
}

.slot.interaction-prompt > .animated-container {
  will-change: transform, opacity;
}

.slot.interaction-prompt > * {
  pointer-events: none;
}

.slot.ar-button {
  -moz-user-select: none;
  -webkit-tap-highlight-color: transparent;
  user-select: none;

  display: var(--ar-button-display, block);
}

.slot.ar-button:not(.enabled) {
  display: none;
}

.fab {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: 40px;
  height: 40px;
  cursor: pointer;
  background-color: #fff;
  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.15);
  border-radius: 100px;
}

.fab > * {
  opacity: 0.87;
}

#default-ar-button {
  position: absolute;
  bottom: 16px;
  right: 16px;
  transform: scale(var(--ar-button-scale, 1));
  transform-origin: bottom right;
}

.slot.default {
  pointer-events: none;
}

.slot.progress-bar {
  pointer-events: none;
}

.slot.exit-webxr-ar-button {
  pointer-events: none;
}

.slot.exit-webxr-ar-button:not(.enabled) {
  display: none;
}

#default-exit-webxr-ar-button {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: 16px;
  right: 16px;
  width: 40px;
  height: 40px;
  box-sizing: border-box;
}

#default-exit-webxr-ar-button > svg {
  fill: #fff;
}
</style>
<div class="container">
  <div class="userInput" tabindex="0" role="img"
      aria-label="A depiction of a 3D model"
      aria-live="polite">
      <div class="slot canvas">
        <slot name="canvas">
          <canvas></canvas>
        </slot>
      </div>
  </div>

  <!-- NOTE(cdata): We need to wrap slots because browsers without ShadowDOM
        will have their <slot> elements removed by ShadyCSS -->
  <div class="slot poster">
    <slot name="poster">
      <button type="button" id="default-poster" aria-hidden="true" aria-label="Activate to view in 3D!"></button>
    </slot>
  </div>

  <div class="slot ar-button">
    <slot name="ar-button">
      <a id="default-ar-button" part="default-ar-button" class="fab"
          tabindex="2"
          aria-label="View this 3D model up close">
        ${ZOe}
      </a>
    </slot>
  </div>

  <div class="slot interaction-prompt">
    <div class="animated-container">
      <slot name="interaction-prompt" aria-hidden="true">
        ${JOe}
      </slot>
    </div>
  </div>

  <div class="slot default">
    <slot></slot>

    <div class="slot progress-bar">
      <slot name="progress-bar">
        <div id="default-progress-bar" aria-hidden="true">
          <div class="mask" part="default-progress-mask"></div>
          <div class="bar" part="default-progress-bar"></div>
        </div>
      </slot>
    </div>
    
    <div class="slot exit-webxr-ar-button">
      <slot name="exit-webxr-ar-button">
        <a id="default-exit-webxr-ar-button" part="default-exit-webxr-ar-button"
            tabindex="3"
            aria-label="Exit AR"
            aria-hidden="true">
          ${XOe}
        </a>
      </slot>
    </div>
  </div>
</div>`,e6e=t=>{Cj(QOe,t)},LM=new WeakMap;class t6e extends to{constructor(e){super(e);this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,i,o){const s=new gl(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,a=>{const l={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,l).then(n).catch(o)},i,o)}decodeDracoFile(e,n,i,o){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:o||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const c in n.attributeTypes){const u=n.attributeTypes[c];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[c]=u.name)}const i=JSON.stringify(n);if(LM.has(e)){const c=LM.get(e);if(c.key===i)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let o;const s=this.workerNextTaskID++,a=e.byteLength,l=this._getWorker(s,a).then(c=>(o=c,new Promise((u,d)=>{o._callbacks[s]={resolve:u,reject:d},o.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return l.catch(()=>!0).then(()=>{o&&s&&this._releaseTask(o,s)}),LM.set(e,{key:i,promise:l}),l}_createGeometry(e){const n=new Nn;e.index&&n.setIndex(new On(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const o=e.attributes[i],s=o.name,a=o.array,l=o.itemSize;n.setAttribute(s,new On(a,l))}return n}_loadLibrary(e,n){const i=new gl(this.manager);return i.setPath(this.decoderPath),i.setResponseType(n),i.setWithCredentials(this.withCredentials),new Promise((o,s)=>{i.load(e,o,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(i=>{const o=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=n6e.toString(),a=["/* draco decoder */",o,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const o=new Worker(this.workerSourceURL);o._callbacks={},o._taskCosts={},o._taskLoad=0,o.postMessage({type:"init",decoderConfig:this.decoderConfig}),o.onmessage=function(s){const a=s.data;switch(a.type){case"decode":o._callbacks[a.id].resolve(a);break;case"error":o._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(o)}else this.workerPool.sort(function(o,s){return o._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=n,i._taskLoad+=n,i})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function n6e(){let t,e;onmessage=function(a){const l=a.data;switch(l.type){case"init":t=l.decoderConfig,e=new Promise(function(d){t.onModuleLoaded=function(f){d({draco:f})},DracoDecoderModule(t)});break;case"decode":const c=l.buffer,u=l.taskConfig;e.then(d=>{const f=d.draco,h=new f.Decoder,v=new f.DecoderBuffer;v.Init(new Int8Array(c),c.byteLength);try{const m=n(f,h,v,u),_=m.attributes.map(S=>S.array.buffer);m.index&&_.push(m.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:m},_)}catch(m){console.error(m),self.postMessage({type:"error",id:l.id,error:m.message})}finally{f.destroy(v),f.destroy(h)}});break}};function n(a,l,c,u){const d=u.attributeIDs,f=u.attributeTypes;let h,v;const m=l.GetEncodedGeometryType(c);if(m===a.TRIANGULAR_MESH)h=new a.Mesh,v=l.DecodeBufferToMesh(c,h);else if(m===a.POINT_CLOUD)h=new a.PointCloud,v=l.DecodeBufferToPointCloud(c,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!v.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+v.error_msg());const _={index:null,attributes:[]};for(const S in d){const E=self[f[S]];let w,T;if(u.useUniqueIDs)T=d[S],w=l.GetAttributeByUniqueId(h,T);else{if(T=l.GetAttributeId(h,a[d[S]]),T===-1)continue;w=l.GetAttribute(h,T)}_.attributes.push(o(a,l,h,S,E,w))}return m===a.TRIANGULAR_MESH&&(_.index=i(a,l,h)),a.destroy(h),_}function i(a,l,c){const d=c.num_faces()*3,f=d*4,h=a._malloc(f);l.GetTrianglesUInt32Array(c,f,h);const v=new Uint32Array(a.HEAPF32.buffer,h,d).slice();return a._free(h),{array:v,itemSize:1}}function o(a,l,c,u,d,f){const h=f.num_components(),m=c.num_points()*h,_=m*d.BYTES_PER_ELEMENT,S=s(a,d),E=a._malloc(_);l.GetAttributeDataArrayForAllPoints(c,f,S,_,E);const w=new d(a.HEAPF32.buffer,E,m).slice();return a._free(E),{name:u,array:w,itemSize:h}}function s(a,l){switch(l){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}class r6e extends to{constructor(e){super(e);this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new a6e(n)}),this.register(function(n){return new h6e(n)}),this.register(function(n){return new p6e(n)}),this.register(function(n){return new l6e(n)}),this.register(function(n){return new c6e(n)}),this.register(function(n){return new u6e(n)}),this.register(function(n){return new d6e(n)}),this.register(function(n){return new f6e(n)}),this.register(function(n){return new s6e(n)}),this.register(function(n){return new m6e(n)})}load(e,n,i,o){const s=this;let a;this.resourcePath!==""?a=this.resourcePath:this.path!==""?a=this.path:a=Dc.extractUrlBase(e),this.manager.itemStart(e);const l=function(u){o?o(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},c=new gl(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(u){try{s.parse(u,a,function(d){n(d),s.manager.itemEnd(e)},l)}catch(d){l(d)}},i,l)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,o){let s;const a={},l={};if(typeof e=="string")s=e;else if(Dc.decodeText(new Uint8Array(e,0,4))===iH){try{a[sn.KHR_BINARY_GLTF]=new g6e(e)}catch(f){o&&o(f);return}s=a[sn.KHR_BINARY_GLTF].content}else s=Dc.decodeText(new Uint8Array(e));const c=JSON.parse(s);if(c.asset===void 0||c.asset.version[0]<2){o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new A6e(c,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const f=this.pluginCallbacks[d](u);l[f.name]=f,a[f.name]=!0}if(c.extensionsUsed)for(let d=0;d<c.extensionsUsed.length;++d){const f=c.extensionsUsed[d],h=c.extensionsRequired||[];switch(f){case sn.KHR_MATERIALS_UNLIT:a[f]=new o6e;break;case sn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:a[f]=new _6e;break;case sn.KHR_DRACO_MESH_COMPRESSION:a[f]=new v6e(c,this.dracoLoader);break;case sn.KHR_TEXTURE_TRANSFORM:a[f]=new y6e;break;case sn.KHR_MESH_QUANTIZATION:a[f]=new b6e;break;default:h.indexOf(f)>=0&&l[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}u.setExtensions(a),u.setPlugins(l),u.parse(i,o)}parseAsync(e,n){const i=this;return new Promise(function(o,s){i.parse(e,n,o,s)})}}function i6e(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const sn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class s6e{constructor(e){this.parser=e,this.name=sn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let i=0,o=n.length;i<o;i++){const s=n[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,i="light:"+e;let o=n.cache.get(i);if(o)return o;const s=n.json,c=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const d=new at(16777215);c.color!==void 0&&d.fromArray(c.color);const f=c.range!==void 0?c.range:0;switch(c.type){case"directional":u=new Qb(d),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new Zb(d),u.distance=f;break;case"spot":u=new GV(d),u.distance=f,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,u.angle=c.spot.outerConeAngle,u.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return u.position.set(0,0,0),u.decay=2,c.intensity!==void 0&&(u.intensity=c.intensity),u.name=n.createUniqueName(c.name||"light_"+e),o=Promise.resolve(u),n.cache.add(i,o),o}createNodeAttachment(e){const n=this,i=this.parser,s=i.json.nodes[e],l=(s.extensions&&s.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(c){return i._getNodeRef(n.cache,l,c)})}}class o6e{constructor(){this.name=sn.KHR_MATERIALS_UNLIT}getMaterialType(){return Ro}extendParams(e,n,i){const o=[];e.color=new at(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const a=s.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}s.baseColorTexture!==void 0&&o.push(i.assignTexture(e,"map",s.baseColorTexture))}return Promise.all(o)}}class a6e{constructor(e){this.parser=e,this.name=sn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Xu}extendMaterialParams(e,n){const i=this.parser,o=i.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],a=o.extensions[this.name];if(a.clearcoatFactor!==void 0&&(n.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&s.push(i.assignTexture(n,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(n,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(n,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const l=a.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Ue(l,l)}return Promise.all(s)}}class l6e{constructor(e){this.parser=e,this.name=sn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Xu}extendMaterialParams(e,n){const i=this.parser,o=i.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new at(0,0,0),n.sheenRoughness=0,n.sheen=1;const a=o.extensions[this.name];return a.sheenColorFactor!==void 0&&n.sheenColor.fromArray(a.sheenColorFactor),a.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&s.push(i.assignTexture(n,"sheenColorMap",a.sheenColorTexture)),a.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(n,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class c6e{constructor(e){this.parser=e,this.name=sn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Xu}extendMaterialParams(e,n){const i=this.parser,o=i.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],a=o.extensions[this.name];return a.transmissionFactor!==void 0&&(n.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&s.push(i.assignTexture(n,"transmissionMap",a.transmissionTexture)),Promise.all(s)}}class u6e{constructor(e){this.parser=e,this.name=sn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Xu}extendMaterialParams(e,n){const i=this.parser,o=i.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],a=o.extensions[this.name];n.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&s.push(i.assignTexture(n,"thicknessMap",a.thicknessTexture)),n.attenuationDistance=a.attenuationDistance||0;const l=a.attenuationColor||[1,1,1];return n.attenuationColor=new at(l[0],l[1],l[2]),Promise.all(s)}}class d6e{constructor(e){this.parser=e,this.name=sn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Xu}extendMaterialParams(e,n){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=o.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class f6e{constructor(e){this.parser=e,this.name=sn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Xu}extendMaterialParams(e,n){const i=this.parser,o=i.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const s=[],a=o.extensions[this.name];n.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&s.push(i.assignTexture(n,"specularIntensityMap",a.specularTexture));const l=a.specularColorFactor||[1,1,1];return n.specularColor=new at(l[0],l[1],l[2]),a.specularColorTexture!==void 0&&s.push(i.assignTexture(n,"specularColorMap",a.specularColorTexture).then(function(c){c.encoding=Ji})),Promise.all(s)}}class h6e{constructor(e){this.parser=e,this.name=sn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,i=n.json,o=i.textures[e];if(!o.extensions||!o.extensions[this.name])return null;const s=o.extensions[this.name],a=i.images[s.source],l=n.options.ktx2Loader;if(!l){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,a,l)}}class p6e{constructor(e){this.parser=e,this.name=sn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,o=i.json,s=o.textures[e];if(!s.extensions||!s.extensions[n])return null;const a=s.extensions[n],l=o.images[a.source];let c=i.textureLoader;if(l.uri){const u=i.options.manager.getHandler(l.uri);u!==null&&(c=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,l,c);if(o.extensionsRequired&&o.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class m6e{constructor(e){this.name=sn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,i=n.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const o=i.extensions[this.name],s=this.parser.getDependency("buffer",o.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([s,a.ready]).then(function(l){const c=o.byteOffset||0,u=o.byteLength||0,d=o.count,f=o.byteStride,h=new ArrayBuffer(d*f),v=new Uint8Array(l[0],c,u);return a.decodeGltfBuffer(new Uint8Array(h),d,f,v,o.mode,o.filter),h})}else return null}}const iH="glTF",s0=12,sH={JSON:1313821514,BIN:5130562};class g6e{constructor(e){this.name=sn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,s0);if(this.header={magic:Dc.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==iH)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-s0,o=new DataView(e,s0);let s=0;for(;s<i;){const a=o.getUint32(s,!0);s+=4;const l=o.getUint32(s,!0);if(s+=4,l===sH.JSON){const c=new Uint8Array(e,s0+s,a);this.content=Dc.decodeText(c)}else if(l===sH.BIN){const c=s0+s;this.body=e.slice(c,c+a)}s+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class v6e{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=sn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const i=this.json,o=this.dracoLoader,s=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,l={},c={},u={};for(const d in a){const f=OM[d]||d.toLowerCase();l[f]=a[d]}for(const d in e.attributes){const f=OM[d]||d.toLowerCase();if(a[d]!==void 0){const h=i.accessors[e.attributes[d]],v=o0[h.componentType];u[f]=v,c[f]=h.normalized===!0}}return n.getDependency("bufferView",s).then(function(d){return new Promise(function(f){o.decodeDracoFile(d,function(h){for(const v in h.attributes){const m=h.attributes[v],_=c[v];_!==void 0&&(m.normalized=_)}f(h)},l,u)})})}}class y6e{constructor(){this.name=sn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return n.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class IM extends hl{constructor(e){super();this.isGLTFSpecularGlossinessMaterial=!0;const n=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),i=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),o=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	texelSpecular = sRGBToLinear( texelSpecular );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),a=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),l={specular:{value:new at().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=l,this.onBeforeCompile=function(c){for(const u in l)c.uniforms[u]=l[u];c.fragmentShader=c.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",n).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",o).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",a)},Object.defineProperties(this,{specular:{get:function(){return l.specular.value},set:function(c){l.specular.value=c}},specularMap:{get:function(){return l.specularMap.value},set:function(c){l.specularMap.value=c,c?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return l.glossiness.value},set:function(c){l.glossiness.value=c}},glossinessMap:{get:function(){return l.glossinessMap.value},set:function(c){l.glossinessMap.value=c,c?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class _6e{constructor(){this.name=sn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return IM}extendParams(e,n,i){const o=n.extensions[this.name];e.color=new at(1,1,1),e.opacity=1;const s=[];if(Array.isArray(o.diffuseFactor)){const a=o.diffuseFactor;e.color.fromArray(a),e.opacity=a[3]}if(o.diffuseTexture!==void 0&&s.push(i.assignTexture(e,"map",o.diffuseTexture)),e.emissive=new at(0,0,0),e.glossiness=o.glossinessFactor!==void 0?o.glossinessFactor:1,e.specular=new at(1,1,1),Array.isArray(o.specularFactor)&&e.specular.fromArray(o.specularFactor),o.specularGlossinessTexture!==void 0){const a=o.specularGlossinessTexture;s.push(i.assignTexture(e,"glossinessMap",a)),s.push(i.assignTexture(e,"specularMap",a))}return Promise.all(s)}createMaterial(e){const n=new IM(e);return n.fog=!0,n.color=e.color,n.map=e.map===void 0?null:e.map,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=e.aoMap===void 0?null:e.aoMap,n.aoMapIntensity=1,n.emissive=e.emissive,n.emissiveIntensity=1,n.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,n.bumpMap=e.bumpMap===void 0?null:e.bumpMap,n.bumpScale=1,n.normalMap=e.normalMap===void 0?null:e.normalMap,n.normalMapType=zu,e.normalScale&&(n.normalScale=e.normalScale),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.specularMap=e.specularMap===void 0?null:e.specularMap,n.specular=e.specular,n.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,n.glossiness=e.glossiness,n.alphaMap=null,n.envMap=e.envMap===void 0?null:e.envMap,n.envMapIntensity=1,n.refractionRatio=.98,n}}class b6e{constructor(){this.name=sn.KHR_MESH_QUANTIZATION}}class Zu extends pl{constructor(e,n,i,o){super(e,n,i,o)}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=e*o*3+o;for(let a=0;a!==o;a++)n[a]=i[s+a];return n}}Zu.prototype.beforeStart_=Zu.prototype.copySampleValue_;Zu.prototype.afterEnd_=Zu.prototype.copySampleValue_;Zu.prototype.interpolate_=function(t,e,n,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-e,d=(n-e)/u,f=d*d,h=f*d,v=t*c,m=v-c,_=-2*h+3*f,S=h-f,E=1-_,w=S-f+d;for(let T=0;T!==a;T++){const C=s[m+T+a],P=s[m+T+l]*u,R=s[v+T+a],A=s[v+T]*u;o[T]=E*C+w*P+_*R+S*A}return o};const E6e=new Pi;class w6e extends Zu{interpolate_(e,n,i,o){const s=super.interpolate_(e,n,i,o);return E6e.fromArray(s).normalize().toArray(s),s}}const vl={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},o0={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},oH={9728:_r,9729:Ln,9984:rb,9985:sC,9986:ib,9987:il},aH={33071:Zr,33648:Og,10497:rl},lH={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},OM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Uc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},x6e={CUBICSPLINE:void 0,LINEAR:Hu,STEP:Jf},NM={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function S6e(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new hl({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Qa})),t.DefaultMaterial}function a0(t,e,n){for(const i in n.extensions)t[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function Qu(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function T6e(t,e,n){let i=!1,o=!1;for(let l=0,c=e.length;l<c;l++){const u=e[l];if(u.POSITION!==void 0&&(i=!0),u.NORMAL!==void 0&&(o=!0),i&&o)break}if(!i&&!o)return Promise.resolve(t);const s=[],a=[];for(let l=0,c=e.length;l<c;l++){const u=e[l];if(i){const d=u.POSITION!==void 0?n.getDependency("accessor",u.POSITION):t.attributes.position;s.push(d)}if(o){const d=u.NORMAL!==void 0?n.getDependency("accessor",u.NORMAL):t.attributes.normal;a.push(d)}}return Promise.all([Promise.all(s),Promise.all(a)]).then(function(l){const c=l[0],u=l[1];return i&&(t.morphAttributes.position=c),o&&(t.morphAttributes.normal=u),t.morphTargetsRelative=!0,t})}function C6e(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,o=n.length;i<o;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function M6e(t){const e=t.extensions&&t.extensions[sn.KHR_DRACO_MESH_COMPRESSION];let n;return e?n="draco:"+e.bufferView+":"+e.indices+":"+cH(e.attributes):n=t.indices+":"+cH(t.attributes)+":"+t.mode,n}function cH(t){let e="";const n=Object.keys(t).sort();for(let i=0,o=n.length;i<o;i++)e+=n[i]+":"+t[n[i]]+";";return e}function kM(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class A6e{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new i6e,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},typeof createImageBitmap!="undefined"&&/Firefox|Safari/.test(navigator.userAgent)===!1?this.textureLoader=new KV(this.options.manager):this.textureLoader=new Jb(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new gl(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const i=this,o=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const l={scene:a[0][o.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:o.asset,parser:i,userData:{}};a0(s,l,o),Qu(l,o),Promise.all(i._invokeAll(function(c){return c.afterRoot&&c.afterRoot(l)})).then(function(){e(l)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let o=0,s=n.length;o<s;o++){const a=n[o].joints;for(let l=0,c=a.length;l<c;l++)e[a[l]].isBone=!0}for(let o=0,s=e.length;o<s;o++){const a=e[o];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(i[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,i){if(e.refs[n]<=1)return i;const o=i.clone(),s=(a,l)=>{const c=this.associations.get(a);c!=null&&this.associations.set(l,c);for(const[u,d]of a.children.entries())s(d,l.children[u])};return s(i,o),o.name+="_instance_"+e.uses[n]++,o}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const o=e(n[i]);if(o)return o}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let o=0;o<n.length;o++){const s=e(n[o]);s&&i.push(s)}return i}getDependency(e,n){const i=e+":"+n;let o=this.cache.get(i);if(!o){switch(e){case"scene":o=this.loadScene(n);break;case"node":o=this.loadNode(n);break;case"mesh":o=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":o=this.loadAccessor(n);break;case"bufferView":o=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":o=this.loadBuffer(n);break;case"material":o=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":o=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":o=this.loadSkin(n);break;case"animation":o=this.loadAnimation(n);break;case"camera":o=this.loadCamera(n);break;default:throw new Error("Unknown type: "+e)}this.cache.add(i,o)}return o}getDependencies(e){let n=this.cache.get(e);if(!n){const i=this,o=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(o.map(function(s,a){return i.getDependency(e,a)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[sn.KHR_BINARY_GLTF].body);const o=this.options;return new Promise(function(s,a){i.load(Dc.resolveURL(n.uri,o.path),s,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(i){const o=n.byteLength||0,s=n.byteOffset||0;return i.slice(s,s+o)})}loadAccessor(e){const n=this,i=this.json,o=this.json.accessors[e];if(o.bufferView===void 0&&o.sparse===void 0)return Promise.resolve(null);const s=[];return o.bufferView!==void 0?s.push(this.getDependency("bufferView",o.bufferView)):s.push(null),o.sparse!==void 0&&(s.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(s).then(function(a){const l=a[0],c=lH[o.type],u=o0[o.componentType],d=u.BYTES_PER_ELEMENT,f=d*c,h=o.byteOffset||0,v=o.bufferView!==void 0?i.bufferViews[o.bufferView].byteStride:void 0,m=o.normalized===!0;let _,S;if(v&&v!==f){const E=Math.floor(h/v),w="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+E+":"+o.count;let T=n.cache.get(w);T||(_=new u(l,E*v,o.count*v/d),T=new bh(_,v/d),n.cache.add(w,T)),S=new Eh(T,c,h%v/d,m)}else l===null?_=new u(o.count*c):_=new u(l,h,o.count*c),S=new On(_,c,m);if(o.sparse!==void 0){const E=lH.SCALAR,w=o0[o.sparse.indices.componentType],T=o.sparse.indices.byteOffset||0,C=o.sparse.values.byteOffset||0,P=new w(a[1],T,o.sparse.count*E),R=new u(a[2],C,o.sparse.count*c);l!==null&&(S=new On(S.array.slice(),S.itemSize,S.normalized));for(let A=0,L=P.length;A<L;A++){const k=P[A];if(S.setX(k,R[A*c]),c>=2&&S.setY(k,R[A*c+1]),c>=3&&S.setZ(k,R[A*c+2]),c>=4&&S.setW(k,R[A*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return S})}loadTexture(e){const n=this.json,i=this.options,o=n.textures[e],s=n.images[o.source];let a=this.textureLoader;if(s.uri){const l=i.manager.getHandler(s.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,i){const o=this,s=this.json,a=this.options,l=s.textures[e],c=(n.uri||n.bufferView)+":"+l.sampler;if(this.textureCache[c])return this.textureCache[c];const u=self.URL||self.webkitURL;let d=n.uri||"",f=!1;if(n.bufferView!==void 0)d=o.getDependency("bufferView",n.bufferView).then(function(v){f=!0;const m=new Blob([v],{type:n.mimeType});return d=u.createObjectURL(m),d});else if(n.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(d).then(function(v){return new Promise(function(m,_){let S=m;i.isImageBitmapLoader===!0&&(S=function(E){const w=new fr(E);w.needsUpdate=!0,m(w)}),i.load(Dc.resolveURL(v,a.path),S,void 0,_)})}).then(function(v){f===!0&&u.revokeObjectURL(d),v.flipY=!1,l.name&&(v.name=l.name);const _=(s.samplers||{})[l.sampler]||{};return v.magFilter=oH[_.magFilter]||Ln,v.minFilter=oH[_.minFilter]||il,v.wrapS=aH[_.wrapS]||rl,v.wrapT=aH[_.wrapT]||rl,o.associations.set(v,{textures:e}),v}).catch(function(){return console.error("THREE.GLTFLoader: Couldn't load texture",d),null});return this.textureCache[c]=h,h}assignTexture(e,n,i){const o=this;return this.getDependency("texture",i.index).then(function(s){if(i.texCoord!==void 0&&i.texCoord!=0&&!(n==="aoMap"&&i.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+n+" not yet supported."),o.extensions[sn.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[sn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=o.associations.get(s);s=o.extensions[sn.KHR_TEXTURE_TRANSFORM].extendTexture(s,a),o.associations.set(s,l)}}return e[n]=s,s})}assignFinalMaterial(e){const n=e.geometry;let i=e.material;const o=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,a=n.attributes.normal===void 0;if(e.isPoints){const l="PointsMaterial:"+i.uuid;let c=this.cache.get(l);c||(c=new oM,Tr.prototype.copy.call(c,i),c.color.copy(i.color),c.map=i.map,c.sizeAttenuation=!1,this.cache.add(l,c)),i=c}else if(e.isLine){const l="LineBasicMaterial:"+i.uuid;let c=this.cache.get(l);c||(c=new Ch,Tr.prototype.copy.call(c,i),c.color.copy(i.color),this.cache.add(l,c)),i=c}if(o||s||a){let l="ClonedMaterial:"+i.uuid+":";i.isGLTFSpecularGlossinessMaterial&&(l+="specular-glossiness:"),o&&(l+="derivative-tangents:"),s&&(l+="vertex-colors:"),a&&(l+="flat-shading:");let c=this.cache.get(l);c||(c=i.clone(),s&&(c.vertexColors=!0),a&&(c.flatShading=!0),o&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(l,c),this.associations.set(c,this.associations.get(i))),i=c}i.aoMap&&n.attributes.uv2===void 0&&n.attributes.uv!==void 0&&n.setAttribute("uv2",n.attributes.uv),e.material=i}getMaterialType(){return hl}loadMaterial(e){const n=this,i=this.json,o=this.extensions,s=i.materials[e];let a;const l={},c=s.extensions||{},u=[];if(c[sn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const f=o[sn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];a=f.getMaterialType(),u.push(f.extendParams(l,s,n))}else if(c[sn.KHR_MATERIALS_UNLIT]){const f=o[sn.KHR_MATERIALS_UNLIT];a=f.getMaterialType(),u.push(f.extendParams(l,s,n))}else{const f=s.pbrMetallicRoughness||{};if(l.color=new at(1,1,1),l.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;l.color.fromArray(h),l.opacity=h[3]}f.baseColorTexture!==void 0&&u.push(n.assignTexture(l,"map",f.baseColorTexture)),l.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,l.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(l,"metalnessMap",f.metallicRoughnessTexture)),u.push(n.assignTexture(l,"roughnessMap",f.metallicRoughnessTexture))),a=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,l)})))}s.doubleSided===!0&&(l.side=el);const d=s.alphaMode||NM.OPAQUE;if(d===NM.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.format=Js,l.transparent=!1,d===NM.MASK&&(l.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&a!==Ro&&(u.push(n.assignTexture(l,"normalMap",s.normalTexture)),l.normalScale=new Ue(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;l.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&a!==Ro&&(u.push(n.assignTexture(l,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&a!==Ro&&(l.emissive=new at().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&a!==Ro&&u.push(n.assignTexture(l,"emissiveMap",s.emissiveTexture)),Promise.all(u).then(function(){let f;return a===IM?f=o[sn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(l):f=new a(l),s.name&&(f.name=s.name),f.map&&(f.map.encoding=Ji),f.emissiveMap&&(f.emissiveMap.encoding=Ji),Qu(f,s),n.associations.set(f,{materials:e}),s.extensions&&a0(o,f,s),f})}createUniqueName(e){const n=an.sanitizeNodeName(e||"");let i=n;for(let o=1;this.nodeNamesUsed[i];++o)i=n+"_"+o;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const n=this,i=this.extensions,o=this.primitiveCache;function s(l){return i[sn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,n).then(function(c){return dH(c,l,n)})}const a=[];for(let l=0,c=e.length;l<c;l++){const u=e[l],d=M6e(u),f=o[d];if(f)a.push(f.promise);else{let h;u.extensions&&u.extensions[sn.KHR_DRACO_MESH_COMPRESSION]?h=s(u):h=dH(new Nn,u,n),o[d]={primitive:u,promise:h},a.push(h)}}return Promise.all(a)}loadMesh(e){const n=this,i=this.json,o=this.extensions,s=i.meshes[e],a=s.primitives,l=[];for(let c=0,u=a.length;c<u;c++){const d=a[c].material===void 0?S6e(this.cache):this.getDependency("material",a[c].material);l.push(d)}return l.push(n.loadGeometries(a)),Promise.all(l).then(function(c){const u=c.slice(0,c.length-1),d=c[c.length-1],f=[];for(let v=0,m=d.length;v<m;v++){const _=d[v],S=a[v];let E;const w=u[v];if(S.mode===vl.TRIANGLES||S.mode===vl.TRIANGLE_STRIP||S.mode===vl.TRIANGLE_FAN||S.mode===void 0)E=s.isSkinnedMesh===!0?new eM(_,w):new Ct(_,w),E.isSkinnedMesh===!0&&!E.geometry.attributes.skinWeight.normalized&&E.normalizeSkinWeights(),S.mode===vl.TRIANGLE_STRIP?E.geometry=fH(E.geometry,wMe):S.mode===vl.TRIANGLE_FAN&&(E.geometry=fH(E.geometry,tB));else if(S.mode===vl.LINES)E=new Hb(_,w);else if(S.mode===vl.LINE_STRIP)E=new Vb(_,w);else if(S.mode===vl.LINE_LOOP)E=new EV(_,w);else if(S.mode===vl.POINTS)E=new xV(_,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+S.mode);Object.keys(E.geometry.morphAttributes).length>0&&C6e(E,s),E.name=n.createUniqueName(s.name||"mesh_"+e),Qu(E,s),S.extensions&&a0(o,E,S),n.assignFinalMaterial(E),f.push(E)}for(let v=0,m=f.length;v<m;v++)n.associations.set(f[v],{meshes:e,primitives:v});if(f.length===1)return f[0];const h=new fl;n.associations.set(h,{meshes:e});for(let v=0,m=f.length;v<m;v++)h.add(f[v]);return h})}loadCamera(e){let n;const i=this.json.cameras[e],o=i[i.type];if(!o){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?n=new zr(sB.radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):i.type==="orthographic"&&(n=new mh(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),Qu(n,i),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],i={joints:n.joints};return n.inverseBindMatrices===void 0?Promise.resolve(i):this.getDependency("accessor",n.inverseBindMatrices).then(function(o){return i.inverseBindMatrices=o,i})}loadAnimation(e){const i=this.json.animations[e],o=[],s=[],a=[],l=[],c=[];for(let u=0,d=i.channels.length;u<d;u++){const f=i.channels[u],h=i.samplers[f.sampler],v=f.target,m=v.node!==void 0?v.node:v.id,_=i.parameters!==void 0?i.parameters[h.input]:h.input,S=i.parameters!==void 0?i.parameters[h.output]:h.output;o.push(this.getDependency("node",m)),s.push(this.getDependency("accessor",_)),a.push(this.getDependency("accessor",S)),l.push(h),c.push(v)}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const d=u[0],f=u[1],h=u[2],v=u[3],m=u[4],_=[];for(let E=0,w=d.length;E<w;E++){const T=d[E],C=f[E],P=h[E],R=v[E],A=m[E];if(T===void 0)continue;T.updateMatrix(),T.matrixAutoUpdate=!0;let L;switch(Uc[A.path]){case Uc.weights:L=n0;break;case Uc.rotation:L=Ju;break;case Uc.position:case Uc.scale:default:L=r0;break}const k=T.name?T.name:T.uuid,U=R.interpolation!==void 0?x6e[R.interpolation]:Hu,N=[];Uc[A.path]===Uc.weights?T.traverse(function(F){F.morphTargetInfluences&&N.push(F.name?F.name:F.uuid)}):N.push(k);let I=P.array;if(P.normalized){const F=kM(I.constructor),O=new Float32Array(I.length);for(let V=0,z=I.length;V<z;V++)O[V]=I[V]*F;I=O}for(let F=0,O=N.length;F<O;F++){const V=new L(N[F]+"."+Uc[A.path],C.array,I,U);R.interpolation==="CUBICSPLINE"&&(V.createInterpolant=function(B){const H=this instanceof Ju?w6e:Zu;return new H(this.times,this.values,this.getValueSize()/3,B)},V.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),_.push(V)}}const S=i.name?i.name:"animation_"+e;return new bM(S,void 0,_)})}createNodeMesh(e){const n=this.json,i=this,o=n.nodes[e];return o.mesh===void 0?null:i.getDependency("mesh",o.mesh).then(function(s){const a=i._getNodeRef(i.meshCache,o.mesh,s);return o.weights!==void 0&&a.traverse(function(l){if(!!l.isMesh)for(let c=0,u=o.weights.length;c<u;c++)l.morphTargetInfluences[c]=o.weights[c]}),a})}loadNode(e){const n=this.json,i=this.extensions,o=this,s=n.nodes[e],a=s.name?o.createUniqueName(s.name):"";return function(){const l=[],c=o._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return c&&l.push(c),s.camera!==void 0&&l.push(o.getDependency("camera",s.camera).then(function(u){return o._getNodeRef(o.cameraCache,s.camera,u)})),o._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){l.push(u)}),Promise.all(l)}().then(function(l){let c;if(s.isBone===!0?c=new tM:l.length>1?c=new fl:l.length===1?c=l[0]:c=new dn,c!==l[0])for(let u=0,d=l.length;u<d;u++)c.add(l[u]);if(s.name&&(c.userData.name=s.name,c.name=a),Qu(c,s),s.extensions&&a0(i,c,s),s.matrix!==void 0){const u=new ut;u.fromArray(s.matrix),c.applyMatrix4(u)}else s.translation!==void 0&&c.position.fromArray(s.translation),s.rotation!==void 0&&c.quaternion.fromArray(s.rotation),s.scale!==void 0&&c.scale.fromArray(s.scale);return o.associations.has(c)||o.associations.set(c,{}),o.associations.get(c).nodes=e,c})}loadScene(e){const n=this.json,i=this.extensions,o=this.json.scenes[e],s=this,a=new fl;o.name&&(a.name=s.createUniqueName(o.name)),Qu(a,o),o.extensions&&a0(i,a,o);const l=o.nodes||[],c=[];for(let u=0,d=l.length;u<d;u++)c.push(uH(l[u],a,n,s));return Promise.all(c).then(function(){const u=d=>{const f=new Map;for(const[h,v]of s.associations)(h instanceof Tr||h instanceof fr)&&f.set(h,v);return d.traverse(h=>{const v=s.associations.get(h);v!=null&&f.set(h,v)}),f};return s.associations=u(a),a})}}function uH(t,e,n,i){const o=n.nodes[t];return i.getDependency("node",t).then(function(s){if(o.skin===void 0)return s;let a;return i.getDependency("skin",o.skin).then(function(l){a=l;const c=[];for(let u=0,d=a.joints.length;u<d;u++)c.push(i.getDependency("node",a.joints[u]));return Promise.all(c)}).then(function(l){return s.traverse(function(c){if(!c.isMesh)return;const u=[],d=[];for(let f=0,h=l.length;f<h;f++){const v=l[f];if(v){u.push(v);const m=new ut;a.inverseBindMatrices!==void 0&&m.fromArray(a.inverseBindMatrices.array,f*16),d.push(m)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',a.joints[f])}c.bind(new rM(u,d),c.matrixWorld)}),s})}).then(function(s){e.add(s);const a=[];if(o.children){const l=o.children;for(let c=0,u=l.length;c<u;c++){const d=l[c];a.push(uH(d,s,n,i))}}return Promise.all(a)})}function P6e(t,e,n){const i=e.attributes,o=new Ri;if(i.POSITION!==void 0){const l=n.json.accessors[i.POSITION],c=l.min,u=l.max;if(c!==void 0&&u!==void 0){if(o.set(new ee(c[0],c[1],c[2]),new ee(u[0],u[1],u[2])),l.normalized){const d=kM(o0[l.componentType]);o.min.multiplyScalar(d),o.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const l=new ee,c=new ee;for(let u=0,d=s.length;u<d;u++){const f=s[u];if(f.POSITION!==void 0){const h=n.json.accessors[f.POSITION],v=h.min,m=h.max;if(v!==void 0&&m!==void 0){if(c.setX(Math.max(Math.abs(v[0]),Math.abs(m[0]))),c.setY(Math.max(Math.abs(v[1]),Math.abs(m[1]))),c.setZ(Math.max(Math.abs(v[2]),Math.abs(m[2]))),h.normalized){const _=kM(o0[h.componentType]);c.multiplyScalar(_)}l.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(l)}t.boundingBox=o;const a=new Sc;o.getCenter(a.center),a.radius=o.min.distanceTo(o.max)/2,t.boundingSphere=a}function dH(t,e,n){const i=e.attributes,o=[];function s(a,l){return n.getDependency("accessor",a).then(function(c){t.setAttribute(l,c)})}for(const a in i){const l=OM[a]||a.toLowerCase();l in t.attributes||o.push(s(i[a],l))}if(e.indices!==void 0&&!t.index){const a=n.getDependency("accessor",e.indices).then(function(l){t.setIndex(l)});o.push(a)}return Qu(t,e),P6e(t,e,n),Promise.all(o).then(function(){return e.targets!==void 0?T6e(t,e.targets,n):t})}function fH(t,e){let n=t.getIndex();if(n===null){const a=[],l=t.getAttribute("position");if(l!==void 0){for(let c=0;c<l.count;c++)a.push(c);t.setIndex(a),n=t.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const i=n.count-2,o=[];if(e===tB)for(let a=1;a<=i;a++)o.push(n.getX(0)),o.push(n.getX(a)),o.push(n.getX(a+1));else for(let a=0;a<i;a++)a%2==0?(o.push(n.getX(a)),o.push(n.getX(a+1)),o.push(n.getX(a+2))):(o.push(n.getX(a+2)),o.push(n.getX(a+1)),o.push(n.getX(a)));o.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(o),s}class R6e{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const n=this.workerCreator();n.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=n}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,n){const i=this.workersResolve[e];if(i&&i(n),this.queue.length){const{resolve:o,msg:s,transfer:a}=this.queue.shift();this.workersResolve[e]=o,this.workers[e].postMessage(s,a)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,n){return new Promise(i=>{const o=this._getIdleWorker();o!==-1?(this._initWorker(o),this.workerStatus|=1<<o,this.workersResolve[o]=i,this.workers[o].postMessage(e,n)):this.queue.push({resolve:i,msg:e,transfer:n})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const L6e=2,I6e=1,DM=new WeakMap;let FM=0;class ha extends to{constructor(e){super(e);this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new R6e,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER!="undefined"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(e){return this.transcoderPath=e,this}setWorkerLimit(e){return this.workerPool.setWorkerLimit(e),this}detectSupport(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},e.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}init(){if(!this.transcoderPending){const e=new gl(this.manager);e.setPath(this.transcoderPath),e.setWithCredentials(this.withCredentials);const n=e.loadAsync("basis_transcoder.js"),i=new gl(this.manager);i.setPath(this.transcoderPath),i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);const o=i.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([n,o]).then(([s,a])=>{const l=ha.BasisWorker.toString(),c=["/* constants */","let _EngineFormat = "+JSON.stringify(ha.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(ha.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(ha.BasisFormat),"/* basis_transcoder.js */",s,"/* worker */",l.substring(l.indexOf("{")+1,l.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([c])),this.transcoderBinary=a,this.workerPool.setWorkerCreator(()=>{const u=new Worker(this.workerSourceURL),d=this.transcoderBinary.slice(0);return u.postMessage({type:"init",config:this.workerConfig,transcoderBinary:d},[d]),u})}),FM>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),FM++}return this.transcoderPending}load(e,n,i,o){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const s=new gl(this.manager);s.setResponseType("arraybuffer"),s.setWithCredentials(this.withCredentials);const a=new lM;return s.load(e,l=>{if(DM.has(l))return DM.get(l).promise.then(n).catch(o);this._createTexture([l]).then(function(c){a.copy(c),a.needsUpdate=!0,n&&n(a)}).catch(o)},i,o),a}_createTextureFrom(e){const{mipmaps:n,width:i,height:o,format:s,type:a,error:l,dfdTransferFn:c,dfdFlags:u}=e;if(a==="error")return Promise.reject(l);const d=new lM(n,i,o,s,aa);return d.minFilter=n.length===1?Ln:il,d.magFilter=Ln,d.generateMipmaps=!1,d.needsUpdate=!0,d.encoding=c===L6e?Ji:Or,d.premultiplyAlpha=!!(u&I6e),d}_createTexture(e,n={}){const i=n,o=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffers:e,taskConfig:i},e)).then(s=>this._createTextureFrom(s.data));return DM.set(e[0],{promise:o}),o}dispose(){return URL.revokeObjectURL(this.workerSourceURL),this.workerPool.dispose(),FM--,this}}ha.BasisFormat={ETC1S:0,UASTC_4x4:1};ha.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16};ha.EngineFormat={RGBAFormat:Qn,RGBA_ASTC_4x4_Format:Jj,RGBA_BPTC_Format:Zj,RGBA_ETC2_EAC_Format:dC,RGBA_PVRTC_4BPPV1_Format:cC,RGBA_S3TC_DXT5_Format:aC,RGB_ETC1_Format:Xj,RGB_ETC2_Format:uC,RGB_PVRTC_4BPPV1_Format:lC,RGB_S3TC_DXT1_Format:oC};ha.BasisWorker=function(){let t,e,n;const i=_EngineFormat,o=_TranscoderFormat,s=_BasisFormat;self.addEventListener("message",function(v){const m=v.data;switch(m.type){case"init":t=m.config,a(m.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:_,height:S,hasAlpha:E,mipmaps:w,format:T,dfdTransferFn:C,dfdFlags:P}=l(m.buffers[0]),R=[];for(let A=0;A<w.length;++A)R.push(w[A].data.buffer);self.postMessage({type:"transcode",id:m.id,width:_,height:S,hasAlpha:E,mipmaps:w,format:T,dfdTransferFn:C,dfdFlags:P},R)}catch(_){console.error(_),self.postMessage({type:"error",id:m.id,error:_.message})}});break}});function a(v){e=new Promise(m=>{n={wasmBinary:v,onRuntimeInitialized:m},BASIS(n)}).then(()=>{n.initializeBasis(),n.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function l(v){const m=new n.KTX2File(new Uint8Array(v));function _(){m.close(),m.delete()}if(!m.isValid())throw _(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const S=m.isUASTC()?s.UASTC_4x4:s.ETC1S,E=m.getWidth(),w=m.getHeight(),T=m.getLevels(),C=m.getHasAlpha(),P=m.getDFDTransferFunc(),R=m.getDFDFlags(),{transcoderFormat:A,engineFormat:L}=f(S,E,w,C);if(!E||!w||!T)throw _(),new Error("THREE.KTX2Loader:	Invalid texture");if(!m.startTranscoding())throw _(),new Error("THREE.KTX2Loader: .startTranscoding failed");const k=[];for(let U=0;U<T;U++){const N=m.getImageLevelInfo(U,0,0),I=N.origWidth,F=N.origHeight,O=new Uint8Array(m.getImageTranscodedSizeInBytes(U,0,0,A));if(!m.transcodeImage(O,U,0,0,A,0,-1,-1))throw _(),new Error("THREE.KTX2Loader: .transcodeImage failed.");k.push({data:O,width:I,height:F})}return _(),{width:E,height:w,hasAlpha:C,mipmaps:k,format:L,dfdTransferFn:P,dfdFlags:R}}const c=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[o.ASTC_4x4,o.ASTC_4x4],engineFormat:[i.RGBA_ASTC_4x4_Format,i.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[o.BC7_M5,o.BC7_M5],engineFormat:[i.RGBA_BPTC_Format,i.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[o.BC1,o.BC3],engineFormat:[i.RGB_S3TC_DXT1_Format,i.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[o.ETC1,o.ETC2],engineFormat:[i.RGB_ETC2_Format,i.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[o.ETC1],engineFormat:[i.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[o.PVRTC1_4_RGB,o.PVRTC1_4_RGBA],engineFormat:[i.RGB_PVRTC_4BPPV1_Format,i.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],u=c.sort(function(v,m){return v.priorityETC1S-m.priorityETC1S}),d=c.sort(function(v,m){return v.priorityUASTC-m.priorityUASTC});function f(v,m,_,S){let E,w;const T=v===s.ETC1S?u:d;for(let C=0;C<T.length;C++){const P=T[C];if(!!t[P.if]&&!!P.basisFormat.includes(v)&&!(S&&P.transcoderFormat.length<2)&&!(P.needsPowerOfTwo&&!(h(m)&&h(_))))return E=P.transcoderFormat[S?1:0],w=P.engineFormat[S?1:0],{transcoderFormat:E,engineFormat:w}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),E=o.RGBA32,w=i.RGBAFormat,{transcoderFormat:E,engineFormat:w}}function h(v){return v<=2?!0:(v&v-1)==0&&v!==0}};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hH,pH;const Lo=Symbol("retainerCount"),yl=Symbol("recentlyUsed"),iE=Symbol("evict"),l0=Symbol("evictionThreshold"),UM=Symbol("cache");class O6e{constructor(e,n=5){this[hH]=new Map,this[pH]=[],this[UM]=e,this[l0]=n}set evictionThreshold(e){this[l0]=e,this[iE]()}get evictionThreshold(){return this[l0]}get cache(){return this[UM]}retainerCount(e){return this[Lo].get(e)||0}reset(){this[Lo].clear(),this[yl]=[]}retain(e){this[Lo].has(e)||this[Lo].set(e,0),this[Lo].set(e,this[Lo].get(e)+1);const n=this[yl].indexOf(e);n!==-1&&this[yl].splice(n,1),this[yl].unshift(e),this[iE]()}release(e){this[Lo].has(e)&&this[Lo].set(e,Math.max(this[Lo].get(e)-1,0)),this[iE]()}[(hH=Lo,pH=yl,iE)](){if(!(this[yl].length<this[l0]))for(let e=this[yl].length-1;e>=this[l0];--e){const n=this[yl][e];this[Lo].get(n)===0&&(this[UM].delete(n),this[yl].splice(e,1))}}}/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6e=t=>{const e=[],n=new Set;for(const i of t){let o=i,s=0;for(;n.has(o);)o=i+"."+ ++s;n.add(o),e.push(o)}return e},k6e=t=>{const e=new Map;for(const n of t.mappings)for(const i of n.variants)e.set(i,{material:null,gltfMaterialIndex:n.material});return e};class D6e{constructor(e){this.parser=e,this.name="KHR_materials_variants"}afterRoot(e){const n=this.parser,i=n.json;if(i.extensions===void 0||i.extensions[this.name]===void 0)return null;const s=i.extensions[this.name].variants||[],a=N6e(s.map(l=>l.name));for(const l of e.scenes)l.traverse(c=>{const u=n.associations.get(c);if(u==null||u.meshes==null)return;const d=u.meshes,h=i.meshes[d].primitives,v="isMesh"in c?[c]:c.children;for(let m=0;m<h.length;m++){const S=h[m].extensions;!S||!S[this.name]||(v[m].userData.variantMaterials=k6e(S[this.name]))}});return e.userData.variants=a,Promise.resolve()}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mH,gH;const F6e=(t,e,n=()=>{})=>{const i=o=>{const s=o.loaded/o.total;n(Math.max(0,Math.min(1,isFinite(s)?s:1)))};return new Promise((o,s)=>{e.load(t,o,i,s)})},U6e=t=>new Promise((e,n)=>{const i=document.createElement("script");document.body.appendChild(i),i.onload=e,i.onerror=n,i.async=!0,i.src=t}),_l=new Map,jM=new Map;let vH;const yH=new t6e;let _H;const BM=new ha;let VM,HM;const Ih=Symbol("loader"),jc=Symbol("evictionPolicy"),bH=Symbol("GLTFInstance");class Ii extends _s{constructor(e){super();this[gH]=new r6e().register(n=>new D6e(n)),this[bH]=e,this[Ih].setDRACOLoader(yH),this[Ih].setKTX2Loader(BM)}static setDRACODecoderLocation(e){vH=e,yH.setDecoderPath(e)}static getDRACODecoderLocation(){return vH}static setKTX2TranscoderLocation(e){_H=e,BM.setTranscoderPath(e)}static getKTX2TranscoderLocation(){return _H}static setMeshoptDecoderLocation(e){VM!==e&&(VM=e,HM=U6e(e).then(()=>MeshoptDecoder.ready).then(()=>MeshoptDecoder))}static getMeshoptDecoderLocation(){return VM}static initializeKTX2Loader(e){BM.detectSupport(e)}static get cache(){return _l}static clearCache(){_l.forEach((e,n)=>{this.delete(n)}),this[jc].reset()}static has(e){return _l.has(e)}static async delete(e){if(!this.has(e))return;const n=_l.get(e);jM.delete(e),_l.delete(e),(await n).dispose()}static hasFinishedLoading(e){return!!jM.get(e)}get[(mH=jc,gH=Ih,jc)](){return this.constructor[jc]}async preload(e,n,i=()=>{}){if(this.dispatchEvent({type:"preload",element:n,src:e}),!_l.has(e)){HM!=null&&this[Ih].setMeshoptDecoder(await HM);const o=F6e(e,this[Ih],l=>{i(l*.8)}),s=this[bH],a=o.then(l=>s.prepare(l)).then(l=>(i(.9),new s(l)));_l.set(e,a)}await _l.get(e),jM.set(e,!0),i&&i(1)}async load(e,n,i=()=>{}){await this.preload(e,n,i);const s=await(await _l.get(e)).clone();return this[jc].retain(e),s.dispose=(()=>{const a=s.dispose;let l=!1;return()=>{l||(l=!0,a.apply(s),this[jc].release(e))}})(),s}}Ii[mH]=new O6e(Ii);class EH extends dn{constructor(e=document.createElement("div")){super();this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(n){n.element instanceof Element&&n.element.parentNode!==null&&n.element.parentNode.removeChild(n.element)})})}copy(e,n){return super.copy(e,n),this.element=e.element.cloneNode(!0),this}}EH.prototype.isCSS2DObject=!0;const Bc=new ee,wH=new ut,xH=new ut,SH=new ee,TH=new ee;class j6e{constructor(e={}){const n=this;let i,o,s,a;const l={objects:new WeakMap},c=e.element!==void 0?e.element:document.createElement("div");c.style.overflow="hidden",this.domElement=c,this.getSize=function(){return{width:i,height:o}},this.render=function(v,m){v.autoUpdate===!0&&v.updateMatrixWorld(),m.parent===null&&m.updateMatrixWorld(),wH.copy(m.matrixWorldInverse),xH.multiplyMatrices(m.projectionMatrix,wH),u(v,v,m),h(v)},this.setSize=function(v,m){i=v,o=m,s=i/2,a=o/2,c.style.width=v+"px",c.style.height=m+"px"};function u(v,m,_){if(v.isCSS2DObject){v.onBeforeRender(n,m,_),Bc.setFromMatrixPosition(v.matrixWorld),Bc.applyMatrix4(xH);const S=v.element;/apple/i.test(navigator.vendor)?S.style.transform="translate(-50%,-50%) translate("+Math.round(Bc.x*s+s)+"px,"+Math.round(-Bc.y*a+a)+"px)":S.style.transform="translate(-50%,-50%) translate("+(Bc.x*s+s)+"px,"+(-Bc.y*a+a)+"px)",S.style.display=v.visible&&Bc.z>=-1&&Bc.z<=1?"":"none";const E={distanceToCameraSquared:d(_,v)};l.objects.set(v,E),S.parentNode!==c&&c.appendChild(S),v.onAfterRender(n,m,_)}for(let S=0,E=v.children.length;S<E;S++)u(v.children[S],m,_)}function d(v,m){return SH.setFromMatrixPosition(v.matrixWorld),TH.setFromMatrixPosition(m.matrixWorld),SH.distanceToSquared(TH)}function f(v){const m=[];return v.traverse(function(_){_.isCSS2DObject&&m.push(_)}),m}function h(v){const m=f(v).sort(function(S,E){const w=l.objects.get(S).distanceToCameraSquared,T=l.objects.get(E).distanceToCameraSquared;return w-T}),_=m.length;for(let S=0,E=m.length;S<E;S++)m[S].element.style.zIndex=_-S}}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH=t=>!!t&&t!=="null"?B6e(t):null,MH=()=>{if(nH)return;const t=[];throw eH||t.push("WebXR Device API"),tH||t.push("WebXR Hit Test API"),new Error(`The following APIs are required for AR, but are missing in this browser: ${t.join(", ")}`)},B6e=t=>new URL(t,window.location.toString()).toString(),V6e=(t,e)=>{let n=null;const i=(...o)=>{n==null&&(t(...o),n=self.setTimeout(()=>n=null,e))};return i.flush=()=>{n!=null&&(self.clearTimeout(n),n=null)},i},zM=(t,e)=>{let n=null;return(...i)=>{n!=null&&self.clearTimeout(n),n=self.setTimeout(()=>{n=null,t(...i)},e)}},ed=(t,e,n)=>Math.max(e,Math.min(n,t)),H6e=1,GM=(()=>{const t=(()=>{const e=document.head!=null?Array.from(document.head.querySelectorAll("meta")):[];for(const n of e)if(n.name==="viewport")return!0;return!1})();return t||console.warn('No <meta name="viewport"> detected; <model-viewer> will cap pixel density at 1.'),()=>t?window.devicePixelRatio:H6e})(),AH=(()=>{const t="model-viewer-debug-mode",e=new RegExp(`[?&]${t}(&|$)`);return()=>self.ModelViewerElement&&self.ModelViewerElement.debugMode||self.location&&self.location.search&&self.location.search.match(e)})(),z6e=t=>{if(t.keys!=null)return t.keys().next().value||null;let e=null;try{t.forEach((n,i,o)=>{throw e=i,new Error})}catch{}return e},PH=(t=0)=>new Promise(e=>setTimeout(e,t)),G6e=(t,e,n=null)=>new Promise(i=>{function o(s){(!n||n(s))&&(i(s),t.removeEventListener(e,o))}t.addEventListener(e,o)});/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=1e4,$6e=.001,LH=50;class ws{constructor(e=LH){this.velocity=0,this.naturalFrequency=0,this.setDecayTime(e)}setDecayTime(e){this.naturalFrequency=1/Math.max($6e,e)}update(e,n,i,o){const s=2e-4*this.naturalFrequency;if(e==null||o===0||e===n&&this.velocity===0)return n;if(i<0)return e;const a=e-n,l=this.velocity+this.naturalFrequency*a,c=a+i*l,u=Math.exp(-this.naturalFrequency*i),d=(l-this.naturalFrequency*c)*u,f=-this.naturalFrequency*(d+l*u);return Math.abs(d)<s*Math.abs(o)&&f*a>=0?(this.velocity=0,n):(this.velocity=d,n+c*u)}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=(t,e)=>({type:"number",number:t,unit:e}),td=(()=>{const t={},e=1e3;return n=>{const i=n;if(i in t)return t[i];const o=[];let s=0;for(;n;){if(++s>e){n="";break}const a=IH(n),l=a.nodes[0];if(l==null||l.terms.length===0)break;o.push(l),n=a.remainingInput}return t[i]=o}})(),IH=(()=>{const t=/^(\-\-|[a-z\u0240-\uffff])/i,e=/^([\*\+\/]|[\-]\s)/i,n=/^[\),]/,i="(",o="#";return s=>{const a=[];for(;s.length&&(s=s.trim(),!n.test(s));)if(s[0]===i){const{nodes:l,remainingInput:c}=OH(s);s=c,a.push({type:"function",name:{type:"ident",value:"calc"},arguments:l})}else if(t.test(s)){const l=W6e(s),c=l.nodes[0];if(s=l.remainingInput,s[0]===i){const{nodes:u,remainingInput:d}=OH(s);a.push({type:"function",name:c,arguments:u}),s=d}else a.push(c)}else if(e.test(s))a.push({type:"operator",value:s[0]}),s=s.slice(1);else{const{nodes:l,remainingInput:c}=s[0]===o?Y6e(s):q6e(s);if(l.length===0)break;a.push(l[0]),s=c}return{nodes:[{type:"expression",terms:a}],remainingInput:s}}})(),W6e=(()=>{const t=/[^a-z0-9_\-\u0240-\uffff]/i;return e=>{const n=e.match(t),i=n==null?e:e.substr(0,n.index),o=n==null?"":e.substr(n.index);return{nodes:[{type:"ident",value:i}],remainingInput:o}}})(),q6e=(()=>{const t=/[\+\-]?(\d+[\.]\d+|\d+|[\.]\d+)([eE][\+\-]?\d+)?/,e=/^[a-z%]+/i,n=/^(m|mm|cm|rad|deg|[%])$/;return i=>{const o=i.match(t),s=o==null?"0":o[0];i=s==null?i:i.slice(s.length);const a=i.match(e);let l=a!=null&&a[0]!==""?a[0]:null;const c=a==null?i:i.slice(l.length);return l!=null&&!n.test(l)&&(l=null),{nodes:[{type:"number",number:parseFloat(s)||0,unit:l}],remainingInput:c}}})(),Y6e=(()=>{const t=/^[a-f0-9]*/i;return e=>{e=e.slice(1).trim();const n=e.match(t);return{nodes:n==null?[]:[{type:"hex",value:n[0]}],remainingInput:n==null?e:e.slice(n[0].length)}}})(),OH=t=>{const e=[];for(t=t.slice(1).trim();t.length;){const n=IH(t);if(e.push(n.nodes[0]),t=n.remainingInput.trim(),t[0]===",")t=t.slice(1).trim();else if(t[0]===")"){t=t.slice(1);break}}return{nodes:e,remainingInput:t}},NH=Symbol("visitedTypes");class K6e{constructor(e){this[NH]=e}walk(e,n){const i=e.slice();for(;i.length;){const o=i.shift();switch(this[NH].indexOf(o.type)>-1&&n(o),o.type){case"expression":i.unshift(...o.terms);break;case"function":i.unshift(o.name,...o.arguments);break}}}}const Vc=Object.freeze({type:"number",number:0,unit:null});/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=(t,e=0)=>{let{number:n,unit:i}=t;if(!isFinite(n))n=e,i="rad";else if(t.unit==="rad"||t.unit==null)return t;const a=(i==="deg"&&n!=null?n:0)*Math.PI/180;return{type:"number",number:a,unit:"rad"}},kH=(t,e=0)=>{let{number:n,unit:i}=t;if(!isFinite(n))n=e,i="m";else if(t.unit==="m")return t;let o;switch(i){default:o=1;break;case"cm":o=1/100;break;case"mm":o=1/1e3;break}const s=o*n;return{type:"number",number:s,unit:"m"}},pa=(()=>{const t=n=>n,e={rad:t,deg:c0,m:t,mm:kH,cm:kH};return(n,i=Vc)=>{isFinite(n.number)||(n.number=i.number,n.unit=i.unit);const{unit:o}=n;if(o==null)return n;const s=e[o];return s==null?i:s(n)}})();/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH extends EH{constructor(e){super(document.createElement("div"));this.normal=new ee(0,1,0),this.initialized=!1,this.referenceCount=1,this.pivot=document.createElement("div"),this.slot=document.createElement("slot"),this.element.classList.add("annotation-wrapper"),this.slot.name=e.name,this.element.appendChild(this.pivot),this.pivot.appendChild(this.slot),this.updatePosition(e.position),this.updateNormal(e.normal)}get facingCamera(){return!this.element.classList.contains("hide")}show(){(!this.facingCamera||!this.initialized)&&this.updateVisibility(!0)}hide(){(this.facingCamera||!this.initialized)&&this.updateVisibility(!1)}increment(){this.referenceCount++}decrement(){return this.referenceCount>0&&--this.referenceCount,this.referenceCount===0}updatePosition(e){if(e==null)return;const n=td(e)[0].terms;for(let i=0;i<3;++i)this.position.setComponent(i,pa(n[i]).number);this.updateMatrixWorld()}updateNormal(e){if(e==null)return;const n=td(e)[0].terms;for(let i=0;i<3;++i)this.normal.setComponent(i,pa(n[i]).number)}orient(e){this.pivot.style.transform=`rotate(${e}rad)`}updateVisibility(e){e?this.element.classList.remove("hide"):this.element.classList.add("hide"),this.slot.assignedNodes().forEach(n=>{if(n.nodeType!==Node.ELEMENT_NODE)return;const i=n,o=i.dataset.visibilityAttribute;if(o!=null){const s=`data-${o}`;e?i.setAttribute(s,""):i.removeAttribute(s)}i.dispatchEvent(new CustomEvent("hotspot-visibility",{detail:{visible:e}}))}),this.initialized=!0}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6e=t=>{if(!t.normalized)return 1;const e=t.array;return e instanceof Int8Array?1/127:e instanceof Uint8Array?1/255:e instanceof Int16Array?1/32767:e instanceof Uint16Array?1/65535:1},$M=(t,e,n)=>{let i=n;const o=new ee;return t.traverse(s=>{let a,l;s.updateWorldMatrix(!1,!1);const c=s.geometry;if(c!==void 0){if(c.isGeometry){const u=c.vertices;for(a=0,l=u.length;a<l;a++)o.copy(u[a]),o.applyMatrix4(s.matrixWorld),i=e(i,o)}else if(c.isBufferGeometry){const{position:u}=c.attributes;if(u!==void 0){const d=X6e(u);for(a=0,l=u.count;a<l;a++)o.fromBufferAttribute(u,a),o.multiplyScalar(d),o.applyMatrix4(s.matrixWorld),i=e(i,o)}}}}),i};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=.002,UH=9,J6e=6,jH=2;class Z6e extends Qb{constructor(e,n,i){super();this.shadowMaterial=new FV,this.boundingBox=new Ri,this.size=new ee,this.shadowScale=1,this.isAnimated=!1,this.side="bottom",this.needsUpdate=!1,this.intensity=0,this.castShadow=!0,this.frustumCulled=!1,this.floor=new Ct(new qu,this.shadowMaterial),this.floor.rotateX(-Math.PI/2),this.floor.receiveShadow=!0,this.floor.castShadow=!1,this.floor.frustumCulled=!1,this.add(this.floor),e.target.add(this),this.target=e.target,this.setScene(e,n,i)}setScene(e,n,i){if(this.side=i,this.isAnimated=e.animationNames.length>0,this.boundingBox.copy(e.boundingBox),this.size.copy(e.size),this.side==="back"){const{min:l,max:c}=this.boundingBox;[l.y,l.z]=[l.z,l.y],[c.y,c.z]=[c.z,c.y],[this.size.y,this.size.z]=[this.size.z,this.size.y],this.rotation.x=Math.PI/2,this.rotation.y=Math.PI}else this.rotation.x=0,this.rotation.y=0;const{boundingBox:o,size:s}=this;if(this.isAnimated){const l=Math.max(s.x,s.y,s.z)*jH;s.y=l,o.expandByVector(s.subScalar(l).multiplyScalar(-.5)),o.max.y=o.min.y+l,s.set(l,l,l)}o.getCenter(this.floor.position);const a=o.max.y+s.y*FH;i==="bottom"?(this.position.y=a,this.position.z=0):(this.position.y=0,this.position.z=a),this.setSoftness(n)}setSoftness(e){const n=Math.pow(2,UH-e*(UH-J6e));this.setMapSize(n)}setMapSize(e){const{camera:n,mapSize:i,map:o}=this.shadow,{size:s,boundingBox:a}=this;o!=null&&(o.dispose(),this.shadow.map=null),this.isAnimated&&(e*=jH);const l=Math.floor(s.x>s.z?e:e*s.x/s.z),c=Math.floor(s.x>s.z?e*s.z/s.x:e);i.set(l,c);const u=2.5*s.x/l,d=2.5*s.z/c;n.left=-a.max.x-u,n.right=-a.min.x+u,n.bottom=a.min.z-d,n.top=a.max.z+d,this.setScaleAndOffset(this.shadowScale,0),this.floor.scale.set(s.x+2*u,s.z+2*d,1),this.needsUpdate=!0,this.shadow.needsUpdate=!0}setIntensity(e){this.shadowMaterial.opacity=e,e>0?(this.visible=!0,this.floor.visible=!0):(this.visible=!1,this.floor.visible=!1)}getIntensity(){return this.shadowMaterial.opacity}setRotation(e){if(this.side!=="bottom"){this.shadow.camera.up.set(0,1,0),this.shadow.updateMatrices(this);return}this.shadow.camera.up.set(Math.sin(e),0,Math.cos(e)),this.shadow.updateMatrices(this)}setScaleAndOffset(e,n){const i=this.size.y,{camera:o}=this.shadow;this.shadowScale=e,o.near=0,o.far=i-n/e,o.updateProjectionMatrix(),o.scale.setScalar(e);const s=i*FH;this.floor.position.y=2*s-o.far}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=45,qM=new ee,BH=new ee,VH=new ee,Q6e=new VOe,eNe=new ee,u0=new Ue;class tNe extends ua{constructor({canvas:e,element:n,width:i,height:o}){super();this.context=null,this.annotationRenderer=new j6e,this.schemaElement=document.createElement("script"),this.width=1,this.height=1,this.aspect=1,this.renderCount=0,this.externalRenderer=null,this.camera=new zr(45,1,.1,100),this.xrCamera=null,this.url=null,this.target=new dn,this.modelContainer=new dn,this.animationNames=[],this.boundingBox=new Ri,this.size=new ee,this.idealAspect=0,this.framedFoVDeg=WM,this.boundingRadius=0,this.shadow=null,this.shadowIntensity=0,this.shadowSoftness=1,this.exposure=1,this.canScale=!0,this.tightBounds=!1,this.isDirty=!1,this.goalTarget=new ee,this.targetDamperX=new ws,this.targetDamperY=new ws,this.targetDamperZ=new ws,this._currentGLTF=null,this.cancelPendingSourceChange=null,this.animationsByName=new Map,this.currentAnimationAction=null,this.name="ModelScene",this.element=n,this.canvas=e,this.camera=new zr(45,1,.1,100),this.camera.name="MainCamera",this.add(this.target),this.setSize(i,o),this.target.name="Target",this.modelContainer.name="ModelContainer",this.target.add(this.modelContainer),this.mixer=new XV(this.modelContainer);const{domElement:s}=this.annotationRenderer,{style:a}=s;a.display="none",a.pointerEvents="none",a.position="absolute",a.top="0",this.element.shadowRoot.querySelector(".default").appendChild(s),this.schemaElement.setAttribute("type","application/ld+json")}createContext(){this.context=this.canvas.getContext("2d")}getCamera(){return this.xrCamera!=null?this.xrCamera:this.camera}queueRender(){this.isDirty=!0}shouldRender(){return this.isDirty}hasRendered(){this.isDirty=!1}async setObject(e){this.reset(),this.modelContainer.add(e),await this.setupScene()}async setSource(e,n=()=>{}){if(!e||e===this.url){n(1);return}if(this.reset(),this.url=e,this.externalRenderer!=null){const l=await this.externalRenderer.load(n);this.boundingRadius=l.framedRadius,this.idealAspect=l.fieldOfViewAspect,this.dispatchEvent({type:"model-load",url:this.url});return}this.cancelPendingSourceChange!=null&&(this.cancelPendingSourceChange(),this.cancelPendingSourceChange=null);let i;try{i=await new Promise(async(l,c)=>{this.cancelPendingSourceChange=()=>c();try{const u=await this.element[_n].loader.load(e,this.element,n);l(u)}catch(u){c(u)}})}catch(l){if(l==null)return;throw l}this.reset(),this.url=e,this._currentGLTF=i,i!=null&&this.modelContainer.add(i.scene);const{animations:o}=i,s=new Map,a=[];for(const l of o)s.set(l.name,l),a.push(l.name);this.animations=o,this.animationsByName=s,this.animationNames=a,await this.setupScene()}async setupScene(){this.updateBoundingBox(),await this.updateFraming(),this.updateShadow(),this.setShadowIntensity(this.shadowIntensity),this.dispatchEvent({type:"model-load",url:this.url})}reset(){this.url=null,this.queueRender(),this.shadow!=null&&this.shadow.setIntensity(0);const e=this._currentGLTF;if(e!=null){for(const n of this.modelContainer.children)this.modelContainer.remove(n);e.dispose(),this._currentGLTF=null}this.currentAnimationAction!=null&&(this.currentAnimationAction.stop(),this.currentAnimationAction=null),this.mixer.stopAllAction(),this.mixer.uncacheRoot(this)}get currentGLTF(){return this._currentGLTF}setSize(e,n){if(!(this.width===e&&this.height===n)){if(this.width=Math.max(e,1),this.height=Math.max(n,1),this.annotationRenderer.setSize(e,n),this.aspect=this.width/this.height,this.externalRenderer!=null){const i=GM();this.externalRenderer.resize(e*i,n*i)}this.queueRender()}}updateBoundingBox(){if(this.target.remove(this.modelContainer),this.tightBounds===!0){const e=(n,i)=>n.expandByPoint(i);this.boundingBox=$M(this.modelContainer,e,new Ri)}else this.boundingBox.setFromObject(this.modelContainer);this.boundingBox.getSize(this.size),this.target.add(this.modelContainer)}async updateFraming(){this.target.remove(this.modelContainer);let e=this.boundingBox.getCenter(new ee);this.tightBounds===!0&&(await this.element.requestUpdate("cameraTarget"),e=this.getTarget());const n=(o,s)=>Math.max(o,e.distanceToSquared(s));this.boundingRadius=Math.sqrt($M(this.modelContainer,n,0));const i=(o,s)=>{s.sub(e);const a=Math.sqrt(s.x*s.x+s.z*s.z);return Math.max(o,a/(this.idealCameraDistance()-Math.abs(s.y)))};this.idealAspect=$M(this.modelContainer,i,0)/Math.tan(this.framedFoVDeg/2*Math.PI/180),this.target.add(this.modelContainer)}idealCameraDistance(){const e=this.framedFoVDeg/2*Math.PI/180;return this.boundingRadius/Math.sin(e)}adjustedFoV(e){const n=Math.tan(e/2*Math.PI/180)*Math.max(1,this.idealAspect/this.aspect);return 2*Math.atan(n)*180/Math.PI}getNDC(e,n){if(this.xrCamera!=null)u0.set(e/window.screen.width,n/window.screen.height);else{const i=this.element.getBoundingClientRect();u0.set((e-i.x)/this.width,(n-i.y)/this.height)}return u0.multiplyScalar(2).subScalar(1),u0.y*=-1,u0}getSize(){return{width:this.width,height:this.height}}setTarget(e,n,i){this.goalTarget.set(-e,-n,-i)}setTargetDamperDecayTime(e){this.targetDamperX.setDecayTime(e),this.targetDamperY.setDecayTime(e),this.targetDamperZ.setDecayTime(e)}getTarget(){return eNe.copy(this.goalTarget).multiplyScalar(-1)}jumpToGoal(){this.updateTarget(RH)}updateTarget(e){const n=this.goalTarget,i=this.target.position;if(!n.equals(i)){const o=this.boundingRadius/10;let{x:s,y:a,z:l}=i;s=this.targetDamperX.update(s,n.x,e,o),a=this.targetDamperY.update(a,n.y,e,o),l=this.targetDamperZ.update(l,n.z,e,o),this.target.position.set(s,a,l),this.target.updateMatrixWorld(),this.setShadowRotation(this.yaw),this.queueRender()}}pointTowards(e,n){const{x:i,z:o}=this.position;this.yaw=Math.atan2(e-i,n-o)}set yaw(e){this.rotation.y=e,this.updateMatrixWorld(!0),this.setShadowRotation(e),this.queueRender()}get yaw(){return this.rotation.y}set animationTime(e){this.mixer.setTime(e)}get animationTime(){if(this.currentAnimationAction!=null){const e=Math.max(this.currentAnimationAction._loopCount,0);return this.currentAnimationAction.loop===hC&&(e&1)==1?this.duration-this.currentAnimationAction.time:this.currentAnimationAction.time}return 0}get duration(){return this.currentAnimationAction!=null&&this.currentAnimationAction.getClip()?this.currentAnimationAction.getClip().duration:0}get hasActiveAnimation(){return this.currentAnimationAction!=null}playAnimation(e=null,n=0,i=fC,o=1/0){if(this._currentGLTF==null)return;const{animations:s}=this;if(s==null||s.length===0){console.warn("Cannot play animation (model does not have any animations)");return}let a=null;e!=null&&(a=this.animationsByName.get(e)),a==null&&(a=s[0]);try{const{currentAnimationAction:l}=this,c=this.mixer.clipAction(a,this);this.currentAnimationAction=c,this.element.paused?this.mixer.stopAllAction():l!=null&&c!==l&&c.crossFadeFrom(l,n,!1),c.setLoop(i,o),c.enabled=!0,c.play()}catch(l){console.error(l)}}stopAnimation(){this.currentAnimationAction=null,this.mixer.stopAllAction()}updateAnimation(e){this.mixer.update(e)}subscribeMixerEvent(e,n){this.mixer.addEventListener(e,n)}updateShadow(){const e=this.shadow;if(e!=null){const n=this.element.arPlacement==="wall"?"back":"bottom";e.setScene(this,this.shadowSoftness,n),e.setRotation(this.yaw)}}setShadowIntensity(e){if(this.shadowIntensity=e,this._currentGLTF!=null&&!(e<=0&&this.shadow==null)){if(this.shadow==null){const n=this.element.arPlacement==="wall"?"back":"bottom";this.shadow=new Z6e(this,this.shadowSoftness,n),this.shadow.setRotation(this.yaw)}this.shadow.setIntensity(e)}}setShadowSoftness(e){this.shadowSoftness=e;const n=this.shadow;n!=null&&n.setSoftness(e)}setShadowRotation(e){const n=this.shadow;n!=null&&n.setRotation(e)}isShadowDirty(){const e=this.shadow;if(e==null)return!1;{const{needsUpdate:n}=e;return e.needsUpdate=!1,n}}setShadowScaleAndOffset(e,n){const i=this.shadow;i!=null&&i.setScaleAndOffset(e,n)}get raycaster(){return Q6e}positionAndNormalFromPoint(e,n=this){this.raycaster.setFromCamera(e,this.getCamera());const i=this.raycaster.intersectObject(n,!0);if(i.length===0)return null;const o=i[0];return o.face==null?null:o.uv==null?{position:o.point,normal:o.face.normal,uv:null}:(o.face.normal.applyNormalMatrix(new Nr().getNormalMatrix(o.object.matrixWorld)),{position:o.point,normal:o.face.normal,uv:o.uv})}addHotspot(e){this.target.add(e),this.annotationRenderer.domElement.appendChild(e.element)}removeHotspot(e){this.target.remove(e)}forHotspots(e){const{children:n}=this.target;for(let i=0,o=n.length;i<o;i++){const s=n[i];s instanceof DH&&e(s)}}updateHotspots(e){this.forHotspots(n=>{qM.copy(e),BH.setFromMatrixPosition(n.matrixWorld),qM.sub(BH),VH.copy(n.normal).transformDirection(this.target.matrixWorld),qM.dot(VH)<0?n.hide():n.show()})}orientHotspots(e){this.forHotspots(n=>{n.orient(e)})}setHotspotsVisibility(e){this.forHotspots(n=>{n.visible=e})}updateSchema(e){var n;const{schemaElement:i,element:o}=this,{alt:s,poster:a,iosSrc:l}=o;if(e!=null){const c=[{"@type":"MediaObject",contentUrl:e,encodingFormat:((n=e.split(".").pop())===null||n===void 0?void 0:n.toLowerCase())==="gltf"?"model/gltf+json":"model/gltf-binary"}];l&&c.push({"@type":"MediaObject",contentUrl:l,encodingFormat:"model/vnd.usdz+zip"});const u={"@context":"http://schema.org/","@type":"3DModel",image:a!=null?a:void 0,name:s!=null?s:void 0,encoding:c};i.textContent=JSON.stringify(u),document.head.appendChild(i)}else i.parentElement!=null&&i.parentElement.removeChild(i)}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d0=function(t,e,n,i){for(var o=arguments.length,s=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a,l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};const nNe=.1,rNe=0,iNe=1,sNe=1,f0=Symbol("currentEnvironmentMap"),sE=Symbol("applyEnvironmentMap"),oE=Symbol("updateEnvironment"),h0=Symbol("cancelEnvironmentUpdate"),YM=Symbol("onPreload"),oNe=t=>{var e,n,i;class o extends t{constructor(){super(...arguments);this.environmentImage=null,this.skyboxImage=null,this.shadowIntensity=rNe,this.shadowSoftness=iNe,this.exposure=sNe,this[e]=null,this[n]=null,this[i]=a=>{a.element===this&&this[oE]()}}connectedCallback(){super.connectedCallback(),this[_n].loader.addEventListener("preload",this[YM])}disconnectedCallback(){super.disconnectedCallback(),this[_n].loader.removeEventListener("preload",this[YM])}updated(a){super.updated(a),a.has("shadowIntensity")&&(this[Je].setShadowIntensity(this.shadowIntensity*nNe),this[Oi]()),a.has("shadowSoftness")&&(this[Je].setShadowSoftness(this.shadowSoftness),this[Oi]()),a.has("exposure")&&(this[Je].exposure=this.exposure,this[Oi]()),(a.has("environmentImage")||a.has("skyboxImage"))&&this[id]()&&this[oE]()}[(e=f0,n=h0,i=YM,_a)](){super[_a](),this[f0]!=null&&this[sE](this[f0])}async[oE](){const{skyboxImage:a,environmentImage:l}=this;this[h0]!=null&&(this[h0](),this[h0]=null);const{textureUtils:c}=this[_n];if(c!=null)try{const{environmentMap:u,skybox:d}=await new Promise(async(f,h)=>{const v=c.generateEnvironmentMapAndSkybox(CH(a),l,{progressTracker:this[Dh]});this[h0]=()=>h(v),f(await v)});d!=null?this[Je].background=d.name===u.name?u:d:this[Je].background=null,this[sE](u),this[Je].dispatchEvent({type:"envmap-update"})}catch(u){if(u instanceof Error)throw this[sE](null),u}}[sE](a){this[Je].environment!==a&&(this[f0]=a,this[Je].environment=this[f0],this.dispatchEvent(new CustomEvent("environment-change")),this[Oi]())}}return d0([kt({type:String,attribute:"environment-image"})],o.prototype,"environmentImage",void 0),d0([kt({type:String,attribute:"skybox-image"})],o.prototype,"skyboxImage",void 0),d0([kt({type:Number,attribute:"shadow-intensity"})],o.prototype,"shadowIntensity",void 0),d0([kt({type:Number,attribute:"shadow-softness"})],o.prototype,"shadowSoftness",void 0),d0([kt({type:Number})],o.prototype,"exposure",void 0),o};class aNe{constructor(e,n,i,o,s){this.xrLight=e,this.renderer=n,this.lightProbe=i,this.xrWebGLBinding=null,this.estimationStartCallback=s,this.frameCallback=this.onXRFrame.bind(this);const a=n.xr.getSession();if(o&&"XRWebGLBinding"in window){const l=new Ab(16);e.environment=l.texture;const c=n.getContext();switch(a.preferredReflectionFormat){case"srgba8":c.getExtension("EXT_sRGB");break;case"rgba16f":c.getExtension("OES_texture_half_float");break}this.xrWebGLBinding=new XRWebGLBinding(a,c),this.lightProbe.addEventListener("reflectionchange",()=>{this.updateReflection()})}a.requestAnimationFrame(this.frameCallback)}updateReflection(){const e=this.renderer.properties.get(this.xrLight.environment);if(e){const n=this.xrWebGLBinding.getReflectionCubeMap(this.lightProbe);n&&(e.__webglTexture=n)}}onXRFrame(e,n){if(!this.xrLight)return;n.session.requestAnimationFrame(this.frameCallback);const o=n.getLightEstimate(this.lightProbe);if(o){this.xrLight.lightProbe.sh.fromArray(o.sphericalHarmonicsCoefficients),this.xrLight.lightProbe.intensity=1;const s=Math.max(1,Math.max(o.primaryLightIntensity.x,Math.max(o.primaryLightIntensity.y,o.primaryLightIntensity.z)));this.xrLight.directionalLight.color.setRGB(o.primaryLightIntensity.x/s,o.primaryLightIntensity.y/s,o.primaryLightIntensity.z/s),this.xrLight.directionalLight.intensity=s,this.xrLight.directionalLight.position.copy(o.primaryLightDirection),this.estimationStartCallback&&(this.estimationStartCallback(),this.estimationStartCallback=null)}}dispose(){this.xrLight=null,this.renderer=null,this.lightProbe=null,this.xrWebGLBinding=null}}class lNe extends fl{constructor(e,n=!0){super();this.lightProbe=new eE,this.lightProbe.intensity=0,this.add(this.lightProbe),this.directionalLight=new Qb,this.directionalLight.intensity=0,this.add(this.directionalLight),this.environment=null;let i=null,o=!1;e.xr.addEventListener("sessionstart",()=>{const s=e.xr.getSession();"requestLightProbe"in s&&s.requestLightProbe({reflectionFormat:s.preferredReflectionFormat}).then(a=>{i=new aNe(this,e,a,n,()=>{o=!0,this.dispatchEvent({type:"estimationstart"})})})}),e.xr.addEventListener("sessionend",()=>{i&&(i.dispose(),i=null),o&&this.dispatchEvent({type:"estimationend"})}),this.dispose=()=>{i&&(i.dispose(),i=null),this.remove(this.lightProbe),this.lightProbe=null,this.remove(this.directionalLight),this.directionalLight=null,this.environment=null}}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=.2,HH=.03,cNe=.75,zH=12,uNe=Math.PI/(2*zH),GH=new Ue,aE=(t,e,n)=>{let i=e>0?n>0?0:-Math.PI/2:n>0?Math.PI/2:Math.PI;for(let o=0;o<=zH;++o)t.push(e+(Oh-HH)*Math.cos(i),n+(Oh-HH)*Math.sin(i),0,e+Oh*Math.cos(i),n+Oh*Math.sin(i),0),i+=uNe};class $H extends Ct{constructor(e,n){const i=new Nn,o=[],s=[],{size:a,boundingBox:l}=e,c=a.x/2,u=(n==="back"?a.y:a.z)/2;aE(s,c,u),aE(s,-c,u),aE(s,-c,-u),aE(s,c,-u);const d=s.length/3;for(let v=0;v<d-2;v+=2)o.push(v,v+1,v+3,v,v+3,v+2);const f=d-2;o.push(f,f+1,1,f,1,0),i.setAttribute("position",new kr(s,3)),i.setIndex(o);super(i);this.side=n;const h=this.material;switch(h.side=Qa,h.transparent=!0,h.opacity=0,this.goalOpacity=0,this.opacityDamper=new ws,this.hitPlane=new Ct(new qu(2*(c+Oh),2*(u+Oh))),this.hitPlane.visible=!1,this.add(this.hitPlane),l.getCenter(this.position),n){case"bottom":this.rotateX(-Math.PI/2),this.shadowHeight=l.min.y,this.position.y=this.shadowHeight;break;case"back":this.shadowHeight=l.min.z,this.position.z=this.shadowHeight}e.target.add(this)}getHit(e,n,i){GH.set(n,-i),this.hitPlane.visible=!0;const o=e.positionAndNormalFromPoint(GH,this.hitPlane);return this.hitPlane.visible=!1,o==null?null:o.position}getExpandedHit(e,n,i){this.hitPlane.scale.set(1e3,1e3,1e3);const o=this.getHit(e,n,i);return this.hitPlane.scale.set(1,1,1),o}set offsetHeight(e){this.side==="back"?this.position.z=this.shadowHeight+e:this.position.y=this.shadowHeight+e}get offsetHeight(){return this.side==="back"?this.position.z-this.shadowHeight:this.position.y-this.shadowHeight}set show(e){this.goalOpacity=e?cNe:0}updateOpacity(e){const n=this.material;n.opacity=this.opacityDamper.update(n.opacity,this.goalOpacity,e,1),this.visible=n.opacity>0}dispose(){var e;const{geometry:n,material:i}=this.hitPlane;n.dispose(),i.dispose(),this.geometry.dispose(),this.material.dispose(),(e=this.parent)===null||e===void 0||e.remove(this)}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dNe=30,fNe=.3,WH=1.5,hNe=20,qH=1.3,pNe=1/qH,mNe=.25,gNe=10,Hc={NOT_PRESENTING:"not-presenting",SESSION_STARTED:"session-started",OBJECT_PLACED:"object-placed",FAILED:"failed"},KM={TRACKING:"tracking",NOT_TRACKING:"not-tracking"},lE=new ee,vNe=new ut,yNe=new ee,_Ne=new zr(45,1,.1,100);class bNe extends _s{constructor(e){super();this.renderer=e,this.currentSession=null,this.placeOnWall=!1,this.placementBox=null,this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.oldBackground=null,this.oldEnvironment=null,this.frame=null,this.initialHitSource=null,this.transientHitTestSource=null,this.inputSource=null,this._presentedScene=null,this.resolveCleanup=null,this.exitWebXRButtonContainer=null,this.overlay=null,this.xrLight=null,this.tracking=!0,this.frames=0,this.initialized=!1,this.oldTarget=new ee,this.placementComplete=!1,this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!1,this.lastDragPosition=new ee,this.firstRatio=0,this.lastAngle=0,this.goalPosition=new ee,this.goalYaw=0,this.goalScale=1,this.xDamper=new ws,this.yDamper=new ws,this.zDamper=new ws,this.yawDamper=new ws,this.scaleDamper=new ws,this.onExitWebXRButtonContainerClick=()=>this.stopPresenting(),this.onUpdateScene=()=>{this.placementBox!=null&&this.isPresenting&&(this.placementBox.dispose(),this.placementBox=new $H(this.presentedScene,this.placeOnWall?"back":"bottom"))},this.onSelectStart=n=>{const i=this.transientHitTestSource;if(i==null)return;const o=this.frame.getHitTestResultsForTransientInput(i),s=this.presentedScene,a=this.placementBox;if(o.length===1){this.inputSource=n.inputSource;const{axes:l}=this.inputSource.gamepad,c=a.getHit(this.presentedScene,l[0],l[1]);a.show=!0,c!=null?(this.isTranslating=!0,this.lastDragPosition.copy(c)):this.placeOnWall===!1&&(this.isRotating=!0,this.lastAngle=l[0]*WH)}else if(o.length===2){a.show=!0,this.isTwoFingering=!0;const{separation:l}=this.fingerPolar(o);this.firstRatio=l/s.scale.x}},this.onSelectEnd=()=>{this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!1,this.inputSource=null,this.goalPosition.y+=this.placementBox.offsetHeight*this.presentedScene.scale.x,this.placementBox.show=!1},this.threeRenderer=e.threeRenderer,this.threeRenderer.xr.enabled=!0}async resolveARSession(){MH();const e=await navigator.xr.requestSession("immersive-ar",{requiredFeatures:["hit-test"],optionalFeatures:["dom-overlay","light-estimation"],domOverlay:{root:this.overlay}});return this.threeRenderer.xr.setReferenceSpaceType("local"),await this.threeRenderer.xr.setSession(e),this.threeRenderer.xr.cameraAutoUpdate=!1,e}get presentedScene(){return this._presentedScene}async supportsPresentation(){try{return MH(),await navigator.xr.isSessionSupported("immersive-ar")}catch(e){return console.warn("Request to present in WebXR denied:"),console.warn(e),console.warn("Falling back to next ar-mode"),!1}}async present(e,n=!1){this.isPresenting&&console.warn("Cannot present while a model is already presenting");let i=new Promise((u,d)=>{requestAnimationFrame(()=>u())});e.setHotspotsVisibility(!1),e.queueRender(),await i,this._presentedScene=e,this.overlay=e.element.shadowRoot.querySelector("div.default"),n===!0&&(this.xrLight=new lNe(this.threeRenderer),this.xrLight.addEventListener("estimationstart",()=>{if(!this.isPresenting||this.xrLight==null)return;const u=this.presentedScene;u.add(this.xrLight),this.oldEnvironment=u.environment,u.environment=this.xrLight.environment}));const o=await this.resolveARSession();o.addEventListener("end",()=>{this.postSessionCleanup()},{once:!0});const s=e.element.shadowRoot.querySelector(".slot.exit-webxr-ar-button");s.classList.add("enabled"),s.addEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=s;const a=await o.requestReferenceSpace("viewer");this.tracking=!0,this.frames=0,this.initialized=!1,this.turntableRotation=e.yaw,this.goalYaw=e.yaw,this.goalScale=1,this.oldBackground=e.background,e.background=null,this.oldShadowIntensity=e.shadowIntensity,e.setShadowIntensity(.01),this.oldTarget.copy(e.getTarget()),e.addEventListener("model-load",this.onUpdateScene);const l=hNe*Math.PI/180,c=this.placeOnWall===!0?void 0:new XRRay(new DOMPoint(0,0,0),{x:0,y:-Math.sin(l),z:-Math.cos(l)});o.requestHitTestSource({space:a,offsetRay:c}).then(u=>{this.initialHitSource=u}),this.currentSession=o,this.placementBox=new $H(e,this.placeOnWall?"back":"bottom"),this.placementComplete=!1,this.lastTick=performance.now(),this.dispatchEvent({type:"status",status:Hc.SESSION_STARTED})}async stopPresenting(){if(!this.isPresenting)return;const e=new Promise(n=>{this.resolveCleanup=n});try{await this.currentSession.end(),await e}catch(n){console.warn("Error while trying to end WebXR AR session"),console.warn(n),this.postSessionCleanup()}}get isPresenting(){return this.presentedScene!=null}get target(){return this.oldTarget}updateTarget(){const e=this.presentedScene;if(e!=null){const n=e.getTarget();this.oldTarget.copy(n),this.placeOnWall?n.z=e.boundingBox.min.z:n.y=e.boundingBox.min.y,e.setTarget(n.x,n.y,n.z)}}postSessionCleanup(){const e=this.currentSession;e!=null&&(e.removeEventListener("selectstart",this.onSelectStart),e.removeEventListener("selectend",this.onSelectEnd),this.currentSession=null);const n=this.presentedScene;if(n!=null){const{element:a}=n;this.xrLight!=null&&(n.remove(this.xrLight),this.oldEnvironment!=null&&(n.environment=this.oldEnvironment,this.oldEnvironment=null),this.xrLight.dispose(),this.xrLight=null),n.position.set(0,0,0),n.scale.set(1,1,1),n.setShadowScaleAndOffset(1,0);const l=this.turntableRotation;l!=null&&(n.yaw=l);const c=this.oldShadowIntensity;c!=null&&n.setShadowIntensity(c);const u=this.oldBackground;u!=null&&(n.background=u);const d=this.oldTarget;n.setTarget(d.x,d.y,d.z),n.xrCamera=null,n.removeEventListener("model-load",this.onUpdateScene),n.orientHotspots(0),a.requestUpdate("cameraTarget"),a.requestUpdate("maxCameraOrbit"),a[y0](a.getBoundingClientRect())}this.renderer.height=0;const i=this.exitWebXRButtonContainer;i!=null&&(i.classList.remove("enabled"),i.removeEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=null);const o=this.transientHitTestSource;o!=null&&(o.cancel(),this.transientHitTestSource=null);const s=this.initialHitSource;s!=null&&(s.cancel(),this.initialHitSource=null),this.placementBox!=null&&(this.placementBox.dispose(),this.placementBox=null),this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.oldBackground=null,this._presentedScene=null,this.frame=null,this.inputSource=null,this.overlay=null,this.resolveCleanup!=null&&this.resolveCleanup(),this.dispatchEvent({type:"status",status:Hc.NOT_PRESENTING})}updateView(e){const n=this.presentedScene,i=this.threeRenderer.xr;i.updateCamera(_Ne),n.xrCamera=i.getCamera();const{elements:o}=n.getCamera().matrixWorld;if(n.orientHotspots(Math.atan2(o[1],o[5])),this.initialized||(this.placeInitially(),this.initialized=!0),e.requestViewportScale&&e.recommendedViewportScale){const l=e.recommendedViewportScale;e.requestViewportScale(Math.max(l,mNe))}const a=this.currentSession.renderState.baseLayer.getViewport(e);this.threeRenderer.setViewport(a.x,a.y,a.width,a.height)}placeInitially(){const e=this.presentedScene,{position:n,element:i}=e,o=e.getCamera(),{width:s,height:a}=this.overlay.getBoundingClientRect();e.setSize(s,a),o.projectionMatrixInverse.copy(o.projectionMatrix).invert();const{theta:l,radius:c}=i.getCameraOrbit(),u=o.getWorldDirection(lE);e.yaw=Math.atan2(-u.x,-u.z)-l,this.goalYaw=e.yaw,n.copy(o.position).add(u.multiplyScalar(c)),this.updateTarget();const d=e.getTarget();n.add(d).sub(this.oldTarget),this.goalPosition.copy(n),e.setHotspotsVisibility(!0);const{session:f}=this.frame;f.addEventListener("selectstart",this.onSelectStart),f.addEventListener("selectend",this.onSelectEnd),f.requestHitTestSourceForTransientInput({profile:"generic-touchscreen"}).then(h=>{this.transientHitTestSource=h})}getTouchLocation(){const{axes:e}=this.inputSource.gamepad;let n=this.placementBox.getExpandedHit(this.presentedScene,e[0],e[1]);return n!=null&&(lE.copy(n).sub(this.presentedScene.getCamera().position),lE.length()>gNe)?null:n}getHitPoint(e){const n=this.threeRenderer.xr.getReferenceSpace(),i=e.getPose(n);if(i==null)return null;const o=vNe.fromArray(i.transform.matrix);return this.placeOnWall===!0&&(this.goalYaw=Math.atan2(o.elements[4],o.elements[6])),o.elements[5]>.75!==this.placeOnWall?yNe.setFromMatrixPosition(o):null}moveToFloor(e){const n=this.initialHitSource;if(n==null)return;const i=e.getHitTestResults(n);if(i.length==0)return;const o=i[0],s=this.getHitPoint(o);s!=null&&(this.placementBox.show=!0,this.isTranslating||(this.placeOnWall?this.goalPosition.copy(s):this.goalPosition.y=s.y),n.cancel(),this.initialHitSource=null,this.dispatchEvent({type:"status",status:Hc.OBJECT_PLACED}))}fingerPolar(e){const n=e[0].inputSource.gamepad.axes,i=e[1].inputSource.gamepad.axes,o=i[0]-n[0],s=i[1]-n[1],a=Math.atan2(s,o);let l=this.lastAngle-a;return l>Math.PI?l-=2*Math.PI:l<-Math.PI&&(l+=2*Math.PI),this.lastAngle=a,{separation:Math.sqrt(o*o+s*s),deltaYaw:l}}processInput(e){const n=this.transientHitTestSource;if(n==null||!this.isTranslating&&!this.isTwoFingering&&!this.isRotating)return;const i=e.getHitTestResultsForTransientInput(n),o=this.presentedScene,s=o.scale.x;if(this.isTwoFingering){if(i.length<2)this.isTwoFingering=!1;else{const{separation:a,deltaYaw:l}=this.fingerPolar(i);if(this.placeOnWall===!1&&(this.goalYaw+=l),o.canScale){const c=a/this.firstRatio;this.goalScale=c<qH&&c>pNe?1:c}}return}else if(i.length===2){this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!0;const{separation:a}=this.fingerPolar(i);this.firstRatio=a/s;return}if(this.isRotating){const a=this.inputSource.gamepad.axes[0]*WH;this.goalYaw+=a-this.lastAngle,this.lastAngle=a}else this.isTranslating&&i.forEach(a=>{if(a.inputSource!==this.inputSource)return;let l=null;if(a.results.length>0&&(l=this.getHitPoint(a.results[0])),l==null&&(l=this.getTouchLocation()),l!=null){if(this.goalPosition.sub(this.lastDragPosition),this.placeOnWall===!1){const c=l.y-this.lastDragPosition.y;if(c<0){this.placementBox.offsetHeight=c/s,this.presentedScene.setShadowScaleAndOffset(s,c);const u=lE.copy(o.getCamera().position),d=-c/(u.y-l.y);u.multiplyScalar(d),l.multiplyScalar(1-d).add(u)}}this.goalPosition.add(l),this.lastDragPosition.copy(l)}})}moveScene(e){const n=this.presentedScene,{position:i,yaw:o,boundingRadius:s}=n,a=this.goalPosition,l=n.scale.x,c=this.placementBox;if(!a.equals(i)||this.goalScale!==l){let{x:u,y:d,z:f}=i;u=this.xDamper.update(u,a.x,e,s),d=this.yDamper.update(d,a.y,e,s),f=this.zDamper.update(f,a.z,e,s),i.set(u,d,f);const h=this.scaleDamper.update(l,this.goalScale,e,1);if(n.scale.set(h,h,h),!this.isTranslating){const v=a.y-d;this.placementComplete&&this.placeOnWall===!1?(c.offsetHeight=v/h,n.setShadowScaleAndOffset(h,v)):v===0&&(this.placementComplete=!0,c.show=!1,n.setShadowIntensity(fNe))}}c.updateOpacity(e),n.updateTarget(e),n.yaw=this.yawDamper.update(o,this.goalYaw,e,Math.PI)}onWebXRFrame(e,n){this.frame=n,++this.frames;const i=this.threeRenderer.xr.getReferenceSpace(),o=n.getViewerPose(i);o==null&&this.tracking===!0&&this.frames>dNe&&(this.tracking=!1,this.dispatchEvent({type:"tracking",status:KM.NOT_TRACKING}));const s=this.presentedScene;if(o==null||s==null||!s.element[sd]()){this.threeRenderer.clear();return}this.tracking===!1&&(this.tracking=!0,this.dispatchEvent({type:"tracking",status:KM.TRACKING}));let a=!0;for(const l of o.views){if(this.updateView(l),a){this.moveToFloor(n),this.processInput(n);const u=e-this.lastTick;this.moveScene(u),this.renderer.preRender(s,e,u),this.lastTick=e}const c=this.threeRenderer.getContext();c.depthMask(!1),c.clear(c.DEPTH_BUFFER_BIT),c.depthMask(!0),this.threeRenderer.render(s,s.getCamera()),a=!1}}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ENe{constructor(e){e.threeRenderer.debug={checkShaderErrors:!0},Promise.resolve().then(()=>{self.dispatchEvent(new CustomEvent("model-viewer-renderer-debug",{detail:{renderer:e,THREE:{ShaderMaterial:ul,Texture:fr,Mesh:Ct,Scene:ua,PlaneBufferGeometry:qu,OrthographicCamera:mh,WebGLRenderTarget:Zi}}}))})}addScene(e){self.dispatchEvent(new CustomEvent("model-viewer-scene-added-debug",{detail:{scene:e}}))}removeScene(e){self.dispatchEvent(new CustomEvent("model-viewer-scene-removed-debug",{detail:{scene:e}}))}}function wNe(t){const e=new Map,n=new Map,i=t.clone();return YH(t,i,function(o,s){e.set(s,o),n.set(o,s)}),i.traverse(function(o){if(!o.isSkinnedMesh)return;const s=o,a=e.get(o),l=a.skeleton.bones;s.skeleton=a.skeleton.clone(),s.bindMatrix.copy(a.bindMatrix),s.skeleton.bones=l.map(function(c){return n.get(c)}),s.bind(s.skeleton,s.bindMatrix)}),i}function YH(t,e,n){n(t,e);for(let i=0;i<t.children.length;i++)YH(t.children[i],e.children[i],n)}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH=Symbol("prepared"),cE=Symbol("prepare"),ma=Symbol("preparedGLTF"),uE=Symbol("clone");class xNe{constructor(e){this[ma]=e}static prepare(e){if(e.scene==null)throw new Error("Model does not have a scene");if(e[KH])return e;const n=this[cE](e);return n[KH]=!0,n}static[cE](e){const{scene:n}=e,i=[n];return Object.assign(Object.assign({},e),{scene:n,scenes:i})}get parser(){return this[ma].parser}get animations(){return this[ma].animations}get scene(){return this[ma].scene}get scenes(){return this[ma].scenes}get cameras(){return this[ma].cameras}get asset(){return this[ma].asset}get userData(){return this[ma].userData}clone(){const e=this.constructor,n=this[uE]();return new e(n)}dispose(){this.scenes.forEach(e=>{e.traverse(n=>{if(!n.isMesh)return;const i=n;(Array.isArray(i.material)?i.material:[i.material]).forEach(s=>{for(const a in s){const l=s[a];l instanceof fr&&l.dispose()}s.dispose()}),i.geometry.dispose()})})}[uE](){const e=this[ma],n=wNe(this.scene);SNe(n,this.scene);const i=[n],o=e.userData?Object.assign({},e.userData):{};return Object.assign(Object.assign({},e),{scene:n,scenes:i,userData:o})}}const SNe=(t,e)=>{XH(t,e,(n,i)=>{i.userData.variantMaterials!==void 0&&(n.userData.variantMaterials=new Map(i.userData.variantMaterials)),i.userData.variantData!==void 0&&(n.userData.variantData=i.userData.variantData),i.userData.originalMaterial!==void 0&&(n.userData.originalMaterial=i.userData.originalMaterial)})},XH=(t,e,n)=>{n(t,e);for(let i=0;i<t.children.length;i++)XH(t.children[i],e.children[i],n)},JH=Symbol("threeGLTF"),ZH=Symbol("gltf"),QH=Symbol("gltfElementMap"),ez=Symbol("threeObjectMap"),tz=Symbol("parallelTraverseThreeScene"),nz=Symbol("correlateOriginalThreeGLTF"),rz=Symbol("correlateCloneThreeGLTF");class p0{constructor(e,n,i,o){this[JH]=e,this[ZH]=n,this[QH]=o,this[ez]=i}static from(e,n){return n!=null?this[rz](e,n):this[nz](e)}static[nz](e){const n=e.parser.json,i=e.parser.associations,o=new Map,s={name:"Default"},a={type:"materials",index:-1};for(const l of i.keys())l instanceof Tr&&i.get(l)==null&&(a.index<0&&(n.materials==null&&(n.materials=[]),a.index=n.materials.length,n.materials.push(s)),l.name=s.name,i.set(l,{materials:a.index}));for(const[l,c]of i){if(c){const u=l;u.userData=u.userData||{},u.userData.associations=c}for(const u in c)if(u!=null&&u!=="primitives"){const d=u,h=(n[d]||[])[c[d]];if(h==null)continue;let v=o.get(h);v==null&&(v=new Set,o.set(h,v)),v.add(l)}}return new p0(e,n,i,o)}static[rz](e,n){const i=n.threeGLTF,o=n.gltf,s=JSON.parse(JSON.stringify(o)),a=new Map,l=new Map;for(let c=0;c<i.scenes.length;c++)this[tz](i.scenes[c],e.scenes[c],(u,d)=>{const f=n.threeObjectMap.get(u);if(f!=null){for(const h in f)if(h!=null&&h!=="primitives"){const v=h,m=f[v],_=s[v][m],S=a.get(d)||{};S[v]=m,a.set(d,S);const E=l.get(_)||new Set;E.add(d),l.set(_,E)}}});return new p0(e,s,a,l)}static[tz](e,n,i){const o=a=>a.isMesh,s=(a,l)=>{if(i(a,l),a.isObject3D){if(o(a))if(Array.isArray(a.material))for(let c=0;c<a.material.length;++c)s(a.material[c],l.material[c]);else s(a.material,l.material);for(let c=0;c<a.children.length;++c)s(a.children[c],l.children[c])}};s(e,n)}get threeGLTF(){return this[JH]}get gltf(){return this[ZH]}get gltfElementMap(){return this[QH]}get threeObjectMap(){return this[ez]}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=Symbol("correlatedSceneGraph");class TNe extends xNe{static[cE](e){const n=super[cE](e);n[dE]==null&&(n[dE]=p0.from(n));const{scene:i}=n,o=new Sc(void 0,1/0);return i.traverse(s=>{s.renderOrder=1e3,s.frustumCulled=!1,s.name||(s.name=s.uuid);const a=s;if(a.isMesh){a.castShadow=!0,a.isSkinnedMesh&&(a.geometry.boundingSphere=o,a.geometry.boundingBox=null);const l=a.material;l.shadowSide=Qa}}),n}get correlatedSceneGraph(){return this[ma][dE]}[uE](){const e=super[uE](),n=new Map;return e.scene.traverse(i=>{if(i.isMesh){const o=i,s=o.material;if(s!=null){if(n.has(s.uuid)){o.material=n.get(s.uuid);return}o.material=s.clone(),n.set(s.uuid,o.material)}}}),e[dE]=p0.from(e,this.correlatedSceneGraph),e}}class CNe extends _Oe{constructor(e){super(e);this.type=ys}parse(e){const n=-1,i=1,o=2,s=3,a=4,l=function(T,C){switch(T){case i:console.error("THREE.RGBELoader Read Error: "+(C||""));break;case o:console.error("THREE.RGBELoader Write Error: "+(C||""));break;case s:console.error("THREE.RGBELoader Bad File Format: "+(C||""));break;default:case a:console.error("THREE.RGBELoader: Error: "+(C||""))}return n},c=1,u=2,d=4,f=`
`,h=function(T,C,P){const R=128;C=C||1024;let A=T.pos,L=-1,k=0,U="",N=String.fromCharCode.apply(null,new Uint16Array(T.subarray(A,A+R)));for(;0>(L=N.indexOf(f))&&k<C&&A<T.byteLength;)U+=N,k+=N.length,A+=R,N+=String.fromCharCode.apply(null,new Uint16Array(T.subarray(A,A+R)));return-1<L?(P!==!1&&(T.pos+=k+L+1),U+N.slice(0,L)):!1},v=function(T){const C=/^#\?(\S+)/,P=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,R=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,A=/^\s*FORMAT=(\S+)\s*$/,L=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,k={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let U,N;if(T.pos>=T.byteLength||!(U=h(T)))return l(i,"no header found");if(!(N=U.match(C)))return l(s,"bad initial token");for(k.valid|=c,k.programtype=N[1],k.string+=U+`
`;U=h(T),U!==!1;){if(k.string+=U+`
`,U.charAt(0)==="#"){k.comments+=U+`
`;continue}if((N=U.match(P))&&(k.gamma=parseFloat(N[1],10)),(N=U.match(R))&&(k.exposure=parseFloat(N[1],10)),(N=U.match(A))&&(k.valid|=u,k.format=N[1]),(N=U.match(L))&&(k.valid|=d,k.height=parseInt(N[1],10),k.width=parseInt(N[2],10)),k.valid&u&&k.valid&d)break}return k.valid&u?k.valid&d?k:l(s,"missing image size specifier"):l(s,"missing format specifier")},m=function(T,C,P){const R=C;if(R<8||R>32767||T[0]!==2||T[1]!==2||T[2]&128)return new Uint8Array(T);if(R!==(T[2]<<8|T[3]))return l(s,"wrong scanline width");const A=new Uint8Array(4*C*P);if(!A.length)return l(a,"unable to allocate buffer space");let L=0,k=0;const U=4*R,N=new Uint8Array(4),I=new Uint8Array(U);let F=P;for(;F>0&&k<T.byteLength;){if(k+4>T.byteLength)return l(i);if(N[0]=T[k++],N[1]=T[k++],N[2]=T[k++],N[3]=T[k++],N[0]!=2||N[1]!=2||(N[2]<<8|N[3])!=R)return l(s,"bad rgbe scanline format");let O=0,V;for(;O<U&&k<T.byteLength;){V=T[k++];const B=V>128;if(B&&(V-=128),V===0||O+V>U)return l(s,"bad scanline data");if(B){const H=T[k++];for(let W=0;W<V;W++)I[O++]=H}else I.set(T.subarray(k,k+V),O),O+=V,k+=V}const z=R;for(let B=0;B<z;B++){let H=0;A[L]=I[B+H],H+=R,A[L+1]=I[B+H],H+=R,A[L+2]=I[B+H],H+=R,A[L+3]=I[B+H],L+=4}F--}return A},_=function(T,C,P,R){const A=T[C+3],L=Math.pow(2,A-128)/255;P[R+0]=T[C+0]*L,P[R+1]=T[C+1]*L,P[R+2]=T[C+2]*L},S=function(T,C,P,R){const A=T[C+3],L=Math.pow(2,A-128)/255;P[R+0]=AM.toHalfFloat(Math.min(T[C+0]*L,65504)),P[R+1]=AM.toHalfFloat(Math.min(T[C+1]*L,65504)),P[R+2]=AM.toHalfFloat(Math.min(T[C+2]*L,65504))},E=new Uint8Array(e);E.pos=0;const w=v(E);if(n!==w){const T=w.width,C=w.height,P=m(E.subarray(E.pos),T,C);if(n!==P){let R,A,L,k;switch(this.type){case Xs:k=P.length/4;const U=new Float32Array(k*3);for(let I=0;I<k;I++)_(P,I*4,U,I*3);R=U,A=Js,L=Xs;break;case ys:k=P.length/4;const N=new Uint16Array(k*3);for(let I=0;I<k;I++)S(P,I*4,N,I*3);R=N,A=Js,L=ys;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:T,height:C,data:R,header:w.string,gamma:w.gamma,exposure:w.exposure,format:A,type:L}}}return null}setDataType(e){return this.type=e,this}load(e,n,i,o){function s(a,l){switch(a.type){case Xs:a.encoding=Or,a.minFilter=Ln,a.magFilter=Ln,a.generateMipmaps=!1,a.flipY=!0;break;case ys:a.encoding=Or,a.minFilter=Ln,a.magFilter=Ln,a.generateMipmaps=!1,a.flipY=!0;break}n&&n(a,l)}return super.load(e,s,i,o)}}/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MNe extends ua{constructor(){super();this.position.y=-3.5;const e=new Lc;e.deleteAttribute("uv");const n=new hl({metalness:0,side:dr}),i=new hl({metalness:0}),o=new Zb(16777215,500,28,2);o.position.set(.418,16.199,.3),this.add(o);const s=new Ct(e,n);s.position.set(-.757,13.219,.717),s.scale.set(31.713,28.305,28.591),this.add(s);const a=new Ct(e,i);a.position.set(-10.906,2.009,1.846),a.rotation.set(0,-.195,0),a.scale.set(2.328,7.905,4.651),this.add(a);const l=new Ct(e,i);l.position.set(-5.607,-.754,-.758),l.rotation.set(0,.994,0),l.scale.set(1.97,1.534,3.955),this.add(l);const c=new Ct(e,i);c.position.set(6.167,.857,7.803),c.rotation.set(0,.561,0),c.scale.set(3.927,6.285,3.687),this.add(c);const u=new Ct(e,i);u.position.set(-2.017,.018,6.124),u.rotation.set(0,.333,0),u.scale.set(2.002,4.566,2.064),this.add(u);const d=new Ct(e,i);d.position.set(2.291,-.756,-2.621),d.rotation.set(0,-.286,0),d.scale.set(1.546,1.552,1.496),this.add(d);const f=new Ct(e,i);f.position.set(-2.193,-.369,-5.547),f.rotation.set(0,.516,0),f.scale.set(3.875,3.487,2.986),this.add(f);const h=new Ct(e,this.createAreaLightMaterial(50));h.position.set(-16.116,14.37,8.208),h.scale.set(.1,2.428,2.739),this.add(h);const v=new Ct(e,this.createAreaLightMaterial(50));v.position.set(-16.109,18.021,-8.207),v.scale.set(.1,2.425,2.751),this.add(v);const m=new Ct(e,this.createAreaLightMaterial(17));m.position.set(14.904,12.198,-1.832),m.scale.set(.15,4.265,6.331),this.add(m);const _=new Ct(e,this.createAreaLightMaterial(43));_.position.set(-.462,8.89,14.52),_.scale.set(4.38,5.441,.088),this.add(_);const S=new Ct(e,this.createAreaLightMaterial(20));S.position.set(3.235,11.486,-12.541),S.scale.set(2.5,2,.1),this.add(S);const E=new Ct(e,this.createAreaLightMaterial(100));E.position.set(0,20,0),E.scale.set(1,.1,1),this.add(E)}createAreaLightMaterial(e){const n=new Ro;return n.color.setScalar(e),n}}/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ANe extends ua{constructor(){super();this.position.y=-3.5;const e=new Lc;e.deleteAttribute("uv");const n=new hl({metalness:0,side:dr}),i=new hl({metalness:0}),o=new Zb(16777215,400,28,2);o.position.set(.5,14,.5),this.add(o);const s=new Ct(e,n);s.position.set(0,13.2,0),s.scale.set(31.5,28.5,31.5),this.add(s);const a=new Ct(e,i);a.position.set(-10.906,-1,1.846),a.rotation.set(0,-.195,0),a.scale.set(2.328,7.905,4.651),this.add(a);const l=new Ct(e,i);l.position.set(-5.607,-.754,-.758),l.rotation.set(0,.994,0),l.scale.set(1.97,1.534,3.955),this.add(l);const c=new Ct(e,i);c.position.set(6.167,-.16,7.803),c.rotation.set(0,.561,0),c.scale.set(3.927,6.285,3.687),this.add(c);const u=new Ct(e,i);u.position.set(-2.017,.018,6.124),u.rotation.set(0,.333,0),u.scale.set(2.002,4.566,2.064),this.add(u);const d=new Ct(e,i);d.position.set(2.291,-.756,-2.621),d.rotation.set(0,-.286,0),d.scale.set(1.546,1.552,1.496),this.add(d);const f=new Ct(e,i);f.position.set(-2.193,-.369,-5.547),f.rotation.set(0,.516,0),f.scale.set(3.875,3.487,2.986),this.add(f);const h=new Ct(e,this.createAreaLightMaterial(80));h.position.set(-14,10,8),h.scale.set(.1,2.5,2.5),this.add(h);const v=new Ct(e,this.createAreaLightMaterial(80));v.position.set(-14,14,-4),v.scale.set(.1,2.5,2.5),this.add(v);const m=new Ct(e,this.createAreaLightMaterial(23));m.position.set(14,12,0),m.scale.set(.1,5,5),this.add(m);const _=new Ct(e,this.createAreaLightMaterial(16));_.position.set(0,9,14),_.scale.set(5,5,.1),this.add(_);const S=new Ct(e,this.createAreaLightMaterial(80));S.position.set(7,8,-14),S.scale.set(2.5,2.5,.1),this.add(S);const E=new Ct(e,this.createAreaLightMaterial(80));E.position.set(-7,16,-14),E.scale.set(2.5,2.5,.1),this.add(E);const w=new Ct(e,this.createAreaLightMaterial(1));w.position.set(0,20,0),w.scale.set(.1,.1,.1),this.add(w)}createAreaLightMaterial(e){const n=new Ro;return n.color.setScalar(e),n}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PNe=.04,Nh=20,RNe=/\.hdr(\.js)?$/,LNe=new Jb,iz=new CNe;iz.setDataType(ys);class sz extends _s{constructor(e){super();this.threeRenderer=e,this.generatedEnvironmentMap=null,this.generatedEnvironmentMapAlt=null,this.skyboxCache=new Map,this.blurMaterial=null,this.blurScene=null}async load(e,n=()=>{}){try{const i=RNe.test(e),o=i?iz:LNe,s=await new Promise((a,l)=>o.load(e,a,c=>{n(c.loaded/c.total*.9)},l));return n(1),s.name=e,s.mapping=tb,i||(s.encoding=Ji),s}finally{n&&n(1)}}async generateEnvironmentMapAndSkybox(e=null,n=null,i={}){const{progressTracker:o}=i,s=n==="neutral";s===!0&&(n=null),n=CH(n);let a=Promise.resolve(null),l;e&&(a=this.loadEquirectFromUrl(e,o)),n?l=this.loadEquirectFromUrl(n,o):e?l=this.loadEquirectFromUrl(e,o):l=s===!0?this.loadGeneratedEnvironmentMapAlt():this.loadGeneratedEnvironmentMap();let[c,u]=await Promise.all([l,a]);if(c==null)throw new Error("Failed to load environment map.");return{environmentMap:c,skybox:u}}async loadEquirectFromUrl(e,n){if(!this.skyboxCache.has(e)){const i=n?n.beginActivity():()=>{},o=this.load(e,i);this.skyboxCache.set(e,o)}return this.skyboxCache.get(e)}async GenerateEnvironmentMap(e,n){await PH();const i=this.threeRenderer,o=new Ab(256,{generateMipmaps:!1,type:ys,format:Qn,encoding:Or,depthBuffer:!0}),s=new zg(.1,100,o),a=s.renderTarget.texture;a.name=n,a.isRenderTargetTexture=!1,a.images=[1,1,1,1,1,1],e.scale.setComponent(0,-1);const l=i.outputEncoding,c=i.toneMapping;return i.toneMapping=nl,i.outputEncoding=Or,s.update(i,e),await this.blurCubemap(o,PNe),i.toneMapping=c,i.outputEncoding=l,a}async loadGeneratedEnvironmentMap(){return this.generatedEnvironmentMap==null&&(this.generatedEnvironmentMap=this.GenerateEnvironmentMap(new MNe,"default")),this.generatedEnvironmentMap}async loadGeneratedEnvironmentMapAlt(){return this.generatedEnvironmentMapAlt==null&&(this.generatedEnvironmentMapAlt=this.GenerateEnvironmentMap(new ANe,"neutral")),this.generatedEnvironmentMapAlt}async blurCubemap(e,n){if(this.blurMaterial==null){this.blurMaterial=this.getBlurShader(Nh);const o=new Lc,s=new Ct(o,this.blurMaterial);this.blurScene=new ua,this.blurScene.add(s)}const i=e.clone();this.halfblur(e,i,n,"latitudinal"),this.halfblur(i,e,n,"longitudinal")}async halfblur(e,n,i,o){const s=3,a=e.width,l=isFinite(i)?Math.PI/(2*a):2*Math.PI/(2*Nh-1),c=i/l,u=isFinite(i)?1+Math.floor(s*c):Nh;u>Nh&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${u} samples when the maximum is set to ${Nh}`);const d=[];let f=0;for(let m=0;m<Nh;++m){const _=m/c,S=Math.exp(-_*_/2);d.push(S),m==0?f+=S:m<u&&(f+=2*S)}for(let m=0;m<d.length;m++)d[m]=d[m]/f;const h=this.blurMaterial.uniforms;h.envMap.value=e.texture,h.samples.value=u,h.weights.value=d,h.latitudinal.value=o==="latitudinal",h.dTheta.value=l,new zg(.1,100,n).update(this.threeRenderer,this.blurScene)}getBlurShader(e){const n=new Float32Array(e),i=new ee(0,1,0);return new ul({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},poleAxis:{value:i}},vertexShader:`
      
      varying vec3 vOutputDirection;
  
      void main() {
  
        vOutputDirection = vec3( position );
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
  
      }
    `,fragmentShader:`
        varying vec3 vOutputDirection;
  
        uniform samplerCube envMap;
        uniform int samples;
        uniform float weights[ n ];
        uniform bool latitudinal;
        uniform float dTheta;
        uniform vec3 poleAxis;
  
        vec3 getSample( float theta, vec3 axis ) {
  
          float cosTheta = cos( theta );
          // Rodrigues' axis-angle rotation
          vec3 sampleDirection = vOutputDirection * cosTheta
            + cross( axis, vOutputDirection ) * sin( theta )
            + axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );
  
          return vec3( textureCube( envMap, sampleDirection ) );
  
        }
  
        void main() {
  
          vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );
  
          if ( all( equal( axis, vec3( 0.0 ) ) ) ) {
  
            axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );
  
          }
  
          axis = normalize( axis );
  
          gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
          gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );
  
          for ( int i = 1; i < n; i++ ) {
  
            if ( i >= samples ) {
  
              break;
  
            }
  
            float theta = dTheta * float( i );
            gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
            gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );
  
          }
        }
      `,blending:tl,depthTest:!1,depthWrite:!1,side:dr})}async dispose(){for(const[,e]of this.skyboxCache)(await e).dispose();this.generatedEnvironmentMap!=null&&((await this.generatedEnvironmentMap).dispose(),this.generatedEnvironmentMap=null),this.generatedEnvironmentMapAlt!=null&&((await this.generatedEnvironmentMapAlt).dispose(),this.generatedEnvironmentMapAlt=null),this.blurMaterial!=null&&this.blurMaterial.dispose()}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INe=.2,XM=18,JM=26,oz=2,ZM=[1,.79,.62,.5,.4,.31,.25],ONe=3,az="high-performance";class bl extends _s{constructor(e){super();this.loader=new Ii(TNe),this.width=0,this.height=0,this.dpr=1,this.debugger=null,this.scenes=new Set,this.multipleScenesVisible=!1,this.scaleStep=0,this.lastStep=ONe,this.avgFrameDuration=(JM+XM)/2,this.onWebGLContextLost=n=>{this.dispatchEvent({type:"contextlost",sourceEvent:n})},this.onWebGLContextRestored=()=>{var n;(n=this.textureUtils)===null||n===void 0||n.dispose(),this.textureUtils=new sz(this.threeRenderer);for(const i of this.scenes)i.element[oE]();this.threeRenderer.shadowMap.needsUpdate=!0},this.dpr=GM(),this.canvas3D=document.createElement("canvas"),this.canvas3D.id="webgl-canvas";try{this.threeRenderer=new wn({canvas:this.canvas3D,alpha:!0,antialias:!0,powerPreference:e.powerPreference,preserveDrawingBuffer:!0}),this.threeRenderer.autoClear=!0,this.threeRenderer.outputEncoding=Ji,this.threeRenderer.physicallyCorrectLights=!0,this.threeRenderer.setPixelRatio(1),this.threeRenderer.shadowMap.enabled=!0,this.threeRenderer.shadowMap.type=kj,this.threeRenderer.shadowMap.autoUpdate=!1,this.debugger=e.debug?new ENe(this):null,this.threeRenderer.debug={checkShaderErrors:!!this.debugger},this.threeRenderer.toneMapping=Gj}catch(n){console.warn(n)}this.arRenderer=new bNe(this),this.textureUtils=this.canRender?new sz(this.threeRenderer):null,Ii.initializeKTX2Loader(this.threeRenderer),this.canvas3D.addEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.addEventListener("webglcontextrestored",this.onWebGLContextRestored),this.updateRendererSize(),this.lastTick=performance.now(),this.avgFrameDuration=0}static get singleton(){return this._singleton}static resetSingleton(){const e=this._singleton.dispose();for(const n of e)n.disconnectedCallback();this._singleton=new bl({powerPreference:(self.ModelViewerElement||{}).powerPreference||az,debug:AH()});for(const n of e)n.connectedCallback()}get canRender(){return this.threeRenderer!=null}get scaleFactor(){return ZM[this.scaleStep]}set minScale(e){let n=1;for(;n<ZM.length&&!(ZM[n]<e);)++n;this.lastStep=n-1}updateRendererSize(){const e=GM();if(e!==this.dpr)for(const l of this.scenes){const{element:c}=l;c[kh](c.getBoundingClientRect())}let n=0,i=0;for(const l of this.scenes)n=Math.max(n,l.width),i=Math.max(i,l.height);if(n===this.width&&i===this.height&&e===this.dpr)return;this.width=n,this.height=i,this.dpr=e,this.canRender&&this.threeRenderer.setSize(n*e,i*e,!1);const o=this.scaleFactor,s=n/o,a=i/o;this.canvas3D.style.width=`${s}px`,this.canvas3D.style.height=`${a}px`;for(const l of this.scenes){const{canvas:c}=l;c.width=Math.round(n*e),c.height=Math.round(i*e),c.style.width=`${s}px`,c.style.height=`${a}px`,l.queueRender()}}updateRendererScale(){const e=this.scaleStep;if(this.avgFrameDuration>JM?++this.scaleStep:this.avgFrameDuration<XM&&this.scaleStep>0&&--this.scaleStep,this.scaleStep=Math.min(this.scaleStep,this.lastStep),e==this.scaleStep)return;const n=this.scaleFactor;this.avgFrameDuration=(JM+XM)/2;const i=this.width/n,o=this.height/n;this.canvas3D.style.width=`${i}px`,this.canvas3D.style.height=`${o}px`;for(const s of this.scenes){const{style:a}=s.canvas;a.width=`${i}px`,a.height=`${o}px`,s.queueRender()}}registerScene(e){this.scenes.add(e);const{canvas:n}=e,i=this.scaleFactor;n.width=Math.round(this.width*this.dpr),n.height=Math.round(this.height*this.dpr),n.style.width=`${this.width/i}px`,n.style.height=`${this.height/i}px`,this.multipleScenesVisible&&n.classList.add("show"),e.queueRender(),this.canRender&&this.scenes.size>0&&this.threeRenderer.setAnimationLoop((o,s)=>this.render(o,s)),this.debugger!=null&&this.debugger.addScene(e)}unregisterScene(e){this.scenes.delete(e),this.canRender&&this.scenes.size===0&&this.threeRenderer.setAnimationLoop(null),this.debugger!=null&&this.debugger.removeScene(e)}displayCanvas(e){return this.multipleScenesVisible?e.element[mE]:this.canvas3D}selectCanvas(){let e=0,n=null;for(const s of this.scenes){const{element:a}=s;a.modelIsVisible&&s.externalRenderer==null&&(++e,n=s.canvas)}if(n==null)return;const i=e>1,{canvas3D:o}=this;if(!(i===this.multipleScenesVisible&&(i||o.parentElement===n.parentElement))){this.multipleScenesVisible=i,i&&o.classList.remove("show");for(const s of this.scenes){if(s.externalRenderer!=null)continue;const a=s.element[mE];i?(a.classList.add("show"),s.queueRender()):s.canvas===n&&(s.canvas.parentElement.appendChild(o),o.classList.add("show"),a.classList.remove("show"),s.queueRender())}}}orderedScenes(){const e=[];for(const n of[!1,!0])for(const i of this.scenes)i.element.modelIsVisible===n&&e.push(i);return e}get isPresenting(){return this.arRenderer.isPresenting}preRender(e,n,i){const{element:o,exposure:s}=e;o[ya](n,i);const a=typeof s=="number"&&!self.isNaN(s);this.threeRenderer.toneMappingExposure=a?s:1,e.isShadowDirty()&&(this.threeRenderer.shadowMap.needsUpdate=!0)}render(e,n){if(n!=null){this.arRenderer.onWebXRFrame(e,n);return}const i=e-this.lastTick;if(this.lastTick=e,!this.canRender||this.isPresenting)return;this.avgFrameDuration+=ed(INe*(i-this.avgFrameDuration),-oz,oz),this.selectCanvas(),this.updateRendererSize(),this.updateRendererScale();const{dpr:o,scaleFactor:s}=this;for(const a of this.orderedScenes()){const{element:l}=a;if(!l.modelIsVisible&&a.renderCount>0||(this.preRender(a,e,i),!a.shouldRender()))continue;if(a.externalRenderer!=null){const d=a.getCamera();d.updateMatrix();const{matrix:f,projectionMatrix:h}=d,v=f.elements.slice(),m=a.getTarget();v[12]+=m.x,v[13]+=m.y,v[14]+=m.z,a.externalRenderer.render({viewMatrix:v,projectionMatrix:h.elements});continue}if(!l.modelIsVisible&&!this.multipleScenesVisible)for(const d of this.scenes)d.element.modelIsVisible&&d.queueRender();const c=Math.min(Math.ceil(a.width*s*o),this.canvas3D.width),u=Math.min(Math.ceil(a.height*s*o),this.canvas3D.height);if(this.threeRenderer.setRenderTarget(null),this.threeRenderer.setViewport(0,Math.floor(this.height*o)-u,c,u),this.threeRenderer.render(a,a.camera),this.multipleScenesVisible){a.context==null&&a.createContext();const d=a.context;d.clearRect(0,0,c,u),d.drawImage(this.canvas3D,0,0,c,u,0,0,c,u)}a.hasRendered(),l.loaded&&++a.renderCount}}dispose(){this.textureUtils!=null&&this.textureUtils.dispose(),this.threeRenderer!=null&&this.threeRenderer.dispose(),this.textureUtils=null,this.threeRenderer=null;const e=[];for(const n of this.scenes)e.push(n.element);return this.canvas3D.removeEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.removeEventListener("webglcontextrestored",this.onWebGLContextRestored),e}}bl._singleton=new bl({powerPreference:(self.ModelViewerElement||{}).powerPreference||az,debug:AH()});/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NNe=async t=>new Promise((e,n)=>{const i=512,o=t.match(/data:(.*);/);if(!o)return n(new Error(`${t} is not a valid data Url`));const s=o[1],a=t.replace(/data:image\/\w+;base64,/,""),l=atob(a),c=[];for(let u=0;u<l.length;u+=i){const d=l.slice(u,u+i),f=new Array(d.length);for(let v=0;v<d.length;v++)f[v]=d.charCodeAt(v);const h=new Uint8Array(f);c.push(h)}e(new Blob(c,{type:s}))});/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kNe extends EventTarget{constructor(){super(...arguments);this.ongoingActivities=new Set,this.totalProgress=0}get ongoingActivityCount(){return this.ongoingActivities.size}beginActivity(){const e={progress:0,completed:!1};return this.ongoingActivities.add(e),this.ongoingActivityCount===1&&this.announceTotalProgress(e,0),n=>{let i;return i=Math.max(ed(n,0,1),e.progress),i!==e.progress&&this.announceTotalProgress(e,i),e.progress}}announceTotalProgress(e,n){let i=0,o=0;n==1&&(e.completed=!0);for(const l of this.ongoingActivities){const{progress:c}=l;i+=1-c,l.completed===!0&&o++}const s=e.progress;e.progress=n,this.totalProgress+=(n-s)*(1-this.totalProgress)/i;const a=o===this.ongoingActivityCount?1:this.totalProgress;this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:a}})),o===this.ongoingActivityCount&&(this.totalProgress=0,this.ongoingActivities.clear())}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lz=function(t,e,n,i){for(var o=arguments.length,s=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a,l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},cz,uz,dz,fz,hz,pz,mz,gz,vz,yz;const DNe=1e3,FNe=50,UNe=0,jNe=300,BNe=150,no=document.createElement("canvas"),QM=Symbol("fallbackResizeHandler"),eA=Symbol("defaultAriaLabel"),fE=Symbol("resizeObserver"),m0=Symbol("clearModelTimeout"),tA=Symbol("onContextLost"),nd=Symbol("loaded"),kh=Symbol("updateSize"),hE=Symbol("intersectionObserver"),rd=Symbol("isElementInViewport"),pE=Symbol("announceModelVisibility"),nA=Symbol("ariaLabel"),g0=Symbol("loadedTime"),ga=Symbol("updateSource"),_z=Symbol("markLoaded"),v0=Symbol("container"),va=Symbol("input"),mE=Symbol("canvas"),Je=Symbol("scene"),Oi=Symbol("needsRender"),ya=Symbol("tick"),_a=Symbol("onModelLoad"),y0=Symbol("onResize"),_n=Symbol("renderer"),Dh=Symbol("progressTracker"),bz=Symbol("getLoaded"),gE=Symbol("getModelIsVisible"),id=Symbol("shouldAttemptPreload"),sd=Symbol("sceneIsReady"),Fh=Symbol("hasTransitioned"),vE=t=>({x:t.x,y:t.y,z:t.z,toString(){return`${this.x}m ${this.y}m ${this.z}m`}}),VNe=t=>({u:t.x,v:t.y,toString(){return`${this.u} ${this.v}`}});class rA extends Z4{constructor(){super();this.alt=null,this.src=null,this[cz]=!1,this[uz]=!1,this[dz]=0,this[fz]=null,this[hz]=zM(()=>{const o=this.getBoundingClientRect();this[kh](o)},FNe),this[pz]=zM(o=>{const s=this.modelIsVisible;s!==o&&this.dispatchEvent(new CustomEvent("model-visibility",{detail:{visible:s}}))},UNe),this[mz]=null,this[gz]=null,this[vz]=new kNe,this[yz]=o=>{this.dispatchEvent(new CustomEvent("error",{detail:{type:"webglcontextlost",sourceError:o.sourceEvent}}))},this.attachShadow({mode:"open"});const e=this.shadowRoot;e6e(e),this[v0]=e.querySelector(".container"),this[va]=e.querySelector(".userInput"),this[mE]=e.querySelector("canvas"),this[eA]=this[va].getAttribute("aria-label");let n,i;if(this.isConnected){const o=this.getBoundingClientRect();n=o.width,i=o.height}else n=jNe,i=BNe;this[Je]=new tNe({canvas:this[mE],element:this,width:n,height:i}),this[Je].addEventListener("model-load",async o=>{this[_z](),this[_a](),await PH(),this.dispatchEvent(new CustomEvent("load",{detail:{url:o.url}}))}),Promise.resolve().then(()=>{this[kh](this.getBoundingClientRect())}),PM&&(this[fE]=new ResizeObserver(o=>{if(!this[_n].isPresenting)for(let s of o)s.target===this&&this[kh](s.contentRect)})),RM?this[hE]=new IntersectionObserver(o=>{for(let s of o)if(s.target===this){const a=this.modelIsVisible;this[rd]=s.isIntersecting,this[pE](a),this[rd]&&!this[sd]()&&this[ga]()}},{root:null,rootMargin:"0px",threshold:0}):this[rd]=!0}static get is(){return"model-viewer"}static set modelCacheSize(e){Ii[jc].evictionThreshold=e}static get modelCacheSize(){return Ii[jc].evictionThreshold}static set minimumRenderScale(e){e>1&&console.warn("<model-viewer> minimumRenderScale has been clamped to a maximum value of 1."),e<=0&&console.warn("<model-viewer> minimumRenderScale has been clamped to a minimum value of 0.25."),bl.singleton.minScale=e}static get minimumRenderScale(){return bl.singleton.minScale}get loaded(){return this[bz]()}get[(cz=rd,uz=nd,dz=g0,fz=m0,hz=QM,pz=pE,mz=fE,gz=hE,vz=Dh,_n)](){return bl.singleton}get modelIsVisible(){return this[gE]()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),PM?this[fE].observe(this):self.addEventListener("resize",this[QM]),RM&&this[hE].observe(this);const e=this[_n];e.addEventListener("contextlost",this[tA]),e.registerScene(this[Je]),this[m0]!=null&&(self.clearTimeout(this[m0]),this[m0]=null,this.requestUpdate("src",null))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),PM?this[fE].unobserve(this):self.removeEventListener("resize",this[QM]),RM&&this[hE].unobserve(this);const e=this[_n];e.removeEventListener("contextlost",this[tA]),e.unregisterScene(this[Je]),this[m0]=self.setTimeout(()=>{this[Je].reset()},DNe)}updated(e){if(super.updated(e),e.has("src")&&(this.src==null?(this[nd]=!1,this[g0]=0,this[Je].reset()):this.src!==this[Je].url&&(this[nd]=!1,this[g0]=0,this[ga]())),e.has("alt")){const n=this.alt==null?this[eA]:this.alt;this[va].setAttribute("aria-label",n)}}toDataURL(e,n){return this[_n].displayCanvas(this[Je]).toDataURL(e,n)}async toBlob(e){const n=e?e.mimeType:void 0,i=e?e.qualityArgument:void 0,o=e?e.idealAspect:void 0,{width:s,height:a,idealAspect:l,aspect:c}=this[Je],{dpr:u,scaleFactor:d}=this[_n];let f=s*d*u,h=a*d*u,v=0,m=0;if(o===!0)if(l>c){const _=h;h=Math.round(f/l),m=(_-h)/2}else{const _=f;f=Math.round(h*l),v=(_-f)/2}no.width=f,no.height=h;try{return new Promise(async(_,S)=>{if(no.getContext("2d").drawImage(this[_n].displayCanvas(this[Je]),v,m,f,h,0,0,f,h),no.msToBlob&&(!n||n==="image/png"))return _(no.msToBlob());if(!no.toBlob)return _(await NNe(no.toDataURL(n,i)));no.toBlob(E=>{if(!E)return S(new Error("Unable to retrieve canvas blob"));_(E)},n,i)})}finally{this[kh]({width:s,height:a})}}registerRenderer(e){this[Je].externalRenderer=e}unregisterRenderer(){this[Je].externalRenderer=null}get[nA](){return this.alt==null||this.alt==="null"?this[eA]:this.alt}[bz](){return this[nd]}[gE](){return this.loaded&&this[rd]}[Fh](){return this.modelIsVisible}[id](){return!!this.src&&this[rd]}[sd](){return this[nd]}[kh]({width:e,height:n}){this[v0].style.width=`${e}px`,this[v0].style.height=`${n}px`,this[y0]({width:parseFloat(e),height:parseFloat(n)})}[ya](e,n){}[_z](){this[nd]||(this[nd]=!0,this[g0]=performance.now())}[Oi](){this[Je].queueRender()}[_a](){}[y0](e){this[Je].setSize(e.width,e.height)}async[(yz=tA,ga)](){if(this.loaded||!this[id]())return;const e=this[Dh].beginActivity(),n=this.src;try{await this[Je].setSource(n,o=>e(o*.95));const i={url:n};this.dispatchEvent(new CustomEvent("preload",{detail:i}))}catch(i){this.dispatchEvent(new CustomEvent("error",{detail:i}))}finally{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e(1)})})}}}lz([kt({type:String})],rA.prototype,"alt",void 0);lz([kt({type:String})],rA.prototype,"src",void 0);/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iA=function(t,e,n,i){for(var o=arguments.length,s=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a,l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};const Ez=1e3,_0=Symbol("changeAnimation"),El=Symbol("paused"),HNe={repetitions:1/0,pingpong:!1},zNe=t=>{var e;class n extends t{constructor(...o){super(o);this.autoplay=!1,this.animationName=void 0,this.animationCrossfadeDuration=300,this[e]=!0,this[Je].subscribeMixerEvent("loop",s=>{const a=s.action._loopCount;this.dispatchEvent(new CustomEvent("loop",{detail:{count:a}}))}),this[Je].subscribeMixerEvent("finished",()=>{this.currentTime=0,this[El]=!0,this[_n].threeRenderer.shadowMap.autoUpdate=!1,this[_0]({repetitions:1/0,pingpong:!1}),this.dispatchEvent(new CustomEvent("finished"))})}get availableAnimations(){return this.loaded?this[Je].animationNames:[]}get duration(){return this[Je].duration}get paused(){return this[El]}get currentTime(){return this[Je].animationTime}set currentTime(o){this[Je].animationTime=o,this[_n].threeRenderer.shadowMap.needsUpdate=!0,this[Oi]()}pause(){this[El]||(this[El]=!0,this[_n].threeRenderer.shadowMap.autoUpdate=!1,this.dispatchEvent(new CustomEvent("pause")))}play(o=HNe){this.availableAnimations.length>0&&(this[El]=!1,this[_n].threeRenderer.shadowMap.autoUpdate=!0,this[_0](o),this.dispatchEvent(new CustomEvent("play")))}[(e=El,_a)](){super[_a](),this[El]=!0,this.autoplay&&(this[_0]({repetitions:1/0,pingpong:!1}),this.play())}[ya](o,s){super[ya](o,s),!(this[El]||!this[Fh]()&&!this[_n].isPresenting)&&(this[Je].updateAnimation(s/Ez),this[Oi]())}updated(o){super.updated(o),o.has("autoplay")&&this.autoplay&&this.play(),o.has("animationName")&&this[_0]({repetitions:1/0,pingpong:!1})}async[ga](){return this[Je].stopAnimation(),super[ga]()}[_0](o){var s;const a=(s=o.repetitions)!==null&&s!==void 0?s:1/0,l=o.pingpong?hC:a===1?Qj:fC;this[Je].playAnimation(this.animationName,this.animationCrossfadeDuration/Ez,l,a),this[El]&&(this[Je].updateAnimation(0),this[Oi]())}}return iA([kt({type:Boolean})],n.prototype,"autoplay",void 0),iA([kt({type:String,attribute:"animation-name"})],n.prototype,"animationName",void 0),iA([kt({type:Number,attribute:"animation-crossfade-duration"})],n.prototype,"animationCrossfadeDuration",void 0),n};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=Symbol("hotspotMap"),sA=Symbol("mutationCallback"),b0=Symbol("observer"),oA=Symbol("addHotspot"),wz=Symbol("removeHotspot"),aA=new ut,xz=new Nr,GNe=t=>{var e,n,i;class o extends t{constructor(){super(...arguments);this[e]=new Map,this[n]=a=>{a.forEach(l=>{(!(l instanceof MutationRecord)||l.type==="childList")&&(l.addedNodes.forEach(c=>{this[oA](c)}),l.removedNodes.forEach(c=>{this[wz](c)}),this[Oi]())})},this[i]=new MutationObserver(this[sA])}connectedCallback(){super.connectedCallback();for(let l=0;l<this.children.length;++l)this[oA](this.children[l]);const{ShadyDOM:a}=self;a==null?this[b0].observe(this,{childList:!0}):this[b0]=a.observeChildren(this,this[sA])}disconnectedCallback(){super.disconnectedCallback();const{ShadyDOM:a}=self;a==null?this[b0].disconnect():a.unobserveChildren(this[b0])}[(e=Uh,n=sA,i=b0,ya)](a,l){super[ya](a,l);const c=this[Je],{annotationRenderer:u}=c,d=c.getCamera();c.shouldRender()&&(c.updateHotspots(d.position),u.domElement.style.display="",u.render(c,d))}updateHotspot(a){const l=this[Uh].get(a.name);l!=null&&(l.updatePosition(a.position),l.updateNormal(a.normal),this[Oi]())}positionAndNormalFromPoint(a,l){const c=this[Je],u=c.getNDC(a,l),d=c.positionAndNormalFromPoint(u);if(d==null)return null;aA.copy(c.target.matrixWorld).invert();const f=vE(d.position.applyMatrix4(aA));xz.getNormalMatrix(aA);const h=vE(d.normal.applyNormalMatrix(xz));let v=null;return d.uv!=null&&(v=VNe(d.uv)),{position:f,normal:h,uv:v}}[oA](a){if(!(a instanceof HTMLElement&&a.slot.indexOf("hotspot")===0))return;let l=this[Uh].get(a.slot);l!=null?l.increment():(l=new DH({name:a.slot,position:a.dataset.position,normal:a.dataset.normal}),this[Uh].set(a.slot,l),this[Je].addHotspot(l)),this[Je].queueRender()}[wz](a){if(!(a instanceof HTMLElement))return;const l=this[Uh].get(a.slot);!l||(l.decrement()&&(this[Je].removeHotspot(l),this[Uh].delete(a.slot)),this[Je].queueRender())}}return o};/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var Sz=function(t){return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};try{URL.revokeObjectURL(Sz(""))}catch{Sz=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)}}var Ni=Uint8Array,ki=Uint16Array,jh=Uint32Array,lA=new Ni([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cA=new Ni([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Tz=new Ni([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Cz=function(t,e){for(var n=new ki(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var o=new jh(n[30]),i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)o[s]=s-n[i]<<5|i;return[n,o]},Mz=Cz(lA,2),$Ne=Mz[0],uA=Mz[1];$Ne[28]=258,uA[258]=28;var WNe=Cz(cA,0),Az=WNe[1],dA=new ki(32768);for(var qn=0;qn<32768;++qn){var zc=(qn&43690)>>>1|(qn&21845)<<1;zc=(zc&52428)>>>2|(zc&13107)<<2,zc=(zc&61680)>>>4|(zc&3855)<<4,dA[qn]=((zc&65280)>>>8|(zc&255)<<8)>>>1}var E0=function(t,e,n){for(var i=t.length,o=0,s=new ki(e);o<i;++o)++s[t[o]-1];var a=new ki(e);for(o=0;o<e;++o)a[o]=a[o-1]+s[o-1]<<1;var l;if(n){l=new ki(1<<e);var c=15-e;for(o=0;o<i;++o)if(t[o])for(var u=o<<4|t[o],d=e-t[o],f=a[t[o]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[dA[f]>>>c]=u}else for(l=new ki(i),o=0;o<i;++o)t[o]&&(l[o]=dA[a[t[o]-1]++]>>>15-t[o]);return l},od=new Ni(288);for(var qn=0;qn<144;++qn)od[qn]=8;for(var qn=144;qn<256;++qn)od[qn]=9;for(var qn=256;qn<280;++qn)od[qn]=7;for(var qn=280;qn<288;++qn)od[qn]=8;var yE=new Ni(32);for(var qn=0;qn<32;++qn)yE[qn]=5;var qNe=E0(od,9,0),YNe=E0(yE,5,0),Pz=function(t){return(t/8|0)+(t&7&&1)},Rz=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var i=new(t instanceof ki?ki:t instanceof jh?jh:Ni)(n-e);return i.set(t.subarray(e,n)),i},wl=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>>8},w0=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>>8,t[i+2]|=n>>>16},fA=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var o=n.length,s=n.slice();if(!o)return[pA,0];if(o==1){var a=new Ni(n[0].s+1);return a[n[0].s]=1,[a,1]}n.sort(function(P,R){return P.f-R.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],u=0,d=1,f=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};d!=o-1;)l=n[n[u].f<n[f].f?u++:f++],c=n[u!=d&&n[u].f<n[f].f?u++:f++],n[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=s[0].s,i=1;i<o;++i)s[i].s>h&&(h=s[i].s);var v=new ki(h+1),m=hA(n[d-1],v,0);if(m>e){var i=0,_=0,S=m-e,E=1<<S;for(s.sort(function(R,A){return v[A.s]-v[R.s]||R.f-A.f});i<o;++i){var w=s[i].s;if(v[w]>e)_+=E-(1<<m-v[w]),v[w]=e;else break}for(_>>>=S;_>0;){var T=s[i].s;v[T]<e?_-=1<<e-v[T]++-1:++i}for(;i>=0&&_;--i){var C=s[i].s;v[C]==e&&(--v[C],++_)}m=e}return[new Ni(v),m]},hA=function(t,e,n){return t.s==-1?Math.max(hA(t.l,e,n+1),hA(t.r,e,n+1)):e[t.s]=n},Lz=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ki(++e),i=0,o=t[0],s=1,a=function(c){n[i++]=c},l=1;l<=e;++l)if(t[l]==o&&l!=e)++s;else{if(!o&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(o),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(o);s=1,o=t[l]}return[n.subarray(0,i),e]},x0=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},_E=function(t,e,n){var i=n.length,o=Pz(e+2);t[o]=i&255,t[o+1]=i>>>8,t[o+2]=t[o]^255,t[o+3]=t[o+1]^255;for(var s=0;s<i;++s)t[o+s+4]=n[s];return(o+4+i)*8},Iz=function(t,e,n,i,o,s,a,l,c,u,d){wl(e,d++,n),++o[256];for(var f=fA(o,15),h=f[0],v=f[1],m=fA(s,15),_=m[0],S=m[1],E=Lz(h),w=E[0],T=E[1],C=Lz(_),P=C[0],R=C[1],A=new ki(19),L=0;L<w.length;++L)A[w[L]&31]++;for(var L=0;L<P.length;++L)A[P[L]&31]++;for(var k=fA(A,7),U=k[0],N=k[1],I=19;I>4&&!U[Tz[I-1]];--I);var F=u+5<<3,O=x0(o,od)+x0(s,yE)+a,V=x0(o,h)+x0(s,_)+a+14+3*I+x0(A,U)+(2*A[16]+3*A[17]+7*A[18]);if(F<=O&&F<=V)return _E(e,d,t.subarray(c,c+u));var z,B,H,W;if(wl(e,d,1+(V<O)),d+=2,V<O){z=E0(h,v,0),B=h,H=E0(_,S,0),W=_;var G=E0(U,N,0);wl(e,d,T-257),wl(e,d+5,R-1),wl(e,d+10,I-4),d+=14;for(var L=0;L<I;++L)wl(e,d+3*L,U[Tz[L]]);d+=3*I;for(var q=[w,P],re=0;re<2;++re)for(var se=q[re],L=0;L<se.length;++L){var ge=se[L]&31;wl(e,d,G[ge]),d+=U[ge],ge>15&&(wl(e,d,se[L]>>>5&127),d+=se[L]>>>12)}}else z=qNe,B=od,H=YNe,W=yE;for(var L=0;L<l;++L)if(i[L]>255){var ge=i[L]>>>18&31;w0(e,d,z[ge+257]),d+=B[ge+257],ge>7&&(wl(e,d,i[L]>>>23&31),d+=lA[ge]);var _e=i[L]&31;w0(e,d,H[_e]),d+=W[_e],_e>3&&(w0(e,d,i[L]>>>5&8191),d+=cA[_e])}else w0(e,d,z[i[L]]),d+=B[i[L]];return w0(e,d,z[256]),d+B[256]},KNe=new jh([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pA=new Ni(0),XNe=function(t,e,n,i,o,s){var a=t.length,l=new Ni(i+a+5*(1+Math.ceil(a/7e3))+o),c=l.subarray(i,l.length-o),u=0;if(!e||a<8)for(var d=0;d<=a;d+=65535){var f=d+65535;f<a?u=_E(c,u,t.subarray(d,f)):(c[d]=s,u=_E(c,u,t.subarray(d,a)))}else{for(var h=KNe[e-1],v=h>>>13,m=h&8191,_=(1<<n)-1,S=new ki(32768),E=new ki(_+1),w=Math.ceil(n/3),T=2*w,C=function(ye){return(t[ye]^t[ye+1]<<w^t[ye+2]<<T)&_},P=new jh(25e3),R=new ki(288),A=new ki(32),L=0,k=0,d=0,U=0,N=0,I=0;d<a;++d){var F=C(d),O=d&32767,V=E[F];if(S[O]=V,E[F]=O,N<=d){var z=a-d;if((L>7e3||U>24576)&&z>423){u=Iz(t,c,0,P,R,A,k,U,I,d-I,u),U=L=k=0,I=d;for(var B=0;B<286;++B)R[B]=0;for(var B=0;B<30;++B)A[B]=0}var H=2,W=0,G=m,q=O-V&32767;if(z>2&&F==C(d-q))for(var re=Math.min(v,z)-1,se=Math.min(32767,d),ge=Math.min(258,z);q<=se&&--G&&O!=V;){if(t[d+H]==t[d+H-q]){for(var _e=0;_e<ge&&t[d+_e]==t[d+_e-q];++_e);if(_e>H){if(H=_e,W=q,_e>re)break;for(var pe=Math.min(q,_e-2),ae=0,B=0;B<pe;++B){var le=d-q+B+32768&32767,ce=S[le],me=le-ce+32768&32767;me>ae&&(ae=me,V=le)}}}O=V,V=S[O],q+=O-V+32768&32767}if(W){P[U++]=268435456|uA[H]<<18|Az[W];var Ie=uA[H]&31,fe=Az[W]&31;k+=lA[Ie]+cA[fe],++R[257+Ie],++A[fe],N=d+H,++L}else P[U++]=t[d],++R[t[d]]}}u=Iz(t,c,s,P,R,A,k,U,I,d-I,u),!s&&u&7&&(u=_E(c,u+1,pA))}return Rz(l,0,i+Pz(u)+o)},JNe=function(){for(var t=new jh(256),e=0;e<256;++e){for(var n=e,i=9;--i;)n=(n&1&&3988292384)^n>>>1;t[e]=n}return t}(),ZNe=function(){var t=-1;return{p:function(e){for(var n=t,i=0;i<e.length;++i)n=JNe[n&255^e[i]]^n>>>8;t=n},d:function(){return~t}}},QNe=function(t,e,n,i,o){return XNe(t,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):12+e.mem,n,i,!o)},Oz=function(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];return n},ti=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function e8e(t,e){return QNe(t,e||{},0,0)}var Nz=function(t,e,n,i){for(var o in t){var s=t[o],a=e+o;s instanceof Ni?n[a]=[s,i]:Array.isArray(s)?n[a]=[s[0],Oz(i,s[1])]:Nz(s,a+"/",n,i)}},kz=typeof TextEncoder!="undefined"&&new TextEncoder,t8e=typeof TextDecoder!="undefined"&&new TextDecoder,n8e=0;try{t8e.decode(pA,{stream:!0}),n8e=1}catch{}function bE(t,e){if(e){for(var n=new Ni(t.length),i=0;i<t.length;++i)n[i]=t.charCodeAt(i);return n}if(kz)return kz.encode(t);for(var o=t.length,s=new Ni(t.length+(t.length>>1)),a=0,l=function(d){s[a++]=d},i=0;i<o;++i){if(a+5>s.length){var c=new Ni(a+8+(o-i<<1));c.set(s),s=c}var u=t.charCodeAt(i);u<128||e?l(u):u<2048?(l(192|u>>6),l(128|u&63)):u>55295&&u<57344?(u=65536+(u&1023<<10)|t.charCodeAt(++i)&1023,l(240|u>>18),l(128|u>>12&63),l(128|u>>6&63),l(128|u&63)):(l(224|u>>12),l(128|u>>6&63),l(128|u&63))}return Rz(s,0,a)}var mA=function(t){var e=0;if(t)for(var n in t){var i=t[n].length;if(i>65535)throw"extra field too long";e+=i+4}return e},Dz=function(t,e,n,i,o,s,a,l){var c=i.length,u=n.extra,d=l&&l.length,f=mA(u);ti(t,e,a!=null?33639248:67324752),e+=4,a!=null&&(t[e++]=20,t[e++]=n.os),t[e]=20,e+=2,t[e++]=n.flag<<1|(s==null&&8),t[e++]=o&&8,t[e++]=n.compression&255,t[e++]=n.compression>>8;var h=new Date(n.mtime==null?Date.now():n.mtime),v=h.getFullYear()-1980;if(v<0||v>119)throw"date not in range 1980-2099";if(ti(t,e,v<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>>1),e+=4,s!=null&&(ti(t,e,n.crc),ti(t,e+4,s),ti(t,e+8,n.size)),ti(t,e+12,c),ti(t,e+14,f),e+=16,a!=null&&(ti(t,e,d),ti(t,e+6,n.attrs),ti(t,e+10,a),e+=14),t.set(i,e),e+=c,f)for(var m in u){var _=u[m],S=_.length;ti(t,e,+m),ti(t,e+2,S),t.set(_,e+4),e+=4+S}return d&&(t.set(l,e),e+=d),e},r8e=function(t,e,n,i,o){ti(t,e,101010256),ti(t,e+8,n),ti(t,e+10,n),ti(t,e+12,i),ti(t,e+16,o)};function i8e(t,e){e||(e={});var n={},i=[];Nz(t,"",n,e);var o=0,s=0;for(var a in n){var l=n[a],c=l[0],u=l[1],d=u.level==0?0:8,f=bE(a),h=f.length,v=u.comment,m=v&&bE(v),_=m&&m.length,S=mA(u.extra);if(h>65535)throw"filename too long";var E=d?e8e(c,u):c,w=E.length,T=ZNe();T.p(c),i.push(Oz(u,{size:c.length,crc:T.d(),c:E,f,m,u:h!=a.length||m&&v.length!=_,o,compression:d})),o+=30+h+S+w,s+=76+2*(h+S)+(_||0)+w}for(var C=new Ni(s+22),P=o,R=s-o,A=0;A<i.length;++A){var f=i[A];Dz(C,f.o,f,f.f,f.u,f.c.length);var L=30+f.f.length+mA(f.extra);C.set(f.c,f.o+L),Dz(C,o,f,f.f,f.u,f.c.length,f.o,f.m),o+=16+L+(f.m?f.m.length:0)}return r8e(C,o,i.length,R,P),C}class s8e{async parse(e){const n={},i="model.usda";n[i]=null;let o=Fz();const s={},a={};e.traverseVisible(c=>{if(c.isMesh)if(c.material.isMeshStandardMaterial){const u=c.geometry,d=c.material,f="geometries/Geometry_"+u.id+".usd";if(!(f in n)){const h=u8e(u);n[f]=a8e(h)}d.uuid in s||(s[d.uuid]=d),o+=l8e(c,u,d)}else console.warn("THREE.USDZExporter: Unsupported material type (USDZ only supports MeshStandardMaterial)",c)}),o+=m8e(s,a),n[i]=bE(o),o=null;for(const c in a){const u=a[c],d=c.split("_")[1],f=u.format===1023,h=o8e(u.image,d),v=await new Promise(m=>h.toBlob(m,f?"image/png":"image/jpeg",1));n[`textures/Texture_${c}.${f?"png":"jpg"}`]=new Uint8Array(await v.arrayBuffer())}let l=0;for(const c in n){const u=n[c];l+=34+c.length;const f=l&63;if(f!==4){const h=64-f,v=new Uint8Array(h);n[c]=[u,{extra:{12345:v}}]}l=u.length}return i8e(n,{level:0})}}function o8e(t,e){if(typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement||typeof OffscreenCanvas!="undefined"&&t instanceof OffscreenCanvas||typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap){const n=1024/Math.max(t.width,t.height),i=document.createElement("canvas");i.width=t.width*Math.min(1,n),i.height=t.height*Math.min(1,n);const o=i.getContext("2d");if(o.drawImage(t,0,0,i.width,i.height),e!==void 0){const s=parseInt(e,16),a=(s>>16&255)/255,l=(s>>8&255)/255,c=(s&255)/255,u=o.getImageData(0,0,i.width,i.height),d=u.data;for(let f=0;f<d.length;f+=4)d[f+0]=d[f+0]*a,d[f+1]=d[f+1]*l,d[f+2]=d[f+2]*c;o.putImageData(u,0,0)}return i}}const S0=7;function Fz(){return`#usda 1.0
(
    customLayerData = {
        string creator = "Three.js USDZExporter"
    }
    metersPerUnit = 1
    upAxis = "Y"
)

`}function a8e(t){let e=Fz();return e+=t,bE(e)}function l8e(t,e,n){const i="Object_"+t.id,o=c8e(t.matrixWorld);return t.matrixWorld.determinant()<0&&console.warn("THREE.USDZExporter: USDZ does not support negative scales",t),`def Xform "${i}" (
    prepend references = @./geometries/Geometry_${e.id}.usd@</Geometry>
)
{
    matrix4d xformOp:transform = ${o}
    uniform token[] xformOpOrder = ["xformOp:transform"]

    rel material:binding = </Materials/Material_${n.id}>
}

`}function c8e(t){const e=t.elements;return`( ${EE(e,0)}, ${EE(e,4)}, ${EE(e,8)}, ${EE(e,12)} )`}function EE(t,e){return`(${t[e+0]}, ${t[e+1]}, ${t[e+2]}, ${t[e+3]})`}function u8e(t){return`
def "Geometry"
{
  ${d8e(t)}
}
`}function d8e(t){const e="Geometry",n=t.attributes,i=n.position.count;return`
    def Mesh "${e}"
    {
        int[] faceVertexCounts = [${f8e(t)}]
        int[] faceVertexIndices = [${h8e(t)}]
        normal3f[] normals = [${Uz(n.normal,i)}] (
            interpolation = "vertex"
        )
        point3f[] points = [${Uz(n.position,i)}]
        float2[] primvars:st = [${p8e(n.uv,i)}] (
            interpolation = "vertex"
        )
        uniform token subdivisionScheme = "none"
    }
`}function f8e(t){const e=t.index!==null?t.index.count:t.attributes.position.count;return Array(e/3).fill(3).join(", ")}function h8e(t){const e=t.index,n=[];if(e!==null)for(let i=0;i<e.count;i++)n.push(e.getX(i));else{const i=t.attributes.position.count;for(let o=0;o<i;o++)n.push(o)}return n.join(", ")}function Uz(t,e){if(t===void 0)return console.warn("USDZExporter: Normals missing."),Array(e).fill("(0, 0, 0)").join(", ");const n=[];for(let i=0;i<t.count;i++){const o=t.getX(i),s=t.getY(i),a=t.getZ(i);n.push(`(${o.toPrecision(S0)}, ${s.toPrecision(S0)}, ${a.toPrecision(S0)})`)}return n.join(", ")}function p8e(t,e){if(t===void 0)return console.warn("USDZExporter: UVs missing."),Array(e).fill("(0, 0)").join(", ");const n=[];for(let i=0;i<t.count;i++){const o=t.getX(i),s=t.getY(i);n.push(`(${o.toPrecision(S0)}, ${1-s.toPrecision(S0)})`)}return n.join(", ")}function m8e(t,e){const n=[];for(const i in t){const o=t[i];n.push(g8e(o,e))}return`def "Materials"
{
${n.join("")}
}

`}function g8e(t,e){const n="            ",i=[],o=[];function s(a,l,c){const u=a.id+(c?"_"+c.getHexString():""),d=a.format===1023;return e[u]=a,`
        def Shader "Transform2d_${l}" (
            sdrMetadata = {
                string role = "math"
            }
        )
        {
            uniform token info:id = "UsdTransform2d"
            float2 inputs:in.connect = </Materials/Material_${t.id}/uvReader_st.outputs:result>
            float2 inputs:scale = ${Bz(a.repeat)}
            float2 inputs:translation = ${Bz(a.offset)}
            float2 outputs:result
        }

        def Shader "Texture_${a.id}_${l}"
        {
            uniform token info:id = "UsdUVTexture"
            asset inputs:file = @textures/Texture_${u}.${d?"png":"jpg"}@
            float2 inputs:st.connect = </Materials/Material_${t.id}/Transform2d_${l}.outputs:result>
            token inputs:wrapS = "repeat"
            token inputs:wrapT = "repeat"
            float outputs:r
            float outputs:g
            float outputs:b
            float3 outputs:rgb
        }`}return t.map!==null?(i.push(`${n}color3f inputs:diffuseColor.connect = </Materials/Material_${t.id}/Texture_${t.map.id}_diffuse.outputs:rgb>`),o.push(s(t.map,"diffuse",t.color))):i.push(`${n}color3f inputs:diffuseColor = ${jz(t.color)}`),t.emissiveMap!==null?(i.push(`${n}color3f inputs:emissiveColor.connect = </Materials/Material_${t.id}/Texture_${t.emissiveMap.id}_emissive.outputs:rgb>`),o.push(s(t.emissiveMap,"emissive"))):t.emissive.getHex()>0&&i.push(`${n}color3f inputs:emissiveColor = ${jz(t.emissive)}`),t.normalMap!==null&&(i.push(`${n}normal3f inputs:normal.connect = </Materials/Material_${t.id}/Texture_${t.normalMap.id}_normal.outputs:rgb>`),o.push(s(t.normalMap,"normal"))),t.aoMap!==null&&(i.push(`${n}float inputs:occlusion.connect = </Materials/Material_${t.id}/Texture_${t.aoMap.id}_occlusion.outputs:r>`),o.push(s(t.aoMap,"occlusion"))),t.roughnessMap!==null&&t.roughness===1?(i.push(`${n}float inputs:roughness.connect = </Materials/Material_${t.id}/Texture_${t.roughnessMap.id}_roughness.outputs:g>`),o.push(s(t.roughnessMap,"roughness"))):i.push(`${n}float inputs:roughness = ${t.roughness}`),t.metalnessMap!==null&&t.metalness===1?(i.push(`${n}float inputs:metallic.connect = </Materials/Material_${t.id}/Texture_${t.metalnessMap.id}_metallic.outputs:b>`),o.push(s(t.metalnessMap,"metallic"))):i.push(`${n}float inputs:metallic = ${t.metalness}`),t.alphaMap!==null?(i.push(`${n}float inputs:opacity.connect = </Materials/Material_${t.id}/Texture_${t.alphaMap.id}_opacity.outputs:r>`),i.push(`${n}float inputs:opacityThreshold = 0.0001`),o.push(s(t.alphaMap,"opacity"))):i.push(`${n}float inputs:opacity = ${t.opacity}`),t.isMeshPhysicalMaterial&&(i.push(`${n}float inputs:clearcoat = ${t.clearcoat}`),i.push(`${n}float inputs:clearcoatRoughness = ${t.clearcoatRoughness}`),i.push(`${n}float inputs:ior = ${t.ior}`)),`
    def Material "Material_${t.id}"
    {
        def Shader "PreviewSurface"
        {
            uniform token info:id = "UsdPreviewSurface"
${i.join(`
`)}
            int inputs:useSpecularWorkflow = 0
            token outputs:surface
        }

        token outputs:surface.connect = </Materials/Material_${t.id}/PreviewSurface.outputs:surface>
        token inputs:frame:stPrimvarName = "st"

        def Shader "uvReader_st"
        {
            uniform token info:id = "UsdPrimvarReader_float2"
            token inputs:varname.connect = </Materials/Material_${t.id}.inputs:frame:stPrimvarName>
            float2 inputs:fallback = (0.0, 0.0)
            float2 outputs:result
        }

${o.join(`
`)}

    }
`}function jz(t){return`(${t.r}, ${t.g}, ${t.b})`}function Bz(t){return`(${t.x}, ${t.y})`}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8e=t=>e=>{try{const n=td(e),i=(n.length?n[0].terms:[]).filter(s=>s&&s.type==="ident").map(s=>s.value).filter(s=>t.indexOf(s)>-1),o=new Set;for(const s of i)o.add(s);return o}catch{}return new Set};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bh=function(t,e,n,i){for(var o=arguments.length,s=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a,l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};let Vz=!1,Hz=!1;const zz="#model-viewer-no-ar-fallback",y8e=v8e(["quick-look","scene-viewer","webxr","none"]),_8e="webxr scene-viewer",ba={QUICK_LOOK:"quick-look",SCENE_VIEWER:"scene-viewer",WEBXR:"webxr",NONE:"none"},xl=Symbol("arButtonContainer"),Gz=Symbol("enterARWithWebXR"),$z=Symbol("openSceneViewer"),Wz=Symbol("openIOSARQuickLook"),b8e=Symbol("canActivateAR"),Gc=Symbol("arMode"),gA=Symbol("arModes"),Vh=Symbol("arAnchor"),wE=Symbol("preload"),xE=Symbol("onARButtonContainerClick"),vA=Symbol("onARStatus"),yA=Symbol("onARTracking"),_A=Symbol("onARTap"),T0=Symbol("selectARMode"),bA=Symbol("triggerLoad"),E8e=t=>{var e,n,i,o,s,a,l,c,u,d;class f extends t{constructor(){super(...arguments);this.ar=!1,this.arScale="auto",this.arPlacement="floor",this.arModes=_8e,this.iosSrc=null,this.xrEnvironment=!1,this[e]=!1,this[n]=this.shadowRoot.querySelector(".ar-button"),this[i]=document.createElement("a"),this[o]=new Set,this[s]=ba.NONE,this[a]=!1,this[l]=v=>{v.preventDefault(),this.activateAR()},this[c]=({status:v})=>{(v===Hc.NOT_PRESENTING||this[_n].arRenderer.presentedScene===this[Je])&&(this.setAttribute("ar-status",v),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:v}})),v===Hc.NOT_PRESENTING?this.removeAttribute("ar-tracking"):v===Hc.SESSION_STARTED&&this.setAttribute("ar-tracking",KM.TRACKING))},this[u]=({status:v})=>{this.setAttribute("ar-tracking",v),this.dispatchEvent(new CustomEvent("ar-tracking",{detail:{status:v}}))},this[d]=v=>{v.data=="_apple_ar_quicklook_button_tapped"&&this.dispatchEvent(new CustomEvent("quick-look-button-tapped"))}}get canActivateAR(){return this[Gc]!==ba.NONE}connectedCallback(){super.connectedCallback(),this[_n].arRenderer.addEventListener("status",this[vA]),this.setAttribute("ar-status",Hc.NOT_PRESENTING),this[_n].arRenderer.addEventListener("tracking",this[yA]),this[Vh].addEventListener("message",this[_A])}disconnectedCallback(){super.disconnectedCallback(),this[_n].arRenderer.removeEventListener("status",this[vA]),this[_n].arRenderer.removeEventListener("tracking",this[yA]),this[Vh].removeEventListener("message",this[_A])}async update(v){super.update(v),v.has("arScale")&&(this[Je].canScale=this.arScale!=="fixed"),v.has("arPlacement")&&(this[Je].updateShadow(),this[Oi]()),!(!v.has("ar")&&!v.has("arModes")&&!v.has("src")&&!v.has("iosSrc"))&&(v.has("arModes")&&(this[gA]=y8e(this.arModes)),this[T0]())}async activateAR(){switch(this[Gc]){case ba.QUICK_LOOK:this[Wz]();break;case ba.WEBXR:await this[Gz]();break;case ba.SCENE_VIEWER:this[$z]();break;default:console.warn("No AR Mode can be activated. This is probably due to missing configuration or device capabilities");break}}async[(e=b8e,n=xl,i=Vh,o=gA,s=Gc,a=wE,l=xE,c=vA,u=yA,d=_A,T0)](){if(this[Gc]=ba.NONE,this.ar){if(this.src!=null)for(const v of this[gA]){if(v==="webxr"&&nH&&!Vz&&await this[_n].arRenderer.supportsPresentation()){this[Gc]=ba.WEBXR;break}if(v==="scene-viewer"&&KOe&&!Hz){this[Gc]=ba.SCENE_VIEWER;break}if(v==="quick-look"&&rH){this[Gc]=ba.QUICK_LOOK;break}}!this.canActivateAR&&this.iosSrc!=null&&rH&&(this[Gc]=ba.QUICK_LOOK)}if(this.canActivateAR)this[xl].classList.add("enabled"),this[xl].addEventListener("click",this[xE]);else if(this[xl].classList.contains("enabled")){this[xl].removeEventListener("click",this[xE]),this[xl].classList.remove("enabled");const v=Hc.FAILED;this.setAttribute("ar-status",v),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:v}}))}}async[Gz](){console.log("Attempting to present in AR with WebXR..."),await this[bA]();try{this[xl].removeEventListener("click",this[xE]);const{arRenderer:v}=this[_n];v.placeOnWall=this.arPlacement==="wall",await v.present(this[Je],this.xrEnvironment)}catch(v){console.warn("Error while trying to present in AR with WebXR"),console.error(v),await this[_n].arRenderer.stopPresenting(),Vz=!0,console.warn("Falling back to next ar-mode"),await this[T0](),this.activateAR()}finally{this[T0]()}}async[bA](){this.loaded||(this[wE]=!0,this[ga](),await G6e(this,"load"),this[wE]=!1)}[id](){return super[id]()||this[wE]}[$z](){const v=self.location.toString(),m=new URL(v),_=new URL(this.src,v),S=new URLSearchParams(_.search);if(m.hash=zz,S.set("mode","ar_preferred"),S.has("disable_occlusion")||S.set("disable_occlusion","true"),this.arScale==="fixed"&&S.set("resizable","false"),this.arPlacement==="wall"&&S.set("enable_vertical_placement","true"),S.has("sound")){const T=new URL(S.get("sound"),v);S.set("sound",T.toString())}if(S.has("link")){const T=new URL(S.get("link"),v);S.set("link",T.toString())}const E=`intent://arvr.google.com/scene-viewer/1.0?${S.toString()+"&file="+encodeURIComponent(_.toString())}#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;S.browser_fallback_url=${encodeURIComponent(m.toString())};end;`,w=()=>{self.location.hash===zz&&(Hz=!0,self.history.back(),console.warn("Error while trying to present in AR with Scene Viewer"),console.warn("Falling back to next ar-mode"),this[T0]())};self.addEventListener("hashchange",w,{once:!0}),this[Vh].setAttribute("href",E),console.log("Attempting to present in AR with Scene Viewer..."),this[Vh].click()}async[Wz](){const v=!this.iosSrc;this[xl].classList.remove("enabled");const m=v?await this.prepareUSDZ():this.iosSrc,_=new URL(m,self.location.toString());this.arScale==="fixed"&&(_.hash&&(_.hash+="&"),_.hash+="allowsContentScaling=0");const S=this[Vh];S.setAttribute("rel","ar");const E=document.createElement("img");S.appendChild(E),S.setAttribute("href",_.toString()),v&&S.setAttribute("download","model.usdz"),console.log("Attempting to present in AR with Quick Look..."),S.click(),S.removeChild(E),v&&URL.revokeObjectURL(m),this[xl].classList.add("enabled")}async prepareUSDZ(){const v=this[Dh].beginActivity();await this[bA]();const m=this[Je],_=m.shadow;let S=!1;_!=null&&(S=_.visible,_.visible=!1),v(.2);const w=await new s8e().parse(m.modelContainer),T=new Blob([w],{type:"model/vnd.usdz+zip"}),C=URL.createObjectURL(T);return v(1),_!=null&&(_.visible=S),C}}return Bh([kt({type:Boolean,attribute:"ar"})],f.prototype,"ar",void 0),Bh([kt({type:String,attribute:"ar-scale"})],f.prototype,"arScale",void 0),Bh([kt({type:String,attribute:"ar-placement"})],f.prototype,"arPlacement",void 0),Bh([kt({type:String,attribute:"ar-modes"})],f.prototype,"arModes",void 0),Bh([kt({type:String,attribute:"ios-src"})],f.prototype,"iosSrc",void 0),Bh([kt({type:Boolean,attribute:"xr-environment"})],f.prototype,"xrEnvironment",void 0),f};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qz,Yz,Kz;const Hh=Symbol("evaluate"),SE=Symbol("lastValue");class tr{constructor(){this[qz]=null}static evaluatableFor(e,n=Vc){if(e instanceof tr)return e;if(e.type==="number")return e.unit==="%"?new w8e(e,n):e;switch(e.name.value){case"calc":return new T8e(e,n);case"env":return new x8e(e)}return Vc}static evaluate(e){return e instanceof tr?e.evaluate():e}static isConstant(e){return e instanceof tr?e.isConstant:!0}static applyIntrinsics(e,n){const{basis:i,keywords:o}=n,{auto:s}=o;return i.map((a,l)=>{const c=s[l]==null?a:s[l];let u=e[l]?e[l]:c;if(u.type==="ident"){const d=u.value;d in o&&(u=o[d][l])}return(u==null||u.type==="ident")&&(u=c),u.unit==="%"?ei(u.number/100*a.number,a.unit):(u=pa(u,a),u.unit!==a.unit?a:u)})}get isConstant(){return!1}evaluate(){return(!this.isConstant||this[SE]==null)&&(this[SE]=this[Hh]()),this[SE]}}qz=SE;const Xz=Symbol("percentage"),EA=Symbol("basis");class w8e extends tr{constructor(e,n){super();this[Xz]=e,this[EA]=n}get isConstant(){return!0}[Hh](){return ei(this[Xz].number/100*this[EA].number,this[EA].unit)}}const TE=Symbol("identNode");class x8e extends tr{constructor(e){super();this[Yz]=null;const n=e.arguments.length?e.arguments[0].terms[0]:null;n!=null&&n.type==="ident"&&(this[TE]=n)}get isConstant(){return!1}[(Yz=TE,Hh)](){if(this[TE]!=null)switch(this[TE].value){case"window-scroll-y":const e=window.pageYOffset,n=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),i=e/(n-window.innerHeight)||0;return{type:"number",number:i,unit:null}}return Vc}}const S8e=/[\*\/]/,zh=Symbol("evalutor");class T8e extends tr{constructor(e,n=Vc){super();if(this[Kz]=null,e.arguments.length!==1)return;const i=e.arguments[0].terms.slice(),o=[];for(;i.length;){const s=i.shift();if(o.length>0){const a=o[o.length-1];if(a.type==="operator"&&S8e.test(a.value)){const l=o.pop(),c=o.pop();if(c==null)return;o.push(new Zz(l,tr.evaluatableFor(c,n),tr.evaluatableFor(s,n)));continue}}o.push(s.type==="operator"?s:tr.evaluatableFor(s,n))}for(;o.length>2;){const[s,a,l]=o.splice(0,3);if(a.type!=="operator")return;o.unshift(new Zz(a,tr.evaluatableFor(s,n),tr.evaluatableFor(l,n)))}o.length===1&&(this[zh]=o[0])}get isConstant(){return this[zh]==null||tr.isConstant(this[zh])}[(Kz=zh,Hh)](){return this[zh]!=null?tr.evaluate(this[zh]):Vc}}const Jz=Symbol("operator"),wA=Symbol("left"),xA=Symbol("right");class Zz extends tr{constructor(e,n,i){super();this[Jz]=e,this[wA]=n,this[xA]=i}get isConstant(){return tr.isConstant(this[wA])&&tr.isConstant(this[xA])}[Hh](){const e=pa(tr.evaluate(this[wA])),n=pa(tr.evaluate(this[xA])),{number:i,unit:o}=e,{number:s,unit:a}=n;if(a!=null&&o!=null&&a!=o)return Vc;const l=o||a;let c;switch(this[Jz].value){case"+":c=i+s;break;case"-":c=i-s;break;case"/":c=i/s;break;case"*":c=i*s;break;default:return Vc}return{type:"number",number:c,unit:l}}}const SA=Symbol("evaluatables"),Qz=Symbol("intrinsics");class eG extends tr{constructor(e,n){super();this[Qz]=n;const i=e[0],o=i!=null?i.terms:[];this[SA]=n.basis.map((s,a)=>{const l=o[a];return l==null?{type:"ident",value:"auto"}:l.type==="ident"?l:tr.evaluatableFor(l,s)})}get isConstant(){for(const e of this[SA])if(!tr.isConstant(e))return!1;return!0}[Hh](){const e=this[SA].map(n=>tr.evaluate(n));return tr.applyIntrinsics(e,this[Qz]).map(n=>n.number)}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tG,nG,rG,iG;const Gh=Symbol("instances"),sG=Symbol("activateListener"),oG=Symbol("deactivateListener"),TA=Symbol("notifyInstances"),aG=Symbol("notify"),lG=Symbol("callback");class Ea{constructor(e){this[lG]=e}static[TA](){for(const e of Ea[Gh])e[aG]()}static[(tG=Gh,sG)](){window.addEventListener("scroll",this[TA],{passive:!0})}static[oG](){window.removeEventListener("scroll",this[TA])}observe(){Ea[Gh].size===0&&Ea[sG](),Ea[Gh].add(this)}disconnect(){Ea[Gh].delete(this),Ea[Gh].size===0&&Ea[oG]()}[aG](){this[lG]()}}Ea[tG]=new Set;const cG=Symbol("computeStyleCallback"),uG=Symbol("astWalker"),C0=Symbol("dependencies"),dG=Symbol("onScroll");class C8e{constructor(e){this[nG]={},this[rG]=new K6e(["function"]),this[iG]=()=>{this[cG]({relatedState:"window-scroll"})},this[cG]=e}observeEffectsFor(e){const n={},i=this[C0];this[uG].walk(e,o=>{const{name:s}=o,l=o.arguments[0].terms[0];if(!(s.value!=="env"||l==null||l.type!=="ident"))switch(l.value){case"window-scroll-y":if(n["window-scroll"]==null){const c="window-scroll"in i?i["window-scroll"]:new Ea(this[dG]);c.observe(),delete i["window-scroll"],n["window-scroll"]=c}break}});for(const o in i)i[o].disconnect();this[C0]=n}dispose(){for(const e in this[C0])this[C0][e].disconnect()}}nG=C0,rG=uG,iG=dG;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=t=>{const e=t.observeEffects||!1,n=t.intrinsics instanceof Function?t.intrinsics:()=>t.intrinsics;return(i,o)=>{const s=i.updated,a=i.connectedCallback,l=i.disconnectedCallback,c=Symbol(`${o}StyleEffector`),u=Symbol(`${o}StyleEvaluator`),d=Symbol(`${o}UpdateEvaluator`),f=Symbol(`${o}EvaluateAndSync`);Object.defineProperties(i,{[c]:{value:null,writable:!0},[u]:{value:null,writable:!0},[d]:{value:function(){const h=td(this[o]);this[u]=new eG(h,n(this)),this[c]==null&&e&&(this[c]=new C8e(()=>this[f]())),this[c]!=null&&this[c].observeEffectsFor(h)}},[f]:{value:function(){if(this[u]==null)return;const h=this[u].evaluate();this[t.updateHandler](h)}},updated:{value:function(h){h.has(o)&&(this[d](),this[f]()),s.call(this,h)}},connectedCallback:{value:function(){a.call(this),this.requestUpdate(o,this[o])}},disconnectedCallback:{value:function(){l.call(this),this[c]!=null&&(this[c].dispose(),this[c]=null)}}})}};/* @license
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=Object.freeze({minimumRadius:0,maximumRadius:1/0,minimumPolarAngle:Math.PI/8,maximumPolarAngle:Math.PI-Math.PI/8,minimumAzimuthalAngle:-1/0,maximumAzimuthalAngle:1/0,minimumFieldOfView:10,maximumFieldOfView:45,interactionPolicy:"always-allow",touchAction:"pan-y"}),CE=Math.PI/8,ME=.04,$h={PAGE_UP:33,PAGE_DOWN:34,LEFT:37,UP:38,RIGHT:39,DOWN:40},AE={USER_INTERACTION:"user-interaction",NONE:"none"};class M8e extends _s{constructor(e,n){super();this.camera=e,this.element=n,this.sensitivity=1,this._interactionEnabled=!1,this._disableZoom=!1,this.isUserChange=!1,this.isUserPointing=!1,this.spherical=new nE,this.goalSpherical=new nE,this.thetaDamper=new ws,this.phiDamper=new ws,this.radiusDamper=new ws,this.logFov=Math.log(fG.maximumFieldOfView),this.goalLogFov=this.logFov,this.fovDamper=new ws,this.touchMode=null,this.lastPointerPosition={clientX:0,clientY:0},this.touchDecided=!1,this.onMouseMove=i=>{this.handleSinglePointerMove(i),i.cancelable&&i.preventDefault()},this.onTouchMove=i=>{this.touchMode!==null&&(this.touchMode(i),this.touchMode!==null&&i.cancelable&&i.preventDefault())},this.touchModeZoom=i=>{const{targetTouches:o}=i;if(this.lastTouches.length>1&&o.length>1){const s=this.twoTouchDistance(this.lastTouches[0],this.lastTouches[1]),a=this.twoTouchDistance(o[0],o[1]),l=ME*(s-a)/10;this.userAdjustOrbit(0,0,l),this.lastTouches=o}},this.touchModeRotate=i=>{const{targetTouches:o}=i,{touchAction:s}=this._options;if(!this.touchDecided&&s!=="none"){this.touchDecided=!0;const{clientX:a,clientY:l}=o[0],c=Math.abs(a-this.lastPointerPosition.clientX),u=Math.abs(l-this.lastPointerPosition.clientY);if(s==="pan-y"&&u>c||s==="pan-x"&&c>u){this.touchMode=null;return}}this.handleSinglePointerMove(o[0]),this.lastTouches=o},this.onMouseDown=i=>{this.onPointerDown(()=>{self.addEventListener("mousemove",this.onMouseMove),self.addEventListener("mouseup",this.onMouseUp,{once:!0}),this.handleSinglePointerDown(i)})},this.onTouchStart=i=>{this.onPointerDown(()=>{const{targetTouches:o,changedTouches:s,touches:a}=i;o.length===s.length&&(this.touchMode=null,this.touchDecided=!1),o.length===a.length&&this.onTouchChange(i)})},this.onMouseUp=i=>{self.removeEventListener("mousemove",this.onMouseMove),this.onPointerUp()},this.onTouchEnd=i=>{i.targetTouches.length>0&&this.touchMode!==null&&this.onTouchChange(i),this.onPointerUp()},this.onWheel=i=>{if(!this.canInteract)return;const o=i.deltaY*(i.deltaMode==1?18:1)*ME/30;this.userAdjustOrbit(0,0,o),i.cancelable&&i.preventDefault()},this.onKeyDown=i=>{let o=!1;switch(i.keyCode){case $h.PAGE_UP:o=!0,this.userAdjustOrbit(0,0,ME);break;case $h.PAGE_DOWN:o=!0,this.userAdjustOrbit(0,0,-1*ME);break;case $h.UP:o=!0,this.userAdjustOrbit(0,-CE,0);break;case $h.DOWN:o=!0,this.userAdjustOrbit(0,CE,0);break;case $h.LEFT:o=!0,this.userAdjustOrbit(-CE,0,0);break;case $h.RIGHT:o=!0,this.userAdjustOrbit(CE,0,0);break}o&&i.cancelable&&i.preventDefault()},this._options=Object.assign({},fG),this.setOrbit(0,Math.PI/2,1),this.setFieldOfView(100),this.jumpToGoal()}get interactionEnabled(){return this._interactionEnabled}enableInteraction(){if(this._interactionEnabled===!1){const{element:e}=this;e.addEventListener("mousedown",this.onMouseDown),this._disableZoom||e.addEventListener("wheel",this.onWheel),e.addEventListener("keydown",this.onKeyDown),e.addEventListener("touchstart",this.onTouchStart,{passive:!0}),e.addEventListener("touchmove",this.onTouchMove,{passive:!1}),e.addEventListener("touchend",this.onTouchEnd),this.element.style.cursor="grab",this._interactionEnabled=!0,this.updateTouchActionStyle()}}disableInteraction(){if(this._interactionEnabled===!0){const{element:e}=this;self.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),this._disableZoom||e.removeEventListener("wheel",this.onWheel),e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchmove",this.onTouchMove),self.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("touchend",this.onTouchEnd),e.style.cursor="",this.touchMode=null,this._interactionEnabled=!1,this.updateTouchActionStyle()}}get options(){return this._options}set disableZoom(e){this._disableZoom!=e&&(this._disableZoom=e,e===!0?this.element.removeEventListener("wheel",this.onWheel):this.element.addEventListener("wheel",this.onWheel),this.updateTouchActionStyle())}getCameraSpherical(e=new nE){return e.copy(this.spherical)}getFieldOfView(){return this.camera.fov}applyOptions(e){Object.assign(this._options,e),this.setOrbit(),this.setFieldOfView(Math.exp(this.goalLogFov))}updateNearFar(e,n){this.camera.near=Math.max(e,n/1e3),this.camera.far=n,this.camera.updateProjectionMatrix()}updateAspect(e){this.camera.aspect=e,this.camera.updateProjectionMatrix()}setOrbit(e=this.goalSpherical.theta,n=this.goalSpherical.phi,i=this.goalSpherical.radius){const{minimumAzimuthalAngle:o,maximumAzimuthalAngle:s,minimumPolarAngle:a,maximumPolarAngle:l,minimumRadius:c,maximumRadius:u}=this._options,{theta:d,phi:f,radius:h}=this.goalSpherical,v=ed(e,o,s);!isFinite(o)&&!isFinite(s)&&(this.spherical.theta=this.wrapAngle(this.spherical.theta-v)+v);const m=ed(n,a,l),_=ed(i,c,u);return v===d&&m===f&&_===h?!1:(this.goalSpherical.theta=v,this.goalSpherical.phi=m,this.goalSpherical.radius=_,this.goalSpherical.makeSafe(),this.isUserChange=!1,!0)}setRadius(e){this.goalSpherical.radius=e,this.setOrbit()}setFieldOfView(e){const{minimumFieldOfView:n,maximumFieldOfView:i}=this._options;e=ed(e,n,i),this.goalLogFov=Math.log(e)}setDamperDecayTime(e){this.thetaDamper.setDecayTime(e),this.phiDamper.setDecayTime(e),this.radiusDamper.setDecayTime(e),this.fovDamper.setDecayTime(e)}adjustOrbit(e,n,i){const{theta:o,phi:s,radius:a}=this.goalSpherical,{minimumRadius:l,maximumRadius:c,minimumFieldOfView:u,maximumFieldOfView:d}=this._options,f=this.spherical.theta-o,h=Math.PI-.001,v=o-ed(e,-h-f,h-f),m=s-n,_=i===0?0:((i>0?c:l)-a)/(Math.log(i>0?d:u)-this.goalLogFov),S=a+i*(isFinite(_)?_:(c-l)*2);if(this.setOrbit(v,m,S),i!==0){const E=this.goalLogFov+i;this.setFieldOfView(Math.exp(E))}}jumpToGoal(){this.update(0,RH)}update(e,n){if(this.isStationary())return;const{maximumPolarAngle:i,maximumRadius:o}=this._options,s=this.spherical.theta-this.goalSpherical.theta;Math.abs(s)>Math.PI&&!isFinite(this._options.minimumAzimuthalAngle)&&!isFinite(this._options.maximumAzimuthalAngle)&&(this.spherical.theta-=Math.sign(s)*2*Math.PI),this.spherical.theta=this.thetaDamper.update(this.spherical.theta,this.goalSpherical.theta,n,Math.PI),this.spherical.phi=this.phiDamper.update(this.spherical.phi,this.goalSpherical.phi,n,i),this.spherical.radius=this.radiusDamper.update(this.spherical.radius,this.goalSpherical.radius,n,o),this.logFov=this.fovDamper.update(this.logFov,this.goalLogFov,n,1),this.moveCamera()}updateTouchActionStyle(){const{style:e}=this.element;if(this._interactionEnabled){const{touchAction:n}=this._options;this._disableZoom&&n!=="none"?e.touchAction="manipulation":e.touchAction=n}else e.touchAction=""}isStationary(){return this.goalSpherical.theta===this.spherical.theta&&this.goalSpherical.phi===this.spherical.phi&&this.goalSpherical.radius===this.spherical.radius&&this.goalLogFov===this.logFov}moveCamera(){this.spherical.makeSafe(),this.camera.position.setFromSpherical(this.spherical),this.camera.setRotationFromEuler(new Mc(this.spherical.phi-Math.PI/2,this.spherical.theta,0,"YXZ")),this.camera.fov!==Math.exp(this.logFov)&&(this.camera.fov=Math.exp(this.logFov),this.camera.updateProjectionMatrix());const e=this.isUserChange?AE.USER_INTERACTION:AE.NONE;this.dispatchEvent({type:"change",source:e})}get canInteract(){return this._options.interactionPolicy=="allow-when-focused"?this.element.getRootNode().activeElement===this.element:this._options.interactionPolicy==="always-allow"}userAdjustOrbit(e,n,i){this.adjustOrbit(e*this.sensitivity,n*this.sensitivity,i),this.isUserChange=!0,this.dispatchEvent({type:"change",source:AE.USER_INTERACTION})}wrapAngle(e){const n=(e+Math.PI)/(2*Math.PI);return(n-Math.floor(n))*2*Math.PI-Math.PI}pixelLengthToSphericalAngle(e){return 2*Math.PI*e/this.element.clientHeight}twoTouchDistance(e,n){const{clientX:i,clientY:o}=e,{clientX:s,clientY:a}=n,l=s-i,c=a-o;return Math.sqrt(l*l+c*c)}handleSinglePointerMove(e){const{clientX:n,clientY:i}=e,o=this.pixelLengthToSphericalAngle(n-this.lastPointerPosition.clientX),s=this.pixelLengthToSphericalAngle(i-this.lastPointerPosition.clientY);this.lastPointerPosition.clientX=n,this.lastPointerPosition.clientY=i,this.isUserPointing===!1&&(this.isUserPointing=!0,this.dispatchEvent({type:"pointer-change-start",pointer:Object.assign({},e)})),this.userAdjustOrbit(o,s,0)}onPointerDown(e){!this.canInteract||(this.isUserPointing=!1,e())}onTouchChange(e){const{targetTouches:n}=e;switch(n.length){default:case 1:this.touchMode=this.touchModeRotate,this.handleSinglePointerDown(n[0]);break;case 2:this.touchMode=this._disableZoom||this.touchDecided&&this.touchMode===null?null:this.touchModeZoom,this.touchDecided=!0;break}this.lastTouches=n}handleSinglePointerDown(e){this.lastPointerPosition.clientX=e.clientX,this.lastPointerPosition.clientY=e.clientY,this.element.style.cursor="grabbing"}onPointerUp(){this.element.style.cursor="grab",this.isUserPointing&&this.dispatchEvent({type:"pointer-change-end",pointer:Object.assign({},this.lastPointerPosition)})}}/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG=t=>t<.5?2*t*t:-1+(4-2*t)*t,A8e=(t,e,n=hG)=>i=>t+(e-t)*n(i),P8e=(t,e)=>{const n=e.reduce((o,s)=>o+s,0),i=e.map(o=>o/n);return o=>{let s=0,a=1/0,l=()=>0;for(let c=0;c<i.length&&(a=i[c],l=t[c],!(o<=s+a));++c)s+=a;return l((o-s)/a)}},pG=(t,e)=>{const n=[],i=[];let o=t;for(let s=0;s<e.length;++s){const a=e[s],{value:l,frames:c}=a,u=a.ease||hG,d=A8e(o,l,u);n.push(d),i.push(c),o=l}return P8e(n,i)};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni=function(t,e,n,i){for(var o=arguments.length,s=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a,l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};const R8e=5e3,L8e=pG(0,[{frames:5,value:-1},{frames:1,value:-1},{frames:8,value:1},{frames:1,value:1},{frames:5,value:0},{frames:18,value:0}]),I8e=pG(0,[{frames:1,value:1},{frames:5,value:1},{frames:1,value:0},{frames:6,value:0}]),mG="0deg 75deg 105%",O8e="auto auto auto",N8e="auto",k8e=1.1,D8e=["front","right","back","left"],F8e=["upper-","","lower-"],U8e=3e3,j8e="Use mouse, touch or arrow keys to control the camera!",ad={AUTO:"auto",WHEN_FOCUSED:"when-focused",NONE:"none"},CA={BASIC:"basic",WIGGLE:"wiggle"},B8e={ALWAYS_ALLOW:"always-allow",WHEN_FOCUSED:"allow-when-focused"},V8e={PAN_Y:"pan-y",PAN_X:"pan-x",NONE:"none"},H8e=()=>({basis:[c0(ei(WM,"deg"))],keywords:{auto:[null]}}),z8e={basis:[c0(ei(25,"deg"))],keywords:{auto:[null]}},G8e=()=>({basis:[c0(ei(WM,"deg"))],keywords:{auto:[null]}}),gG=(()=>{const t=td(mG)[0].terms,e=pa(t[0]),n=pa(t[1]);return i=>{const o=i[Je].idealCameraDistance();return{basis:[e,n,ei(o,"m")],keywords:{auto:[null,null,ei(105,"%")]}}}})(),$8e=t=>{const e=k8e*t[Je].boundingRadius;return{basis:[ei(-1/0,"rad"),ei(Math.PI/8,"rad"),ei(e,"m")],keywords:{auto:[null,null,null]}}},W8e=t=>{const e=gG(t),i=new eG([],e).evaluate()[2];return{basis:[ei(1/0,"rad"),ei(Math.PI-Math.PI/8,"rad"),ei(i,"m")],keywords:{auto:[null,null,null]}}},q8e=t=>{const e=t[Je].boundingBox.getCenter(new ee);return{basis:[ei(e.x,"m"),ei(e.y,"m"),ei(e.z,"m")],keywords:{auto:[null,null,null]}}},MA=Math.PI/2,vG=Math.PI/3,yG=MA/2,_G=2*Math.PI,Yn=Symbol("controls"),M0=Symbol("promptElement"),AA=Symbol("promptAnimatedContainer"),PE=Symbol("deferInteractionPrompt"),bG=Symbol("updateAria"),EG=Symbol("updateCameraForRadius"),PA=Symbol("onBlur"),RA=Symbol("onFocus"),LA=Symbol("onChange"),A0=Symbol("onPointerChange"),Sl=Symbol("waitingToPromptUser"),P0=Symbol("userHasInteracted"),ld=Symbol("promptElementVisibleTime"),R0=Symbol("lastPromptOffset"),L0=Symbol("focusedTime"),RE=Symbol("lastSpherical"),I0=Symbol("jumpCamera"),IA=Symbol("initialized"),O0=Symbol("maintainThetaPhi"),wG=Symbol("syncCameraOrbit"),xG=Symbol("syncFieldOfView"),SG=Symbol("syncCameraTarget"),TG=Symbol("syncMinCameraOrbit"),CG=Symbol("syncMaxCameraOrbit"),MG=Symbol("syncMinFieldOfView"),AG=Symbol("syncMaxFieldOfView"),Y8e=t=>{var e,n,i,o,s,a,l,c,u,d,f,h,v,m,_,S;class E extends t{constructor(){super(...arguments);this.cameraControls=!1,this.cameraOrbit=mG,this.cameraTarget=O8e,this.fieldOfView=N8e,this.minCameraOrbit="auto",this.maxCameraOrbit="auto",this.minFieldOfView="auto",this.maxFieldOfView="auto",this.interactionPromptThreshold=U8e,this.interactionPromptStyle=CA.WIGGLE,this.interactionPrompt=ad.AUTO,this.interactionPolicy=B8e.ALWAYS_ALLOW,this.orbitSensitivity=1,this.touchAction=V8e.PAN_Y,this.disableZoom=!1,this.interpolationDecay=LH,this.bounds="legacy",this[e]=this.shadowRoot.querySelector(".interaction-prompt"),this[n]=this.shadowRoot.querySelector(".interaction-prompt > .animated-container"),this[i]=1/0,this[o]=0,this[s]=1/0,this[a]=!1,this[l]=!1,this[c]=new M8e(this[Je].camera,this[va]),this[u]=new nE,this[d]=!1,this[f]=!1,this[h]=!1,this[v]=()=>{const T=this[va];isFinite(this[L0])||(this[L0]=performance.now());const C=this[nA];T.getAttribute("aria-label")!==C&&T.setAttribute("aria-label",C),this.interactionPrompt===ad.WHEN_FOCUSED&&!this[P0]&&(this[Sl]=!0)},this[m]=()=>{this.interactionPrompt===ad.WHEN_FOCUSED&&(this[Sl]=!1,this[M0].classList.remove("visible"),this[ld]=1/0,this[L0]=1/0)},this[_]=({source:T})=>{this[bG](),this[Oi](),T===AE.USER_INTERACTION&&(this[P0]=!0,this[PE]()),this.dispatchEvent(new CustomEvent("camera-change",{detail:{source:T}}))},this[S]=T=>{T.type==="pointer-change-start"?this[v0].classList.add("pointer-tumbling"):this[v0].classList.remove("pointer-tumbling")}}getCameraOrbit(){const{theta:T,phi:C,radius:P}=this[RE];return{theta:T,phi:C,radius:P,toString(){return`${this.theta}rad ${this.phi}rad ${this.radius}m`}}}getCameraTarget(){return vE(this[_n].isPresenting?this[_n].arRenderer.target:this[Je].getTarget())}getFieldOfView(){return this[Yn].getFieldOfView()}getMinimumFieldOfView(){return this[Yn].options.minimumFieldOfView}getMaximumFieldOfView(){return this[Yn].options.maximumFieldOfView}getIdealAspect(){return this[Je].idealAspect}jumpCameraToGoal(){this[I0]=!0,this.requestUpdate(I0,!1)}resetInteractionPrompt(){this[R0]=0,this[ld]=1/0,this[P0]=!1,this[Sl]=this.interactionPrompt===ad.AUTO&&this.cameraControls}zoom(T){const C=new WheelEvent("wheel",{deltaY:-30*T});this[va].dispatchEvent(C)}connectedCallback(){super.connectedCallback(),this[Yn].addEventListener("change",this[LA]),this[Yn].addEventListener("pointer-change-start",this[A0]),this[Yn].addEventListener("pointer-change-end",this[A0])}disconnectedCallback(){super.disconnectedCallback(),this[Yn].removeEventListener("change",this[LA]),this[Yn].removeEventListener("pointer-change-start",this[A0]),this[Yn].removeEventListener("pointer-change-end",this[A0])}updated(T){super.updated(T);const C=this[Yn],P=this[va];if(T.has("cameraControls")&&(this.cameraControls?(C.enableInteraction(),this.interactionPrompt===ad.AUTO&&(this[Sl]=!0),P.addEventListener("focus",this[RA]),P.addEventListener("blur",this[PA])):(P.removeEventListener("focus",this[RA]),P.removeEventListener("blur",this[PA]),C.disableInteraction(),this[PE]())),T.has("disableZoom")&&(C.disableZoom=this.disableZoom),T.has("bounds")&&(this[Je].tightBounds=this.bounds==="tight"),(T.has("interactionPrompt")||T.has("cameraControls")||T.has("src"))&&(this.interactionPrompt===ad.AUTO&&this.cameraControls&&!this[P0]?this[Sl]=!0:this[PE]()),T.has("interactionPromptStyle")&&this[M0].classList.toggle("wiggle",this.interactionPromptStyle===CA.WIGGLE),T.has("interactionPolicy")){const R=this.interactionPolicy;C.applyOptions({interactionPolicy:R})}if(T.has("touchAction")){const R=this.touchAction;C.applyOptions({touchAction:R}),C.updateTouchActionStyle()}T.has("orbitSensitivity")&&(C.sensitivity=this.orbitSensitivity),T.has("interpolationDecay")&&(C.setDamperDecayTime(this.interpolationDecay),this[Je].setTargetDamperDecayTime(this.interpolationDecay)),this[I0]===!0&&Promise.resolve().then(()=>{C.jumpToGoal(),this[Je].jumpToGoal(),this[I0]=!1})}async updateFraming(){const T=this[Je],C=T.adjustedFoV(T.framedFoVDeg);await T.updateFraming();const P=T.adjustedFoV(T.framedFoVDeg),R=this[Yn].getFieldOfView()/C;this[Yn].setFieldOfView(P*R),this[O0]=!0,this.requestUpdate("maxFieldOfView"),this.requestUpdate("fieldOfView"),this.requestUpdate("minCameraOrbit"),this.requestUpdate("maxCameraOrbit"),await this.requestUpdate("cameraOrbit")}[(e=M0,n=AA,i=L0,o=R0,s=ld,a=P0,l=Sl,c=Yn,u=RE,d=I0,f=IA,h=O0,xG)](T){const C=this[Je];C.framedFoVDeg=T[0]*180/Math.PI,this[Yn].setFieldOfView(C.adjustedFoV(C.framedFoVDeg))}[wG](T){if(this[O0]){const{theta:C,phi:P}=this.getCameraOrbit();T[0]=C,T[1]=P,this[O0]=!1}this[Yn].setOrbit(T[0],T[1],T[2])}[TG](T){this[Yn].applyOptions({minimumAzimuthalAngle:T[0],minimumPolarAngle:T[1],minimumRadius:T[2]}),this.jumpCameraToGoal()}[CG](T){this[Yn].applyOptions({maximumAzimuthalAngle:T[0],maximumPolarAngle:T[1],maximumRadius:T[2]}),this[EG](T[2]),this.jumpCameraToGoal()}[MG](T){this[Yn].applyOptions({minimumFieldOfView:T[0]*180/Math.PI}),this.jumpCameraToGoal()}[AG](T){const C=this[Je].adjustedFoV(T[0]*180/Math.PI);this[Yn].applyOptions({maximumFieldOfView:C}),this.jumpCameraToGoal()}[SG](T){const[C,P,R]=T;this[Je].setTarget(C,P,R),this[_n].arRenderer.updateTarget()}[ya](T,C){if(super[ya](T,C),this[_n].isPresenting||!this[Fh]())return;const P=performance.now();if(this[Sl]){const R=this.interactionPrompt===ad.AUTO?this[g0]:this[L0];this.loaded&&P>R+this.interactionPromptThreshold&&(this[va].setAttribute("aria-label",j8e),this[Sl]=!1,this[ld]=P,this[M0].classList.add("visible"))}if(isFinite(this[ld])&&this.interactionPromptStyle===CA.WIGGLE){const R=this[Je],A=(P-this[ld])/R8e%1,L=L8e(A),k=I8e(A);if(this[AA].style.opacity=`${k}`,L!==this[R0]){const U=L*R.width*.05,N=(L-this[R0])*Math.PI/16;this[AA].style.transform=`translateX(${U}px)`,this[Yn].adjustOrbit(N,0,0),this[R0]=L}}this[Yn].update(T,C),this[Je].updateTarget(C)}[PE](){this[Sl]=!1,this[M0].classList.remove("visible"),this[ld]=1/0}[EG](T){const C=Math.max(this[Je].boundingRadius,T),P=0,R=2*C;this[Yn].updateNearFar(P,R)}[bG](){const{theta:T,phi:C}=this[RE],{theta:P,phi:R}=this[Yn].getCameraSpherical(this[RE]),A=this.getRootNode();if(A!=null&&A.activeElement===this){const L=(4+Math.floor((T%_G+yG)/MA))%4,k=(4+Math.floor((P%_G+yG)/MA))%4,U=Math.floor(C/vG),N=Math.floor(R/vG);if(k!==L||N!==U){const I=D8e[k],O=`View from stage ${F8e[N]}${I}`;this[va].setAttribute("aria-label",O)}}}async[y0](T){const C=this[Yn],P=this[Je],R=P.adjustedFoV(P.framedFoVDeg);super[y0](T);const A=P.adjustedFoV(P.framedFoVDeg),L=C.getFieldOfView()/R;C.updateAspect(this[Je].aspect),await this.requestUpdate("maxFieldOfView",this.maxFieldOfView),this[Yn].setFieldOfView(A*L),this.jumpCameraToGoal()}[_a](){super[_a](),this[IA]?this[O0]=!0:this[IA]=!0,this.requestUpdate("maxFieldOfView",this.maxFieldOfView),this.requestUpdate("fieldOfView",this.fieldOfView),this.requestUpdate("minCameraOrbit",this.minCameraOrbit),this.requestUpdate("maxCameraOrbit",this.maxCameraOrbit),this.requestUpdate("cameraOrbit",this.cameraOrbit),this.requestUpdate("cameraTarget",this.cameraTarget),this.jumpCameraToGoal()}}return v=RA,m=PA,_=LA,S=A0,ni([kt({type:Boolean,attribute:"camera-controls"})],E.prototype,"cameraControls",void 0),ni([$c({intrinsics:gG,observeEffects:!0,updateHandler:wG}),kt({type:String,attribute:"camera-orbit",hasChanged:()=>!0})],E.prototype,"cameraOrbit",void 0),ni([$c({intrinsics:q8e,observeEffects:!0,updateHandler:SG}),kt({type:String,attribute:"camera-target",hasChanged:()=>!0})],E.prototype,"cameraTarget",void 0),ni([$c({intrinsics:H8e,observeEffects:!0,updateHandler:xG}),kt({type:String,attribute:"field-of-view",hasChanged:()=>!0})],E.prototype,"fieldOfView",void 0),ni([$c({intrinsics:$8e,updateHandler:TG}),kt({type:String,attribute:"min-camera-orbit",hasChanged:()=>!0})],E.prototype,"minCameraOrbit",void 0),ni([$c({intrinsics:W8e,updateHandler:CG}),kt({type:String,attribute:"max-camera-orbit",hasChanged:()=>!0})],E.prototype,"maxCameraOrbit",void 0),ni([$c({intrinsics:z8e,updateHandler:MG}),kt({type:String,attribute:"min-field-of-view",hasChanged:()=>!0})],E.prototype,"minFieldOfView",void 0),ni([$c({intrinsics:G8e,updateHandler:AG}),kt({type:String,attribute:"max-field-of-view",hasChanged:()=>!0})],E.prototype,"maxFieldOfView",void 0),ni([kt({type:Number,attribute:"interaction-prompt-threshold"})],E.prototype,"interactionPromptThreshold",void 0),ni([kt({type:String,attribute:"interaction-prompt-style"})],E.prototype,"interactionPromptStyle",void 0),ni([kt({type:String,attribute:"interaction-prompt"})],E.prototype,"interactionPrompt",void 0),ni([kt({type:String,attribute:"interaction-policy"})],E.prototype,"interactionPolicy",void 0),ni([kt({type:Number,attribute:"orbit-sensitivity"})],E.prototype,"orbitSensitivity",void 0),ni([kt({type:String,attribute:"touch-action"})],E.prototype,"touchAction",void 0),ni([kt({type:Boolean,attribute:"disable-zoom"})],E.prototype,"disableZoom",void 0),ni([kt({type:Number,attribute:"interpolation-decay"})],E.prototype,"interpolationDecay",void 0),ni([kt({type:String,attribute:"bounds"})],E.prototype,"bounds",void 0),E};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PG,RG;const K8e="This page includes one or more 3D models that are loading",X8e="All 3D models in the page have loaded",J8e=100,LE=Symbol("modelViewerStatusInstance"),LG=Symbol("updateStatus");class Z8e extends _s{constructor(){super();this[PG]=null,this.registeredInstanceStatuses=new Map,this.loadingPromises=[],this.statusElement=document.createElement("p"),this.statusUpdateInProgress=!1,this[RG]=zM(()=>this.updateStatus(),J8e);const{statusElement:e}=this,{style:n}=e;e.setAttribute("role","status"),e.classList.add("screen-reader-only"),n.top=n.left="0",n.pointerEvents="none"}registerInstance(e){if(this.registeredInstanceStatuses.has(e))return;let n=()=>{};const i=e.loaded===!1&&!!e.src,o=new Promise(s=>{if(!i){s();return}const a=()=>{s(),e.removeEventListener("load",a),e.removeEventListener("error",a)};e.addEventListener("load",a),e.addEventListener("error",a),n=a});this.registeredInstanceStatuses.set(e,{onUnregistered:n}),this.loadingPromises.push(o),this.modelViewerStatusInstance==null&&(this.modelViewerStatusInstance=e)}unregisterInstance(e){if(!this.registeredInstanceStatuses.has(e))return;const n=this.registeredInstanceStatuses,i=n.get(e);n.delete(e),i.onUnregistered(),this.modelViewerStatusInstance===e&&(this.modelViewerStatusInstance=n.size>0?z6e(n):null)}get modelViewerStatusInstance(){return this[LE]}set modelViewerStatusInstance(e){if(this[LE]===e)return;const{statusElement:i}=this;e!=null&&e.shadowRoot!=null?e.shadowRoot.appendChild(i):i.parentNode!=null&&i.parentNode.removeChild(i),this[LE]=e,this[LG]()}async updateStatus(){if(!(this.statusUpdateInProgress||this.loadingPromises.length===0)){for(this.statusElement.textContent=K8e,this.statusUpdateInProgress=!0,this.dispatchEvent({type:"initial-status-announced"});this.loadingPromises.length;){const{loadingPromises:e}=this;this.loadingPromises=[],await Promise.all(e)}this.statusElement.textContent=X8e,this.statusUpdateInProgress=!1,this.dispatchEvent({type:"finished-loading-announced"})}}}PG=LE,RG=LG;/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N0=function(t,e,n,i){for(var o=arguments.length,s=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a,l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};const Q8e=100,eke=.2,tke="https://www.gstatic.com/draco/versioned/decoders/1.4.1/",nke="https://www.gstatic.com/basis-universal/versioned/2021-04-15-ba1c3e4/",rke=32,ike=13,Wh={AUTO:"auto",INTERACTION:"interaction",MANUAL:"manual"},IG={AUTO:"auto",LAZY:"lazy",EAGER:"eager"},ske={INTERACTION:"interaction"},OG=new Z8e,cd=Symbol("defaultProgressBarElement"),NG=Symbol("defaultProgressMaskElement"),Tl=Symbol("posterContainerElement"),qh=Symbol("defaultPosterElement"),k0=Symbol("posterDismissalSource"),OA=Symbol("hidePoster"),IE=Symbol("modelIsRevealed"),NA=Symbol("updateProgressBar"),D0=Symbol("lastReportedProgress"),F0=Symbol("transitioned"),kA=Symbol("onTransitionEnd"),kG=Symbol("ariaLabelCallToAction"),DA=Symbol("onClick"),FA=Symbol("onKeydown"),UA=Symbol("onProgress"),oke=t=>{var e,n,i,o,s,a,l,c,u,d,f,h,v,m;class _ extends t{constructor(...E){super(...E);this.poster=null,this.reveal=Wh.AUTO,this.loading=IG.AUTO,this.generateSchema=!1,this.seamlessPoster=!1,this[e]=!1,this[n]=!1,this[i]=0,this[o]=null,this[s]=this.shadowRoot.querySelector(".slot.poster"),this[a]=this.shadowRoot.querySelector("#default-poster"),this[l]=this.shadowRoot.querySelector("#default-progress-bar > .bar"),this[c]=this.shadowRoot.querySelector("#default-progress-bar > .mask"),this[u]=this[qh].getAttribute("aria-label"),this[d]=V6e(P=>{const R=this[cd].parentNode;requestAnimationFrame(()=>{this[NG].style.opacity=`${(1-P)*eke}`,this[cd].style.transform=`scaleX(${P})`,P===0&&(R.removeChild(this[cd]),R.appendChild(this[cd])),P===1?this[cd].classList.add("hide"):this[cd].classList.remove("hide")})},Q8e),this[f]=()=>{this.reveal===Wh.MANUAL||this.reveal===Wh.AUTO||this.dismissPoster()},this[h]=P=>{if(this.reveal!==Wh.MANUAL)switch(P.keyCode){case rke:case ike:this.dismissPoster();break}},this[v]=P=>{const R=P.detail.totalProgress;this[D0]=Math.max(R,this[D0]),R===1&&(this[NA].flush(),this[sd]()&&(this[k0]!=null||this.reveal===Wh.AUTO)&&this[OA]()),this[NA](R),this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:R}}))},this[m]=()=>{this[F0]=!0;const P=this.getRootNode();P&&P.activeElement===this&&this[va].focus();const R=this[qh];R.setAttribute("aria-hidden","true"),R.tabIndex=-1,this.dispatchEvent(new CustomEvent("poster-dismissed"))};const w=self.ModelViewerElement||{},T=w.dracoDecoderLocation||tke;Ii.setDRACODecoderLocation(T);const C=w.ktx2TranscoderLocation||nke;Ii.setKTX2TranscoderLocation(C),w.meshoptDecoderLocation&&Ii.setMeshoptDecoderLocation(w.meshoptDecoderLocation)}static set dracoDecoderLocation(E){Ii.setDRACODecoderLocation(E)}static get dracoDecoderLocation(){return Ii.getDRACODecoderLocation()}static set ktx2TranscoderLocation(E){Ii.setKTX2TranscoderLocation(E)}static get ktx2TranscoderLocation(){return Ii.getKTX2TranscoderLocation()}static set meshoptDecoderLocation(E){Ii.setMeshoptDecoderLocation(E)}static get meshoptDecoderLocation(){return Ii.getMeshoptDecoderLocation()}static mapURLs(E){bl.singleton.loader[Ih].manager.setURLModifier(E)}dismissPoster(){this[sd]()?this[OA]():(this[k0]=ske.INTERACTION,this[ga]())}showPoster(){const E=this[Tl],w=this[qh];w.removeAttribute("tabindex"),w.removeAttribute("aria-hidden"),E.classList.add("show");const T=this.modelIsVisible;this[IE]=!1,this[pE](T),this[F0]=!1}getDimensions(){return vE(this[Je].size)}connectedCallback(){super.connectedCallback(),this[Tl].addEventListener("click",this[DA]),this[Tl].addEventListener("keydown",this[FA]),this[Dh].addEventListener("progress",this[UA]),OG.registerInstance(this)}disconnectedCallback(){super.disconnectedCallback(),this[Tl].removeEventListener("click",this[DA]),this[Tl].removeEventListener("keydown",this[FA]),this[Dh].removeEventListener("progress",this[UA]),OG.unregisterInstance(this)}async updated(E){super.updated(E),E.has("poster")&&this.poster!=null&&(this[qh].style.backgroundImage=`url(${this.poster})`),E.has("alt")&&this[qh].setAttribute("aria-label",`${this[nA]}. ${this[kG]}`),(E.has("reveal")||E.has("loading"))&&this[ga](),E.has("generateSchema")&&(this.generateSchema===!0?this[Je].updateSchema(this.src):this[Je].updateSchema(null)),E.has("seamlessPoster")&&(this.seamlessPoster===!0?this[Tl].classList.add("quick"):this[Tl].classList.remove("quick"))}[(e=IE,n=F0,i=D0,o=k0,s=Tl,a=qh,l=cd,c=NG,u=kG,d=NA,f=DA,h=FA,v=UA,id)](){return!!this.src&&(this[k0]!=null||this.loading===IG.EAGER||this.reveal===Wh.AUTO&&this[rd])}[sd](){const{src:E}=this;return!!E&&super[sd]()&&this[D0]===1}[(m=kA,OA)](){this[k0]=null;const E=this[Tl];if(E.classList.contains("show")){const w=this.modelIsVisible;this[IE]=!0,this[pE](w),requestAnimationFrame(()=>{E.classList.remove("show"),this.seamlessPoster===!0?this[kA]():E.addEventListener("transitionend",this[kA],{once:!0})})}else this[F0]=!0}[gE](){return super[gE]()&&this[IE]}[Fh](){return super[Fh]()&&this[F0]}async[ga](){this[D0]=0,this.generateSchema===!0&&this[Je].updateSchema(this.src),(this[Je].currentGLTF==null||this.src==null||!this[id]())&&this.showPoster(),await super[ga]()}}return N0([kt({type:String})],_.prototype,"poster",void 0),N0([kt({type:String})],_.prototype,"reveal",void 0),N0([kt({type:String})],_.prototype,"loading",void 0),N0([kt({type:Boolean,attribute:"generate-schema"})],_.prototype,"generateSchema",void 0),N0([kt({type:Boolean,attribute:"seamless-poster"})],_.prototype,"seamlessPoster",void 0),_};class jA{constructor(){this.pluginCallbacks=[],this.register(function(e){return new mke(e)}),this.register(function(e){return new gke(e)}),this.register(function(e){return new vke(e)}),this.register(function(e){return new _ke(e)}),this.register(function(e){return new bke(e)}),this.register(function(e){return new yke(e)})}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,o){typeof i=="object"&&(console.warn("THREE.GLTFExporter: parse() expects options as the fourth argument now."),o=i);const s=new pke,a=[];for(let l=0,c=this.pluginCallbacks.length;l<c;l++)a.push(this.pluginCallbacks[l](s));s.setPlugins(a),s.write(e,n,o).catch(i)}parseAsync(e,n){const i=this;return new Promise(function(o,s){i.parse(e,o,s,n)})}}const Mn={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,FLOAT:5126,UNSIGNED_INT:5125,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},xs={};xs[_r]=Mn.NEAREST;xs[rb]=Mn.NEAREST_MIPMAP_NEAREST;xs[ib]=Mn.NEAREST_MIPMAP_LINEAR;xs[Ln]=Mn.LINEAR;xs[sC]=Mn.LINEAR_MIPMAP_NEAREST;xs[il]=Mn.LINEAR_MIPMAP_LINEAR;xs[Zr]=Mn.CLAMP_TO_EDGE;xs[rl]=Mn.REPEAT;xs[Og]=Mn.MIRRORED_REPEAT;const DG={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},FG=12,ake=1179937895,lke=2,UG=8,cke=1313821514,uke=5130562;function U0(t,e){return t.length===e.length&&t.every(function(n,i){return n===e[i]})}function dke(t){if(window.TextEncoder!==void 0)return new TextEncoder().encode(t).buffer;const e=new Uint8Array(new ArrayBuffer(t.length));for(let n=0,i=t.length;n<i;n++){const o=t.charCodeAt(n);e[n]=o>255?32:o}return e.buffer}function fke(t){return U0(t.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function hke(t,e,n){const i={min:new Array(t.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(t.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let o=e;o<e+n;o++)for(let s=0;s<t.itemSize;s++){let a;t.itemSize>4?a=t.array[o*t.itemSize+s]:s===0?a=t.getX(o):s===1?a=t.getY(o):s===2?a=t.getZ(o):s===3&&(a=t.getW(o)),i.min[s]=Math.min(i.min[s],a),i.max[s]=Math.max(i.max[s],a)}return i}function jG(t){return Math.ceil(t/4)*4}function BA(t,e=0){const n=jG(t.byteLength);if(n!==t.byteLength){const i=new Uint8Array(n);if(i.set(new Uint8Array(t)),e!==0)for(let o=t.byteLength;o<n;o++)i[o]=e;return i.buffer}return t}let BG=null;class pke{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(e){this.plugins=e}async write(e,n,i){this.options=Object.assign({},{binary:!1,trs:!1,onlyVisible:!0,truncateDrawRange:!0,embedImages:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},i),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(e),await Promise.all(this.pending);const o=this,s=o.buffers,a=o.json;i=o.options;const l=o.extensionsUsed,c=new Blob(s,{type:"application/octet-stream"}),u=Object.keys(l);if(u.length>0&&(a.extensionsUsed=u),a.buffers&&a.buffers.length>0&&(a.buffers[0].byteLength=c.size),i.binary===!0){const d=new window.FileReader;d.readAsArrayBuffer(c),d.onloadend=function(){const f=BA(d.result),h=new DataView(new ArrayBuffer(UG));h.setUint32(0,f.byteLength,!0),h.setUint32(4,uke,!0);const v=BA(dke(JSON.stringify(a)),32),m=new DataView(new ArrayBuffer(UG));m.setUint32(0,v.byteLength,!0),m.setUint32(4,cke,!0);const _=new ArrayBuffer(FG),S=new DataView(_);S.setUint32(0,ake,!0),S.setUint32(4,lke,!0);const E=FG+m.byteLength+v.byteLength+h.byteLength+f.byteLength;S.setUint32(8,E,!0);const w=new Blob([_,m,v,h,f],{type:"application/octet-stream"}),T=new window.FileReader;T.readAsArrayBuffer(w),T.onloadend=function(){n(T.result)}}}else if(a.buffers&&a.buffers.length>0){const d=new window.FileReader;d.readAsDataURL(c),d.onloadend=function(){const f=d.result;a.buffers[0].uri=f,n(a)}}else n(a)}serializeUserData(e,n){if(Object.keys(e.userData).length===0)return;const i=this.options,o=this.extensionsUsed;try{const s=JSON.parse(JSON.stringify(e.userData));if(i.includeCustomExtensions&&s.gltfExtensions){n.extensions===void 0&&(n.extensions={});for(const a in s.gltfExtensions)n.extensions[a]=s.gltfExtensions[a],o[a]=!0;delete s.gltfExtensions}Object.keys(s).length>0&&(n.extras=s)}catch(s){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+s.message)}}getUID(e){return this.uids.has(e)||this.uids.set(e,this.uid++),this.uids.get(e)}isNormalizedNormalAttribute(e){if(this.cache.attributesNormalized.has(e))return!1;const i=new ee;for(let o=0,s=e.count;o<s;o++)if(Math.abs(i.fromBufferAttribute(e,o).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(e){const n=this.cache;if(n.attributesNormalized.has(e))return n.attributesNormalized.get(e);const i=e.clone(),o=new ee;for(let s=0,a=i.count;s<a;s++)o.fromBufferAttribute(i,s),o.x===0&&o.y===0&&o.z===0?o.setX(1):o.normalize(),i.setXYZ(s,o.x,o.y,o.z);return n.attributesNormalized.set(e,i),i}applyTextureTransform(e,n){let i=!1;const o={};(n.offset.x!==0||n.offset.y!==0)&&(o.offset=n.offset.toArray(),i=!0),n.rotation!==0&&(o.rotation=n.rotation,i=!0),(n.repeat.x!==1||n.repeat.y!==1)&&(o.scale=n.repeat.toArray(),i=!0),i&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=o,this.extensionsUsed.KHR_texture_transform=!0)}processBuffer(e){const n=this.json,i=this.buffers;return n.buffers||(n.buffers=[{byteLength:0}]),i.push(e),0}processBufferView(e,n,i,o,s){const a=this.json;a.bufferViews||(a.bufferViews=[]);let l;n===Mn.UNSIGNED_BYTE?l=1:n===Mn.UNSIGNED_SHORT?l=2:l=4;const c=jG(o*e.itemSize*l),u=new DataView(new ArrayBuffer(c));let d=0;for(let v=i;v<i+o;v++)for(let m=0;m<e.itemSize;m++){let _;e.itemSize>4?_=e.array[v*e.itemSize+m]:m===0?_=e.getX(v):m===1?_=e.getY(v):m===2?_=e.getZ(v):m===3&&(_=e.getW(v)),n===Mn.FLOAT?u.setFloat32(d,_,!0):n===Mn.UNSIGNED_INT?u.setUint32(d,_,!0):n===Mn.UNSIGNED_SHORT?u.setUint16(d,_,!0):n===Mn.UNSIGNED_BYTE&&u.setUint8(d,_),d+=l}const f={buffer:this.processBuffer(u.buffer),byteOffset:this.byteOffset,byteLength:c};return s!==void 0&&(f.target=s),s===Mn.ARRAY_BUFFER&&(f.byteStride=e.itemSize*l),this.byteOffset+=c,a.bufferViews.push(f),{id:a.bufferViews.length-1,byteLength:0}}processBufferViewImage(e){const n=this,i=n.json;return i.bufferViews||(i.bufferViews=[]),new Promise(function(o){const s=new window.FileReader;s.readAsArrayBuffer(e),s.onloadend=function(){const a=BA(s.result),l={buffer:n.processBuffer(a),byteOffset:n.byteOffset,byteLength:a.byteLength};n.byteOffset+=a.byteLength,o(i.bufferViews.push(l)-1)}})}processAccessor(e,n,i,o){const s=this.options,a=this.json,l={1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"};let c;if(e.array.constructor===Float32Array)c=Mn.FLOAT;else if(e.array.constructor===Uint32Array)c=Mn.UNSIGNED_INT;else if(e.array.constructor===Uint16Array)c=Mn.UNSIGNED_SHORT;else if(e.array.constructor===Uint8Array)c=Mn.UNSIGNED_BYTE;else throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");if(i===void 0&&(i=0),o===void 0&&(o=e.count),s.truncateDrawRange&&n!==void 0&&n.index===null){const v=i+o,m=n.drawRange.count===1/0?e.count:n.drawRange.start+n.drawRange.count;i=Math.max(i,n.drawRange.start),o=Math.min(v,m)-i,o<0&&(o=0)}if(o===0)return null;const u=hke(e,i,o);let d;n!==void 0&&(d=e===n.index?Mn.ELEMENT_ARRAY_BUFFER:Mn.ARRAY_BUFFER);const f=this.processBufferView(e,c,i,o,d),h={bufferView:f.id,byteOffset:f.byteOffset,componentType:c,count:o,max:u.max,min:u.min,type:l[e.itemSize]};return e.normalized===!0&&(h.normalized=!0),a.accessors||(a.accessors=[]),a.accessors.push(h)-1}processImage(e,n,i){const o=this,s=o.cache,a=o.json,l=o.options,c=o.pending;s.images.has(e)||s.images.set(e,{});const u=s.images.get(e),d=n===Qn?"image/png":"image/jpeg",f=d+":flipY/"+i.toString();if(u[f]!==void 0)return u[f];a.images||(a.images=[]);const h={mimeType:d};if(l.embedImages){const m=BG=BG||document.createElement("canvas");m.width=Math.min(e.width,l.maxTextureSize),m.height=Math.min(e.height,l.maxTextureSize);const _=m.getContext("2d");if(i===!0&&(_.translate(0,m.height),_.scale(1,-1)),typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap)_.drawImage(e,0,0,m.width,m.height);else{n!==Qn&&n!==Js&&console.error("GLTFExporter: Only RGB and RGBA formats are supported."),(e.width>l.maxTextureSize||e.height>l.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);const S=new Uint8ClampedArray(e.height*e.width*4);if(n===Qn)for(let E=0;E<S.length;E+=4)S[E+0]=e.data[E+0],S[E+1]=e.data[E+1],S[E+2]=e.data[E+2],S[E+3]=e.data[E+3];else for(let E=0,w=0;E<S.length;E+=4,w+=3)S[E+0]=e.data[w+0],S[E+1]=e.data[w+1],S[E+2]=e.data[w+2],S[E+3]=255;_.putImageData(new ImageData(S,e.width,e.height),0,0)}l.binary===!0?c.push(new Promise(function(S){m.toBlob(function(E){o.processBufferViewImage(E).then(function(w){h.bufferView=w,S()})},d)})):h.uri=m.toDataURL(d)}else h.uri=e.src;const v=a.images.push(h)-1;return u[f]=v,v}processSampler(e){const n=this.json;n.samplers||(n.samplers=[]);const i={magFilter:xs[e.magFilter],minFilter:xs[e.minFilter],wrapS:xs[e.wrapS],wrapT:xs[e.wrapT]};return n.samplers.push(i)-1}processTexture(e){const n=this.cache,i=this.json;if(n.textures.has(e))return n.textures.get(e);i.textures||(i.textures=[]);const o={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY)};e.name&&(o.name=e.name),this._invokeAll(function(a){a.writeTexture&&a.writeTexture(e,o)});const s=i.textures.push(o)-1;return n.textures.set(e,s),s}processMaterial(e){const n=this.cache,i=this.json;if(n.materials.has(e))return n.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;i.materials||(i.materials=[]);const o={pbrMetallicRoughness:{}};e.isMeshStandardMaterial!==!0&&e.isMeshBasicMaterial!==!0&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const s=e.color.toArray().concat([e.opacity]);if(U0(s,[1,1,1,1])||(o.pbrMetallicRoughness.baseColorFactor=s),e.isMeshStandardMaterial?(o.pbrMetallicRoughness.metallicFactor=e.metalness,o.pbrMetallicRoughness.roughnessFactor=e.roughness):(o.pbrMetallicRoughness.metallicFactor=.5,o.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap)if(e.metalnessMap===e.roughnessMap){const l={index:this.processTexture(e.metalnessMap)};this.applyTextureTransform(l,e.metalnessMap),o.pbrMetallicRoughness.metallicRoughnessTexture=l}else console.warn("THREE.GLTFExporter: Ignoring metalnessMap and roughnessMap because they are not the same Texture.");if(e.map){const l={index:this.processTexture(e.map)};this.applyTextureTransform(l,e.map),o.pbrMetallicRoughness.baseColorTexture=l}if(e.emissive){const l=e.emissive.clone().multiplyScalar(e.emissiveIntensity),c=Math.max(l.r,l.g,l.b);if(c>1&&(l.multiplyScalar(1/c),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),c>0&&(o.emissiveFactor=l.toArray()),e.emissiveMap){const u={index:this.processTexture(e.emissiveMap)};this.applyTextureTransform(u,e.emissiveMap),o.emissiveTexture=u}}if(e.normalMap){const l={index:this.processTexture(e.normalMap)};e.normalScale&&e.normalScale.x!==1&&(l.scale=e.normalScale.x),this.applyTextureTransform(l,e.normalMap),o.normalTexture=l}if(e.aoMap){const l={index:this.processTexture(e.aoMap),texCoord:1};e.aoMapIntensity!==1&&(l.strength=e.aoMapIntensity),this.applyTextureTransform(l,e.aoMap),o.occlusionTexture=l}e.transparent?o.alphaMode="BLEND":e.alphaTest>0&&(o.alphaMode="MASK",o.alphaCutoff=e.alphaTest),e.side===el&&(o.doubleSided=!0),e.name!==""&&(o.name=e.name),this.serializeUserData(e,o),this._invokeAll(function(l){l.writeMaterial&&l.writeMaterial(e,o)});const a=i.materials.push(o)-1;return n.materials.set(e,a),a}processMesh(e){const n=this.cache,i=this.json,o=[e.geometry.uuid];if(Array.isArray(e.material))for(let T=0,C=e.material.length;T<C;T++)o.push(e.material[T].uuid);else o.push(e.material.uuid);const s=o.join(":");if(n.meshes.has(s))return n.meshes.get(s);const a=e.geometry;let l;if(e.isLineSegments?l=Mn.LINES:e.isLineLoop?l=Mn.LINE_LOOP:e.isLine?l=Mn.LINE_STRIP:e.isPoints?l=Mn.POINTS:l=e.material.wireframe?Mn.LINES:Mn.TRIANGLES,a.isBufferGeometry!==!0)throw new Error("THREE.GLTFExporter: Geometry is not of type THREE.BufferGeometry.");const c={},u={},d=[],f=[],h={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},v=a.getAttribute("normal");v!==void 0&&!this.isNormalizedNormalAttribute(v)&&(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),a.setAttribute("normal",this.createNormalizedNormalAttribute(v)));let m=null;for(let T in a.attributes){if(T.substr(0,5)==="morph")continue;const C=a.attributes[T];if(T=h[T]||T.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(T)||(T="_"+T),n.attributes.has(this.getUID(C))){u[T]=n.attributes.get(this.getUID(C));continue}m=null;const R=C.array;T==="JOINTS_0"&&!(R instanceof Uint16Array)&&!(R instanceof Uint8Array)&&(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),m=new On(new Uint16Array(R),C.itemSize,C.normalized));const A=this.processAccessor(m||C,a);A!==null&&(u[T]=A,n.attributes.set(this.getUID(C),A))}if(v!==void 0&&a.setAttribute("normal",v),Object.keys(u).length===0)return null;if(e.morphTargetInfluences!==void 0&&e.morphTargetInfluences.length>0){const T=[],C=[],P={};if(e.morphTargetDictionary!==void 0)for(const R in e.morphTargetDictionary)P[e.morphTargetDictionary[R]]=R;for(let R=0;R<e.morphTargetInfluences.length;++R){const A={};let L=!1;for(const k in a.morphAttributes){if(k!=="position"&&k!=="normal"){L||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),L=!0);continue}const U=a.morphAttributes[k][R],N=k.toUpperCase(),I=a.attributes[k];if(n.attributes.has(this.getUID(U))){A[N]=n.attributes.get(this.getUID(U));continue}const F=U.clone();if(!a.morphTargetsRelative)for(let O=0,V=U.count;O<V;O++)F.setXYZ(O,U.getX(O)-I.getX(O),U.getY(O)-I.getY(O),U.getZ(O)-I.getZ(O));A[N]=this.processAccessor(F,a),n.attributes.set(this.getUID(I),A[N])}f.push(A),T.push(e.morphTargetInfluences[R]),e.morphTargetDictionary!==void 0&&C.push(P[R])}c.weights=T,C.length>0&&(c.extras={},c.extras.targetNames=C)}const _=Array.isArray(e.material);if(_&&a.groups.length===0)return null;const S=_?e.material:[e.material],E=_?a.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let T=0,C=E.length;T<C;T++){const P={mode:l,attributes:u};if(this.serializeUserData(a,P),f.length>0&&(P.targets=f),a.index!==null){let A=this.getUID(a.index);(E[T].start!==void 0||E[T].count!==void 0)&&(A+=":"+E[T].start+":"+E[T].count),n.attributes.has(A)?P.indices=n.attributes.get(A):(P.indices=this.processAccessor(a.index,a,E[T].start,E[T].count),n.attributes.set(A,P.indices)),P.indices===null&&delete P.indices}const R=this.processMaterial(S[E[T].materialIndex]);R!==null&&(P.material=R),d.push(P)}c.primitives=d,i.meshes||(i.meshes=[]),this._invokeAll(function(T){T.writeMesh&&T.writeMesh(e,c)});const w=i.meshes.push(c)-1;return n.meshes.set(s,w),w}processCamera(e){const n=this.json;n.cameras||(n.cameras=[]);const i=e.isOrthographicCamera,o={type:i?"orthographic":"perspective"};return i?o.orthographic={xmag:e.right*2,ymag:e.top*2,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:o.perspective={aspectRatio:e.aspect,yfov:sB.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},e.name!==""&&(o.name=e.type),n.cameras.push(o)-1}processAnimation(e,n){const i=this.json,o=this.nodeMap;i.animations||(i.animations=[]),e=jA.Utils.mergeMorphTargetTracks(e.clone(),n);const s=e.tracks,a=[],l=[];for(let c=0;c<s.length;++c){const u=s[c],d=an.parseTrackName(u.name);let f=an.findNode(n,d.nodeName);const h=DG[d.propertyName];if(d.objectName==="bones"&&(f.isSkinnedMesh===!0?f=f.skeleton.getBoneByName(d.objectIndex):f=void 0),!f||!h)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',u.name),null;const v=1;let m=u.values.length/u.times.length;h===DG.morphTargetInfluences&&(m/=f.morphTargetInfluences.length);let _;u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0?(_="CUBICSPLINE",m/=3):u.getInterpolation()===Jf?_="STEP":_="LINEAR",l.push({input:this.processAccessor(new On(u.times,v)),output:this.processAccessor(new On(u.values,m)),interpolation:_}),a.push({sampler:l.length-1,target:{node:o.get(f),path:h}})}return i.animations.push({name:e.name||"clip_"+i.animations.length,samplers:l,channels:a}),i.animations.length-1}processSkin(e){const n=this.json,i=this.nodeMap,o=n.nodes[i.get(e)],s=e.skeleton;if(s===void 0)return null;const a=e.skeleton.bones[0];if(a===void 0)return null;const l=[],c=new Float32Array(s.bones.length*16),u=new ut;for(let f=0;f<s.bones.length;++f)l.push(i.get(s.bones[f])),u.copy(s.boneInverses[f]),u.multiply(e.bindMatrix).toArray(c,f*16);return n.skins===void 0&&(n.skins=[]),n.skins.push({inverseBindMatrices:this.processAccessor(new On(c,16)),joints:l,skeleton:i.get(a)}),o.skin=n.skins.length-1}processNode(e){const n=this.json,i=this.options,o=this.nodeMap;n.nodes||(n.nodes=[]);const s={};if(i.trs){const l=e.quaternion.toArray(),c=e.position.toArray(),u=e.scale.toArray();U0(l,[0,0,0,1])||(s.rotation=l),U0(c,[0,0,0])||(s.translation=c),U0(u,[1,1,1])||(s.scale=u)}else e.matrixAutoUpdate&&e.updateMatrix(),fke(e.matrix)===!1&&(s.matrix=e.matrix.elements);if(e.name!==""&&(s.name=String(e.name)),this.serializeUserData(e,s),e.isMesh||e.isLine||e.isPoints){const l=this.processMesh(e);l!==null&&(s.mesh=l)}else e.isCamera&&(s.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){const l=[];for(let c=0,u=e.children.length;c<u;c++){const d=e.children[c];if(d.visible||i.onlyVisible===!1){const f=this.processNode(d);f!==null&&l.push(f)}}l.length>0&&(s.children=l)}this._invokeAll(function(l){l.writeNode&&l.writeNode(e,s)});const a=n.nodes.push(s)-1;return o.set(e,a),a}processScene(e){const n=this.json,i=this.options;n.scenes||(n.scenes=[],n.scene=0);const o={};e.name!==""&&(o.name=e.name),n.scenes.push(o);const s=[];for(let a=0,l=e.children.length;a<l;a++){const c=e.children[a];if(c.visible||i.onlyVisible===!1){const u=this.processNode(c);u!==null&&s.push(u)}}s.length>0&&(o.nodes=s),this.serializeUserData(e,o)}processObjects(e){const n=new ua;n.name="AuxScene";for(let i=0;i<e.length;i++)n.children.push(e[i]);this.processScene(n)}processInput(e){const n=this.options;e=e instanceof Array?e:[e],this._invokeAll(function(o){o.beforeParse&&o.beforeParse(e)});const i=[];for(let o=0;o<e.length;o++)e[o]instanceof ua?this.processScene(e[o]):i.push(e[o]);i.length>0&&this.processObjects(i);for(let o=0;o<this.skins.length;++o)this.processSkin(this.skins[o]);for(let o=0;o<n.animations.length;++o)this.processAnimation(n.animations[o],e[0]);this._invokeAll(function(o){o.afterParse&&o.afterParse(e)})}_invokeAll(e){for(let n=0,i=this.plugins.length;n<i;n++)e(this.plugins[n])}}class mke{constructor(e){this.writer=e,this.name="KHR_lights_punctual"}writeNode(e,n){if(!e.isLight)return;if(!e.isDirectionalLight&&!e.isPointLight&&!e.isSpotLight){console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e);return}const i=this.writer,o=i.json,s=i.extensionsUsed,a={};e.name&&(a.name=e.name),a.color=e.color.toArray(),a.intensity=e.intensity,e.isDirectionalLight?a.type="directional":e.isPointLight?(a.type="point",e.distance>0&&(a.range=e.distance)):e.isSpotLight&&(a.type="spot",e.distance>0&&(a.range=e.distance),a.spot={},a.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,a.spot.outerConeAngle=e.angle),e.decay!==void 0&&e.decay!==2&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),e.target&&(e.target.parent!==e||e.target.position.x!==0||e.target.position.y!==0||e.target.position.z!==-1)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),s[this.name]||(o.extensions=o.extensions||{},o.extensions[this.name]={lights:[]},s[this.name]=!0);const l=o.extensions[this.name].lights;l.push(a),n.extensions=n.extensions||{},n.extensions[this.name]={light:l.length-1}}}class gke{constructor(e){this.writer=e,this.name="KHR_materials_unlit"}writeMaterial(e,n){if(!e.isMeshBasicMaterial)return;const o=this.writer.extensionsUsed;n.extensions=n.extensions||{},n.extensions[this.name]={},o[this.name]=!0,n.pbrMetallicRoughness.metallicFactor=0,n.pbrMetallicRoughness.roughnessFactor=.9}}class vke{constructor(e){this.writer=e,this.name="KHR_materials_pbrSpecularGlossiness"}writeMaterial(e,n){if(!e.isGLTFSpecularGlossinessMaterial)return;const i=this.writer,o=i.extensionsUsed,s={};n.pbrMetallicRoughness.baseColorFactor&&(s.diffuseFactor=n.pbrMetallicRoughness.baseColorFactor);const a=[1,1,1];if(e.specular.toArray(a,0),s.specularFactor=a,s.glossinessFactor=e.glossiness,n.pbrMetallicRoughness.baseColorTexture&&(s.diffuseTexture=n.pbrMetallicRoughness.baseColorTexture),e.specularMap){const l={index:i.processTexture(e.specularMap)};i.applyTextureTransform(l,e.specularMap),s.specularGlossinessTexture=l}n.extensions=n.extensions||{},n.extensions[this.name]=s,o[this.name]=!0}}class yke{constructor(e){this.writer=e,this.name="KHR_materials_clearcoat"}writeMaterial(e,n){if(!e.isMeshPhysicalMaterial)return;const i=this.writer,o=i.extensionsUsed,s={};if(s.clearcoatFactor=e.clearcoat,e.clearcoatMap){const a={index:i.processTexture(e.clearcoatMap)};i.applyTextureTransform(a,e.clearcoatMap),s.clearcoatTexture=a}if(s.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){const a={index:i.processTexture(e.clearcoatRoughnessMap)};i.applyTextureTransform(a,e.clearcoatRoughnessMap),s.clearcoatRoughnessTexture=a}if(e.clearcoatNormalMap){const a={index:i.processTexture(e.clearcoatNormalMap)};i.applyTextureTransform(a,e.clearcoatNormalMap),s.clearcoatNormalTexture=a}n.extensions=n.extensions||{},n.extensions[this.name]=s,o[this.name]=!0}}class _ke{constructor(e){this.writer=e,this.name="KHR_materials_transmission"}writeMaterial(e,n){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;const i=this.writer,o=i.extensionsUsed,s={};if(s.transmissionFactor=e.transmission,e.transmissionMap){const a={index:i.processTexture(e.transmissionMap)};i.applyTextureTransform(a,e.transmissionMap),s.transmissionTexture=a}n.extensions=n.extensions||{},n.extensions[this.name]=s,o[this.name]=!0}}class bke{constructor(e){this.writer=e,this.name="KHR_materials_volume"}writeMaterial(e,n){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;const i=this.writer,o=i.extensionsUsed,s={};if(s.thicknessFactor=e.thickness,e.thicknessMap){const a={index:i.processTexture(e.thicknessMap)};i.applyTextureTransform(a,e.thicknessMap),s.thicknessTexture=a}s.attenuationDistance=e.attenuationDistance,s.attenuationColor=e.attenuationColor.toArray(),n.extensions=n.extensions||{},n.extensions[this.name]=s,o[this.name]=!0}}jA.Utils={insertKeyframe:function(t,e){const n=.001,i=t.getValueSize(),o=new t.TimeBufferType(t.times.length+1),s=new t.ValueBufferType(t.values.length+i),a=t.createInterpolant(new t.ValueBufferType(i));let l;if(t.times.length===0){o[0]=e;for(let c=0;c<i;c++)s[c]=0;l=0}else if(e<t.times[0]){if(Math.abs(t.times[0]-e)<n)return 0;o[0]=e,o.set(t.times,1),s.set(a.evaluate(e),0),s.set(t.values,i),l=0}else if(e>t.times[t.times.length-1]){if(Math.abs(t.times[t.times.length-1]-e)<n)return t.times.length-1;o[o.length-1]=e,o.set(t.times,0),s.set(t.values,0),s.set(a.evaluate(e),t.values.length),l=o.length-1}else for(let c=0;c<t.times.length;c++){if(Math.abs(t.times[c]-e)<n)return c;if(t.times[c]<e&&t.times[c+1]>e){o.set(t.times.slice(0,c+1),0),o[c+1]=e,o.set(t.times.slice(c+1),c+2),s.set(t.values.slice(0,(c+1)*i),0),s.set(a.evaluate(e),(c+1)*i),s.set(t.values.slice((c+1)*i),(c+2)*i),l=c+1;break}}return t.times=o,t.values=s,l},mergeMorphTargetTracks:function(t,e){const n=[],i={},o=t.tracks;for(let s=0;s<o.length;++s){let a=o[s];const l=an.parseTrackName(a.name),c=an.findNode(e,l.nodeName);if(l.propertyName!=="morphTargetInfluences"||l.propertyIndex===void 0){n.push(a);continue}if(a.createInterpolant!==a.InterpolantFactoryMethodDiscrete&&a.createInterpolant!==a.InterpolantFactoryMethodLinear){if(a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),a=a.clone(),a.setInterpolation(Hu)}const u=c.morphTargetInfluences.length,d=c.morphTargetDictionary[l.propertyIndex];if(d===void 0)throw new Error("THREE.GLTFExporter: Morph target name not found: "+l.propertyIndex);let f;if(i[c.uuid]===void 0){f=a.clone();const v=new f.ValueBufferType(u*f.times.length);for(let m=0;m<f.times.length;m++)v[m*u+d]=f.values[m];f.name=(l.nodeName||"")+".morphTargetInfluences",f.values=v,i[c.uuid]=f,n.push(f);continue}const h=a.createInterpolant(new a.ValueBufferType(1));f=i[c.uuid];for(let v=0;v<f.times.length;v++)f.values[v*u+d]=h.evaluate(f.times[v]);for(let v=0;v<a.times.length;v++){const m=this.insertKeyframe(f,a.times[v]);f.values[m*u+d]=a.values[v]}}return t.tracks=n,t}};/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG=t=>t.material!==void 0&&t.userData&&t.userData.variantMaterials&&!!Array.from(t.userData.variantMaterials.values()).filter(e=>OE(e.material)),OE=t=>t&&t.isMaterial&&!Array.isArray(t);class Eke{constructor(e){this.writer=e,this.name="KHR_materials_variants",this.variantNames=[]}beforeParse(e){const n=new Set;for(const i of e)i.traverse(o=>{if(!VG(o))return;const s=o.userData.variantMaterials,a=o.userData.variantData;for(const[l,c]of a){const u=s.get(c.index);OE(u.material)&&n.add(l)}});n.forEach(i=>this.variantNames.push(i))}writeMesh(e,n){if(!VG(e))return;const i=e.userData,o=i.variantMaterials,s=i.variantData,a=new Map,l=new Map,c=Array.from(s.values()).sort((f,h)=>f.index-h.index);for(const[f,h]of c.entries())l.set(h.index,f);for(const f of s.values()){const h=o.get(f.index).material;if(!OE(h))continue;const v=this.writer.processMaterial(h);a.has(v)||a.set(v,{material:v,variants:[]}),a.get(v).variants.push(l.get(f.index))}const u=Array.from(a.values()).map(f=>f.variants.sort((h,v)=>h-v)&&f).sort((f,h)=>f.material-h.material);if(u.length===0)return;const d=OE(i.originalMaterial)?this.writer.processMaterial(i.originalMaterial):-1;for(const f of n.primitives)d>=0&&(f.material=d),f.extensions=f.extensions||{},f.extensions[this.name]={mappings:u}}afterParse(){if(this.variantNames.length===0)return;const e=this.writer.json;e.extensions=e.extensions||{};const n=this.variantNames.map(i=>({name:i}));e.extensions[this.name]={variants:n},this.writer.extensionsUsed[this.name]=!0}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=Symbol("correlatedObjects"),xn=Symbol("sourceObject"),Io=Symbol("onUpdate");class j0{constructor(e,n,i=null){this[Io]=e,this[xn]=n,this[Cr]=i}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wke=new EM,HG=new Ro,xke=new qu(2,2);let Ske=0;const NE=Symbol("threeTexture");class Tke extends j0{get[NE](){var e;return console.assert(this[Cr]!=null&&this[Cr].size>0,"Image correlated object is undefined"),(e=this[Cr])===null||e===void 0?void 0:e.values().next().value}constructor(e,n,i){i=i!=null?i:{name:"adhoc_image",uri:n&&n.image&&n.image.src?n.image.src:"adhoc_image"+Ske++};super(e,i,new Set(n?[n]:[]))}get name(){return this[xn].name||""}get uri(){return this[xn].uri}get bufferView(){return this[xn].bufferView}get type(){return this.uri!=null?"external":"embedded"}async setURI(e){this[xn].uri=e;const n=await new Promise((o,s)=>{wke.load(e,o,void 0,s)}),i=this[NE];i.image=n,i.needsUpdate=!0,this[Io]()}async createThumbnail(e,n){const i=new ua;HG.map=this[NE];const o=new Ct(xke,HG);i.add(o);const s=new mh(-1,1,1,-1,0,1),{threeRenderer:a}=bl.singleton,l=new Zi(e,n);a.setRenderTarget(l),a.render(i,s),a.setRenderTarget(null);const c=new Uint8Array(e*n*4);a.readRenderTargetPixels(l,0,0,e,n,c),no.width=e,no.height=n;const u=no.getContext("2d"),d=u.createImageData(e,n);return d.data.set(c),u.putImageData(d,0,0),new Promise(async(f,h)=>{no.toBlob(v=>{if(!v)return h("Failed to capture thumbnail.");f(URL.createObjectURL(v))},"image/png")})}}var ro;(function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.NearestMipmapNearest=9984]="NearestMipmapNearest",t[t.LinearMipmapNearest=9985]="LinearMipmapNearest",t[t.NearestMipmapLinear=9986]="NearestMipmapLinear",t[t.LinearMipmapLinear=9987]="LinearMipmapLinear"})(ro||(ro={}));var ud;(function(t){t[t.ClampToEdge=33071]="ClampToEdge",t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.Repeat=10497]="Repeat"})(ud||(ud={}));/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cke=(()=>{const t=[ro.Nearest,ro.Linear,ro.NearestMipmapNearest,ro.LinearMipmapLinear,ro.NearestMipmapLinear,ro.LinearMipmapLinear];return e=>t.indexOf(e)>-1})(),Mke=(()=>{const t=[ro.Nearest,ro.Linear];return e=>t.indexOf(e)>-1})(),Ake=(()=>{const t=[ud.ClampToEdge,ud.MirroredRepeat,ud.Repeat];return e=>t.indexOf(e)>-1})(),Pke=(t,e)=>{switch(t){case"minFilter":return Cke(e);case"magFilter":return Mke(e);case"wrapS":case"wrapT":return Ake(e);default:throw new Error(`Cannot configure property "${t}" on Sampler`)}},zG=Symbol("threeTextures"),B0=Symbol("setProperty"),Yh=Symbol("sourceSampler");class Rke extends j0{get[zG](){return console.assert(this[Cr]!=null&&this[Cr].size>0,"Sampler correlated object is undefined"),this[Cr]}get[Yh](){return console.assert(this[xn]!=null,"Sampler source is undefined"),this[xn]}constructor(e,n,i){i=i!=null?i:{},i.minFilter==null&&(i.minFilter=n?n.minFilter:ro.LinearMipmapLinear),i.magFilter==null&&(i.magFilter=n?n.magFilter:ro.Linear),i.wrapS==null&&(i.wrapS=n?n.wrapS:ud.Repeat),i.wrapT==null&&(i.wrapT=n?n.wrapT:ud.Repeat);super(e,i,new Set(n?[n]:[]))}get name(){return this[xn].name||""}get minFilter(){return this[Yh].minFilter}get magFilter(){return this[Yh].magFilter}get wrapS(){return this[Yh].wrapS}get wrapT(){return this[Yh].wrapT}setMinFilter(e){this[B0]("minFilter",e)}setMagFilter(e){this[B0]("magFilter",e)}setWrapS(e){this[B0]("wrapS",e)}setWrapT(e){this[B0]("wrapT",e)}[B0](e,n){const i=this[Yh];if(i!=null){if(Pke(e,n)){i[e]=n;for(const o of this[zG])o[e]=n,o.needsUpdate=!0}this[Io]()}}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG=Symbol("image"),$G=Symbol("sampler");class WG extends j0{constructor(e,n,i=null,o=null,s=null){super(e,i||{},new Set(n?[n]:[]));this[$G]=new Rke(e,n,o),this[GG]=new Tke(e,n,s)}get name(){return this[xn].name||""}get sampler(){return this[$G]}get source(){return this[GG]}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qG;const kE=Symbol("texture"),VA=Symbol("materials"),YG=Symbol("usage");var io;(function(t){t[t.Base=0]="Base",t[t.MetallicRoughness=1]="MetallicRoughness",t[t.Normal=2]="Normal",t[t.Occlusion=3]="Occlusion",t[t.Emissive=4]="Emissive"})(io||(io={}));class V0{constructor(e,n,i,o,s,a){if(this[qG]=null,a){const l=s.textures?s.textures[a.index]:null,c=l&&s.samplers?s.samplers[l.sampler]:null,u=l&&s.images?s.images[l.source]:null;this[kE]=new WG(e,i,l,c,u)}this.onUpdate=e,this[VA]=o,this[YG]=n}get texture(){return this[kE]}setTexture(e){const n=e!=null?e.source[NE]:null;let i=Ji;if(this[kE]=e,this[VA])for(const o of this[VA]){switch(this[YG]){case io.Base:o.map=n;break;case io.MetallicRoughness:i=Or,o.metalnessMap=n,o.roughnessMap=n;break;case io.Normal:i=Or,o.normalMap=n;break;case io.Occlusion:i=Or,o.aoMap=n;break;case io.Emissive:o.emissiveMap=n;break}o.needsUpdate=!0}n&&(n.encoding=i),this.onUpdate()}}qG=kE;/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=Symbol("threeMaterials"),KG=Symbol("baseColorTexture"),XG=Symbol("metallicRoughnessTexture");class Lke extends j0{constructor(e,n,i,o){super(e,i,o);i.baseColorFactor==null&&(i.baseColorFactor=[1,1,1,1]),i.roughnessFactor==null&&(i.roughnessFactor=1),i.metallicFactor==null&&(i.metallicFactor=1);const{baseColorTexture:s,metallicRoughnessTexture:a}=i,{map:l,metalnessMap:c}=o.values().next().value;this[KG]=new V0(e,io.Base,l,o,n,s||null),this[XG]=new V0(e,io.MetallicRoughness,c,o,n,a||null)}get[DE](){return this[Cr]}get baseColorFactor(){return this[xn].baseColorFactor}get metallicFactor(){return this[xn].metallicFactor}get roughnessFactor(){return this[xn].roughnessFactor}get baseColorTexture(){return this[KG]}get metallicRoughnessTexture(){return this[XG]}setBaseColorFactor(e){for(const i of this[DE])i.color.fromArray(e),i.opacity=e[3];const n=this[xn];n.baseColorFactor=e,this[Io]()}setMetallicFactor(e){for(const i of this[DE])i.metalness=e;const n=this[xn];n.metallicFactor=e,this[Io]()}setRoughnessFactor(e){for(const i of this[DE])i.roughness=e;const n=this[xn];n.roughnessFactor=e,this[Io]()}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JG;const ZG=Symbol("pbrMetallicRoughness"),QG=Symbol("normalTexture"),e$=Symbol("occlusionTexture"),t$=Symbol("emissiveTexture"),Ike=Symbol("backingThreeMaterial"),HA=Symbol("applyAlphaCutoff"),dd=Symbol("lazyLoadGLTFInfo"),zA=Symbol("initialize"),GA=Symbol("getLoadedMaterial"),Qi=Symbol("ensureMaterialIsLoaded"),n$=Symbol("gltfIndex"),H0=Symbol("setActive"),FE=Symbol("variantIndices"),$A=Symbol("isActive"),UE=Symbol("variantSet"),r$=Symbol("modelVariants");class WA extends j0{constructor(e,n,i,o,s,a,l,c=void 0){super(e,i,l);this[JG]=new Set,this[n$]=o,this[$A]=s,this[r$]=a,c==null?this[zA](n):this[dd]=c}get[(JG=UE,Ike)](){return this[Cr].values().next().value}[zA](e){const n=this[Io],i=this[xn],o=this[Cr];i.extensions&&i.extensions.KHR_materials_pbrSpecularGlossiness&&console.warn(`Material ${i.name} uses a deprecated extension
          "KHR_materials_pbrSpecularGlossiness", please use
          "pbrMetallicRoughness" instead. Specular Glossiness materials are
          currently supported for rendering, but not for our scene-graph API,
          nor for auto-generation of USDZ for Quick Look.`),i.pbrMetallicRoughness==null&&(i.pbrMetallicRoughness={}),this[ZG]=new Lke(n,e,i.pbrMetallicRoughness,o),i.emissiveFactor==null&&(i.emissiveFactor=[0,0,0]),i.doubleSided==null&&(i.doubleSided=!1),i.alphaMode==null&&(i.alphaMode="OPAQUE"),i.alphaCutoff==null&&(i.alphaCutoff=.5);const{normalTexture:s,occlusionTexture:a,emissiveTexture:l}=i,{normalMap:c,aoMap:u,emissiveMap:d}=o.values().next().value;this[QG]=new V0(n,io.Normal,c,o,e,s||null),this[e$]=new V0(n,io.Occlusion,u,o,e,a||null),this[t$]=new V0(n,io.Emissive,d,o,e,l||null)}async[GA](){if(this[dd]!=null){const{set:e,material:n}=await this[dd].doLazyLoad();return this[Cr]=e,this[zA](this[dd].gltf),this[dd]=void 0,this.ensureLoaded=async()=>{},n}return this[Cr].values().next().value}[Qi](){if(this[dd]!=null)throw new Error(`Material "${this.name}" has not been loaded, call 'await
    myMaterial.ensureLoaded()' before using an unloaded material.`)}async ensureLoaded(){await this[GA]()}get isLoaded(){return this[dd]==null}get isActive(){return this[$A]}[H0](e){this[$A]=e}get name(){return this[xn].name}set name(e){const n=this[xn];if(n!=null&&(n.name=e),this[Cr]!=null)for(const i of this[Cr])i.name=e}get pbrMetallicRoughness(){return this[Qi](),this[ZG]}get normalTexture(){return this[Qi](),this[QG]}get occlusionTexture(){return this[Qi](),this[e$]}get emissiveTexture(){return this[Qi](),this[t$]}get emissiveFactor(){return this[Qi](),this[xn].emissiveFactor}get index(){return this[n$]}[FE](){return this[UE]}hasVariant(e){const n=this[r$].get(e);return n!=null&&this[UE].has(n.index)}setEmissiveFactor(e){this[Qi]();for(const n of this[Cr])n.emissive.fromArray(e);this[xn].emissiveFactor=e,this[Io]()}[HA](){this[Qi]();const e=this[xn];for(const n of this[Cr])this[xn].alphaMode==="MASK"?n.alphaTest=e.alphaCutoff:n.alphaTest=void 0,n.needsUpdate=!0}setAlphaCutoff(e){this[Qi](),this[xn].alphaCutoff=e,this[HA](),this[Io]()}getAlphaCutoff(){return this[Qi](),this[xn].alphaCutoff}setDoubleSided(e){this[Qi]();for(const n of this[Cr])n.side=e?el:Qa,n.needsUpdate=!0;this[xn].doubleSided=e,this[Io]()}getDoubleSided(){return this[Qi](),this[xn].doubleSided}setAlphaMode(e){this[Qi]();const n=(i,o)=>{i.transparent=o,i.depthWrite=!o};this[xn].alphaMode=e;for(const i of this[Cr])n(i,e!=="OPAQUE"),this[HA](),i.needsUpdate=!0;this[Io]()}getAlphaMode(){return this[Qi](),this[xn].alphaMode}}var i$,s$,o$;const Wc=Symbol("materials"),Cl=Symbol("variantToMaterialMap"),Ml=Symbol("modelVariants"),a$=Symbol("mesh"),l$=Symbol("children"),c$=Symbol("initialMaterialIdx"),qA=Symbol("activeMaterialIdx");class u${constructor(e){this.name="",this[i$]=new Array,this.name=e}}i$=l$;class d$ extends u${constructor(e,n,i,o){super(e.name);this[s$]=new Map,this[o$]=new Map,this[a$]=e;const{gltf:s,threeGLTF:a,threeObjectMap:l}=o;this[Ml]=i,this.mesh.userData.variantData=i;const c=l.get(e.material);c.materials!=null?this[c$]=this[qA]=c.materials:console.error(`Primitive (${e.name}) missing initial material reference.`);const u=e.userData.associations||{};if(u.meshes==null){console.error("Mesh is missing primitive index association");return}const h=((s.meshes||[])[u.meshes].primitives||[])[u.primitives];if(h==null){console.error("Mesh primitive definition is missing.");return}if(h.material!=null)this[Wc].set(h.material,n[h.material]);else{const v=n.findIndex(m=>m.name==="Default");v>=0?this[Wc].set(v,n[v]):console.warn("gltfPrimitive has no material!")}if(h.extensions&&h.extensions.KHR_materials_variants){const v=h.extensions.KHR_materials_variants,_=a.parser.json.extensions.KHR_materials_variants.variants;for(const S of v.mappings){const E=n[S.material];this[Wc].set(S.material,E);for(const w of S.variants){const{name:T}=_[w];this[Cl].set(w,E),E[FE]().add(w),i.has(T)||i.set(T,{name:T,index:w})}}}}get mesh(){return this[a$]}async setActiveMaterial(e){const n=this[Wc].get(e);return n!=null&&(this.mesh.material=await n[GA](),this[qA]=e),this.mesh.material}getActiveMaterial(){return this[Wc].get(this[qA])}getMaterial(e){return this[Wc].get(e)}async enableVariant(e){if(e==null)return this.setActiveMaterial(this[c$]);if(this[Cl]!=null&&this[Ml].has(e)){const n=this[Ml].get(e);return this.enableVariantHelper(n.index)}return null}async enableVariantHelper(e){if(this[Cl]!=null&&e!=null){const n=this[Cl].get(e);if(n!=null)return this.setActiveMaterial(n.index)}return null}async instantiateVariants(){if(this[Cl]!=null)for(const e of this[Cl].keys()){if(this.mesh.userData.variantMaterials.get(e).material!=null)continue;const n=await this.enableVariantHelper(e);n!=null&&(this.mesh.userData.variantMaterials.get(e).material=n)}}get variantInfo(){return this[Cl]}addVariant(e,n){if(!this.ensureVariantIsUnused(n))return!1;this[Ml].has(n)||this[Ml].set(n,{name:n,index:this[Ml].size});const o=this[Ml].get(n).index;return e[FE]().add(o),this[Cl].set(o,e),this[Wc].set(e.index,e),this.updateVariantUserData(o,e),!0}deleteVariant(e){if(this.variantInfo.has(e)){this.variantInfo.delete(e);const n=this.mesh.userData.variantMaterials;n!=null&&n.delete(e)}}updateVariantUserData(e,n){n[FE]().add(e),this.mesh.userData.variantData=this[Ml],this.mesh.userData.variantMaterials=this.mesh.userData.variantMaterials||new Map,this.mesh.userData.variantMaterials.set(e,{material:n[Cr].values().next().value,gltfMaterialIndex:n.index})}ensureVariantIsUnused(e){const n=this[Ml].get(e);return n!=null&&this.variantInfo.has(n.index)?(console.warn(`Primitive cannot add variant '${e}' for this material, it already exists.`),!1):!0}}s$=Wc,o$=Cl;/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f$,h$,p$,m$,g$,v$;const fd=Symbol("materials"),YA=Symbol("hierarchy"),y$=Symbol("roots"),Al=Symbol("primitives"),KA=Symbol("correlatedSceneGraph"),_$=Symbol("prepareVariantsForExport"),b$=Symbol("switchVariant"),E$=Symbol("threeScene"),w$=Symbol("materialsFromPoint"),x$=Symbol("materialFromPoint"),bi=Symbol("variantData"),XA=Symbol("availableVariants"),JA=Symbol("modelOnUpdate"),S$=Symbol("cloneMaterial");class Oke{constructor(e,n,i,o){this.gltf=e,this.gltfElementMap=n,this.mapKey=i,this.doLazyLoad=o}}class Nke{constructor(e,n=()=>{}){this[f$]=new Array,this[h$]=new Array,this[p$]=new Array,this[m$]=new Array,this[g$]=()=>{},this[v$]=new Map,this[JA]=n,this[KA]=e;const{gltf:i,threeGLTF:o,gltfElementMap:s}=e;this[E$]=o.scene;for(const[c,u]of i.materials.entries()){const d=s.get(u);if(d!=null)this[fd].push(new WA(n,i,u,c,!0,this[bi],d));else{const h=(i.materials||[])[c],v=c,m=async()=>{const _=await o.parser.getDependency("material",v),S=new Set;return s.set(h,S),S.add(_),{set:S,material:_}};this[fd].push(new WA(n,i,h,c,!1,this[bi],d,new Oke(i,s,h,m)))}}const a=new Map,l=new Array;for(const c of o.scene.children)l.push(c);for(;l.length>0;){const c=l.pop();let u=null;c instanceof Ct?(u=new d$(c,this.materials,this[bi],e),this[Al].push(u)):u=new u$(c.name);const d=a.get(c);d!=null?d[l$].push(u):this[y$].push(u),this[YA].push(u);for(const f of c.children)l.push(f),a.set(c,u)}}get materials(){return this[fd]}[(f$=fd,h$=YA,p$=y$,m$=Al,g$=JA,v$=bi,XA)](){const e=Array.from(this[bi].values());return e.sort((n,i)=>n.index-i.index),e.map(n=>n.name)}getMaterialByName(e){const n=this[fd].filter(i=>i.name===e);return n.length>0?n[0]:null}[w$](e){return e.intersectObject(this[E$],!0).map(i=>{const o=this[YA].find(s=>s instanceof d$&&s.mesh===i.object);return o!=null?o.getActiveMaterial():null})}[x$](e){const n=this[w$](e);return n.length>0?n[0]:null}async[b$](e){for(const n of this[Al])await n.enableVariant(e);for(const n of this.materials)n[H0](!1);for(const n of this[Al])this.materials[n.getActiveMaterial().index][H0](!0)}async[_$](){const e=new Array;for(const n of this[Al])e.push(n.instantiateVariants());await Promise.all(e)}[S$](e,n){const i=this.materials[e];i.isLoaded||console.error(`Cloning an unloaded material,
           call 'material.ensureLoaded() before cloning the material.`);const o=i[Cr],s=JSON.parse(JSON.stringify(i[xn]));s.name=n,this[KA].gltf.materials.push(s);const l=new Set;for(const[u,d]of o.entries()){const f=d.clone();f.name=n+(o.size>1?"_inst"+u:""),l.add(f)}const c=new WA(this[JA],this[KA].gltf,s,this[fd].length,!1,this[bi],l);return this[fd].push(c),c}createMaterialInstanceForVariant(e,n,i,o=!0){let s=null;for(const a of this[Al]){const l=this[bi].get(i);l!=null&&a.variantInfo.has(l.index)||a.getMaterial(e)!=null&&(this.hasVariant(i)||this.createVariant(i),s==null&&(s=this[S$](e,n)),a.addVariant(s,i))}if(o&&s!=null){s[H0](!0),this.materials[e][H0](!1);for(const a of this[Al])a.enableVariant(i)}return s}createVariant(e){this[bi].has(e)?console.warn(`Variant '${e}'' already exists`):this[bi].set(e,{name:e,index:this[bi].size})}hasVariant(e){return this[bi].has(e)}setMaterialToVariant(e,n){if(this[XA]().find(i=>i===n)==null){console.warn(`Can't add material to '${n}', the variant does not exist.'`);return}if(e<0||e>=this.materials.length){console.error("setMaterialToVariant(): materialIndex is out of bounds.");return}for(const i of this[Al]){const o=i.getMaterial(e);o!=null&&i.addVariant(o,n)}}updateVariantName(e,n){const i=this[bi].get(e);i!=null&&(i.name=n,this[bi].set(n,i),this[bi].delete(e))}deleteVariant(e){const n=this[bi].get(e);if(n!=null){for(const i of this.materials)i.hasVariant(e)&&i[UE].delete(n.index);for(const i of this[Al])i.deleteVariant(n.index);this[bi].delete(e)}}}/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZA=function(t,e,n,i){for(var o=arguments.length,s=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a,l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};const z0=Symbol("currentGLTF"),Kh=Symbol("model"),QA=Symbol("getOnUpdateMethod"),T$=Symbol("textureLoader"),eP=Symbol("originalGltfJson"),kke=t=>{var e,n,i,o;class s extends t{constructor(){super(...arguments);this[e]=void 0,this[n]=null,this[i]=new Jb,this[o]=null,this.variantName=null,this.orientation="0 0 0",this.scale="1 1 1"}get model(){return this[Kh]}get availableVariants(){return this.model?this.model[XA]():[]}get originalGltfJson(){return this[eP]}[(e=Kh,n=z0,i=T$,o=eP,QA)](){return()=>{this[Oi]()}}async createTexture(l,c="image/png"){const u=this[z0],d=await new Promise(f=>this[T$].load(l,f));return!u||!d?null:(d.encoding=Ji,d.wrapS=rl,d.wrapT=rl,d.flipY=!1,c==="image/jpeg"&&(d.format=Js),new WG(this[QA](),d))}async updated(l){if(super.updated(l),l.has("variantName")){const c=this[z0],{variantName:u}=this;c!=null&&(await this[Kh][b$](u),this[Oi](),this.dispatchEvent(new CustomEvent("variant-applied")))}if(l.has("orientation")||l.has("scale")){const{modelContainer:c}=this[Je],u=td(this.orientation)[0].terms,d=pa(u[0]).number,f=pa(u[1]).number,h=pa(u[2]).number;c.quaternion.setFromEuler(new Mc(f,h,d,"YXZ"));const v=td(this.scale)[0].terms;c.scale.set(v[0].number,v[1].number,v[2].number),this[Je].updateBoundingBox(),this[Je].updateShadow(),this[_n].arRenderer.onUpdateScene(),this[Oi]()}}[_a](){super[_a]();const{currentGLTF:l}=this[Je];if(l!=null){const{correlatedSceneGraph:c}=l;c!=null&&l!==this[z0]&&(this[Kh]=new Nke(c,this[QA]()),this[eP]=JSON.parse(JSON.stringify(c.gltf))),"variants"in l.userData&&this.requestUpdate("variantName")}this[z0]=l,this.dispatchEvent(new CustomEvent("scene-graph-ready"))}async exportScene(l){const c=this[Je];return new Promise(async u=>{const d={binary:!0,onlyVisible:!0,maxTextureSize:1/0,forcePowerOfTwoTextures:!1,includeCustomExtensions:!1,embedImages:!0};Object.assign(d,l),d.animations=c.animations,d.truncateDrawRange=!0;const f=c.shadow;let h=!1;f!=null&&(h=f.visible,f.visible=!1),await this[Kh][_$](),new jA().register(m=>new Eke(m)).parse(c.modelContainer.children[0],m=>u(new Blob([d.binary?m:JSON.stringify(m)],{type:d.binary?"application/octet-stream":"application/json"})),d),f!=null&&(f.visible=h)})}materialFromPoint(l,c){const u=this[Je],d=u.getNDC(l,c);return u.raycaster.setFromCamera(d,u.getCamera()),this[Kh][x$](u.raycaster)}}return ZA([kt({type:String,attribute:"variant-name"})],s.prototype,"variantName",void 0),ZA([kt({type:String,attribute:"orientation"})],s.prototype,"orientation",void 0),ZA([kt({type:String,attribute:"scale"})],s.prototype,"scale",void 0),s};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tP=function(t,e,n,i){for(var o=arguments.length,s=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,a,l=t.length-1;l>=0;l--)(a=t[l])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};const Dke=Math.PI/32,Fke=3e3,Uke={basis:[c0(ei(Dke,"rad"))],keywords:{auto:[null]}},Xh=Symbol("autoRotateStartTime"),nP=Symbol("radiansPerSecond"),C$=Symbol("syncRotationRate"),rP=Symbol("onCameraChange"),jke=t=>{var e,n,i;class o extends t{constructor(){super(...arguments);this.autoRotate=!1,this.autoRotateDelay=Fke,this.rotationPerSecond="auto",this[e]=performance.now(),this[n]=0,this[i]=a=>{!this.autoRotate||a.detail.source==="user-interaction"&&(this[Xh]=performance.now())}}connectedCallback(){super.connectedCallback(),this.addEventListener("camera-change",this[rP]),this[Xh]=performance.now()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("camera-change",this[rP]),this[Xh]=performance.now()}updated(a){super.updated(a),a.has("autoRotate")&&(this[Xh]=performance.now())}[(e=Xh,n=nP,C$)](a){this[nP]=a[0]}[ya](a,l){if(super[ya](a,l),!this.autoRotate||!this[Fh]()||this[_n].isPresenting)return;const c=Math.min(l,a-this[Xh]-this.autoRotateDelay);c>0&&(this[Je].yaw=this.turntableRotation+this[nP]*c*.001)}get turntableRotation(){return this[Je].yaw}resetTurntableRotation(a=0){this[Je].yaw=a}}return i=rP,tP([kt({type:Boolean,attribute:"auto-rotate"})],o.prototype,"autoRotate",void 0),tP([kt({type:Number,attribute:"auto-rotate-delay"})],o.prototype,"autoRotateDelay",void 0),tP([$c({intrinsics:Uke,updateHandler:C$}),kt({type:String,attribute:"rotation-per-second"})],o.prototype,"rotationPerSecond",void 0),o},Bke=t=>{var e;const n=s=>{if(s.shadowRoot==null||s.hasAttribute("data-js-focus-visible"))return()=>{};if(self.applyFocusVisiblePolyfill)self.applyFocusVisiblePolyfill(s.shadowRoot);else{const a=()=>{self.applyFocusVisiblePolyfill(s.shadowRoot)};return self.addEventListener("focus-visible-polyfill-ready",a,{once:!0}),()=>{self.removeEventListener("focus-visible-polyfill-ready",a)}}return()=>{}},i=Symbol("endPolyfillCoordination");class o extends t{constructor(){super(...arguments);this[e]=null}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this[i]==null&&(this[i]=n(this))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this[i]!=null&&(this[i](),this[i]=null)}}return e=i,o};/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vke=GNe(kke(jke(oNe(Y8e(E8e(oke(zNe(Bke(rA)))))))));customElements.define("model-viewer",Vke);function Hke({url:t,fallback:e,detailedControls:n=null,style:i={width:"inherit"}}){return p.createElement("model-viewer",{style:i,poster:e,src:t,"shadow-intensity":"1","camera-controls":n,ar:n,"ar-modes":n?"webxr scene-viewer quick-look":null,"auto-rotate":n})}class M$ extends p.Component{constructor(e){super(e);this.state={error:""}}componentDidCatch(e){this.setState({error:`${e.name}: ${e.message}`})}render(){const{error:e}=this.state;return e?this.props.fallback?p.createElement(Qe,{sx:this.props.sx},p.createElement(Gv,{src:this.props.fallback,width:"200",height:"200",sx:{width:"25em",height:"25em",objectFit:"cover"}})):p.createElement(p.Fragment,null):p.createElement(Hke,he({},this.props))}}function A$(t,e){K.exports.useEffect(()=>{const n=i=>{i.key==="Tab"&&(document.activeElement===t.current&&i.shiftKey?(e.current.focus(),i.preventDefault()):document.activeElement===e.current&&!i.shiftKey&&(t.current.focus(),i.preventDefault()))};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t,e])}function iP({asset:t}){const e=Te(),{createNotification:n}=Bl(),i=j(e.projectIsMemberOrMoreForCurrentUser),o=K.exports.useRef(),[s,a]=K.exports.useState(!1),{date:l,name:c,imageHeight:u,size:d,type:f,url:h,imageWidth:v}=t,[m,_]=K.exports.useState(t.name),S=U4.format(d,{thousandsSeperator:",",decimalPlaces:0}),E=!!f.match(/image/),w=!!(c==null?void 0:c.match(/\.gl(b|tf)$/)),P=`${d<24e6?h:h.replace("glitch.global","glitch.me")}?${$f.stringify({v:$e(l).valueOf()})}`,R=()=>{oa(o.current.value),n(f4)},A=O=>{O.preventDefault(),a(!s)},L=O=>{_(O.target.value)},k=async O=>{O.preventDefault(),_(c),A(O)},U=async O=>{O.preventDefault(),m!==c&&await e.renameAsset(t,m),A(O)},N=O=>{O.preventDefault(),window.confirm("Are you sure you want to delete this asset?")&&e.deleteAsset(t)},I=K.exports.useRef(),F=K.exports.useRef();return A$(I,F),p.createElement(p.Fragment,null,p.createElement("section",{className:"pop-over-hero",style:{backgroundColor:"transparent",background:"repeating-conic-gradient(rgba(204,204,204,0.2) 0% 25%, rgba(153,153,153,0.2) 0% 50%) 50% / 22px 22px"}},E&&p.createElement("a",{href:P,target:"_blank",rel:"noopener noreferrer",ref:I},p.createElement(Gv,{src:P,sx:{height:"45vh",maxHeight:"30em",width:"auto",display:"block",margin:"0 auto"}})),w&&p.createElement(K.exports.Suspense,{fallback:null},p.createElement(M$,{style:{width:"auto",height:"45vh",maxHeight:"30em",objectFit:"cover"},url:P,detailedControls:!0}))),p.createElement("section",{className:"actions",style:{textAlign:"left",paddingLeft:0,paddingRight:0,paddingTop:"8px"}},p.createElement(un,{sx:{marginBottom:"24px",justifyContent:"space-between"}},p.createElement(Qe,null,p.createElement("h4",{style:{display:"inline",marginRight:"32px"}},c),p.createElement("span",{style:{fontFamily:'"HK Grotesk", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif',textTransform:"uppercase",fontSize:"11px",color:"#828282"}},f?p.createElement(p.Fragment,null,f,"\xA0/\xA0"):w&&p.createElement(p.Fragment,null,"MODEL/GLTF\xA0/\xA0"),E&&v>0&&u>0?p.createElement(p.Fragment,null,S," / ",v,"\xD7",u):S)),p.createElement(Qe,null,p.createElement("span",{style:{fontFamily:'"HK Grotesk", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif',textTransform:"uppercase",fontSize:"11px",color:"#828282"}},$e(l).fromNow()))),p.createElement("div",{className:"input-wrap"},s?p.createElement(Qe,{sx:{marginBottom:"24px"}},p.createElement("input",{className:"input",value:m,onChange:L,style:{padding:"10px",textAlign:"left",fontSize:"11px",marginRight:"16px",width:"33em",border:"1px solid #E0E0E0",backgroundColor:"transparent"}}),p.createElement(Dn,{variant:"chunky",onClick:k,sx:{marginRight:"8px"}},"cancel"),p.createElement(Dn,{variant:"chunky",onClick:U},"save")):p.createElement("input",{className:"input",readOnly:!0,value:P,ref:o,style:{padding:"10px",textAlign:"left",fontSize:"11px",color:"#828282",width:"55.5em",border:"1px solid #E0E0E0",backgroundColor:"transparent"}})),p.createElement(un,{sx:{marginTop:"24px",justifyContent:"space-between"}},p.createElement(Qe,null,p.createElement(as,{icon:"\u{1F995}",variant:"secondaryNoShadow",sx:{fontFamily:'"Fira Code", monospace',color:"text",backgroundColor:"transparent",marginRight:"32px",paddingX:2,border:"none"},onClick:R,ref:i?null:F},"Copy URL")," ",i&&p.createElement(p.Fragment,null,p.createElement(as,{icon:"\u{1F4DD}",variant:"secondaryNoShadow",sx:{fontFamily:'"Fira Code", monospace',color:"text",backgroundColor:"transparent",paddingX:2,border:"none"},onClick:A},"Rename")," ")),i&&p.createElement(Qe,null,p.createElement(as,{icon:"\u{1F4A3}",variant:"secondaryNoShadow",sx:{fontFamily:'"Fira Code", monospace',color:"text",backgroundColor:"transparent",paddingX:0,border:"none"},onClick:N,ref:F},"Delete")," "))))}function zke({asset:t}){const e=Te(),{type:n,url:i}=t,o=(t==null?void 0:t.name)||"undefined",s=new Date(t.date).getTime(),a=t.thumbnail?`${t.thumbnail}?${s}`:`${t.url}?${s}`,l=!!(o==null?void 0:o.match(/@2x/)),c=!!(n==null?void 0:n.match(/image/)),u=!!(o==null?void 0:o.match(/\.gl(b|tf)$/)),d=()=>{e.clearAssetOverlayAssetUUID()};return p.createElement(p.Fragment,null,p.createElement(Qe,null,c&&p.createElement(u2,null,p.createElement(d2,{asChild:!0},p.createElement(un,{sx:{cursor:"zoom-in",height:"100%",justifyContent:"flex-end",flexDirection:"column",alignItems:"center",padding:2,backgroundColor:"background",borderRadius:0}},p.createElement(Qe,{sx:{alignItems:"center",width:"200px",aspectRatio:"1 / 1",border:"1px solid",borderColor:"gray.1",background:"repeating-conic-gradient(rgba(204,204,204,0.25) 0% 25%, rgba(153,153,153,0.25) 0% 50%) 50% / 22px 22px"}},p.createElement(Gv,{src:a,width:"200px",height:"200",sx:{width:"200",height:"200px",objectFit:"cover"}})),l&&p.createElement("div",{className:"retina-badge"},"@2x"),p.createElement(Qe,{sx:{paddingTop:2,width:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"}},p.createElement(Er,{style:{fontSize:"12px",color:"#828282"}},o)))),p.createElement(f2,null,p.createElement(iP,{asset:t,onClickOut:d}))),u&&p.createElement(u2,null,p.createElement(d2,{asChild:!0},p.createElement(un,{sx:{cursor:"zoom-in",height:"100%",justifyContent:"flex-end",flexDirection:"column",alignItems:"center",padding:2,backgroundColor:"background",borderRadius:0}},p.createElement(Qe,{sx:{width:"200px",aspectRatio:"1 / 1",border:"1px solid",borderColor:"gray.1"}},p.createElement(K.exports.Suspense,{fallback:null},p.createElement(M$,{url:i,fallback:a}))),p.createElement(Qe,{sx:{paddingTop:2,width:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"}},p.createElement(Er,{style:{fontSize:"12px",color:"#828282"}},o)))),p.createElement(f2,null,p.createElement(iP,{asset:t,onClickOut:d}))),!(c||u)&&p.createElement(u2,null,p.createElement(d2,{asChild:!0},p.createElement(un,{sx:{cursor:"zoom-in",height:"100%",justifyContent:"flex-end",flexDirection:"column",alignItems:"center",padding:2,backgroundColor:"background",borderRadius:0}},p.createElement(Qe,{sx:{width:"200px",aspectRatio:"1 / 1",border:"1px solid",borderColor:"gray.1"}},p.createElement(Gv,{src:a,width:"200",height:"200",sx:{width:"200px",height:"200px",objectFit:"cover"}})),p.createElement(Qe,{sx:{paddingTop:2,width:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"}},p.createElement(Er,{style:{fontSize:"12px",color:"#828282"}},o)))),p.createElement(f2,null,p.createElement(iP,{asset:t,onClickOut:d})))))}function Gke(){const t=Te(),{createNotification:e}=Bl(),n=j(t.dragToUploadOverlayVisible),i=typeof n=="string"?n:null,o=j(t.projectIsReadOnlyForCurrentUser),s=K.exports.useRef(),a=K.exports.useRef(0),l=j(t.projectIsMemberOrMoreForCurrentUser);p.useEffect(()=>{s.current=q_()(t)},[t]);const c=d=>{const{items:f}=d.clipboardData;Array.from(f).forEach(h=>{if(h.kind==="file"){const v=h.getAsFile(),m=new File([v],`${cI()}.${v.name}`,{type:v.type,lastModified:v.lastModified});s.current.addFile(m)}})};if(K.exports.useEffect(()=>{const d=_=>{if(_.preventDefault(),a.current+=1,!(_.dataTransfer&&_.dataTransfer.types.includes("Files"))||t.userIsDraggingText())return;let E,w;for(let C=0;C<_.dataTransfer.items.length&&(o_(_.dataTransfer.items[C])?w=!0:E=!0,!(E&&w));C+=1);let T="your project";w&&!E&&(T="your project's files"),E&&!w&&(T="assets"),t.dragToUploadOverlayVisible(T)},f=()=>{a.current-=1,a.current<1&&t.dragToUploadOverlayVisible(!1)},h=_=>{if(_.stopPropagation(),_.preventDefault(),a.current=0,_.dataTransfer.files.length>=1)for(const S of Array.from(_.dataTransfer.files))s.current.addFile(S);else _.dataTransfer.types.includes("text/uri-list")&&e(tU);t.dragToUploadOverlayVisible(!1)},v=_=>{_.preventDefault(),t.notifyProjectVisitorCannotUploadAssets(!0),t.jiggleTakeActionToEditNotification(!0)},m=document.documentElement;return l?(m.addEventListener("paste",c),m.addEventListener("dragover",ng),m.addEventListener("dragenter",d),m.addEventListener("dragleave",f),m.addEventListener("drop",h)):(m.addEventListener("dragover",ng),m.addEventListener("dragenter",ng),m.addEventListener("drop",v)),()=>{m.removeEventListener("paste",c),m.removeEventListener("dragover",ng),m.removeEventListener("dragenter",d),m.removeEventListener("dragenter",ng),m.removeEventListener("dragleave",f),m.removeEventListener("drop",h),m.removeEventListener("drop",v)}},[t,l,e]),!n||o)return null;const u=`emoji ${i==="assets"?"truck":"paperclip"}`;return p.createElement("div",{className:"overlay-background"},p.createElement("div",{className:"overlay drag-to-upload"},p.createElement("p",null,"Drop to upload to ",i),p.createElement("div",{className:u})))}const $ke=[{id:"static",label:"Static"},{id:"generated_static",label:"Generated Static",hasBuildDirectory:!0},{id:"node",label:"Node.js"},{id:"custom",label:"Custom"}],Wke=Ye.div`
  padding: 2em;
`,qke=Ye.div`
  margin-bottom: 1em;
  display: flex;
  align-items: center;
`,Yke=Ye.label`
  padding: 0 1em;
`,Kke=Ye(m2)`
  width: 400px;
`;function Xke(){const t=Te(),{appType:e,buildDirectory:n}=j(t.appTypeConfig),i=s=>t.updateAppTypeConfig({appType:s,buildDirectory:n}),o=s=>t.updateAppTypeConfig({appType:e,buildDirectory:s});return p.createElement(Wke,null,$ke.map(s=>p.createElement(qke,{key:s.id},p.createElement("input",{type:"radio",id:`appTypeSetting_${s.id}`,checked:s.id===e,onChange:()=>i(s.id)}),p.createElement(Yke,{htmlFor:`appTypeSetting_${s.id}`},s.label),s.hasBuildDirectory&&p.createElement(Kke,{value:n,onChange:o,label:"Build directory, e.g. /build",disabled:s.id!==e}))))}var Jke=Py;function Zke(t){return typeof t=="function"?t:Jke}var Qke=Zke,e9e=a7,t9e=Qke,n9e=B5,r9e=9007199254740991,sP=4294967295,i9e=Math.min;function s9e(t,e){if(t=n9e(t),t<1||t>r9e)return[];var n=sP,i=i9e(t,sP);e=t9e(e),t-=sP;for(var o=e9e(i,e);++n<t;)e(n);return o}var o9e=s9e;const a9e=.4,l9e=1,c9e=3,u9e=60,jE=c9e*u9e,P$=500,qc=(t,e)=>Math.random()*(e-t)+t,d9e=(t,e)=>Math.round(Math.random())?t:e,BE=(t,e,n)=>t+(e-t)*n,R$=t=>Math.max(0,Math.min(t,1)),f9e=(t,e,n,i,o)=>{const s=Math.cos(i)*n,a=Math.sin(i)*n;o.setTransform(s,a,-a,s,t,e)},h9e=()=>{const t=qc(a9e,l9e),e=qc(0,1),n=qc(0,.8),i=qc(.5,1)+t,o=16,s=qc(jE*.6,jE);return{xPercent:e,yStartPercent:n,yDistancePercent:i,size:o,scaleStart:t,scaleEnd:0,rotateStart:qc(0,o*.2),rotateEnd:qc(o*.4,o*.8),rotateDirection:d9e(-1,1),hue:qc(0,360),animationDurationInFrames:s}},p9e=t=>o9e(t,h9e),m9e=(t,e)=>{const n=4e3,i=t*e;return Math.min(Math.round(i/n),P$)},g9e=t=>{const{width:e,height:n}=t.current.getBoundingClientRect();return t.current.width=e,t.current.height=n,[e,n]};function v9e({onAnimationComplete:t}){const e=K.exports.useRef(),n=K.exports.useRef(0),i=K.exports.useMemo(()=>p9e(P$),[]);return K.exports.useEffect(()=>{const o=e.current.getContext("2d"),[s,a]=g9e(e),l=m9e(s,a);let c;const u=()=>{o.clearRect(0,0,s,a);for(let d=0;d<l;d+=1){const{xPercent:f,yStartPercent:h,yDistancePercent:v,size:m,scaleStart:_,scaleEnd:S,rotateStart:E,rotateEnd:w,rotateDirection:T,hue:C,animationDurationInFrames:P}=i[d];o.save();const R=R$(n.current/P),A=R$(n.current/(jE*.05)),L=BE(0,1,A);o.fillStyle=`hsla(${C}, 100%, 50%, ${L})`;const k=f*s,U=h*a,N=a/4,I=U+v*N;f9e(k,BE(U,I,R),BE(_,S,R),BE(T*E,T*w,R),o);const F=1.5,O=m/2-F/2;o.fillRect(-O,0,m,F),o.fillRect(0,-O,F,m),o.restore()}n.current<jE?(n.current+=1,c=window.requestAnimationFrame(u)):t()};return u(),()=>window.cancelAnimationFrame(c)},[t,i]),p.createElement("div",{className:"full-screen-sparkle-effect"},p.createElement("canvas",{ref:e}))}function y9e(){const t=Te(),e=j(t.notifyPrettierParseError),n=j(t.fullScreenSparkleEffectVisible),i=K.exports.useMemo(()=>window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!1,[]),o=K.exports.useCallback(()=>t.fullScreenSparkleEffectVisible(!1),[t]);return!n||i||e?null:p.createElement(v9e,{onAnimationComplete:o})}function L$(t){return $F(t)}function I$({file:t}){const e=Te(),n=()=>{e.markdownPreviewVisible.toggle()},i=j(e.markdownPreviewVisible);return L$(t)?p.createElement(as,{icon:p.createElement(Jt,{emoji:i?"\u270F\uFE0F":"\u{1F441}",sx:{marginTop:"4px"}}),variant:"blank",onClick:n,sx:{textTransform:"uppercase",fontWeight:"500",fontSize:"11px",color:"gray.4",marginRight:"12px",backgroundColor:"background",borderRadius:"10px",paddingX:"15px","&:hover":{color:"text.0",outline:"1px solid",outlineColor:"gray.2"}}},i?"Edit Markdown":"Preview Markdown"):null}function oP(t){return t?t.path()===".env":!1}function _9e(t){return oP(t)}function O$({file:t}){const e=Te(),n=j(e.dotenvViewVisible),i=()=>{e.dotenvViewVisible.toggle()};return oP(t)?p.createElement(as,{icon:p.createElement(Jt,{emoji:n?"\u270F\uFE0F":"\u{1F441}\uFE0F",sx:{marginTop:"4px"}}),variant:"blank",onClick:i,sx:{textTransform:"uppercase",fontWeight:"500",fontSize:"11px",color:"gray.4",marginRight:"12px",backgroundColor:"background",borderRadius:"10px",paddingX:"15px","&:hover":{color:"text.0",outline:"1px solid",outlineColor:"gray.2"}}},n?"Plaintext":"Graphical"):null}function b9e(t,e){K.exports.useEffect(()=>{const n=i=>{t.current&&!t.current.contains(i.target)&&e()};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}},[t,e])}function E9e({projects:t,selectProject:e,onClickOut:n}){const i=K.exports.useRef();return b9e(i,n),t.length===0?p.createElement("dialog",{className:"pop-over",ref:i},p.createElement("section",{className:"pop-over-actions"},"You don't have any Firebase projects! Go to the"," ",p.createElement("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer"},"Firebase console")," ","to create one.")):p.createElement("dialog",{className:"pop-over",ref:i},p.createElement("section",{className:"info"},p.createElement("h1",null,"Your Firebase Projects"),p.createElement("p",null,"Select one of your Firebase projects to link. This will allow you to deploy from Glitch to your selected project.")),p.createElement("section",{className:"pop-over-actions results-list"},p.createElement("ul",{className:"results"},t.map(o=>p.createElement("li",{key:o.projectId,className:"result",onClick:()=>e(o)},p.createElement("div",{className:"result-name"},o.displayName),p.createElement("div",{className:"result-description"},o.name))))))}let aP=null,VE=[];function N$(t){const e=t.auth2.getAuthInstance();return e.isSignedIn.get()?e.currentUser.get().getAuthResponse().access_token:null}function w9e(t){return VE.push(t),()=>{VE=VE.filter(e=>e!==t)}}function x9e(){return new Promise((t,e)=>{gapi.load("client",{callback:()=>t(gapi),onerror:e,timeout:30*1e3,ontimeout:e})})}async function S9e(t){await t.client.init({clientId:Xoe,scope:"https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/firebase"})}function T9e(t){const e=t.auth2.getAuthInstance(),n=()=>{const i=N$(t);VE.forEach(o=>o(i))};e.isSignedIn.listen(n)}async function C9e(){const t=await x9e();return await S9e(t),T9e(t),t}function HE(){return aP===null&&(aP=C9e()),aP}function k$(t){return t&&t.toLowerCase()==="firebase.json"}function M9e(t){const e=t.fileByPath(".env");if(e){const n=e.content(),s=(typeof n=="string"?n.split(`
`):n).map(a=>{const[l,...c]=a.split("=");return[l,c.join("=")]}).find(([a])=>a==="FIREBASE_PROJECT_ID");if(s)return s[1]}return null}function A9e(t,e){return e?t.ensureSession(e):Promise.resolve(null)}function P9e({file:t}){const e=Te(),n=K.exports.useRef(!1),i=K.exports.useRef(!1),[o,s]=K.exports.useState(!1),a=j(K.exports.useCallback(()=>t.name(),[t])),l=j(K.exports.useCallback(()=>M9e(e),[e])),[c,u]=K.exports.useState(null),[d,f]=K.exports.useState(null),[h,v]=K.exports.useState(!1),[m,_]=K.exports.useState(!1),S=K.exports.useCallback(async function(){n.current=!0;const N=await HE();await A9e(e,e.fileByPath(".env")),i.current&&(u(N$(N)),s(!0));try{await e.packageUtils.addAndUpdatePackage({name:"firebase-tools",latest_release_number:"5.1.1"},!0)}catch(I){console.warn(I),e.notifyGenericError(!0)}},[e]),E=k$(a);K.exports.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),K.exports.useEffect(()=>{E&&!n.current&&S().catch(qi)},[S,E]),K.exports.useEffect(()=>w9e(u),[]),K.exports.useEffect(()=>{c&&!l&&HE().then(U=>{U.client.request({method:"GET",path:"https://firebase.googleapis.com/v1beta1/projects"}).then(N=>N.result.results||[]).then(N=>{i.current&&f(N)})})},[c,l]);const w=async()=>{v(!0),e.logsPanelVisible(!0);try{e.appendLog({stream:"stdout",text:"Deploying to Firebase..."});const U=await e.containerExec(`ps -A f | grep '[n]pm install' > /dev/null; while [ $? -ne 1 ]; do sleep 1; ps -A f | grep '[n]pm install' > /dev/null; done; FIREBASE_DEPLOY_AGENT=glitch node_modules/.bin/firebase deploy --token '${c}' --project '${l}'`);e.appendLog({stream:"stdout",text:U.stdout})}catch(U){if(U instanceof ms.HTTPError){const N=await U.response.json();e.appendLog({stream:"stderr",text:N.stderr})}e.appendLog({stream:"stderr",text:"Please try again. If problem persists please post on https://support.glitch.com"})}finally{v(!1)}},T=()=>{window.open(`https://console.firebase.google.com/project/${l}/hosting/main`)},C=()=>{window.open(`https://${l}.firebaseapp.com/?t=${Date.now()}`)},P=()=>{_(!0)},R=async U=>{try{const N=e.fileByPath(".env")||await e.newFile(".env","",!1),I=N.content(),O=[...typeof I=="string"?I.split(`
`):I,`FIREBASE_PROJECT_ID=${U.projectId}`];e.writeToFile(N,O.join(`
`))}catch(N){console.warn(N),e.notifyGenericError(!0)}},A=()=>{f(null),_(!1)},L=()=>{HE().then(U=>{U.auth2.getAuthInstance().signOut()})},k=()=>{HE().then(U=>{U.auth2.getAuthInstance().signIn()})};return E?o?p.createElement(p.Fragment,null,c&&l&&p.createElement("button",{id:"deploy-to-firebase",className:"button",onClick:w},"Deploy to Firebase",h&&p.createElement("div",{className:"status-badge icon"},p.createElement("div",{className:"status loading"},p.createElement(mn,null)))),l&&p.createElement(p.Fragment,null,p.createElement("button",{className:"button",onClick:T},"Firebase Console"),p.createElement("button",{className:"button",onClick:C},"View Firebase App")),c&&!l&&p.createElement(p.Fragment,null,p.createElement("button",{className:"button",onClick:P},"Select Firebase Project",m&&!d&&p.createElement("div",{className:"status-badge icon"},p.createElement("div",{className:"status loading"},p.createElement(mn,null)))),m&&d&&p.createElement(E9e,{projects:d,selectProject:R,onClickOut:A})),c?p.createElement("button",{className:"button",onClick:L},"Sign Out From Firebase"):p.createElement("button",{className:"button",onClick:k},"Sign In To Firebase")):p.createElement(mn,null):null}var D$={};Object.defineProperty(D$,"__esModule",{value:!0});var Yc=K.exports;function R9e(t,e,n){n===void 0&&(n={});var i=n.maxWait,o=Yc.useRef(null),s=Yc.useRef([]),a=n.leading,l=Yc.useRef(!1),c=Yc.useRef(null),u=Yc.useRef(!1),d=t,f=Yc.useCallback(function(){clearTimeout(c.current),clearTimeout(o.current),o.current=null,s.current=[],c.current=null,l.current=!1},[]);Yc.useEffect(function(){return function(){u.current=!0}},[]);var h=Yc.useCallback(function(){for(var m=[],_=0;_<arguments.length;_++)m[_]=arguments[_];if(s.current=m,clearTimeout(c.current),!c.current&&a&&!l.current){d.apply(void 0,m),l.current=!0;return}c.current=setTimeout(function(){f(),u.current||d.apply(void 0,m)},e),i&&!o.current&&(o.current=setTimeout(function(){var S=s.current;f(),u.current||d.apply(null,S)},i))},[d,i,e,f,a]),v=function(){!c.current||(d.apply(null,s.current),f())};return[h,f,v]}var L9e=D$.default=R9e;function F$({result:t}){const e=Te(),{createNotification:n}=Bl();function i(s){s.stopPropagation()}async function o(){e.closeAllPopOvers();try{const s=await e.packageUtils.addAndUpdatePackage(t);n(s?eU:QF)}catch(s){console.warn(s),e.notifyGenericError(!0)}}return p.createElement("span",{className:"data"},p.createElement("li",{className:"result",role:"button",tabIndex:"0",onClick:o,onKeyPress:ur(o)},p.createElement("div",{className:`result-tip ${t.outdated?"result-tip-outdated":""}`},t.outdated?`${t.current_version} \u2192 ${t.latest_stable_release_number}`:t.latest_stable_release_number),p.createElement("div",{className:"result-name"},t.name),p.createElement("div",{className:"result-description"},t.description),p.createElement("a",{href:`https://www.npmjs.com/package/${t.name}`,target:"_blank",rel:"noopener noreferrer",className:"button",onClick:i},"Docs ",p.createElement("span",{"aria-label":""},"\u2192"))))}function lP({href:t,children:e}){return p.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},p.createElement("li",{className:"result see-all"},p.createElement("img",{className:"npm icon",src:"images/logos/npm.svg",alt:""}),p.createElement("div",{className:"result-name"},e)))}function I9e(){const t=Te(),e=j(t.packagesOutdated);return p.createElement(p.Fragment,null,e.map(n=>p.createElement(F$,{key:n.name,result:n})),p.createElement(lP,{href:"https://docs.npmjs.com/getting-started/what-is-npm"},"What is npm \u2192"))}function O9e(){return p.createElement(p.Fragment,null,p.createElement("p",{className:"no-results"},"no results \u30FE(_ _*)"),p.createElement(lP,{href:"https://docs.npmjs.com/getting-started/what-is-npm"},"What is npm \u2192"))}function N9e({results:t,query:e}){return p.createElement(p.Fragment,null,t.map(n=>p.createElement(F$,{key:n.name,result:n})),p.createElement(lP,{href:`https://www.npmjs.com/search?q=${e}`},"See all results on npm \u2192"))}function k9e(){const t=Te(),e=j(t.addPackagePopVisible),[n,i]=K.exports.useState(""),[o,s]=K.exports.useState(null),[a,l]=K.exports.useState(!1),c=K.exports.useRef(null),[u]=L9e(async f=>{if(l(!0),!f)s(null);else{const h=await t.packageUtils.searchForPackages(f);s(h)}l(!1)},250);function d(f){i(f.target.value),u(f.target.value)}return K.exports.useEffect(()=>{e&&c.current.focus()},[e]),e?p.createElement("dialog",{className:"pop-over add-package-pop wide-pop"},p.createElement("section",{className:"info"},p.createElement("div",{className:"input-wrap"},p.createElement("input",{id:"package-search",className:"input search-input",placeholder:"search npm for packages",value:n,onChange:d,ref:c}))),p.createElement("section",{className:"actions results-list"},p.createElement("ul",{className:"results"},a&&p.createElement(mn,null),o&&o.length>0&&p.createElement(N9e,{results:o,query:n}),o&&o.length<1&&p.createElement(O9e,null),o===null&&p.createElement(I9e,null)))):null}function U$(t,e){return t.path()==="package.json"&&!e}function j$({file:t}){const e=Te(),{checkForPackageUpdates:n,isValidPackagesFileContent:i}=e.packageUtils,o=j(t.content),s=j(e.projectIsReadOnlyForCurrentUser),a=j(e.editorIsPreviewingRewind),l=j(e.packagesOutdated),[c,u]=K.exports.useState(0),d=K.exports.useMemo(()=>i(o),[i,o]),f=U$(t,s),h=K.exports.useRef(!1);K.exports.useEffect(()=>()=>{h.current=!0},[]),K.exports.useEffect(()=>{f&&d&&(u(m=>m+1),async function(){try{await n(t)}catch(_){console.group("Failed to check for package updates"),console.error(_),console.groupEnd()}finally{h.current===!1&&u(_=>_-1)}}())},[n,f,t,o,d]);const v=()=>{e.addPackagePopVisible.toggle()};return f?p.createElement(p.Fragment,null,p.createElement(as,{icon:p.createElement(Jt,{emoji:"\u2795",sx:{marginTop:"3px"}}),variant:"blank",onClick:v,sx:{textTransform:"uppercase",fontWeight:"500",fontSize:"11px",color:"gray.4",marginRight:"12px",backgroundColor:"background",borderRadius:"10px",paddingX:"15px","&:hover":{color:"text.0",backgroundColor:"background",outline:"1px solid",outlineColor:"gray.2"}},"data-testid":"add-package-button",className:dt("button opens-pop-over",{disabled:a||!d})},"Add Package",p.createElement("div",{className:"status-badge icon"},c>0&&p.createElement("div",{className:"status loading"},p.createElement(mn,null)),c===0&&l.length>0&&p.createElement("div",{className:"status warning"},l.length)),p.createElement(CF,{style:{width:"14px",height:"11px",position:"relative",top:"2px"}})),p.createElement(k9e,null)):null}function D9e(){return p.createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20",className:"icon"},p.createElement("path",{className:"prettier-sparkles-emoji-large-star",d:"M7,9 C8.99453645,8.56284029 10.3278698,7.89617363 11,7 C11.6721302,6.10382637 12.3387969,4.10382637 13,1 C13.5672451,3.978549 14.2339117,5.978549 15,7 C15.7660883,8.021451 17.0994216,8.68811767 19,9 C17.059282,9.91107706 15.7259486,10.9110771 15,12 C14.2740514,13.0889229 13.6073847,15.0889229 13,18 C12.4125678,15.1188518 11.7459012,13.1188518 11,12 C10.2540988,10.8811482 8.92076549,9.88114823 7,9 Z"}),p.createElement("polygon",{className:"prettier-sparkles-emoji-medium-star",points:"5 2 5 5 7 5 7 6 5 6 5 9 4 9 4 6 2 6 2 5 4 5 4 2"}),p.createElement("polygon",{className:"prettier-sparkles-emoji-small-star",points:"7 13 7 15 9 15 9 16 7 16 7 18 6 18 6 16 4 16 4 15 6 15 6 13"}))}function cP(t,e){return t.projectIsReadOnlyForCurrentUser()||t.editorIsPreviewingRewind()||t.editorIsRewindingProject()?!1:e.extension()==="md"&&!t.markdownPreviewVisible()?!0:["css","js","jsx","json","html","yml","tsx","ts","handlebars","hbs"].includes(e.extension())}function F9e({file:t}){const e=Te(),n=j(e.formattingCodeInProgress),i=j(e.editorRangeSelections);if(!j(K.exports.useCallback(()=>cP(e,t),[e,t])))return null;const s=e.isAppleDevice?"\u2318-\u2325\u2013S":"Ctrl\u2013Alt\u2013S";return p.createElement("button",{onClick:async()=>{await e.formatCode({actionTrigger:"button",withAnimation:!0})},disabled:i.length>1||n,"data-tooltip":`Keyboard shortcut: ${s}`,"data-tooltip-left":"true",className:"button prettier-button","data-testid":"prettier-button"},p.createElement("span",null,i.length>0?"Format This Selection":"Format This File"),n?p.createElement(mn,null):p.createElement(D9e,null))}var uP=[{id:"mit",name:"MIT License",description:"Simple and permissive",spdxId:"MIT",permissions:["Use commercially","Modify","Distribute","Use privately"],conditions:["Must include this license and copyright"],limitations:["No liability","No warrantee"]},{id:"apache-2.0",name:"Apache License",description:"Grants patent rights and secures trademark",spdxId:"Apache-2.0",permissions:["Use commercially","Modify","Distribute","Use privately","Patent use"],conditions:["Must include this license and copyright","Must Document changes to code"],limitations:["No liability","No warrantee","No trademark rights"]},{id:"gpl-3.0",name:"GNU General Public License",description:"Remixed projects must be public too",spdxId:"GPL-3.0",permissions:["Use commercially","Modify","Distribute","Use privately","Patent use"],conditions:["Remixes must be public","Must include this license and copyright","Must use this license","Must document changes"],limitations:["No liability","No warrantee"]}];function U9e(t,e,n){const i=vge().year().toString(),o=e?e.name():"[NAME]",s=n?n.name():void 0,a=n?n.description():void 0;let l="[EMAIL]";return e&&e.primaryEmail()&&(l=e.primaryEmail().email),t.replace(/(\[YEAR\])+/g,i).replace(/(\[year\])+/g,i).replace(/(\[yyyy\])+/g,i).replace(/(<year>)+/g,i).replace(/(\[NAME\])+/g,o).replace(/(\[name of copyright owner\])+/g,o).replace(/(<name of author>)+/g,o).replace(/(\[fullname\])+/g,o).replace(/(\[GOVERNING_BODY\])+/g,l).replace(/(\[EMAIL\])+/g,l).replace(/(\[COMMUNITY_NAME\])+/g,s).replace(/(<program>)+/g,s).replace(/(<one line to give the program's name and a brief idea of what it does.>)+/g,a)}function j9e({license:t}){const e=Te(),n=j(e.currentLicense),i=j(e.currentUser),o=j(e.currentProject),[s,a]=K.exports.useState(!1);async function l(u){a(!0),e.packageUtils.updatePackageLicense(t.spdxId);try{const{body:d}=await e.getLicenseOrCodeOfConductBody("license",t),f=U9e(d,i,o);e.selectedFile().content(f)}catch(d){console.error(d)}finally{a(!1),e.closeAllPopOvers()}}const c=n&&n.name===t.name;return p.createElement("li",{className:`result ${c?"active":""}`,onClick:l},uP[0].name===t.name&&p.createElement("div",{className:"result-tip"},"recommended"),p.createElement("div",{className:"result-name"},t.name),s&&p.createElement("div",{className:"result-loader"},p.createElement(mn,null)),p.createElement("div",{className:"result-description"},t.description))}function B9e(){const t=Te();return j(t.changeLicensePopVisible)?p.createElement("dialog",{className:"pop-over change-license-pop wide-pop"},p.createElement("section",{className:"info"},p.createElement("h1",null,"Change License ",p.createElement(tt,{icon:"scales"}))),p.createElement("section",{className:"actions results-list"},p.createElement("ul",{className:"results"},uP.map(n=>p.createElement(j9e,{key:n.name,license:n})))),p.createElement("section",{className:"info"},p.createElement("p",null,p.createElement("a",{href:"https://choosealicense.com/licenses/",target:"_blank",rel:"noopener noreferrer"},"More licenses")))):null}const V9e=new Set(["license.md","license.txt"]);function B$(t,e){return t&&V9e.has(t.toLowerCase())&&!e}function H9e({file:t}){const e=Te(),n=j(K.exports.useCallback(()=>t.name(),[t])),i=j(e.projectIsReadOnlyForCurrentUser),o=j(e.editorIsPreviewingRewind),s=()=>{e.changeLicensePopVisible(!0)};return B$(n,i)?p.createElement(p.Fragment,null,p.createElement("button",{className:dt("button opens-pop-over",{disabled:o}),onClick:s},p.createElement("span",null,"Change License"),p.createElement("span",{className:"icon down-arrow"})),p.createElement(B9e,null)):null}const z9e=t=>({textTransform:"uppercase",fontWeight:"500",fontSize:"11px",color:t==="dark"?"text":"gray.6",marginRight:"12px",backgroundColor:t==="dark"?"blueDark.5":"gray.2",borderRadius:"10px",paddingX:"15px","&:hover":{color:"text.0",outline:"1px solid",outlineColor:"gray.4"}});function G9e(){const t=Te(),e=j(t.selectedFile),n=j(t.formattingCodeInProgress),i=j(K.exports.useCallback(()=>cP(t,e),[t,e])),[o]=fo();return i?p.createElement(as,{icon:p.createElement(Jt,{emoji:"\u2728",sx:{marginTop:"4px"}}),variant:"blank",onClick:async()=>{await t.formatCode({actionTrigger:"button",withAnimation:!0})},sx:z9e(o)},n?"Formatting":"Prettier"):null}function $9e(){const t=Te(),[e]=fo(),{path:n}=j(t.currentFileInfo),i=j(t.selectedFile),o=n==null?void 0:n.split("/").pop();return p.createElement(un,{sx:{backgroundColor:"backgroundSecondary",alignContent:"center",alignItems:"center",gap:2,height:"48px",minHeight:"48px"}},p.createElement(Qe,{sx:{backgroundColor:"background",paddingY:"16px",paddingX:"16px",fontSize:"13px",fontWeight:"bold",minHeight:"48px",color:e==="light"?"text.0":"text.1"}},o),p.createElement(un,{sx:{gap:2,alignItems:"flex-start",paddingLeft:"12px",fontFamily:"body",lineHeight:"20px"}},p.createElement(G9e,null),p.createElement(j$,{file:i}),p.createElement(I$,{file:i}),p.createElement(O$,{file:i})))}function W9e(){const t=Te(),e=j(t.selectedFile),n=j(K.exports.useCallback(()=>e?e.name():null,[e])),i=j(t.projectIsReadOnlyForCurrentUser),o=t.isFeatureEnabled("ui_editor_refresh");return!e||!(()=>L$(e)||_9e(e)||B$(n,i)||U$(e,i)||cP(t,e)||k$(n))()?null:p.createElement(p.Fragment,null,o&&p.createElement($9e,null),!o&&p.createElement("div",{className:"editor-helper"},p.createElement("div",{className:"editor-helper-contents"},p.createElement(I$,{file:e}),p.createElement(O$,{file:e}),p.createElement(P9e,{file:e}),p.createElement(j$,{file:e}),p.createElement(H9e,{file:e}),p.createElement(F9e,{file:e}))))}function q9e(t,e,n){K.exports.useEffect(()=>{const i=o=>{if(!t(o))return;const{data:s}=o;s.type===e&&n(s)};return window.addEventListener("message",i),()=>{window.removeEventListener("message",i)}},[t,e,n])}const Y9e=150;function K9e(t,e,n=window.innerWidth/3){const i=Te(),o=j(i.editorIsEmbedded),s=j(i.embedAppPreviewSize),[a,l]=K.exports.useState(n),[c,u]=K.exports.useState(!1),d=()=>{o||u(!0)},f=()=>{l(window.innerWidth/3)};K.exports.useEffect(()=>{if(o||!c)return;let m;const _=E=>{window.cancelAnimationFrame(m);const{pageX:w}=E;m=window.requestAnimationFrame(()=>{window.getSelection().removeAllRanges();const T=e.current.getBoundingClientRect(),C=window.innerWidth-T.right,R=window.innerWidth-w-C;l(Math.max(R,Y9e))})},S=()=>{u(!1)};return window.addEventListener("mousemove",_),window.addEventListener("mouseup",S),()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",S)}},[e,o,c]),K.exports.useLayoutEffect(()=>{i.refreshEditor()},[i,a]),K.exports.useLayoutEffect(()=>()=>{window.requestAnimationFrame(()=>{i.refreshEditor()})},[i]);const h={ref:e,style:{width:o?`${s}%`:`${a}px`}};return{resizing:c,panelProps:h,resizerProps:{ref:t,onMouseDown:d,onDoubleClick:f}}}function X9e({onClickClose:t,onTransitionEnd:e,visible:n}){var N;const i=Te(),o=j(i.editorIsEmbedded),s=j(i.previewURL),a=j(i.projectName),l=j(i.projectPrivacy),c=j(i.publishedUrl),u=j(i.appPreviewUrlPath),d=j(i.refreshPreviewOnChanges),f=j((N=i.currentProject())==null?void 0:N.edgeBadgeMode),h=i.env(),v=p.useMemo(()=>[{name:"dev",value:"default",requirement:()=>!0},{name:"pub",value:"app",requirement:()=>f!=="none"},{name:"pub",value:"doapp",requirement:()=>!!(h==null?void 0:h.DIGITALOCEAN_APP_URL)}],[h,f]),m=p.useMemo(()=>v.filter(I=>I.requirement()),[v]),_=l==="private_project";let S=s;if(o&&!s){const F=new URL(window.location.hash.slice(2),window.location).pathname.split("/").pop();S=`${dk.replace("%s",F)}/`}const E=j(K.exports.useCallback(()=>i.currentProject()?`Preview of ${i.currentProject().name()}`:null,[i])),{resizing:w,panelProps:T,resizerProps:C}=K9e(K.exports.useRef(),K.exports.useRef()),[P,R]=K.exports.useState(!1);K.exports.useEffect(()=>{n&&a&&i.analytics.track("App Viewed")},[i,a,n]);const A=K.exports.useRef(!1);n&&(A.current=!0);const L=_?A.current:n,k=K.exports.useRef(),U=Bf();return q9e(I=>{var F;return I.source===((F=k.current)==null?void 0:F.contentWindow)},"REQUEST_AUTH_TOKEN",I=>{const F=k.current.contentWindow,{requestToken:O}=I;U.createAuthorizationToken(O).then(({authorizationToken:V})=>{F.postMessage({type:"AUTH_TOKEN",authorizationToken:V},"*")})}),p.createElement("div",he({id:"app-preview",className:dt("app-preview",{"is-embedded":o,"app-preview-collapsed":P&&!o,"is-resizing":w,"app-preview-transition":!w,hidden:!n}),onClick:()=>{R(!1)},onTransitionEnd:e},T),!o&&p.createElement(p.Fragment,null,p.createElement(un,{sx:{alignItems:"center",justifyContent:"space-between",gap:2,paddingX:2,height:"48px",backgroundColor:"backgroundSecondary",borderLeft:"1px solid",borderLeftColor:"gray.2"}},c&&p.createElement(un,{sx:{flexShrink:0,flexGrow:1,alignContent:"flex-start",justifyContent:"space-around",alignItems:"center",gap:2}},p.createElement(Qe,{sx:{flexGrow:1}},p.createElement(c2,{value:u,sx:{border:"1px solid",borderColor:"gray.2",borderRadius:"0",backgroundColor:"background"},onChange:I=>{const F=s5.normalize(I.target.value),O=F.charAt(0)!=="/"?`/${F}`:F;i.appPreviewUrlPath(O)}})),m.length>1&&p.createElement(Qe,{sx:{minWidth:"68px"}},p.createElement(eee,{sx:{border:"1px solid",borderColor:"gray.2",borderRadius:"0",backgroundColor:"background",height:"31px",textTransform:"uppercase",fontWeight:"500",fontSize:"11px",color:"gray.4"},onChange:I=>{i.appPreviewUrlTld(I.target.value)}},m.map(({name:I,value:F,requirement:O})=>O(i)?p.createElement("option",{key:I,value:F},I):null)))),p.createElement(aI,null,p.createElement(Dn,{variant:"blank",sx:{fontSize:3,paddingTop:"0.05em",border:"none",background:"transparent",cursor:"pointer",width:"1.25em",height:"1.25em",color:"editor.1","&:hover":{color:"editor.3"}},onClick:()=>i.updateAppPreview()},p.createElement(Nwe,null)),p.createElement(lI,{sx:{fontSize:"0.8em"}},"Refresh Page")),p.createElement(aI,null,p.createElement(Dn,{variant:"blank",sx:{fontSize:3,paddingTop:"0.05em",border:"none",background:"transparent",cursor:"pointer",width:"1.25em",height:"1.25em",color:"editor.1","&:hover":{color:"editor.3"}},onClick:async()=>{await i.refreshPreviewOnChanges.toggle()}},d?p.createElement(Lwe,null):p.createElement(Iwe,null)),p.createElement(lI,{sx:{fontSize:"0.8em"}},d&&p.createElement(p.Fragment,null,"Pause automatic refreshing on file change"),!d&&p.createElement(p.Fragment,null,"Start automatic refreshing on change"))),p.createElement(Qe,null,p.createElement(Rd,null,p.createElement(Ld,null,p.createElement(Pwe,null)),p.createElement(Od,null,p.createElement(Qe,null,p.createElement(Vn,{onSelect:()=>{i.analytics.track("Glitch Link Copied",{linkType:"live app"}),oa(`${c}${u}`)}},"Copy Link"),p.createElement(Vn,{onSelect:t},"Close Preview"),p.createElement(Vn,{onClick:()=>{window.open(`${c}${u}`)}},"Open in new window")))))),p.createElement("div",he({className:"resizer"},C)),w&&p.createElement("div",{className:"resize-helper"})),L&&p.createElement("div",{className:"iframe-wrapper"},p.createElement("iframe",{allow:"geolocation; microphone; camera; midi; encrypted-media; xr-spatial-tracking; fullscreen",allowFullScreen:!0,src:S,sandbox:"allow-scripts allow-modals allow-forms allow-same-origin allow-top-navigation-by-user-activation allow-downloads",title:E,"data-testid":"app-preview-iframe",ref:k})))}var J9e=[{id:"citizen_code_of_conduct",name:"Contributor Covenant"}];function Z9e(t,e,n){const i=Array.from(n).map(o=>o_(o)?t.uploadNewFile(o):e.addFile(o)).map(o=>o.then(()=>1,()=>0));return Promise.all(i).then(o=>o.reduce((s,a)=>s+a))}function V$(t,e){return j(K.exports.useCallback(()=>{const n=t.currentProject();return n?n.files().some(i=>e.includes(i.path().toLowerCase())):!1},[t,e]))}function H$(){const t=Te(),e=j(t.newFilePopVisible),n=V$(t,["license.md","license.txt"]),i=j(K.exports.useCallback(()=>t.currentUser()&&t.currentUser().isAnon(),[t])),o=V$(t,["code_of_conduct.md","code_of_conduct.txt"]),[s,a]=K.exports.useState(""),[l,c]=K.exports.useState(!1),[u,d]=K.exports.useState(!1),[f,h]=K.exports.useState(!1),v=K.exports.useRef();v.current||(v.current=q_());const m=async C=>{if(C.preventDefault(),s.trim())try{await t.newFile(s.trim()),a(""),t.closeAllPopOvers()}catch(P){console.warn(P),t.notifyGenericError(!0)}else c(!0)},_=C=>{const P=$e().year().toString(),R=t.currentUser().name()||"[NAME]",A=t.currentUser().primaryEmail().email||"[EMAIL]",L=t.currentProject().domain();return C.replace(/(\[year\])+/g,P).replace(/(\[fullname\])+/g,R).replace(/(\[GOVERNING_BODY\])+/g,A).replace(/(\[EMAIL\])+/g,A).replace(/(\[COMMUNITY_NAME\])+/g,L)},S=(C,P,R)=>t.getLicenseOrCodeOfConductBody(P,R).then(({body:A})=>A).then(_).then(async A=>{const L=t.markdownPreviewVisible();await t.newFile(C,A),t.markdownPreviewVisible(L)}),E=()=>{d(!0);const C=uP[0];S("LICENSE.md","license",C).finally(()=>{d(!1),t.closeAllPopOvers(),t.packageUtils.updatePackageLicense(C.spdxId)})},w=()=>{h(!0);const C=J9e[0];S("CODE_OF_CONDUCT.md","codeOfConduct",C).finally(()=>{h(!1),t.closeAllPopOvers()})},T=K.exports.useCallback(C=>{C!==null&&C.focus()},[]);return K.exports.useEffect(()=>{var C,P;if(!e)a("");else{const R=(P=t.otClient().ot().idToPath((C=t.selectedFolder())==null?void 0:C.id()))==null?void 0:P.substring(2);R&&(a(`${R}/`),t.selectedFolder(null))}},[t,e]),e?p.createElement("dialog",{className:"pop-over new-file-pop","data-testid":"new-file-pop"},p.createElement("section",{className:"actions"},p.createElement("form",{onSubmit:m},p.createElement("div",{className:"input-wrap"},p.createElement("input",{className:dt("input",{jiggle:l}),value:s,onChange:C=>a(C.target.value),onAnimationEnd:C=>{C.target.focus(),c(!1)},placeholder:"cool-file.js","aria-label":"File name",spellCheck:!1,"data-testid":"new-file-name-input",ref:T})),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button","data-testid":"add-new-file"},"Add This File",p.createElement(tt,{icon:"seedling"}))),p.createElement("p",null,"To add a file inside a folder, include a forward slash in the file name (e.g. folder/my-awesome-file.js)"))),p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement(wU,{accept:"*",onSelection:C=>{t.newFilePopVisible(!1),Z9e(t,v.current,C)}},"Upload a File ",p.createElement(tt,{icon:"blockArrowUp"}))),!n&&!i&&p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button button-small button-secondary",onClick:E},"Add License File",p.createElement(tt,{icon:"scales"}),u&&p.createElement(mn,null))),!o&&!i&&p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button button-small button-secondary",onClick:w},"Add Code of Conduct File",p.createElement(tt,{icon:"ferrisWheel"}),f&&p.createElement(mn,null))))):null}function z$({text:t}){const e=1,n=1,i=t.slice(0,e),o=t.slice(e,-n),s=t.slice(-n);return t.length?t.length<3?p.createElement(p.Fragment,null,t):p.createElement("span",{className:"truncated-text","aria-label":t},p.createElement("span",{"aria-hidden":"true"},i),p.createElement("span",{"aria-hidden":"true",className:"truncated-text-center-segment"},o),p.createElement("span",{"aria-hidden":"true"},s)):null}function G$({resultCount:t}){return p.createElement("div",{className:"search-state"},p.createElement("span",{className:"status-badge"},p.createElement("div",{className:"status warning"},t,p.createElement("div",{className:"search-in-badge icon"}))))}function $$({users:t}){return p.createElement("div",{className:"current-users"},t.map(e=>p.createElement("div",{key:e.id(),className:"current-user",style:{backgroundColor:e.color()},"data-user":e.id()})))}function Jh({state:t}){const e=dt({"rewind-state-icon":!0,deleted:t==="deleted"});return p.createElement("div",{className:"rewind-state"},p.createElement("div",{className:e},t==="modified"&&p.createElement("div",{className:"mixed-lines-background"})))}const Q9e=Ye.svg`
  display: inline-block;
  width: 25px;
  vertical-align: middle;
  transform: translate(-5px, -2.5px) rotate(-25deg);

  /* this gets .env to line up with assets in the filetree
   TODO: cleanup when redoing filetree structure/styling */
  & + .display-file-name {
    left: -5px;
  }
`,e7e=Ye.path`
  fill: var(--colors-primary);
  .active & {
    fill: var(--colors-background);
  }
`,t7e=Ye.path`
  stroke: var(--colors-primary);
  .active & {
    stroke: var(--colors-background);
  }
`;function n7e(){return p.createElement(Q9e,{height:"11",viewBox:"0 0 16 11",width:"16",xmlns:"http://www.w3.org/2000/svg"},p.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(0 1)"},p.createElement(e7e,{d:"m16 9h-1v-1h-1v1h-1v-1h-1v1h-1v-2h2v-1.5h-5v-1h8v1h-2v1.5h2z"}),p.createElement(t7e,{d:"m4.5 8.8c-4-3.33333333-5.33333333-5.66666667-4-7s2.66666667-1 4 1c1.33333333-2 2.66666667-2.33333333 4-1s0 3.66666667-4 7z",strokeLinejoin:"round",transform:"matrix(0 -1 1 0 -.4 9.4)"})))}function r7e({entry:t,top:e,left:n}){const i=Te(),o=()=>{const f=120,h=18,v=window.innerHeight-f;return v<e?{top:`${v}px`,left:`${n+h}px`}:{top:`${e+15}px`,left:`${n+h}px`}},s=t.type()==="file"?t.extensionType:"",a=()=>!(i.projectAccessLevelForCurrentUser()<Tt.HELPER||t.type()==="file"&&t.hasImmutableFilename()),l=()=>(i.closeAllPopOvers(),t.type()==="folder"?i.actionInterface.renameFolder(t):i.actionInterface.renameFile(t)),c=()=>(i.closeAllPopOvers(),t.type()==="folder"?i.actionInterface.deleteFolder(t):i.actionInterface.deleteFile(t)),u=()=>(i.closeAllPopOvers(),t.type()==="folder"?null:i.actionInterface.copyFile(t)),d=()=>{i.closeAllPopOvers(),i.selectedFolder(t),i.newFilePopVisible(!0)};return p.createElement(Eg,null,p.createElement("dialog",{className:dt("pop-over","mini-pop","file-options-pop",s),style:o(),"data-testid":"filetree-options-pop"},a()&&p.createElement("div",{className:"mini-pop-action",onClick:l,"data-testid":"rename"},"Rename",p.createElement(tt,{icon:"eyes"})),t.type()!=="folder"&&a()&&p.createElement("div",{className:"mini-pop-action",onClick:u,"data-testid":"duplicate"},"Duplicate",p.createElement(tt,{icon:"two"})),t.type()==="folder"&&a()&&p.createElement("div",{className:"mini-pop-action",onClick:d,"data-testid":"add-file-to-folder"},"Add File to Folder",p.createElement(tt,{icon:"seedling"})),i.projectAccessLevelForCurrentUser()>=Tt.MEMBER&&p.createElement("div",{className:"mini-pop-action",onClick:c,"data-testid":"delete"},"Delete",p.createElement(tt,{icon:"bomb"}))))}function W$(){const t=Te(),[e,n]=K.exports.useState(null),i=e?p.createElement(r7e,he({},e)):null,o=K.exports.useCallback((l,c,u)=>{n({entry:l,top:c,left:u})},[]),s=K.exports.useCallback(()=>{n(null)},[]),a=K.exports.useCallback((l,c,u)=>{t.closeAllPopOvers(),n(d=>d?null:{entry:l,top:c,left:u})},[t]);return K.exports.useEffect(()=>t.onCloseAllPopOvers(s),[t,s]),{pop:i,show:o,hide:s,toggle:a}}const i7e=[vc,f5],dP=({file:t,options:e={}})=>{const n=Te(),{createNotification:i}=Bl();e.prefix==null&&(e.prefix=/^/),e.exclude==null&&(e.exclude=/a^/);const o=j(n.selectedFileId),s=j(n.fileSearch.searchedResults),a=j(n.editorIsPreviewingRewind),l=j(n.filesWithDiffTooBig),c=j(n.currentUser),u=j(t.renaming),d=j(t.uuid),f=j(t.path),h=j(t.modifiedByRewind),v=j(t.addedByRewind),m=j(t.deletedByRewind),_=j(t.extensionType),{pop:S,toggle:E}=W$(),w=()=>t.name().replace(/\.[^/.]+$/,""),T=()=>({paddingLeft:`${5+t.folders().length*12}px`}),C=V=>V.replace(/(.*\/)/g,""),P=V=>{const z=V.trim(),B=f;t.renaming(!1);let H=!1;z===B||C(z)===""?H=!0:a5(z)?(H=!0,n.notifyInvalidFileName(!0)):n.fileByPath(z)&&(H=!0),H||n.renameFile(t,z)},R=()=>!!(!f.match(e.prefix)||f.match(e.exclude)||i7e.includes(f)),A=V=>{u&&P(V.target.value)},L=V=>{["Enter","Escape","Tab"].includes(V.key)&&P(V.target.value)},k=()=>{const V=s.filter(z=>z.path===f);return V.length>0?p.createElement(G$,{resultCount:V.length}):!1},U=()=>(n.projectIsReadOnlyForCurrentUser()&&i(h4),n.projectIsReadOnlyForCurrentUser()||a?!1:t.renaming(!0)),N=()=>l.includes(f)?!1:h?p.createElement(Jh,{state:"modified"}):v?p.createElement(Jh,{state:"added"}):m?p.createElement(Jh,{state:"deleted"}):null,I=V=>{if(V.stopPropagation(),n.files().includes(t)&&!u&&(n.otClient().isConnected()||t.session))return n.selectTextFile(),n.selectFileByUuid(d)},F=()=>{const V=n.currentUsers().filter(z=>z.id()===c.id()?!1:z.currentDocument()===d);return V.length>0?p.createElement($$,{users:V}):!1},O=dt({"filetree-child":!0,file:!0,active:d===o,hidden:R(),[_]:!0});return p.createElement(p.Fragment,null,p.createElement("li",{className:O,onClick:I,onDoubleClick:U,onKeyUp:ur(I),style:T(),tabIndex:"0",title:f},F(),N(),k(),u?p.createElement("input",{className:"input file-rename-input",autoFocus:!0,onBlur:A,onKeyUp:ur(L),spellCheck:"false",defaultValue:`${f}`,"data-testid":"file-rename-input"}):p.createElement("div",{className:"display-file-name","aria-label":t.name()},p.createElement("span",{className:"filename"},p.createElement(z$,{text:w()}),p.createElement("span",{className:`extension-type ${_}`},t.extension()&&`.${t.extension()}`," ",f===".env"&&p.createElement(n7e,null)))),!n.projectIsReadOnlyForCurrentUser()&&!a&&p.createElement("div",{className:"options icon opens-pop-over",onClick:V=>{V.stopPropagation();const B=V.currentTarget.getBoundingClientRect();E(t,B.top,B.left)}})),S)};function fP({folder:t}){const e=Te(),{createNotification:n}=Bl(),i=j(e.fileSearch.searchedResults),o=j(e.editorIsPreviewingRewind),s=j(e.currentUser),a=j(t.renaming),l=j(t.uuid),c=j(e.openFolderIds),{pop:u,toggle:d}=W$(),f=()=>{if(o)return t.rewindPreviewPath();const L=e.otClient().idToPath(l);return L?`${L.substring(2)}/`:""},h=L=>f()===""?!1:L.startsWith(f()),v=()=>{const L=i.filter(k=>h(k.path));return L.length>0?p.createElement(G$,{resultCount:L.length}):!1},m=()=>{const L=e.files().filter(I=>h(I.path()));return L.every(I=>I.addedByRewind())?p.createElement(Jh,{state:"modified"}):L.every(I=>I.deletedByRewind())?p.createElement(Jh,{state:"deleted"}):e.files().some(I=>h(I.path())&&(I.modifiedByRewind()||I.addedByRewind()||I.deletedByRewind()))?p.createElement(Jh,{state:"modified"}):!1},_=()=>{const L=e.currentUsers().filter(k=>{if(k.id()===s.id())return!1;const U=e.fileByUuid(k.currentDocument());return U?h(U.path()):!1});return L.length>0?p.createElement($$,{users:L}):!1},S=()=>({paddingLeft:`${5+t.level()*12}px`}),E=L=>{const k=t.name();let U=!1;if(t.renaming(!1),L===k)U=!0;else if(L==="")U=!0;else if(a5(L)||L.indexOf("/")!==-1)U=!0,e.notifyInvalidFolderName(!0);else{const{parentId:N}=e.otClient().documentImmediate(l),I=e.otClient().documentImmediate(N).children[L];if(I){const F=e.otClient().idToPath(I).substring(2);e.files().some(V=>V.path().startsWith(F)).length>0&&(U=!0,e.notifyInvalidFolderName(!0))}}U||e.renameFolder(l,f(),L)},w=()=>e.projectIsReadOnlyForCurrentUser()?n(h4):!e.projectIsReadOnlyForCurrentUser()&&!o?t.renaming(!0):!1,T=L=>{t.renaming()&&E(L.target.value)},C=L=>{["Enter","Escape","Tab"].includes(L.key)&&E(L.target.value)},P=()=>!!c.has(l),R=L=>{if(L.preventDefault(),a)return;const k=L.target.closest("summary");!(k.dataset.id&&k.dataset.id===l)||e.changeOpenFolderIds(l)},A=dt({"folder-path":!0,other:!0,active:e.selectedFile()&&h(e.selectedFile().path())});return p.createElement(p.Fragment,null,p.createElement("li",{className:"filetree-child folder",title:t.name()},p.createElement("details",{open:P()},p.createElement("summary",{className:A,style:S(),onClick:R,onDoubleClick:w,"data-id":l},_(),m(),v(),a?p.createElement("input",{className:"input folder-rename-input",autoFocus:!0,onBlur:T,onKeyUp:ur(C),spellCheck:"false",defaultValue:`${t.name()}`,"data-testid":"folder-rename-input"}):p.createElement("div",{className:"display-folder-name"},p.createElement(z$,{text:`${t.name()}/`})),!e.projectIsReadOnlyForCurrentUser()&&!o&&p.createElement("div",{className:"options icon opens-pop-over",onClick:L=>{L.preventDefault(),L.stopPropagation();const U=L.currentTarget.getBoundingClientRect();d(t,U.top,U.left)}})),t.children().map(L=>L.type()==="file"?p.createElement(dP,{file:L,key:L.id()}):p.createElement(fP,{folder:L,key:L.id()})))),u)}function q$(t,e,n){for(;t<e;)t+=n;return t%n}function Y$(){const t=Te(),e=j(t.fileSearch.searchedValue),i=j(t.fileSearch.searchedResults).length,o=i>0,s=()=>{const u=t.fileSearch.selectedResult(),d=t.fileSearch.searchedResults(),f=q$(typeof u.index=="number"?u.index-1:-1,0,d.length);t.fileSearch.selectResult(d[f])},a=()=>{const u=t.fileSearch.selectedResult(),d=t.fileSearch.searchedResults(),f=q$(typeof u.index=="number"?u.index+1:0,0,d.length);t.fileSearch.selectResult(d[f])},l=()=>{t.fileSearch.clearSearch()},c=u=>{u.preventDefault(),t.projectSearchFilesOverlayVisible(!0)};return o?p.createElement("section",{className:"project-navigators"},p.createElement("div",{className:"button-wrap"},p.createElement("div",{className:"segmented-buttons"},p.createElement("button",{className:"button",onClick:s},p.createElement("div",{className:"left-arrow icon"})),p.createElement("button",{className:"button",onClick:a},p.createElement("div",{className:"right-arrow icon"})),p.createElement("button",{className:"button",onClick:l},p.createElement("div",{className:"close-icon icon"})),p.createElement("button",{className:"button search-box",onClick:c},p.createElement("span",{className:"search-box-value"},e),p.createElement("span",{className:"status-badge"},p.createElement("div",{className:"status warning"},i," ",p.createElement("div",{className:"search-in-badge icon"}))))))):null}const s7e="building",o7e="error",a7e="asleep";function K$(){const t=Te(),e=j(t.toolsPopVisible),n=j(t.logsPanelVisible),i=j(t.consolePanelVisible),o=j(t.projectIsMemberOrMoreForCurrentUser),s=j(t.projectContainerStatus),a=j(t.debuggerReady),l=j(t.projectIsReadOnlyForCurrentUser),c=j(t.editorIsEmbedded),u=j(t.rewindPanelVisible);return e?p.createElement("dialog",{className:"pop-over tools-pop"},p.createElement("section",{className:"info"},p.createElement("h1",null,"Tools")),p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:dt("button rewind-button",u&&"active"),onClick:()=>{t.closeAllPopOvers(),t.rewindPanelVisible.toggle()},"aria-label":"Rewind","data-testid":"rewind-button"},"Rewind ",p.createElement("span",{className:"rewind icon rewind-with-text"}))),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:dt("button",{active:n,disabled:l}),onClick:()=>{t.closeAllPopOvers(),t.logsPanelVisible.toggle()},disabled:l},"Logs ",p.createElement(tt,{icon:"newspaper"}),o&&p.createElement("div",{className:"status-badge icon"},s===s7e&&p.createElement("div",{className:"status loading"},p.createElement(mn,null)),s===o7e&&p.createElement("div",{className:"status error"},"Error"),s===a7e&&p.createElement("div",{className:"status off"},"Zzz"),a&&p.createElement("div",{className:"status warning"},"Debug")))),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:dt("button",{active:i,disabled:l}),onClick:()=>{t.closeAllPopOvers(),t.consolePanelVisible.toggle()},disabled:l},"Terminal ",p.createElement(tt,{icon:"pager"})))),p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:dt("button button-small button-secondary",{disabled:l&&c}),onClick:()=>{t.closeAllPopOvers(),t.gitImportExportPopVisible(!0)},disabled:l&&c,"data-testid":"github-import-export-button"},"Import and Export")),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:dt("button button-small button-secondary",{disabled:l}),onClick:()=>{t.analytics.track("Custom Domains Viewed"),t.closeAllPopOvers(),t.customDomainPopVisible(!0)},disabled:l},"Custom Domains")))):null}function X$(){const t=Te(),e=Bl(),{createNotification:n}=e||{},i=j(t.gitImportExportPopVisible),o=j(t.editorIsEmbedded),s=j(t.projectIsLoaded),a=j(t.projectIsMemberOrMoreForCurrentUser),l=j(t.currentUserIsLoggedIn),[c,u]=K.exports.useState(!1),d=j(t.currentProject),f=j(K.exports.useCallback(()=>{if(!d)return;const R=d.readGitUrl();return d.gitAccessToken()?R.replace("://",`://${d.gitAccessToken()}@`):R},[d])),h=j(t.projectDownloadUrl),v=j(t.currentUser),m=j(v.githubToken);K.exports.useEffect(()=>{async function R(){const A=await t.currentUserHasGithubRepoScope();u(A)}R()},[t,m]);const _=()=>{t.gitImportExportPopVisible(!1),t.toolsPopVisible(!0)},S=()=>{t.analytics.track("Git Link Copied"),oa(f),n(f4)},E=R=>{R.preventDefault(),t.redirectToGitHubLogin("user:email")},w=async()=>{await t.importFromGitHub()},T=async()=>{await t.exportToGitHub()},C=()=>l?m?{descriptionHTML:p.createElement("div",null,p.createElement("strong",null,"Grant us access")," to your GitHub repos in order to export projects from Glitch to GitHub."),buttonText:"Grant access"}:{descriptionHTML:p.createElement("div",null,p.createElement("strong",null,"Connect your GitHub account")," to import private GitHub repos, and export projects from Glitch to GitHub."),buttonText:"Connect to GitHub"}:{descriptionHTML:p.createElement("div",null,p.createElement("strong",null,"Sign in to Glitch, or create an account"),", by connecting your GitHub account. Easily export and import between Glitch and GitHub."),buttonText:"Sign In"},P=R=>{R.preventDefault(),t.analytics.track("Grant GitHub Publishing Access Clicked",{targetText:C().buttonText}),t.redirectToGitHubLogin("repo user:email")};return i?p.createElement("dialog",{className:"pop-over git-import-export-pop"},p.createElement("section",{role:"presentation",className:"info clickable-label",onClick:_},p.createElement("div",{className:"back icon"}),p.createElement("h1",null,"Import and Export ",p.createElement(tt,{icon:"tokyoTower"}))),p.createElement("section",{className:"info"},p.createElement("p",null,"Every Glitch project is also a Git repository you can access.")),p.createElement("section",{className:"actions"},s&&p.createElement(p.Fragment,null,p.createElement("p",null,"Your project's Git URL:"),p.createElement("div",{className:"input-wrap"},p.createElement("input",{className:"input",readOnly:!0,value:f}),p.createElement("button",{className:"button button-copy-only-style",onClick:S},"Copy")),p.createElement(pt,{persistent:!0,variant:"error",message:"Your project's Git URL is private and shouldn't be shared with anyone, including other members of this project."}))),p.createElement("section",{className:"actions"},a&&p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"github-import",className:"button",onClick:w,"data-testid":"import-github-button"},"Import from GitHub ",p.createElement(tt,{icon:"octocat"}))),a&&c&&p.createElement(p.Fragment,null,p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"button-github-connect",className:"button",onClick:T,"data-testid":"export-github-button"},"Export to GitHub ",p.createElement(tt,{icon:"octocat"}))),p.createElement("p",null,p.createElement("a",{href:"#",className:"repo-access revoke",onClick:E},"Revoke GitHub repo access"))),a&&!c&&!o&&p.createElement("div",{className:"onboarding-tip"},C().descriptionHTML,p.createElement("div",{className:"button-wrap"},p.createElement("button",{onClick:P,className:l?"button button-small button-secondary":"button button-small button-cta"},C().buttonText)))),p.createElement("section",{className:"actions"},p.createElement("div",{className:dt("button-wrap",{disabled:!a||o})},p.createElement("a",{id:"download-project",className:"button button-small button-secondary",onClick:()=>t.analytics.track("Project Downloaded",{clickLocation:"Import and Export"}),href:h},"Download Project ",p.createElement(tt,{icon:"turtle"}))))):null}const J$=5,l7e="https://glitch.com/help/kb/article/9-how-do-i-add-a-custom-domain-a-cname-or-a-record-for-my-custom-domain/",c7e="https://help.glitch.com/kb/article/129-how-do-i-get-websocket-to-connect-with-my-projects-that-use-custom-domains/";function u7e(){const t=Te(),e=Bf(),[n,i]=K.exports.useState([]),o=n.length<J$,s=t.currentProjectId();K.exports.useEffect(()=>{!s||e.getProjectDomains(s).then(u=>{i(u.items.map(d=>d.hostname))})},[e,s]);async function a(u){await e.addProjectDomain(s,u),i(d=>[u,...d])}async function l(u){await e.removeProjectDomain(s,u),i(d=>d.filter(f=>f!==u))}return{domains:K.exports.useMemo(()=>n.slice(0,J$),[n]),canAddDomain:o,addDomain:a,removeDomain:l}}function Z$(){const t=Te(),e=j(t.customDomainPopVisible),[n,i]=K.exports.useState(""),{domains:o,canAddDomain:s,addDomain:a,removeDomain:l}=u7e(),[c,u]=K.exports.useState(!1),[d,f]=K.exports.useState([]),h=()=>{t.customDomainPopVisible(!1),t.toolsPopVisible(!0),i(""),f([])},v=S=>{i(S.target.value)},m=async S=>{S.preventDefault(),u(!0);try{await a(n),i("")}catch(E){try{const w=await E.response.json(),T=w.errors?w.errors.map(({title:C})=>C):[E.response.statusText||"An unknown error has occurred."];f(T)}catch{f(["An unknown error has occurred."])}}finally{u(!1)}},_=S=>{l(S)};return e?p.createElement("dialog",{className:"custom-domain-pop pop-over"},p.createElement("section",{role:"presentation",className:"info clickable-label",onClick:h},p.createElement("div",{className:"back icon"}),p.createElement("h1",null,"Custom Domains ",p.createElement(tt,{icon:"globeWithMeridians"}))),s?p.createElement("section",{className:"actions"},p.createElement("p",null,"Add a domain that you've already purchased elsewhere"),c&&p.createElement(mn,null),p.createElement("form",{onSubmit:m},p.createElement("div",{className:"input-wrap"},p.createElement("input",{className:dt("input",{"field-error":d&&d.length>0}),placeholder:"www.my-domain.com",value:n,onChange:v}),d.length>0&&p.createElement("div",{className:"field-error-message"},d.map((S,E)=>p.createElement("div",{key:E},S)))),p.createElement("button",{className:"button add-domain"},"Add Domain"))):p.createElement("section",{className:"actions"},p.createElement("p",null,"You already have the maximum number of custom domains. Remove an existing custom domain to add another.")),p.createElement("section",{className:"actions"},o.length>0&&p.createElement(p.Fragment,null,p.createElement("p",null,"Custom domains currently registered to this project"),p.createElement("ul",{className:"custom-domain-pop__domain-list"},o.map(S=>p.createElement("li",{key:S},p.createElement("span",{className:"custom-domain-pop__domain-item"},S),p.createElement(fee,{icon:"x",label:"remove domain",onClick:()=>_(S)}))))),p.createElement("p",null,"Need help setting up your custom domain?"," ",p.createElement("a",{href:l7e,target:"_blank",rel:"noopener noreferrer",style:{wordBreak:"normal"}},"Click here"),"."),p.createElement("p",null,"Note: Websocket connections do not work with custom domains."," ",p.createElement("a",{href:c7e,target:"_blank",rel:"noopener noreferrer",style:{wordBreak:"normal"}},"Click here to see how to route these requests"),"."))):null}const Q$="ok";function hP({status:t,collapsed:e,children:n}){const i=dt({status:!e,"status-standalone":e,[t]:!0});return p.createElement("div",null,p.createElement("div",{className:"status-badge icon"},p.createElement("div",{className:i},!e&&n)))}function eW(){const t=Te(),e=j(t.projectContainerStatus),n=j(t.projectContainerResourcesStatus),o=j(t.projectContainerResourcesDataLoaded)&&e!=="building",s=j(t.projectIsLoaded),a=j(t.debuggerReady),l=j(t.toolsPopVisible),c=j(t.customDomainPopVisible),u=j(t.gitImportExportPopVisible),d=j(t.containerStatsPanelVisible),f=j(K.exports.useCallback(()=>t.sidebarWidth()>=225,[t])),h=j(t.projectIsReadOnlyForCurrentUser),v=j(t.projectIsMemberOrMoreForCurrentUser),m=j(t.currentProjectIsBoosted),_=j(t.currentProjectBackend);if(t.isFeatureEnabled("ui_editor_refresh"))return null;const E=_==="project-hosting-v2",w=C=>{const P=t.toolsPopVisible();C.preventDefault(),t.closeAllPopOvers(),t.toolsPopVisible(!P),t.analytics.track("Tools Viewed")},T=dt("button",{active:l||c||u,"has-status":e!==Q$,"opens-pop-over":!0});return h||!s?!1:p.createElement("section",{className:"advanced-options"},p.createElement("div",{className:dt("button-wrap",{boosted:m})},p.createElement("button",{className:dt("button button-small button-secondary",{active:d,disabled:h}),onClick:()=>{t.closeAllPopOvers(),t.containerStatsPanelVisible.toggle(),t.analytics.track("App Status Viewed")},disabled:h,"data-testid":"container-status-button"},f?`${m?"Boosted":"App"} Status`:"Status",v&&p.createElement(p.Fragment,null,o?p.createElement(hP,{className:"status-badge status",status:n,collapsed:!f},n):p.createElement(mn,null)))),p.createElement("div",{className:"button-wrap"},p.createElement("button",{"data-testid":"tools-pop-button",id:"tools-pop-button",className:T,onClick:w,"aria-label":"Open tools popover menu"},"Tools",e==="building"?p.createElement(mn,null):e!==Q$&&p.createElement(hP,{className:"status-badge status",status:e,collapsed:!f},e),a&&p.createElement(hP,{collapsed:!f,status:"warning"},"Debug"),p.createElement("span",{className:"up-arrow icon"})),p.createElement(K$,{application:t}),p.createElement(X$,{application:t}),p.createElement(Z$,{application:t})),E&&p.createElement("div",{className:"zebrafish"},"This is a ",p.createElement("strong",null,"zebrafish")," project \u{1F993} \u{1F41F}"))}function tW(t,e,n){return t.getUserPref(e)!==void 0?t.getUserPref(e):n}function wa(t,e){const n=Te(),[i,o]=K.exports.useState(()=>tW(n,t,e));return K.exports.useEffect(()=>{o(tW(n,t,e))},[n,t,e]),K.exports.useEffect(()=>{n.updateUserPrefs(t,i)},[n,t,i]),[i,o]}const pP=250;function nW(){const t=Te(),[e,n]=wa("sidebarWidth",pP),[i,o]=K.exports.useState(!1),s=K.exports.useRef();return K.exports.useEffect(()=>{if(i){let a;const l=({pageX:u})=>{cancelAnimationFrame(a),a=requestAnimationFrame(()=>{window.getSelection().removeAllRanges();const d=u-e,f=e+d;n(f),t.sidebarWidth(f)})},c=()=>{o(!1)};return document.addEventListener("mousemove",l),document.addEventListener("mouseup",c),()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",c)}}},[i,e,n,t]),K.exports.useLayoutEffect(()=>{t.refreshEditor()},[t]),{sidebarRef:s,sidebarWidth:e,resizing:i,startResizing:()=>{o(!0)},resetSize:()=>{n(pP),t.sidebarWidth(pP)}}}function d7e(){const t=Te(),e=j(t.collapsedFiletree),n=j(t.sidebarIsCollapsed),i=j(t.newFilePopVisible),o=j(t.projectIsReadOnlyForCurrentUser),s=j(t.projectIsLoaded),a=j(t.projectContainerStatus),l=j(t.debuggerReady),c=j(t.editorIsPreviewingRewind),u=j(t.assetsWrapVisible),d=j(t.jiggleAssetFiletreeEntry),f=t.isFeatureEnabled("ui_editor_refresh"),{sidebarRef:h,sidebarWidth:v,startResizing:m,resetSize:_}=nW(),[S,E]=K.exports.useState(null),[w,T]=K.exports.useState(null),[C,P]=K.exports.useState(null),R=O=>{O.stopPropagation(),t.actionInterface.sidebarToggle(),t.sidebarIsCollapsed()||t.refreshEditor(),t.updateEmbedSidebarCollapsed()},A=()=>e.map(O=>O.type()==="file"?p.createElement(dP,{file:O,key:O.id()}):p.createElement(fP,{folder:O,key:O.id()})),L=()=>{const O=t.newFilePopVisible();t.closeAllPopOvers(),O?t.newFilePopVisible(!1):t.newFilePopVisible(!0)},k=()=>{t.sidebarIsCollapsed()&&t.actionInterface.sidebarToggle()},U=O=>{(O==="left"&&t.sidebarIsCollapsed()||O==="right"&&!t.sidebarIsCollapsed())&&t.actionInterface.sidebarToggle()},N=(O,V,z)=>{const B=5,H=30,W=500;(V/(O/1e3)**2>W&&V>B||V>H)&&U(z)},I=O=>{const V=O.targetTouches[0];E(V.clientX),T(V.clientY),P(Date.now())},F=O=>{let V;const B=Date.now()-C,H=O.targetTouches[0],W=H.clientX,G=H.clientY,q=S-W,re=w-G;q>0?V="right":V="left";const se=Math.abs(q);Math.abs(q)>Math.abs(re)&&N(B,se,V)};return p.createElement("section",{id:"sidebar",className:dt("sidebar",n&&"sidebar-collapsed"),onTouchStart:I,onTouchMove:F,onClick:k,onKeyUp:ur(k),ref:h,style:{width:v}},!f&&p.createElement(p.Fragment,null,p.createElement(TSe,null),p.createElement(lj,null)),p.createElement("div",{className:"icon icon-collapse",onKeyUp:ur(R),onClick:R,tabIndex:"0",role:"button"}),p.createElement("div",{className:"sidebar-status-when-collapsed"},a==="building"&&p.createElement(mn,null),["error","stopped"].includes(a)&&p.createElement("span",{className:"error"}),l&&p.createElement("span",{className:"warning"}),a==="asleep"&&p.createElement("span",{className:"off"})),!o&&s&&p.createElement("section",{id:"sidebar-file-controls",className:"sidebar-section sidebar-file-controls"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{id:"new-file",className:dt("button new-file opens-pop-over",i&&"active",c&&"disabled"),"data-testid":"new-file",onClick:L},p.createElement("span",{className:"label","aria-label":"Open new file popover menu"},"New File"),p.createElement("span",{className:"down-arrow icon","aria-level":""})),p.createElement(H$,null))),p.createElement("section",{id:"sidebar-files",className:"sidebar-section sidebar-files"},p.createElement("div",{className:"files"},s?p.createElement("ul",{className:"filetree","data-testid":"filetree"},s&&p.createElement("li",{className:dt("filetree-child assets-sidebar-icon other",{active:u,jiggle:d}),tabIndex:"0",onKeyUp:ur(t.showAssets),onClick:t.showAssets,onAnimationEnd:()=>{t.jiggleAssetFiletreeEntry(!1)}},"assets"),A()):p.createElement("div",{className:"loader-ellipses"}))),!n&&p.createElement("footer",{className:"footer-project-options"},p.createElement(Y$,null),p.createElement(eW,null)),p.createElement("div",{className:"resizer",onMouseDown:m,onDoubleClick:_}))}const mP=t=>({fontWeight:"bold",fontSize:2,alignContent:"center",display:"grid",alignItems:"center",backgroundColor:"transparent",width:"100%",paddingX:2,paddingY:1,gridTemplateColumns:"24px 1fr",gap:2,textAlign:"left",cursor:"pointer","&:hover":{backgroundColor:t==="dark"?"blueLight.6":"gray.2"}});function gP({icon:t,title:e}){return p.createElement(p.Fragment,null,p.createElement(Jt,{emoji:t,sx:{height:"22px"}}),e)}function f7e(){const t=Te(),[e,n]=fo(),i=j(t.currentProject),o=j(t.currentUserIsLoggedIn),s=j(i==null?void 0:i.privacy),a=j(t.currentUser),l=s==="public"||a.isProUser,c=j(t.projectIsMemberOrMoreForCurrentUser),u=j(t.projects),d=j(t.refreshPreviewOnChanges),f=j(t.wrapText),h=j(t.currentTheme),v=j(t.currentProjectDomain),m=j(K.exports.useCallback(()=>i&&i.users().length>1,[i])),_=u.length,S=()=>{var E;m?window.confirm(`Leave ${v}?`)&&(t.closeAllPopOvers(),t.rewindPanelVisible(!1),t.leaveCurrentProject(),t.analytics.track("Project Left",{projectMemberWhoLeft:a.login(),numberProjectMembers:((E=t.currentProject())==null?void 0:E.users().length)-1})):window.alert(`You can't leave ${v} because you are the only member.`)};return p.createElement(Qe,null,p.createElement(Vn,{key:"details"},p.createElement(zv,{href:`/~${v}`,target:"_blank",rel:"noopener noreferrer",variant:"blank",sx:{span:{fontSize:1}}},"Edit details on project page ",p.createElement(Rwe,{style:{position:"relative",top:"0.185em",color:"#5A78FF",marginLeft:"0.25em"}}))),p.createElement(iu,null),p.createElement(Vn,{key:"newproject",onClick:async()=>{await t.closeAllPopOvers(),await t.newProjectPopVisible.toggle()}},p.createElement(Qe,{sx:{fontSize:1}},"New project")),_>0&&o&&p.createElement(Vn,{key:"switch",onClick:async()=>{await t.closeAllPopOvers(),await t.projectsSelectPopVisible.toggle()}},p.createElement(Qe,{sx:{fontSize:1}},"Switch project")),p.createElement(Vn,{key:"remix",onClick:()=>{l&&(t.closeAllPopOvers(),t.remixCurrentProject())}},p.createElement(Qe,{sx:{fontSize:1}},"Remix this project")),p.createElement(Vn,{key:"embed",onClick:async()=>{await t.closeAllPopOvers(),await t.shareEmbedOverlayVisible.toggle()}},p.createElement(Qe,{sx:{fontSize:1}},"Embed this app")),p.createElement(iu,null),c&&p.createElement(Vn,{key:"refresh",onSelect:E=>{E.preventDefault()}},p.createElement(h2,{id:"refresh-changes-checkbox",onCheckedChange:()=>{t.refreshPreviewOnChanges.toggle(),t.analytics.track("Refresh App Setting Changed",{currentSetting:t.refreshPreviewOnChanges()})},checked:d},p.createElement(Qe,{sx:{fontSize:1}},"Toggle auto refresh"))),p.createElement(Vn,{key:"wrap",onSelect:E=>{E.preventDefault()}},p.createElement(h2,{id:"wrap-text-checkbox",onCheckedChange:()=>{t.wrapText.toggle(),t.analytics.track("Wrap Text Setting Changed",{currentSetting:t.wrapText()})},checked:f},p.createElement(Qe,{sx:{fontSize:1}},"Toggle text wrap"))),p.createElement(Vn,{key:"theme",onSelect:E=>{E.preventDefault()}},p.createElement(h2,{id:"theme-checkbox",onCheckedChange:()=>{const E={cosmos:"dark",sugar:"light"};t.actionInterface.changeTheme(),n(E[t.currentTheme()])},checked:h==="cosmos"},p.createElement(Qe,{sx:{fontSize:1}},"Toggle light/dark theme"))),m&&c&&p.createElement(p.Fragment,null,p.createElement(iu,null),p.createElement(Vn,{key:"newproject",onClick:async()=>{await S()}},p.createElement(Qe,{sx:{fontSize:1}},"Leave project"))),c&&p.createElement(p.Fragment,null,p.createElement(iu,null),p.createElement(Qe,{sx:{paddingLeft:3,marginY:3}},p.createElement(Vn,{key:"archive",onClick:()=>{t.actionInterface.deleteCurrentProject()},sx:{color:"statusBad",cursor:"pointer"}},"Archive this project"))))}function h7e(){return p.createElement(f7e,{currentProject:!0})}const rW={light:`linear-gradient(
    180deg,
    hsl(0deg 0% 96%) 0%,
    hsl(344deg 0% 96%) 11%,
    hsl(344deg 0% 97%) 22%,
    hsl(344deg 0% 97%) 33%,
    hsl(344deg 0% 98%) 44%,
    hsl(344deg 0% 98%) 56%,
    hsl(344deg 0% 99%) 67%,
    hsl(344deg 0% 99%) 78%,
    hsl(344deg 0% 100%) 89%,
    hsl(0deg 0% 100%) 100%
  );`,dark:`linear-gradient(
      45deg,
      hsl(280deg 23% 8%) 0%,
      hsl(277deg 26% 10%) 11%,
      hsl(276deg 30% 12%) 22%,
      hsl(276deg 34% 14%) 33%,
      hsl(277deg 37% 16%) 44%,
      hsl(277deg 40% 17%) 56%,
      hsl(278deg 42% 19%) 67%,
      hsl(278deg 45% 21%) 78%,
      hsl(279deg 47% 23%) 89%,
      hsl(280deg 48% 25%) 100%
    )`};function p7e(){const t=Te(),e=j(t.collapsedFiletree),n=j(t.sidebarIsCollapsed),i=j(t.newFilePopVisible),o=j(t.projectIsLoaded),s=j(t.projectContainerStatus),a=j(t.debuggerReady),l=j(t.editorIsPreviewingRewind),[c]=fo(),u=j(t.currentProject),d=j(t.currentProjectDomain),f=j(K.exports.useCallback(()=>u==null?void 0:u.description(),[u])),h=j(t.projectAvatarImage),{sidebarRef:v,startResizing:m,resetSize:_}=nW(),[S,E]=K.exports.useState(null),[w,T]=K.exports.useState(null),[C,P]=K.exports.useState(null),R=O=>{O.stopPropagation(),t.actionInterface.sidebarToggle(),t.sidebarIsCollapsed()||t.refreshEditor(),t.updateEmbedSidebarCollapsed()},A=()=>e.map(O=>O.type()==="file"?p.createElement(dP,{file:O,key:O.id()}):p.createElement(fP,{folder:O,key:O.id()})),L=async()=>{await t.closeAllPopOvers(),await t.newFilePopVisible(!i)},k=()=>{t.sidebarIsCollapsed()&&t.actionInterface.sidebarToggle()},U=O=>{(O==="left"&&t.sidebarIsCollapsed()||O==="right"&&!t.sidebarIsCollapsed())&&t.actionInterface.sidebarToggle()},N=(O,V,z)=>{const B=5,H=30,W=500;(V/(O/1e3)**2>W&&V>B||V>H)&&U(z)},I=O=>{const V=O.targetTouches[0];E(V.clientX),T(V.clientY),P(Date.now())},F=O=>{let V;const B=Date.now()-C,H=O.targetTouches[0],W=H.clientX,G=H.clientY,q=S-W,re=w-G;q>0?V="right":V="left";const se=Math.abs(q);Math.abs(q)>Math.abs(re)&&N(B,se,V)};return p.createElement(Qe,{as:"section",id:"sidebar",className:n&&"sidebar-collapsed",onTouchStart:I,onTouchMove:F,onClick:k,onKeyUp:ur(k),ref:v,sx:{width:["20ch","20ch","30ch"],backgroundImage:c==="dark"?rW.dark:rW.light,padding:0,overflowY:"auto"}},p.createElement(un,{sx:{alignContent:"flex-start",justifyContent:"space-between",gap:2}},p.createElement(Qe,{sx:{paddingY:"7px",minHeight:"48px",paddingLeft:2,paddingTop:"14px"}},p.createElement(Id,{src:h,styles:{width:"16px",height:"16px",borderRadius:4}}),p.createElement(Er,{sx:{paddingLeft:"6px",fontWeight:"bold",fontSize:"13px !important",color:O=>O.colors.text,lineHeight:"13px"}},d)),p.createElement(Dn,{onKeyUp:ur(R),onClick:R,variant:"blank",sx:{paddingRight:2,color:c==="dark"?"blueLight.1":"blueDark.2"}},p.createElement(Mwe,{style:{marginTop:"2px"}}))),p.createElement(Qe,{className:"sidebar-status-when-collapsed"},n&&p.createElement(Er,{sx:{color:c==="dark"?"blueLight.1":"blueDark.2",marginLeft:"6px"}},p.createElement(Awe,null)),["error","stopped"].includes(s)&&p.createElement("span",{className:"error"}),a&&p.createElement("span",{className:"warning"}),s==="asleep"&&p.createElement("span",{className:"off"})),p.createElement(un,{sx:{flexDirection:"column",gap:1,paddingLeft:0,paddingBottom:2}},p.createElement(Rd,null,p.createElement(Ld,{sx:he({},mP(c))},p.createElement(gP,{title:"Settings",icon:"\u{1F38F}"})),p.createElement(Od,{sx:{marginLeft:"16px",minWidth:"250px",maxWidth:"400px"}},p.createElement(Qe,{sx:{paddingY:"7px",minHeight:"48px",paddingTop:"14px",paddingX:3}},p.createElement(Id,{src:h,styles:{width:"32px",height:"32px",borderRadius:4}}),p.createElement(Er,{sx:{paddingLeft:"6px",fontWeight:"bold"}},d)),p.createElement(Qe,{sx:{paddingLeft:3,marginBottom:1}},p.createElement(Er,{sx:{fontFamily:"body",fontWeight:400,fontSize:"14px!important"}},f)),p.createElement(h7e,null))),o&&p.createElement(Dn,{variant:"blank",sx:mP(c),onKeyUp:ur(t.showAssets),onClick:t.showAssets,label:"Assets"},p.createElement(gP,{title:"Assets",icon:"\u{1F4E6}"})),p.createElement(a2,{sx:qe(he({},mP(c)),{alignContent:"center",alignItems:"center",gridTemplateColumns:"24px 1fr 32px"}),onClick:L},p.createElement(gP,{title:"Files",icon:"\u{1F5C3}\uFE0F"}),p.createElement(Dn,{id:"new-file",variant:"blank",className:dt("",i&&"active",l&&"disabled"),"data-testid":"new-file",onClick:L,sx:{"&:hover":{backgroundColor:"transparent"},color:c==="dark"?"blueLight.1":"blueDark.2"}},p.createElement("span",{className:"label","aria-label":"Open new file popover menu"},p.createElement(Owe,null))))),p.createElement(Qe,{id:"sidebar-files"},p.createElement(H$,null),p.createElement(Qe,{className:"files"},o?p.createElement("ul",{className:"filetree","data-testid":"filetree"},o&&p.createElement(p.Fragment,null,A())):p.createElement("div",{className:"loader-ellipses"}))),!n&&p.createElement("footer",{className:"footer-project-options"},p.createElement(Y$,null),p.createElement(eW,null)),p.createElement("div",{className:"resizer",onMouseDown:m,onDoubleClick:_}))}function m7e(){const e=Te().isFeatureEnabled("ui_editor_refresh");return p.createElement(p.Fragment,null,!e&&p.createElement(d7e,null),e&&p.createElement(p7e,null))}function g7e({application:t}){const e=j(t.ownerNotInGoodStandingOverlayVisible),n=j(t.projectIsAdminForCurrentUser),i=j(t.projectIsMemberOrMoreForCurrentUser);return e?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay owner-not-in-good-standing-overlay overlay-narrow"},n?p.createElement(p.Fragment,null,p.createElement("section",{className:"danger-zone"},p.createElement("h1",null,"Are you still using this project?")),p.createElement("section",{className:"info"},p.createElement("p",null,"In order to keep Glitch free for as many people as possible, we disable apps that appear to have been abandoned."),p.createElement("p",null,"You can download a copy of the project code by clicking the button below."),p.createElement("p",null,"If you would like this project to be restarted, please email us at support@glitch.com and be sure to include the name of the project.")),p.createElement("section",{className:"actions"},p.createElement(Kt,null,p.createElement(_t,{as:"a",href:"//glitch.com/help/kb/article/17-what-technical-restrictions-are-in-place/","data-testid":"owner-not-in-good-standing-restrictions"},"View Restrictions"),p.createElement(_t,{as:"a",href:t.projectDownloadUrl(),onClick:()=>t.analytics.track("Project Downloaded",{clickLocation:"Owner Not in Good Standing Overlay"}),"data-testid":"owner-not-in-good-standing-download"},"Download Your Code")))):p.createElement(p.Fragment,null,p.createElement("section",{className:"danger-zone"},p.createElement("h1",null,"We can't run this project for you at the moment")),p.createElement("section",{className:"info"},i?p.createElement("p",null,"While this project isn\u2019t running, you can still download it by clicking the button below."):p.createElement("p",null,"While this project isn\u2019t running, you can still remix it by clicking the button below.")),p.createElement("section",{className:"actions"},p.createElement(Kt,null,i?p.createElement(p.Fragment,null,p.createElement(_t,{as:"a",href:"//glitch.com/help/kb/article/17-what-technical-restrictions-are-in-place/","data-testid":"owner-not-in-good-standing-restrictions"},"View Restrictions"),p.createElement(_t,{as:"a",href:t.projectDownloadUrl(),onClick:()=>t.analytics.track("Project Downloaded",{clickLocation:"Owner Not In Good Standing Overlay"}),"data-testid":"owner-not-in-good-standing-download"},"Download Your Code")):p.createElement(p.Fragment,null,p.createElement(_t,{as:"a",href:t.remixURL(),onClick:()=>t.closeAllPopOvers()||!0,"data-testid":"owner-not-in-good-standing-remix"},"Remix this project ",p.createElement(tt,{icon:"microphone"})),p.createElement(_t,{as:"a",href:"/","data-testid":"owner-not-in-good-standing-backtoglitch"},"Back to Glitch ",p.createElement(tt,{icon:"carpStreamer"})))))))):null}function v7e({application:t}){return j(t.userIsSuspendedVisible)?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay owner-not-in-good-standing-overlay overlay-narrow"},p.createElement(p.Fragment,null,p.createElement("section",{className:"danger-zone"},p.createElement("h1",null,"Your account has been suspended")),p.createElement("section",{className:"info"},p.createElement("p",null,"Your account has been suspended for violating our terms of service."),p.createElement("p",null,"You will be unable to edit or create new projects. You can learn more"," ",p.createElement("a",{href:"https://help.glitch.com/kb/article/72-wat-why-is-my-project-suspended/"},"here"),".")),p.createElement("section",{className:"actions"},p.createElement(Kt,null,p.createElement(p.Fragment,null,p.createElement(_t,{as:"a",href:"https://help.glitch.com/new"},"Contact Support"))))))):null}function G0({application:t,location:e}){return p.createElement(_t,{variant:"secondary",size:"small",as:"a",href:t.projectDownloadUrl(),onClick:()=>t.analytics.track("Project Downloaded",{clickLocation:`${e}`}),"data-testid":`${e.toLowerCase().replace(" ","-")}-download`},"Download Project")}const y7e=Ye.div`
  margin-left: auto;
`;function $0({title:t,children:e,actions:n}){return p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay"},p.createElement("section",null,p.createElement("h1",null,t)),p.createElement("section",null,e),p.createElement("section",{className:"info"},p.createElement(Kt,null,n,p.createElement(y7e,null,p.createElement("a",{href:"/"},"Back to Glitch"))))))}function vP({children:t}){return p.createElement("a",{href:"https://glitch.com/help/kb/articles/82",target:"_blank",rel:"noopener noreferrer"},t)}function _7e(){const t=Te(),e=j(t.uptimeLimitsExceededOverlayVisible),n=j(t.projectIsAdminForCurrentUser),i=j(t.projectIsMemberOrMoreForCurrentUser),o=T4(),{projectBoostState:s}=o;if(!e)return null;if(!i)return p.createElement($0,{title:p.createElement(p.Fragment,null,"We can't run this project for you at the moment"),actions:p.createElement(_t,{variant:"secondary",size:"small",as:"a",href:t.remixURL(),onClick:()=>t.closeAllPopOvers()||!0,"data-testid":"uptime-limits-exceeded-remix"},"Remix this project ",p.createElement(tt,{icon:"microphone"}))},p.createElement("p",null,"This project's owner has no remaining project hours, so you can't access it right now."),p.createElement("p",null,"You're welcome to remix this app to get your own version though."));if(!n)return p.createElement($0,{title:p.createElement(p.Fragment,null,"We can't run this project for you at the moment"),actions:p.createElement(G0,{application:t,location:"Uptime Limits Exceeded"})},p.createElement("p",null,"This project's owner has no remaining project hours, so you can't access it right now."),p.createElement("p",null,"As a member, you're welcome to download this app in the meantime."));switch(s){case $_:return p.createElement($0,{title:p.createElement(p.Fragment,null,"Become a Glitch Member ",p.createElement(tt,{icon:"boosted"})),actions:p.createElement(p.Fragment,null,p.createElement(_t,{variant:"secondary",size:"small",as:"a",href:"/pricing"},"Upgrade Account"),p.createElement(G0,{application:t,location:"Uptime Limits Exceeded Overlay"}))},p.createElement("p",null,"You've used all your project hours for this month! Your ",p.createElement(vP,null,"project hours")," will reset on the first of the next month."),p.createElement("p",null,"Upgrade your account to give your projects superpowers: Unlimited hours, no rate limits, and boosted specs for up to five projects."));case W_:return p.createElement($0,{title:p.createElement(p.Fragment,null,"You've used all your project hours for this month ",p.createElement(tt,{icon:"rocket"})),actions:p.createElement(p.Fragment,null,p.createElement(_t,{variant:"secondary",size:"small",as:"a",href:"/dashboard"},"Manage Projects"),p.createElement(G0,{application:t,location:"Uptime Limits Exceeded Overlay"}))},p.createElement("p",null,"Your ",p.createElement(vP,null,"project hours")," will reset on the first of the next month."),p.createElement("p",null,"To make this project accessible 24/7, head over to your Project Dashboard to update which projects are boosted."));case S4:return p.createElement($0,{title:p.createElement(p.Fragment,null,"You've used all your project hours for this month ",p.createElement(tt,{icon:"rocket"})),actions:p.createElement(p.Fragment,null,p.createElement(C4,he({variant:"secondary",size:"small",onClick:()=>t.uptimeLimitsExceededOverlayVisible(!1)},o),()=>p.createElement(p.Fragment,null,"Boost Project ",p.createElement(tt,{icon:"boosted"}))),p.createElement(G0,{application:t,location:"Uptime Limits Exceeded Overlay"}))},p.createElement("p",null,"Your ",p.createElement(vP,null,"project hours")," will reset on the first of the next month."),p.createElement("p",null,"As a Glitch Member, boost this project to make it accessible 24/7."));default:return null}}const b7e=Ye.div`
  margin-left: auto;
`;function E7e(){const t=Te();return j(t.anonymousProjectDeletedOverlayVisible)?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay"},p.createElement("section",{className:"danger-zone"},p.createElement("h1",null,"This project no longer exists")),p.createElement("section",null,p.createElement("p",null,"If you do not have a Glitch account, projects are deleted after 5 days. Save your work in the future by creating a free account!")),p.createElement("section",{className:"info"},p.createElement(Kt,null,p.createElement(_t,{variant:"secondary",size:"small",as:"a",href:"/signin"},"Create Account"),p.createElement(b7e,null,p.createElement("a",{href:"/"},"Back to Glitch")))))):null}const iW=Ye(gI)`
  text-decoration: underline;
`,w7e=Ye.div`
  margin-left: auto;
`;function sW({title:t,children:e,actions:n}){return p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay"},p.createElement("section",null,p.createElement("h1",null,t)),p.createElement("section",null,e),p.createElement("section",{className:"info"},p.createElement(Kt,null,n,p.createElement(w7e,null,p.createElement("a",{href:"/"},"Back to Glitch"))))))}function x7e(){const t=Te(),e=j(t.glitchSubscriptionRequiredOverlayVisible),n=j(t.projectIsAdminForCurrentUser),i=Nf(),o=i==null?void 0:i.isProUser;if(!e)return null;if(n)return p.createElement(sW,{title:p.createElement(p.Fragment,null,"Glitch Membership Required"),actions:p.createElement(p.Fragment,null,p.createElement(_t,{size:"small",as:"a",href:`//${qoe}/settings/subscription`},"Subscription settings"))},p.createElement("p",null,"You need to be a Glitch Member in order for Private Code or Private Projects to run."),p.createElement("p",null,"Head over to your Subscription Settings page to resolve this. You can alternatively choose to"," ",p.createElement(iW,{as:"a",href:t.projectDownloadUrl(),onClick:()=>t.analytics.track("Project Downloaded",{clickLocation:"Uptime Limits Exceeded Overlay"})},"download your project")," ","or"," ",p.createElement(iW,{onClick:async()=>{await t.changeProjectPrivacy("public"),location.reload()}},"make it public")," ","(it'll take a few minutes for this to take effect)."));if(!n)return p.createElement(sW,{title:p.createElement(p.Fragment,null,"We can't run this project for you at the moment"),actions:p.createElement(p.Fragment,null,o&&p.createElement(_t,{variant:"secondary",size:"small",as:"a",href:t.remixURL(),onClick:()=>t.closeAllPopOvers()||!0,"data-testid":"glitch-subscription-required-remix"},"Remix this project ",p.createElement(tt,{icon:"microphone"})),p.createElement(G0,{application:t,location:"Glitch Subscription Required Overlay"}))},p.createElement("p",null,"This project's owner no longer has an active Glitch membership, so we can't run their private projects"),p.createElement("p",null,"You can ask them to make it public for you, or take one of the other actions below."))}var S7e=p.forwardRef(function({className:e},n){const i=Te(),o=K.exports.useRef(),s=K.exports.useCallback(l=>{n&&(n.current=l),o.current&&o.current!==l&&o.current.removeChild(i.editorElement),l&&l.appendChild(i.editorElement),o.current=l},[i,n]),a=K.exports.useRef(n);return a.current!==n&&(n&&(n.current=a.current.current),a.current.current=void 0,a.current=n),p.createElement("div",{className:e,ref:s})});const so="KEY_VALUE",yP="COMMENT",_P="INVALID_LINE";function T7e(t,e){const[n,...i]=t.split(e);return[n,i.length>0?i.join(e):null]}function oW(t){return t.replace(/\n/g,"\\n")}function C7e(t){return t.replace(/\\n/g,`
`)}function M7e(t){const[e]=t.match(/\S/)||[];if(e==="#"){const[u,d,f]=t.match(/(^\s*#\s*)(.*)/);return{type:yP,prefix:d,comment:f}}const[n,i]=T7e(t,"=");if(i===null)return{type:_P,text:t};const o=n.trim();if(o.match(/\s/)||o==="")return{type:_P,text:t};let s=i.trim(),a="";const[l]=s.match(/^("|')/)||[];l&&s.endsWith(l)&&(s=s.slice(1,-1),a=l);let c=s;return a==='"'&&(c=C7e(c)),{type:so,key:o,fullKey:n,value:c,escapedValue:s,fullValue:i,quote:a,originalQuote:a}}function A7e(t){if(t==="")return[];const e=t.split(`
`),n=[];for(const i of e)n.push(M7e(i));return n}function P7e(t){let e="";for(const n of t)if(!(n.type===so&&n.key==="")){if(n.type===so)e+=`${n.fullKey}=${n.fullValue}`;else if(n.type===yP)e+=`${n.prefix}${n.comment}`;else if(n.type===_P)e+=n.text;else throw new Error(`Invalid node type: ${n.type}`);e+=`
`}return e.slice(0,-1)}function R7e(t,e,n){const i=t[e];if(i.type!==so)return t;const o=n.trim(),s=qe(he({},i),{key:o,fullKey:i.fullKey.replace(i.key,o)}),a=t.slice();return a.splice(e,1,s),a}function L7e(t,e,n){const i=t[e];if(i.type!==so)return t;const o=n.match(/\n/)||n.match(/^\s/)||n.match(/\s$/)?'"':i.originalQuote,s=oW(n),a=i.fullValue.replace(`${i.quote}${i.escapedValue}${i.quote}`,`${o}${s}${o}`),l=qe(he({},i),{value:n,escapedValue:s,fullValue:a,quote:o}),c=t.slice();return c.splice(e,1,l),c}function aW(t,e,n){const i=t[e];if(i.type!==so||n===i.quote)return t;if(i.value.match(/\n/)&&n==="")throw new Error("values with newlines require quotes");const o=i.fullValue.replace(`${i.quote}${i.escapedValue}${i.quote}`,`${n}${i.escapedValue}${n}`),s=qe(he({},i),{fullValue:o,quote:n}),a=t.slice();return a.splice(e,1,s),a}function I7e(t,e,n){if(e.match(/\s/))throw new Error("Keys cannot contain whitespace");const i=oW(n),o=n!==i?'"':"",s={type:so,key:e,fullKey:e,value:n,escapedValue:i,fullValue:i,quote:o,originalQuote:o};return[...t,s]}function O7e(t,e){if(t[e].type!==so)return t;const i=t.slice();return i.splice(e,1),i}const N7e=Ye.div`
  width: 100%;
  padding: 12px 20px;
  overflow: auto;
`,k7e=Ye(tt)`
  transform: scale(0.75);
`,D7e=Ye.h1`
  font-size: 1.6em;
  margin-top: 0px;
`,lW=i=>{var o=i,{containerProps:t={},width:e="250px"}=o,n=cn(o,["containerProps","width"]);const s=t.style||{},a=qe(he({},s),{width:e,maxWidth:e,marginBottom:"8px"});return p.createElement(m2,qe(he({},n),{containerProps:qe(he({},t),{style:a})}))},F7e=Ye(lW)`
  font-weight: bold;
`,U7e=Ye(lW)`
  width: 200px;
`;function j7e({name:t,value:e,onNameChange:n,onValueChange:i,onDelete:o,className:s}){const a=Te(),l=t.match(/^\d/)!==null,c=l===!1&&t.length>0;return p.createElement("div",{className:s},p.createElement(F7e,{label:"Variable Name",value:t,placeholder:"Variable Name",onChange:u=>{n(u)},postfix:c?p.createElement(_t,{onClick:()=>{oa(t),a.notifyCopied(!0)},className:"no-button-styles",variant:"secondary",size:"small"},"copy"):null,error:l?"Variable names can't start with a number":null}),p.createElement(U7e,{type:"text",label:"Variable Value",value:e,placeholder:"Variable Value",onChange:u=>{i(u)}}),p.createElement(gI,{onClick:o,className:"no-button-styles"},p.createElement(k7e,{icon:"x"})))}const B7e=Ye(j7e)`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: 8px;
  flex-wrap: wrap;

  @media (max-width: 900px) {
    width: 100%;
    justify-content: flex-start;
    flex-direction: column;
    align-items: flex-start;
  }
`,V7e=Ye(ir)`
  max-width: 620px;
`,H7e=Ye(Kt)`
  margin: 32px 0px 16px;
`;function z7e({comment:t,className:e}){return p.createElement("div",{className:e},p.createElement("p",null,"# ",t))}const G7e=Ye(z7e)`
  background-color: var(--colors-secondaryBackground);
  font-family: monospace;
  border-radius: 3px;
  font-size: 14px;

  p {
    margin: 10px;
    padding: 10px 0px;
  }
`;function cW(t){const e=A7e(t);return e.reduce((n,i,o)=>i.type===so&&i.value.match(/\s/)&&i.quote===""?aW(n,o,'"'):n,e)}function $7e(t,e,n){const i=L7e(t,e,n);return i[e].value.match(/\s/)&&i[e].quote===""?aW(i,e,'"'):i}function W7e(t){const e=Te(),n=j(K.exports.useCallback(()=>t&&t.content(),[t])),[i,o]=K.exports.useState(()=>cW(n)),s=K.exports.useRef(n),a=K.exports.useRef(i);return K.exports.useEffect(()=>{n!==s.current&&(s.current=n,o(l=>{let c=cW(s.current);const u=l[l.length-1];return u&&u.type===so&&u.key===""&&u.value===""&&(c=c.concat(u)),a.current=c,c}))},[e,n]),K.exports.useEffect(()=>{i!==a.current&&(a.current=i,s.current=P7e(i),e.writeToFile(t,s.current))},[e,t,i]),[i,o]}function q7e(){const t=Te(),e=j(t.selectedFile),n=j(t.projectIsMemberOrMoreForCurrentUser),[i,o]=K.exports.useState(!1),[s,a]=wa("showTipForDotenv",!0),[l,c]=wa("showTipForDotenvKeys",!0),[u,d]=W7e(e);let f=!1;const h=()=>{const v=u[u.length-1];if(u.length>0&&v.type===so&&v.key===""&&v.value==="")return;const m=I7e(u,"","");d(m),i===!1&&(t.notifyDotenvUpdatesAsYouType(!0),o(!0))};return u.forEach(v=>{v.type==="COMMENT"&&(f=!0)}),p.createElement(N7e,null,p.createElement(D7e,null,"Environment Variables"),p.createElement(V7e,null,!n&&p.createElement(pt,{message:"Only project members can see the contents of a .env file.",variant:"onboarding",persistent:!0},p.createElement(ir,null,p.createElement("span",null,"Only project members can see the contents of a .env file."),p.createElement(Kt,null,p.createElement(_t,{as:"a",target:"_blank",rel:"noopener noreferrer",href:"https://glitch.com/help/kb/article/18-how-do-i-store-secrets-credentials-or-private-data/",className:"no-button-styles",variant:"secondary",size:"small"},"Learn More")))),l&&n&&f&&p.createElement(pt,{message:"Comments are visible in remixes. Make sure there are no secrets in your comments!",variant:"onboarding",persistent:!0},p.createElement(ir,null,p.createElement("span",null,"Comments are visible in remixes. Make sure there are no secrets in your comments!"),p.createElement(Kt,null,p.createElement(_t,{className:"no-button-styles",variant:"secondary",size:"small",onClick:()=>{c(!1)}},"Hide")))),s&&n&&p.createElement(pt,{message:`The .env file is for storing secrets for your app, like an API key. Any project member can see the contents in the same way
          that you can, and everyone else can just see the variable names.`,variant:"onboarding",persistent:!0},p.createElement(ir,null,p.createElement("span",null,p.createElement("b",null,"The .env file is for storing secrets for your app, like an API key.")," Any project member can see the contents in the same way that you can, and everyone else can just see the variable names."),p.createElement(Kt,null,p.createElement(_t,{as:"a",target:"_blank",rel:"noopener noreferrer",href:"https://glitch.com/help/kb/article/18-how-do-i-store-secrets-credentials-or-private-data/",className:"no-button-styles",variant:"secondary",size:"small"},"Learn How to Use Environment Variables"),p.createElement(_t,{className:"no-button-styles",variant:"secondary",size:"small",onClick:()=>{a(!1)}},"Hide")))),p.createElement("form",null,u.map(({key:v,value:m,type:_,comment:S},E)=>_===yP?p.createElement(G7e,{key:E,comment:S}):_===so?p.createElement(B7e,{key:E,name:v,value:m,onNameChange:w=>{d(T=>R7e(T,E,w))},onValueChange:w=>{d(T=>$7e(T,E,w))},onDelete:()=>{d(O7e(u,E)),t.notifyDotenvRemovedVariable(!0)}}):null)),n&&p.createElement(H7e,null,p.createElement(_t,{className:"no-button-styles",onClick:h},"Add a Variable"))))}function Y7e({element:t,visible:e}){const n=K.exports.useRef();return K.exports.useLayoutEffect(()=>{for(;n.current.firstChild;)n.current.removeChild(n.current.firstChild);t&&n.current.appendChild(t)},[t]),p.createElement("section",{className:dt("media-wrap",{hidden:!e}),ref:n})}function K7e(){const t=Te(),{createNotification:e}=Bl(),n=j(t.currentLicense),i=j(t.selectedFile),o=j(K.exports.useCallback(()=>i&&i.content(),[i])),s=K.exports.useMemo(()=>c4(o),[o]);return p.createElement("article",{className:"markdown-container"},n&&p.createElement("section",{className:"license-summary"},p.createElement("div",{className:"license-column"},p.createElement("p",{className:"column-title"},"Permissions"),p.createElement("ul",null,n.licensePermissions.map(a=>p.createElement("li",{key:a,className:"permission"},a)))),p.createElement("div",{className:"license-column"},p.createElement("p",{className:"column-title"},"Conditions"),p.createElement("ul",null,n.licenseConditions.map(a=>p.createElement("li",{key:a,className:"condition"},a)))),p.createElement("div",{className:"license-column"},p.createElement("p",{className:"column-title"},"Limitations"),p.createElement("ul",null,n.licenseLimitations.map(a=>p.createElement("li",{key:a,className:"limitation"},a))))),p.createElement("section",{className:"markdown-content",onErrorCapture:a=>{if(a.target.type!=="img"||!t.projectIsMemberOrMoreForCurrentUser())return;t.cspViolations().some(c=>c.blockedURI===a.target.src)&&e(ZF)},dangerouslySetInnerHTML:{__html:s}}))}const X7e=Object.keys(nU).map(t=>p.createElement(w4e,{key:t,template:nU[t],templateName:t})),J7e=F4(hee)`
  top: 55px;
  right: 20px;
`;function Z7e(){const t=Te(),e=j(t.selectedFile),n=j(t.markdownPreviewVisible),o=j(K.exports.useCallback(()=>$F(e),[e]))&&n,s=j(t.dotenvViewVisible),l=j(K.exports.useCallback(()=>oP(e),[e]))&&s;return K.exports.useEffect(()=>{t.refreshEditor()},[t,s]),l?p.createElement(q7e,null):o?p.createElement(K7e,null):p.createElement(S7e,null)}function Q7e(){const t=Te(),e=j(t.assets),n=j(t.editorIsPreviewingRewind),i=j(t.editorIsRewindingProject),o=j(t.notifyConnectionError),s=j(t.projectIsLoaded),a=j(t.assetsWrapVisible),l=j(t.appTypeConfigWrapVisible),c=j(t.editorWrapVisible),u=j(t.mediaWrapVisible),d=j(t.appPreviewVisible),f=j(t.embedAppPreviewSize),h=j(t.projectIsReadOnlyForCurrentUser),v=j(t.editorIsEmbedded),m=j(t.embedEditingEnabled),_=d||f===100,[S,E]=K.exports.useState(f===100);K.exports.useEffect(()=>{E(f===100)},[f]),K.exports.useLayoutEffect(()=>{t==null||t.refreshEditor()},[t,S]),K.exports.useEffect(()=>{t.notifyTakeActionToEdit(!1),!!s&&(h||v&&!m)&&t.notifyTakeActionToEdit(!0)},[t,v,m,h,s]);const w=j(t.mediaElement);return p.createElement("main",{id:"editor",className:dt({"editor-read-only":n||i,"editor-connection-error":o})},!S&&p.createElement("div",{className:"editor-container"},p.createElement(J7e,null,X7e,p.createElement(g7e,{application:t}),p.createElement(v7e,{application:t}),p.createElement(_7e,null),p.createElement(E7e,null),p.createElement(x7e,null),s?p.createElement(p.Fragment,null,p.createElement(m7e,null),p.createElement(C4e,null),p.createElement(Y7e,{element:w,visible:u}),p.createElement("section",{className:dt("assets-wrap",{hidden:!a})},p.createElement(Gke,null),p.createElement(P4e,null),e.length===0?p.createElement(R4e,null):p.createElement(un,{sx:{gap:2,justifyContent:"space-evenly",flexWrap:"wrap",padding:2}},e.map(T=>p.createElement(zke,{key:T.id,asset:T})))),p.createElement("section",{className:dt("app-type-config-wrap",{hidden:!l})},p.createElement(Xke,null)),p.createElement("section",{className:dt("editor-wrap",{hidden:!c||S}),role:"application",onDragStart:()=>{t.userIsDraggingText(!0)},onDragEnd:()=>{t.userIsDraggingText(!1)},onKeyDown:T=>{Dve(T.keyCode)||(t.editorIsPreviewingRewind()&&t.jigglePreviewingRewindNotification(!0),(t.projectIsReadOnlyForCurrentUser()||t.editorIsEmbedded()&&!t.embedEditingEnabled())&&t.jiggleTakeActionToEditNotification(!0))}},p.createElement(y9e,null),p.createElement(W9e,null),p.createElement(Z7e,null))):p.createElement(T4e,null))),p.createElement(X9e,{onClickClose:()=>{t.appPreviewVisible(!1)},onTransitionEnd:()=>{E(f===100)},visible:_}))}function eDe(){const t=Te();return j(t.editorVisible)?p.createElement(Q7e,null):null}function tDe(t,e=5e3){const n=K.exports.useMemo(()=>$e(t),[t]),[i,o]=K.exports.useState(()=>n.fromNow());return K.exports.useEffect(()=>{const s=setInterval(()=>{o(n.fromNow())},e);return()=>{clearInterval(s)}},[e,n]),i}var uW={exports:{}},bP=function(t,e){var n=[];return t=t.replace(/\*([^}]|$)/g,"{*}$1"),t=t.replace(/(\/)?(\.)?\{([^{]+)\}(?:\(([^)]+)\))?(\?)?(?=(.|$))/g,function(i,o,s,a,l,c,u){if(!/^(\w|\d|[_\-.*])+$/g.test(a))throw new Error("bad pattern name: "+a);return n.push(e({slash:o?"\\/":"",dot:s?"\\.":"",name:a,capture:l,optional:c,closed:u===""||u==="/"})),"@"}),t.replace(/([\\\/."])/g,"\\$1").replace(/@/g,function(){return n.shift()})},nDe=function(t,e){return t?(t='return "'+bP(t,function(n){return n.slash+n.dot+'"+params["'+n.name+'"]+"'})+'";',new Function("params",t.replace(/\+"";$/,";"))):function(){return""}},rDe=function(t,e){if(!t)return function(){return{}};var n=[];t=bP(t,function(a){return n.push(a.name),a.capture=a.capture||(a.name==="*"?".+?":"[^\\/]+"),a.optional=a.optional||(a.name==="*"?"?":""),(a.closed?"(?:"+a.slash+a.dot:a.slash+"(?:"+a.dot)+"("+a.capture+"))"+a.optional});for(var i=e.strict?"":"[\\/]?",o="var pattern=/^"+t+i+`$/i;
var match=str.match(pattern);
return match && {`,s=0;s<n.length;s++)n[s]==="*"?o+='"*":match['+(s+1)+'] || "","glob":match['+(s+1)+'] || ""':o+='"'+n[s]+'":match['+(s+1)+"]",o+=s+1<n.length?",":"";return o+="};",new Function("str",o)},iDe=function(t,e){e||(e={});var n=rDe(t,e),i=nDe(t),o={},s=function(a){return(typeof a=="string"?n:i)(a)};return bP(t||"",function(a){o[a.name]=!0}),o["*"]&&(o.glob=!0),s.variables=Object.keys(o),s.pattern=t||"",s},sDe=iDe,zE=uW.exports=function(t){if(!(this instanceof zE))return new zE(t);this._patterns=(t||[]).map(function(e){return[dW(e),e,void 0]})},dW=function(t){return typeof t=="string"?sDe(t):function(e){return e.match(t)}};zE.prototype.add=function(t,e){this._patterns.push([dW(t),t,e])};zE.prototype.match=function(t,e){var n=this,i=function(){return n.match(t,e+1)},o,s;e||(e=0);for(var a=this._patterns.length;e<a;e++)if(o=this._patterns[e],s=o[0](t),s)return{target:t,pattern:o[1],params:s,value:o[2],next:i};return null};var oDe=uW.exports;const aDe=oDe([/app is listening/,/app is running/]),fW=150;function lDe(t,e){if(!e)return null;for(const n of e){const i=new RegExp(`/app/(${oj(n)}(:\\d*)?)`),o=t.match(i),s=t.search(i);if(o){const a=s,l=o[0],c=l.length+s,u=o[1];return{start:a,matchedPath:l,path:u,end:c}}}return null}function cDe(t){return t.scrollHeight-t.scrollTop===t.clientHeight}function uDe(t){return t.scrollHeight-t.clientHeight}function dDe({entry:t}){const{timestamp:e,message:n,emoji:i,stream:o}=t,s=Te(),a=j(s.projectFilePaths),l=K.exports.useMemo(()=>lDe(n,a),[n,a]),c=K.exports.useMemo(()=>$e(e).format("LT"),[e]),u=K.exports.useMemo(()=>aDe.match(n),[n]),d=o==="stderr",f=o==="stdout"&&u,h=()=>{s.selectFileByLogPath(l.path)};return p.createElement("div",{className:dt("log-item",{"error-log":d,"success-log":f,"has-jump-button":l}),"data-testid":`log-entry:${t.id}`},p.createElement("pre",null,f&&p.createElement(p.Fragment,null,i," "),l?p.createElement(p.Fragment,null,p.createElement("button",{className:"button jump-to-button",onClick:h},"Jump To"),n.slice(0,l.start).trimLeft(),p.createElement("button",{className:"text",onClick:h},l.matchedPath),n.slice(l.end)):n),p.createElement("span",{className:"log-time"},c))}function fDe({entry:t}){const{timestamp:e}=t,n=K.exports.useMemo(()=>$e.min($e(e),$e()),[e]),i=tDe(n.valueOf());return p.createElement("div",{className:"log-item instance-divider","data-testid":`log-divider:${t.id}`},p.createElement("hr",null),p.createElement("span",{className:"log-time relative-time"},i))}const hDe=p.memo(function(e){const{entry:n}=e;if(n.type===UD)return p.createElement(dDe,he({},e));if(n.type===jD)return p.createElement(fDe,he({},e));throw new Error("Unknown log type.")}),pDe=1e3/60;function mDe(){const t=Te(),[e,n]=K.exports.useState(()=>t.logsData());return K.exports.useEffect(()=>{let i;const o=s=>{clearTimeout(i),i=setTimeout(()=>{n(s)},pDe*5)};return t.logsData.observe(o),n(t.logsData()),()=>{clearTimeout(i),t.logsData.stopObserving(o)}},[t,t.logsData]),e}function gDe(){const t=mDe(),e=K.exports.useRef(),[n,i]=K.exports.useState(!0),o=K.exports.useRef();return K.exports.useLayoutEffect(()=>{n&&o.current!==t&&(e.current.scrollTop=uDe(e.current),o.current=t)},[n,t]),p.createElement("div",{ref:e,className:"logs-scroll",onScroll:()=>{i(cDe(e.current))},"data-testid":"logs-scroll-list"},p.createElement("div",{className:"logs-container"},t.map(s=>p.createElement(hDe,{key:s.id,entry:s}))))}function vDe(){const t=Te(),e=j(t.debuggerEnabled),n=j(t.editorIsEmbedded),o=j(K.exports.useCallback(()=>t.fileByPath("package.json"),[t]))!==null,[s,a]=K.exports.useState(!1),[l,c]=wa("logsPanelHeight",Math.max(fW,window.innerHeight/3));K.exports.useLayoutEffect(()=>{t.refreshEditor()},[t,l]),K.exports.useEffect(()=>()=>{window.requestAnimationFrame(()=>{t.refreshEditor()})},[t]);const u=K.exports.useRef(null);return K.exports.useEffect(()=>{if(s){let d=null;const f=v=>{cancelAnimationFrame(d);const{pageY:m}=v;d=requestAnimationFrame(()=>{window.getSelection().removeAllRanges();const _=u.current.getBoundingClientRect(),S=window.innerHeight-_.bottom,w=window.innerHeight-m-S;c(Math.max(w,fW))})},h=()=>{a(!1)};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",h),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",h)}}},[s,c]),p.createElement("footer",{className:"logs-panel panel",style:{height:typeof l=="number"&&`${l}px`},"data-testid":"logs-panel",ref:u},p.createElement("div",{className:"resizer",onMouseDown:()=>{a(!0)},onDoubleClick:()=>{c(null)}}),p.createElement("header",{className:"header"},p.createElement("h1",null,"Logs"),p.createElement("div",{className:"controls"},p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button clear-logs",onClick:()=>{t.clearLogs()}},"Clear ",p.createElement(tt,{icon:"bomb"}))),!n&&e?p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button button-secondary",onClick:()=>{t.disableDebugger()}},"Stop Debugger ",p.createElement(tt,{icon:"octagonalSign"}))):p.createElement("div",{className:dt("button-wrap",{disabled:!o})},p.createElement("button",{className:"button button-debugger",disabled:!o,onClick:()=>{t.openDebugger()}},"Debugger",p.createElement("span",{className:"text-icon","aria-label":""},"\u2192"))),p.createElement("div",{className:"close icon",role:"button",onClick:()=>{t.logsPanelVisible(!1)},onKeyDown:ur(()=>{t.logsPanelVisible(!1)}),tabIndex:"0"}))),p.createElement(gDe,null))}function yDe(){const t=Te(),e=j(t.logsPanelVisible);return K.exports.useEffect(()=>{e&&t.analytics.track("Logs Viewed")},[t,e]),e?p.createElement(vDe,null):null}const hW=150;function _De(){const t=Te(),e=j(t.editorIsEmbedded),n=j(t.projectIsReadOnlyForCurrentUser),i=j(t.consoleUrl),[o,s]=K.exports.useState(!1),[a,l]=wa("consolePanelHeight",Math.max(hW,window.innerHeight/3)),c=j(t.projectIsMemberOrMoreForCurrentUser);K.exports.useLayoutEffect(()=>{t.refreshEditor()},[t,a]),K.exports.useEffect(()=>()=>{window.requestAnimationFrame(()=>{t.refreshEditor()})},[t]);const u=K.exports.useRef(null);return K.exports.useEffect(()=>{if(o){let d=null;const f=v=>{cancelAnimationFrame(d);const{pageY:m}=v;d=requestAnimationFrame(()=>{window.getSelection().removeAllRanges();const _=u.current.getBoundingClientRect(),S=window.innerHeight-_.bottom,w=window.innerHeight-m-S;l(Math.max(w,hW))})},h=()=>{s(!1)};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",h),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",h)}}},[o,l]),p.createElement("footer",{className:"console-panel panel",style:{height:typeof a=="number"&&`${a}px`},"data-testid":"console-panel",ref:u},p.createElement("div",{className:"resizer",onMouseDown:()=>{s(!0)},onDoubleClick:()=>{l(null)}}),p.createElement("header",{className:"header"},p.createElement("h1",null,"Terminal"),p.createElement("div",{className:"controls"},!e&&p.createElement("div",{className:"button-wrap"},p.createElement("a",{className:dt("button",{disabled:n}),href:i,onClick:()=>t.analytics.track("Full Page Terminal Viewed"),target:"_blank",rel:"noopener noreferrer"},"Full Page Terminal",p.createElement("span",{className:"text-icon","aria-label":""},"\u2192"))),p.createElement("div",{className:"close icon",role:"button",onClick:()=>{t.consolePanelVisible(!1)},onKeyDown:ur(()=>{t.consolePanelVisible(!1)}),tabIndex:"0"}))),c&&p.createElement("div",{className:"console-container"},p.createElement("iframe",{className:"console-frame",src:i,style:{pointerEvents:o?"none":"all"},title:"Console"})),!c&&p.createElement("div",{className:"console-container",style:{color:"white",fontFamily:"monospace"}},"Sorry. Only project members can view this window."))}function bDe(){const t=Te();return j(t.consolePanelVisible)?p.createElement(_De,null):null}const EP=Ye(mI)`
  -webkit-appearance: none;
  appearance: none;
  position: relative;
  width: inherit;
  height: 10px;
  border: solid var(--colors-border) 1px;
  border-radius: 12px;

  /* For Firefox, -moz-progress-value doesn't exist, so you use the element itself and -moz-progress-bar, rather than 
  -moz-progress-bar and -moz-progress-value */
  background-color: var(--colors-secondary-background);
  border-radius: 12px;
  &[value]::-moz-progress-bar {
    background-color: var(--colors-border);
    border-radius: 12px;
  }

  /* For others */
  &[value]::-webkit-progress-bar {
    background-color: var(--colors-secondary-background);
    border-radius: 12px;
  }
  &[value]::-webkit-progress-value {
    background-color: var(--colors-border);
    border-radius: 12px;
  }
`,pW=Ye.div`
  display: grid;
  position: relative;
  width: 80px;
  height: 10px;
`,EDe=Ye(pW)`
  /* Here we're using two triangles on top of each other and slightly offset to create the illusion of a border on the triangle 
  This is then placed on top of the progress bar to make it look like it has an angle */
  &:before {
    position: absolute;
    top: 0;
    right: 0.7px;
    content: '';
    width: 0;
    height: 0;
    border-bottom: 10px solid var(--colors-border);
    border-left: 10px solid transparent;
    z-index: 1;
  }
  &:after {
    position: absolute;
    top: 0;
    right: -0.7px;
    content: '';
    width: 0;
    height: 0;
    border-bottom: 11px solid var(--colors-background);
    border-left: 11px solid transparent;
    z-index: 1;
  }
`,wDe=Ye(pW)`
  /* Here we're using two triangles on top of each other and slightly offset to create the illusion of a border on the triangle 
  This is then placed on top of the progress bar to make it look like it has an angle */
  &:before {
    position: absolute;
    left: 0.7px;
    bottom: 0;
    content: '';
    width: 0;
    height: 0;
    border-top: 10px solid var(--colors-border);
    border-right: 10px solid transparent;
    z-index: 1;
  }
  &:after {
    position: absolute;
    left: -0.7px;
    bottom: 0;
    content: '';
    width: 0;
    height: 0;
    border-top: 11px solid var(--colors-background);
    border-right: 11px solid transparent;
    z-index: 1;
  }
`,xDe=Ye(EP)`
  border-radius: 12px 0 0 12px;

  /* For Firefox (see note above) */
  &[value]::-moz-progress-bar {
    border-radius: 12px 0 0 12px;
  }

  /* For others */
  &[value]::-webkit-progress-bar {
    border-radius: 12px 0 0 12px;
  }
  &[value]::-webkit-progress-value {
    border-radius: 12px 0 0 12px;
  }
`,SDe=Ye(EP)`
  border-radius: 0 12px 12px 0;

  /* For Firefox (see note above) */
  &[value]::-moz-progress-bar {
    border-radius: 0 12px 12px 0;
  }

  /* For others */
  &[value]::-webkit-progress-bar {
    border-radius: 0 12px 12px 0;
  }
  &[value]::-webkit-progress-value {
    border-radius: 12px 0 0 12px;
  }
`,TDe=Ye.div`
  position: relative;
  display: flex;
  width: 180px;
  height: 8px;
`;function mW({value:t,max:e,tooltip:n}){return p.createElement(TDe,null,p.createElement(EDe,null,p.createElement(xDe,{value:t,max:e},t)),p.createElement(wDe,null,p.createElement(SDe,{value:0,max:e,"data-tooltip":n},0)))}const CDe=Ye.div`
  background: ${t=>t.itemIsBoosted?"linear-gradient(12deg, #C454FF, #2800FF, #FA8A7C, #FE7DAB)":"var(--colors-border)"};
  border-radius: 14px;
  padding: 2px;
`,MDe=Ye.div`
  background: var(--colors-background);
  border: solid 2px transparent;
  border-radius: 12px;
  padding: 19px;
  height: 100%;
`,wP=Ye.div`
  font-family: monospace;
  font-size: 13px;
`,xP=Ye.div`
  font-size: 14px;
`,SP=Ye(EP)`
  width: 177px;
`,TP=t=>t>H7?"error":t>z7?"warning":"ok",CP=t=>`${t.toFixed(0)}%`,gW=(t,e)=>`${U4.format(t,{decimalPlaces:0})} / ${U4.format(e,{decimalPlaces:0})}`,W0=({title:t,iconTooltip:e,details:n,help:i,badgeStatus:o,itemIsBoosted:s,children:a})=>p.createElement(CDe,{itemIsBoosted:s},p.createElement(MDe,null,p.createElement(ir,null,p.createElement(Kt,null,p.createElement(ir,null,p.createElement(Kt,null,s!==void 0&&p.createElement(M4,{variant:s?"default":"inactive",size:"small",tooltip:e}),p.createElement(vI,{variant:o},t)),a),n&&p.createElement(wP,null,n)),i)));function ADe({memoryUsagePercent:t,memoryUsage:e,memoryLimit:n,itemIsBoosted:i}){const o=TP(t);return p.createElement(W0,{title:i?"Memory Boost":"Memory",iconTooltip:i?void 0:"Boosted Memory is inactive",details:p.createElement(p.Fragment,null,CP(t),p.createElement("br",null),gW(e,n)),help:o==="ok"?void 0:p.createElement(xP,null,"Large or inefficient processes, libraries or compilers that use too much RAM may get killed"),badgeStatus:o==="ok"?"success":o,itemIsBoosted:i},i?p.createElement(SP,{value:t,max:100},t):p.createElement(mW,{value:t,max:100,tooltip:"Boosted Memory potential"}))}function PDe({diskUsagePercent:t,diskUsage:e,diskSize:n,itemIsBoosted:i}){const o=TP(t);return p.createElement(W0,{title:i?"Disk Boost":"Disk",iconTooltip:i?void 0:"Boosted Disk Space is inactive",details:p.createElement(p.Fragment,null,CP(t),p.createElement("br",null),gW(e,n)),help:o==="ok"?void 0:p.createElement(xP,null,"You may have problems saving changes when your disk is full. Try removing unneeded files or deleting old data. Check out the"," ",p.createElement("a",{href:"https://help.glitch.com/kb/article/101-how-do-i-reduce-the-disk-space-that-my-project-is-using/",rel:"noreferrer",target:"_blank"},"help center guide")," ","on how to do this."),badgeStatus:o==="ok"?"success":o,itemIsBoosted:i},i?p.createElement(SP,{value:t,max:100},t):p.createElement(mW,{value:t,max:100,tooltip:"Boosted Disk potential"}))}function RDe({quotaUsagePercent:t}){const e=TP(t);return p.createElement(W0,{title:"CPU",details:CP(t),help:e==="ok"?void 0:p.createElement(xP,null,"This may be caused by large or inefficient processes, libraries or compilers"),badgeStatus:e==="ok"?"success":e},p.createElement(SP,{value:t,max:100},t))}function LDe({itemIsBoosted:t}){return p.createElement(W0,{title:"Always On",iconTooltip:t?void 0:"Always On is inactive",badgeStatus:t?"success":"inactive",itemIsBoosted:t},p.createElement(wP,null,t?"ACTIVATED":"OFF"))}function IDe({itemIsBoosted:t}){return p.createElement(W0,{title:t?"Rate Limit Boost":"Rate Limit",iconTooltip:t?void 0:"Boosted Rate Limit is inactive",badgeStatus:t?"success":"inactive",itemIsBoosted:t},p.createElement(wP,null,t?"Unlimited requests per hour":"4000 requests per hour"))}const ODe=Ye(M4)`
  margin-right: 4px;
  position: relative;
  top: -1px;
`;function NDe(){const t=Te(),e=j(t.currentProjectIsBoosted),[n,i]=wa("dismissedBoostedNotificationStatusPanel"),o=j(t.containerStatsPanelVisible),s=j(t.projectContainerResourcesDataLoaded),a=j(t.projectContainerResourcesStatus),l=j(t.projectIsAdminForCurrentUser),{quotaUsagePercent:c,memoryUsagePercent:u,diskUsagePercent:d,memoryUsage:f,memoryLimit:h,diskUsage:v,diskSize:m}=j(t.projectContainerResourcesData),[_,S]=K.exports.useState(!1),E=Math.min(390,Math.floor(window.innerHeight/2)),[w,T]=K.exports.useState(E),C=Nf(),P=T4();K.exports.useEffect(()=>{if(_){let I=null;const F=V=>{cancelAnimationFrame(I),I=requestAnimationFrame(()=>{V.preventDefault(),window.getSelection().removeAllRanges(),T(Math.floor(window.innerHeight-V.pageY))})};document.addEventListener("mousemove",F);const O=()=>{S(!1)};return document.addEventListener("mouseup",O),()=>{document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",O)}}},[_]),K.exports.useEffect(()=>{const I=window.requestAnimationFrame(t.refreshEditor);return()=>{window.cancelAnimationFrame(I)}},[t,w]);const R=()=>{S(!0)},A=()=>{T(E)},L=I=>{I.preventDefault(),t.containerStatsPanelVisible(!1)};if(!o)return null;const k=!e&&!n&&!(C==null?void 0:C.isProUser)&&s,U="Learn More About Boosted Apps",N="/pricing";return p.createElement("footer",{id:"container-stats-panel",className:"container-stats-panel panel",style:{height:`${w}px`}},p.createElement("div",{className:"resizer",onMouseDown:R,onDoubleClick:A}),p.createElement("header",{className:"header"},p.createElement(Kt,null,p.createElement("h1",null,e?"Boosted App Status":"App Status"),s?p.createElement("div",{className:"controls"},p.createElement(vI,{variant:a==="ok"?"success":a},a==="ok"?"Ok":"Warn")):p.createElement(mn,null)),p.createElement("div",{className:"close icon",onClick:L,onKeyPress:ur(L),role:"button",tabIndex:"0"})),k&&p.createElement("section",null,p.createElement(pt,{persistent:!0,variant:"onboarding",message:"Boost your memory, disk space, and more with Boosted Apps","data-testid":"boosted-status-panel-notification"},p.createElement(ir,null,p.createElement("span",null,p.createElement("strong",null,"Boost your memory, disk space, and more with Boosted Apps.")," Turn off app sleeping and remove your app's rate limit."),p.createElement(Kt,null,p.createElement("a",{href:`//glitch.com${N}`,className:"sign-in-button button button-cta button-small",target:"_blank",rel:"noopener noreferrer",onClick:()=>{t.analytics.track("Subscription CTA Clicked",{targetText:U,url:window.location.pathname,href:N})}},U),p.createElement("button",{className:"button button-small button-secondary",onClick:()=>{i(!0)},"data-testid":"boosted-status-panel-notification-hide"},"Hide"))))),p.createElement("section",null,s?p.createElement(p.Fragment,null,p.createElement(ADe,{memoryUsagePercent:u,memoryUsage:f,memoryLimit:h,itemIsBoosted:e}),p.createElement(PDe,{diskUsagePercent:d,diskUsage:v,diskSize:m,itemIsBoosted:e}),p.createElement(RDe,{quotaUsagePercent:c}),p.createElement(LDe,{itemIsBoosted:e}),l&&(C==null?void 0:C.isProUser)&&p.createElement(IDe,{itemIsBoosted:!0})):p.createElement(mn,null)),P.projectBoostState!==$_&&p.createElement("section",null,p.createElement(Kt,null,p.createElement(C4,he({},P),I=>p.createElement(p.Fragment,null,p.createElement(ODe,{variant:"default",size:"small"}),p.createElement("span",null,I))),P.projectBoostState===W_&&C&&p.createElement("a",{href:`/@${C.login}/boosted-apps`,className:"button button-small"},"Manage Boosted Apps"))))}function kDe({file:t,showTooltipOnTop:e}){const n=Te(),i=j(n.rewindLargestChangeSize),o={};if(i===null)o.flex=t.changeSize;else{const s=Math.round(t.changeSize/i*100),a=Math.max(12,Math.round(s));o.height=`${a}%`}return p.createElement("div",{className:dt("rewind-file",P7(t.path)),style:o,"data-tooltip-left":!0,"data-tooltip-top":e||void 0,"data-tooltip":t.path})}function vW(t){return t?t.commitMessage.includes("Rewound to commit"):!1}function DDe({revision:t,previousRevision:e,user:n,index:i}){const o=j(n.id),s=j(n.color),a=j(n.gitUser),l=j(n.isGlitchRewind),c=K.exports.useCallback(m=>{const _=m.editsByUser.find(S=>S.user===o);return _?_.files:m.gitEdits.files.length&&m.gitUser===a?m.gitEdits.files:[]},[o,a]),u=vW(t),d=vW(e),f=K.exports.useMemo(()=>c(t),[t,c]),h=K.exports.useMemo(()=>e&&u===d?c(e):[],[e,c,u,d]);if(f.length===0||l!==u)return p.createElement("div",{className:"rewind-item cell"});const v=i>=2;return p.createElement("div",{className:"rewind-item cell"},p.createElement("div",{className:"revisions"},f.map((m,_)=>p.createElement(kDe,{key:_,showTooltipOnTop:v,file:m}))),h.length===0&&p.createElement("div",{className:"person-container"},l?p.createElement("span",{className:"person"},p.createElement("div",{className:"avatar",style:{backgroundColor:s},"data-tooltip":"Glitch Rewind","data-tooltip-left":!0},p.createElement("span",{className:"rewind icon rewind-icon"}))):p.createElement(d4,{user:n,showPopOnClick:!1,hideOnlineStatus:!0,showTooltipOnTop:v})))}function FDe({revision:t,previousRevision:e,nextRevision:n,highlighted:i,select:o,users:s}){const{dateTime:a,monthDay:l,time:c,year:u}=K.exports.useMemo(()=>{const h=$e(new Date(t.timestamp*1e3));return{dateTime:h.format(),monthDay:h.format("MMM Do"),time:h.format("LT"),year:h.format("YYYY")}},[t.timestamp]),{showMonthDay:d,showYear:f}=K.exports.useMemo(()=>{if(!e||!n)return{showMonthDay:!0,showYear:!0};const h=$e(new Date(n.timestamp*1e3));return{showMonthDay:h.format("MMM Do")!==l,showYear:h.format("YYYY")!==u}},[e,n,l,u]);return p.createElement("div",{className:dt("rewind-column",{highlighted:i}),"data-revision-id":t.hash,onClick:o},p.createElement("div",{className:"time cell"},p.createElement("time",{dateTime:a,title:a,className:"time-label"},p.createElement("span",{className:dt("time-label-year",!f&&"time-label-year-show-on-hover")},u),p.createElement("span",{className:dt("time-label-monthday",!d&&"time-label-monthday-show-on-hover")},l),p.createElement("span",{className:"time-label-time"},c))),s.map((h,v)=>p.createElement(DDe,{key:v,index:v,revision:t,previousRevision:e,user:h})))}function UDe(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}var jDe=UDe,BDe=jDe,MP=JT;function VDe(t,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=MP(n),n=n===n?n:0),e!==void 0&&(e=MP(e),e=e===e?e:0),BDe(MP(t),e,n)}var HDe=VDe;function zDe(t=50){const[e,n]=K.exports.useState(t),[i,o]=K.exports.useState(!1),s=K.exports.useRef(),a=K.exports.useRef();return K.exports.useEffect(()=>{if(i){let l=null;const c=v=>{window.cancelAnimationFrame(l),l=window.requestAnimationFrame(()=>{const{width:m}=s.current.getBoundingClientRect(),{x:_}=a.current.getBoundingClientRect();n(S=>HDe(S-(v-_),0,m))})},u=v=>c(v.pageX),d=v=>c(v.touches[0].pageX),f=()=>{o(!1)},h=f;return document.addEventListener("mousemove",u),document.addEventListener("touchmove",d),document.addEventListener("mouseup",f),document.addEventListener("touchend",h),()=>{document.removeEventListener("mousemove",u),document.removeEventListener("touchmove",d),document.removeEventListener("mouseup",f),document.removeEventListener("touchend",h)}}},[i]),{dragging:i,parentRef:s,position:e,setPosition:n,playheadProps:{ref:a,position:e,startDragging:()=>{o(!0)}}}}var GDe=p.forwardRef(function({position:e,startDragging:n},i){return p.createElement("div",{ref:i,className:"playhead",onMouseDown:n,onTouchStart:n,style:{right:`${e}px`}},p.createElement("div",{className:"playhead-arrow icon"}),p.createElement("div",{className:"tail"}))});function $De(t=null){const e=Te(),[n,i]=K.exports.useState(t),[o,s]=K.exports.useState(!1),a=K.exports.useRef();return K.exports.useEffect(()=>{if(o){let l;const c=d=>{cancelAnimationFrame(l);const{pageY:f}=d;l=requestAnimationFrame(()=>{window.getSelection().removeAllRanges();const h=a.current.getBoundingClientRect(),v=window.innerHeight-h.bottom,_=window.innerHeight-f-v;i(_)})},u=()=>{s(!1)};return document.addEventListener("mousemove",c),document.addEventListener("mouseup",u),()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u)}}},[o]),K.exports.useLayoutEffect(()=>{e.refreshEditor()},[e,n]),{panelRef:a,height:n,resizing:o,panelStyle:{height:typeof n=="number"?`${n}px`:n},startResizing:()=>{s(!0)},resetSize:()=>{i(t)}}}function WDe({revision:t}){const e=t&&t.commitMessage;return p.createElement("div",{className:dt("commit-message",e&&"commit-message-filled")},e&&e,!e&&"\xA0")}function qDe({onClickClose:t}){const e=Te(),n=j(e.gettingRewinds),i=j(e.rewindRevisions),o=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--rewind-revision-width"),10),s=j(e.rewindUsers),a=j(e.displayedRevision),l=n||i===null||s===null,c=K.exports.useRef();K.exports.useEffect(()=>{const A=e.initRewind();return()=>{A.then(e.cleanupRewinds)}},[e]);const u=K.exports.useCallback(A=>{e.selectRevision(A,!1),e.analytics.track("Rewind Checkpoint Previewed",{checkpointDate:new Date(i[A].timestamp*1e3).toISOString()})},[e,i]);K.exports.useLayoutEffect(()=>{c.current&&(c.current.scrollLeft=c.current.scrollWidth)},[l]);const{parentRef:d,dragging:f,position:h,setPosition:v,playheadProps:m}=zDe(o),{panelRef:_,panelStyle:S,startResizing:E,resetSize:w}=$De(window.innerHeight/3),T=Math.max(0,Math.ceil(h/o)-1),C=i?i[T-1]:null,P=K.exports.useRef(f);K.exports.useEffect(()=>{f!==P.current&&!f&&a!==C&&u(T),P.current=f},[f,u,a,i,C,T]);const R=()=>{u(0),v(o)};return p.createElement("footer",{id:"rewind-panel",className:"rewind-panel panel",ref:_,style:S},p.createElement("div",{className:"resizer",onMouseDown:E,onDoubleClick:w}),p.createElement("header",{className:"header"},p.createElement("h1",null,"Rewind"),p.createElement(WDe,{revision:C}),p.createElement("div",{className:"close icon",role:"button",tabIndex:"0",onClick:t,onKeyDown:ur(t)})),l&&p.createElement("div",{className:"loading-rewinds"},p.createElement(mn,null)),!l&&p.createElement("div",{ref:c,className:"rewind-graph"},p.createElement("div",{className:"rewind-columns-container",style:{width:`${(i.length+1)*o}px`},ref:d},p.createElement("div",{className:dt("rewind-column now",{highlighted:T===0}),onClick:R},p.createElement("div",{className:"time cell"},p.createElement("span",{className:"time-label"},"Now")),s.map((A,L)=>p.createElement("div",{key:L,className:"rewind-item cell"}))),i.map((A,L)=>p.createElement(FDe,{key:A.hash,revision:A,previousRevision:i[L-1],nextRevision:i[L+1],highlighted:L+1===T,select:()=>{u(L+1),v((L+2)*o)},users:s})),p.createElement(GDe,he({},m)))))}function YDe(){const t=Te(),e=j(t.rewindPanelVisible);return K.exports.useEffect(()=>{e&&t.analytics.track("Rewind Panel Viewed")},[t,e]),e?p.createElement(qDe,{onClickClose:()=>{t.rewindPanelVisible(!1)}}):null}function KDe({user:t}){const e=j(t.login)||"Anonymous",n=j(t.profileUrl);return p.createElement("span",{className:"person","data-tooltip":e,"data-tooltip-top":!0},p.createElement("a",{href:n,"aria-label":e,target:"_blank",rel:"noopener noreferrer"},p.createElement(GF,{user:t,hideOnlineStatus:!0})))}const GE="SHARE_PROJECT_PAGE",AP="SHARE_APP",PP="SHARE_CODE";function XDe({hideSecretsMessage:t=!1}){const e=Te(),n=j(e.projectAccessLevelForCurrentUser),i=j(e.projectIsLoaded),o=j(e.projectIsPrivate),s=j(e.publishedUrl),a=j(e.editorUrl),[l,c]=K.exports.useState(GE),u=j(K.exports.useCallback(()=>{if(e.currentProject()){const{origin:d}=document.location,f=e.currentProject().projectPageUrl();return`${d}${f}`}return""},[e]));return p.createElement(p.Fragment,null,p.createElement("div",{className:"button-wrap"},p.createElement("div",{className:"segmented-buttons"},p.createElement("button",{className:dt("button",{active:l===GE}),onClick:()=>{c(GE)}},"Project Page"),p.createElement("button",{className:dt("button",{active:l===AP}),onClick:()=>{c(AP)}},"Live App"),p.createElement("button",{className:dt("button",{active:l===PP}),onClick:()=>{c(PP)}},"Code"))),l===GE&&p.createElement(p.Fragment,null,o&&p.createElement("p",null,p.createElement("span",{className:"private-icon is-private"})," Only project members or teams can view"),p.createElement("p",null,p.createElement("input",{className:"input share-link project-page-url",value:u,readOnly:!0}),p.createElement("button",{className:"button button-copy-only-style",onClick:()=>{e.analytics.track("Glitch Link Copied",{linkType:"project page"}),oa(u)}},"copy"))),l===AP&&p.createElement("p",null,p.createElement("input",{className:"input share-link app-url",value:s,readOnly:!0}),p.createElement("button",{className:"button button-copy-only-style",onClick:()=>{e.analytics.track("Glitch Link Copied",{linkType:"live app"}),oa(s)}},"copy")),l===PP&&p.createElement(p.Fragment,null,o&&p.createElement("p",null,p.createElement("span",{className:"private-icon is-private"})," Only project members or teams can view"),!o&&!t&&n>=Tt.MEMBER&&p.createElement("p",null,p.createElement("span",{className:"secrets-sidebar-icon"})," Non-members won't be able to see your .env file secrets"),i?p.createElement("p",null,p.createElement("input",{className:"input share-link app-url",value:a,readOnly:!0}),p.createElement("button",{className:"button-copy-only-style",onClick:()=>{e.analytics.track("Glitch Link Copied",{linkType:"code"}),oa(a)}},"copy")):p.createElement(mn,null)))}function JDe(){const t=Te(),e=j(K.exports.useCallback(()=>t.currentProject()?t.currentProject().projectPageUrl():null,[t])),n=j(t.projectAvatarImage),i=j(t.projectName),o=j(K.exports.useCallback(()=>t.currentProject()?t.currentProject().users():[],[t])),s=K.exports.useMemo(()=>o.map(S=>({key:S.id,user:Ys(S)})),[o]),a=j(t.editorUrl),l=j(t.publishedUrl),c=j(t.embedAppPreviewSize),u=j(t.embedAttributionHidden),d=j(t.embedBottombarCollapsed),f=c===100,h=!f,[v,m]=K.exports.useState(null);K.exports.useEffect(()=>t.onCloseAllPopOvers(()=>{m(null)}),[t]);const _=K.exports.useCallback(S=>{S&&S.querySelector(".project-page-url").select()},[]);return d?null:p.createElement("div",{className:"embed-helper"},p.createElement("a",{className:"project-name",href:e,target:"_blank",rel:"noopener noreferrer"},p.createElement("img",{className:"project-avatar",src:n,alt:`Avatar for ${i}`}),i),u?p.createElement("div",{style:{flex:1}}):p.createElement(p.Fragment,null,p.createElement("div",{className:"preposition"},"by"),p.createElement("div",{className:"collaborators"},p.createElement("div",{className:"grouped-avatars"},s.map(({key:S,user:E})=>p.createElement(KDe,{key:S,user:E}))))),p.createElement("div",{className:"share-project"},p.createElement("button",{className:dt("button opens-pop-over",{active:v!==null}),onClick:S=>{const E=S.currentTarget.getBoundingClientRect();m(w=>w?null:{top:"initial",bottom:window.innerHeight-E.top+5,left:"initial",right:window.innerWidth-E.right}),t.analytics.track("Share Menu Viewed")}},p.createElement("span",{className:"label"},"Share")),v&&p.createElement(Eg,null,p.createElement("dialog",{ref:_,className:"pop-over embed-share-pop",style:v},p.createElement("section",{className:"actions"},p.createElement(XDe,{hideSecretsMessage:!0}))))),p.createElement("div",{className:"switch-view"},f&&p.createElement("button",{className:"button view-source","data-testid":"view-source",onClick:()=>{t.appPreviewVisible(!1),t.appPreviewIsCollapsed(!0),t.appPreviewSize(0),t.embedAppPreviewSize(0),t.analytics.page("Editor"),t.analytics.track("Project Source Viewed"),t.trackFileHelper(t.selectedFile(),"File Viewed")}},"View Source"),h&&p.createElement("button",{className:"button view-app",onClick:()=>{t.embedAppPreviewSize(100)}},"View App")),p.createElement("div",{className:"fullscreen-button"},p.createElement("a",{className:"button",href:h?a:l,target:"_blank",rel:"noopener noreferrer","aria-label":h?"Open Source":"Open App"},p.createElement("span",{className:"fullscreen emoji"}))),p.createElement("div",{className:"helper-icon"},p.createElement("a",{className:"glitch-logo",href:e,target:"_blank",rel:"noreferrer noopener","aria-label":i})))}function ZDe(){const t=Te(),e=j(t.editorIsEmbedded),n=j(t.currentProject);return!e||!n?null:p.createElement(JDe,null)}function QDe({isMac:t,all:e=[],mac:n=[],nonMac:i=[]}){const o=t?n.map(a=>p.createElement("div",{key:a,className:"key mac-shortcut"},a)):i.map(a=>p.createElement("div",{key:a,className:"key all-shortcut"},a)),s=e.map(a=>p.createElement("div",{key:a,className:"key all-shortcut"},a));return p.createElement("div",{className:"shortcuts"},s.concat(o))}function Di({title:t,isMac:e=!1,all:n=[],mac:i=[],nonMac:o=[]}){return p.createElement("div",{className:"shortcut"},t,": ",p.createElement(QDe,{isMac:e,all:n,mac:i,nonMac:o}))}function eFe(){const t=Te(),e=j(t.keyboardShortcutsOverlayVisible),n=t.isAppleDevice;return e?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay keyboard-shortcuts-overlay"},p.createElement("section",{className:"info"},p.createElement("h1",null,"Keyboard Shortcuts ",p.createElement(tt,{icon:"musicalKeyboard"}))),p.createElement("section",{className:"info"},p.createElement("h2",null,"Global"),p.createElement(Di,{title:"Show this list",isMac:n,all:["?"]}),p.createElement(Di,{title:"Show app in new window",isMac:n,mac:["\u2318\u2013Shift\u2013R"],nonMac:["Ctrl\u2013Shift\u2013R"]}),p.createElement(Di,{title:"Show app next to the code",isMac:n,mac:["\u2318\u2013Shift\u2013U"],nonMac:["Ctrl\u2013Shift\u2013U"]}),p.createElement(Di,{title:"Project search",isMac:n,mac:["\u2318\u2013P","\u2318\u2013K"],nonMac:["Ctrl\u2013P","Ctrl\u2013K","Ctrl\u2013;"]}),p.createElement(Di,{title:"Sidebar toggle",isMac:n,mac:["\u2318\u2013I"],nonMac:["Ctrl\u2013I"]}),p.createElement(Di,{title:"Rewind toggle",isMac:n,mac:["\u2318\u2013Shift\u2013M"],nonMac:["Ctrl\u2013Shift\u2013M"]}),p.createElement(Di,{title:"Close dialog",all:["ESC"]})),p.createElement("section",{className:"info"},p.createElement("h2",null,"Advanced"),p.createElement(Di,{title:"Export to GitHub",isMac:n,mac:["\u2318\u2013Shift\u2013E"],nonMac:["Ctrl\u2013Shift\u2013E"]}),p.createElement(Di,{title:"Logs toggle",isMac:n,mac:["\u2318\u2013Shift\u2013L"],nonMac:["Ctrl\u2013Shift\u2013L"]}),p.createElement(Di,{title:"Open console",isMac:n,mac:["\u2318\u2013Shift\u2013X"],nonMac:["Ctrl\u2013Shift\u2013X"]})),p.createElement("section",{className:"info"},p.createElement("h2",null,"Text Editing"),p.createElement(Di,{title:"Find text",isMac:n,mac:["\u2318\u2013F"],nonMac:["Ctrl\u2013F"]}),p.createElement(Di,{title:"Find and replace",isMac:n,mac:["\u2318-\u2325\u2013F"],nonMac:["Ctrl\u2013Alt\u2013F"]}),p.createElement(Di,{title:"Jump to line",all:["Ctrl\u2013G"]}),p.createElement(Di,{title:"Search files",isMac:n,mac:["\u2318\u2013Shift\u2013F"],nonMac:["Ctrl\u2013Shift\u2013F"]}),p.createElement(Di,{title:"Format file/selection",isMac:n,mac:["\u2318-\u2325\u2013S"],nonMac:["Ctrl\u2013Alt-S"]})),p.createElement("section",{className:"info"},p.createElement("p",null,"(Text editing shortcuts are mostly like Sublime Text)")))):null}const tFe=Ye(Kt)`
  justify-content: space-between;
`;function nFe(){const t=Te(),e=j(t.projectIsSuspendedOverlayVisible),n=j(t.currentProject),i=j(K.exports.useCallback(()=>n&&n.name(),[n]))||"Your project",o=j(K.exports.useCallback(()=>n&&n.suspendedReason(),[n]))||"Violating Terms of Service",s=j(t.projectIsMemberOrMoreForCurrentUser),a=j(t.projectDownloadUrl);let l;return o==="Disk space full: This project has exceeded the disk space limit."||o==="Preparing error: The project cannot open."?l="Support can help! Please contact support@glitch.com to regain access.":l="If you think this was done in error, email support@glitch.com.",e?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay project-is-suspended-overlay overlay-narrow"},p.createElement("section",{className:"danger-zone"},p.createElement("h1",null,"This project has been suspended")),p.createElement("section",{className:"actions"},p.createElement("p",null,"Reason for suspension: ",o),p.createElement("p",null,l)),p.createElement("section",{className:"info"},p.createElement(tFe,null,p.createElement(Kt,null,p.createElement(_t,{as:"a",href:`mailto:support@glitch.com?subject=Suspended%20project:%20${i}`,target:"_blank",rel:"noopener noreferrer",variant:"secondary",size:"small"},"Email Support"),s&&p.createElement(_t,{variant:"secondary",size:"small",as:"a",href:a,onClick:()=>t.analytics.track("Project Downloaded",{clickLocation:"Suspended Overlay"})},"Download Project")),p.createElement("a",{href:"//glitch.com"},"Back to Glitch"))))):null}const rFe="showNewStuff",iFe="newStuffReadId",yW=3,_W=[{color:"#FFFE01"},{color:"#C5BCF0"},{color:"#6DE9A9"}];function sFe(){const t=Te(),e=j(t.newStuffOverlayVisible),[n,i]=wa(rFe,!0),[o,s]=wa(iFe,0),a=j(K.exports.useCallback(()=>{const c=t.newStuffLog.updates(),d=t.newStuffLog.totalUpdates()-o;return c.slice(0,Math.min(d,yW)||yW)},[t.newStuffLog,o])),l=K.exports.useRef(e);return K.exports.useEffect(()=>{l.current&&!e&&a.length>0&&s(a[0].id),l.current=e},[s,a,e]),e?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay new-stuff-overlay overlay-narrow"},p.createElement("section",{className:"info"},p.createElement("figure",{className:"new-stuff-doggo"}),p.createElement("h1",null,"New Stuff"),p.createElement("div",{className:"button-wrap"},p.createElement("label",{className:"button",htmlFor:"keep-showing-me-these-checkbox"},p.createElement("input",{type:"checkbox",id:"keep-showing-me-these-checkbox",className:"input",checked:n,onChange:c=>i(c.target.checked)}),"Keep showing me these"))),a.map((c,u)=>p.createElement("section",{className:"info",key:c.id},p.createElement(pee,he({},_W[u%_W.length]),p.createElement("h2",null,c.title)),p.createElement("div",{dangerouslySetInnerHTML:{__html:A2e(c.body)}}),c.link&&p.createElement("p",null,p.createElement("a",{className:"link",href:c.link},"Read the blog post \u2192")))))):null}const q0="SNIPPET_IFRAME",bW="SNIPPET_MEDIUM";function oFe(){const t=Te(),e=j(t.embedSelectedFilePath),n=j(K.exports.useCallback(()=>{const i=t.selectedFile();return i?i.path():null},[t]));return e||n}function aFe(t,e,n,i){return Te().embedUrl({previewSize:e,attributionHidden:n,sidebarCollapsed:i,path:t,previewFirst:!1})}function lFe(t,e,n,i){const o=Te(),s=j(o.editorUrl),a=$f.stringify({previewSize:e,attributionHidden:n,sidebarCollapsed:i,path:t,previewFirst:!1});return`${s}?${a}`}function cFe(){const t=Te(),e=j(t.projectIsPrivate),n=j(K.exports.useCallback(()=>t.currentProject()?t.currentProject().domain():null,[t])),[i,o]=wa("embedAppPreviewSize",0),[s,a]=wa("embedAttributionHidden",!1),l=oFe(),c=j(t.embedSidebarCollapsed),u=aFe(l,i,s,c),d=lFe(l,i,s,c),[f,h]=K.exports.useState(q0),v=K.exports.useRef(u),m=y_`
    <!-- Copy and Paste Me -->
    <div class="glitch-embed-wrap" style="height: 420px; width: 100%;">
      <iframe
        src="${u}"
        title="${n} on Glitch"
        allow="geolocation; microphone; camera; midi; encrypted-media; xr-spatial-tracking; fullscreen"
        allowFullScreen
        style="height: 100%; width: 100%; border: 0;">
      </iframe>
    </div>
`,_=K.exports.useRef(null),S=w=>{_.current&&_.current.contentWindow.postMessage(w,"*")};K.exports.useEffect(()=>{S(Bm({embedAppPreviewSize:i}))},[t,i]),K.exports.useEffect(()=>{S(Bm({embedAttributionHidden:s}))},[s]);const E=()=>{a(w=>!w)};return p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay share-embed-overlay"},p.createElement("section",{className:"info"},p.createElement("h1",null,"Embed App")),p.createElement("section",{className:"section-wrapper"},p.createElement("div",{className:"section-embed"},p.createElement("div",{className:"glitch-embed-wrap"},p.createElement("iframe",{className:"glitch-embed-iframe",src:v.current,allow:"geolocation; microphone; camera; midi; encrypted-media; xr-spatial-tracking; fullscreen",allowFullScreen:!0,alt:"Example share embed",title:`${n} embed`,onLoad:()=>{S(Bm({embedParentIsGlitch:!0})),S(Bm({embedAppPreviewSize:i})),S(Bm({embedAttributionHidden:s}))},ref:_})),e&&p.createElement("p",null,p.createElement("span",{className:"private-icon"})," Only project members will be able to view")),p.createElement("div",{className:"section-embed-options"},p.createElement("div",{className:"button-wrap"},p.createElement("div",{className:"segmented-buttons"},p.createElement("button",{className:dt("button button-small",{active:i===100}),onClick:()=>{o(100)}},"Show App"),p.createElement("button",{className:dt("button button-small",{active:i===0}),onClick:()=>{o(0)}},"Show Code"))),i===0&&p.createElement("p",null,"Change files or collapse the filetree to customize"),p.createElement("div",{className:"button-wrap"},p.createElement("label",{htmlFor:"attribution-hidden-checkbox",className:"button button-small",onKeyDown:ur(E)},p.createElement("input",{id:"attribution-hidden-checkbox",className:"input pointer-events-none",type:"checkbox",checked:s,onChange:E,tabIndex:"-1"}),"Hide Attribution")),p.createElement("div",{className:"button-wrap"},p.createElement("div",{className:"segmented-buttons"},p.createElement("button",{className:dt("button button-small",{active:f===q0}),onClick:()=>{h(q0)}},"iframe"),p.createElement("button",{className:dt("button button-small",{active:f===bW}),onClick:()=>{h(bW)}},"Medium"))),p.createElement("div",{className:"input-wrap"},p.createElement("textarea",{className:"textarea",readOnly:!0,value:f===q0?m:d}),p.createElement("button",{className:"button button-copy-only-style button-large",onClick:()=>{oa(f===q0?m:d),t.analytics.track("Embed Code Copied")}},"Copy Embed Code"))))))}function uFe(){const t=Te(),e=j(t.projectIsLoaded),n=j(t.shareEmbedOverlayVisible);return!e||!n?null:p.createElement(cFe,null)}function dFe({results:t}){const e=Te(),n=t[0],{isRecent:i,path:o}=n,s=l=>e.fileByPath(l.path).extensionType(),a=l=>{e.fileSearch.selectResult(l)};return p.createElement("div",{className:"results-list"},p.createElement("ul",{className:"results"},p.createElement("span",{className:s(n)},p.createElement("li",{className:"result",tabIndex:"0",onClick:()=>a(n),onKeyDown:ur(()=>a(n))},p.createElement("div",{className:"status-badge icon"},p.createElement("div",{className:"status warning"},t.length,p.createElement("div",{className:"search-in-badge icon"}))),i&&p.createElement("div",{className:"result-tip"},"recent"),p.createElement("div",{className:"results-name",title:o},o))),t.map((l,c)=>p.createElement("span",{key:c,className:s(l)},p.createElement("li",{className:"result nested-result",tabIndex:"0",title:l.rawMatch,onClick:()=>a(l),onKeyDown:ur(()=>a(l))},p.createElement("div",{className:"nested-result-wrap"},p.createElement("div",{className:"result-column-wrap"},p.createElement("div",{className:"result-description"},l.line)),p.createElement("div",{className:"result-code"},l.beforeMatch,p.createElement("span",{className:"result-match"},l.match),l.afterMatch)))))))}function fFe(){const t=Te(),e=j(t.projectSearchFilesOverlayVisible),n=j(t.fileSearch.searchValue),i=j(t.fileSearch.searchWhere),o=j(t.fileSearch.caseSensitive),s=j(t.fileSearch.loading),a=j(t.fileSearch.searchedResults),l=j(t.fileSearch.filteredGroupedSearchResults),c=j(t.fileSearch.searchedValue),u=j(t.projectIsMemberOrMoreForCurrentUser),d=j(K.exports.useCallback(()=>{const _=t.currentUser();return _?_.loggedIn():!1},[t])),f=j(K.exports.useCallback(()=>{const _=t.currentFileInfo().path,S=t.currentFileInfo().folders||"/",E=t.currentFileInfo().extension||"*";return["All Files",`Current File \u2013 ${_}`,`Current Folder \u2013 ${S}`,`Current Type \u2013 *.${E}`]},[t]));A$(K.exports.useRef(),K.exports.useRef());const h=_=>{_.preventDefault(),t.fileSearch.search()},v=()=>{t.fileSearch.caseSensitive.toggle()},m=K.exports.useCallback(_=>{_&&document.activeElement!==_&&(_.focus(),_.select())},[]);return e?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay project-search-files"},p.createElement("section",{className:dt("actions",{disabled:!u})},p.createElement("form",{onSubmit:h},p.createElement("div",{className:"input-wrap"},p.createElement("input",{id:"project-files-search",className:"input search-input","aria-label":"Search",placeholder:"Search",value:n,onChange:_=>{t.fileSearch.searchValue(_.target.value)},ref:m,disabled:!u})),p.createElement("div",{className:"input-wrap"},p.createElement("select",{className:"select search-input",value:i,onChange:_=>{t.fileSearch.searchWhere(_.target.value)},disabled:!u},f.map((_,S)=>p.createElement("option",{key:S,value:_},_))),p.createElement("div",{className:"button-wrap search-option"},p.createElement("label",{htmlFor:"case-sensitive-checkbox",className:"button button-small button-secondary",tabIndex:u?"0":"-1",role:"button","aria-pressed":o,onKeyPress:ur(v)},p.createElement("input",{id:"case-sensitive-checkbox",className:"input",type:"checkbox",checked:o,onChange:v,tabIndex:"-1",disabled:!u}),"Aa"))),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button",onClick:h,disabled:!u},"Search ",s&&p.createElement(mn,null),c&&!s&&p.createElement("div",{className:"status-badge icon"},p.createElement("div",{className:"status warning"},a.length," ",p.createElement("div",{className:"icon search-in-badge"}))))))),a.length>0&&p.createElement("section",{className:"info results-container"},l.map((_,S)=>p.createElement(dFe,{key:S,results:_}))),a.length===0&&c&&!s&&p.createElement("section",{className:"info"},p.createElement("h2",null,"No results for ",p.createElement("span",null,c)),p.createElement("div",{className:"no-search-results-illustration"})),p.createElement("section",{className:"info"},p.createElement("p",null,p.createElement(tt,{icon:"musicalKeyboard"})," ",p.createElement("span",null,t.isAppleDevice?"\u2318-Shift-F":"Ctrl-Shift-F"))),!u&&p.createElement("section",{className:"info"},p.createElement("p",null,"For security reasons, only project members can search files"),!d&&p.createElement("a",{href:"//glitch.com/signin",className:"sign-in-button button",onClick:t.setDestinationAfterAuth},"Sign In")))):null}function hFe(){const t=Te(),e=j(t.connectionErrorOverlayVisible),n=j(K.exports.useCallback(()=>{const o=t.connectionErrorDetails();if(o){const{status:s,error:a,message:l,error_url:c}=o,f=y_`
        ${s}: ${a}

        ${l}

        ${c}
      `.split(`
`).map(h=>`    ${h}`);return["",...f,""].join(`
`)}return null},[t])),i=()=>{window.location.reload()};return e?p.createElement("div",{className:"overlay-background"},p.createElement("dialog",{className:"overlay error-overlay"},p.createElement("section",{className:"danger-zone"},p.createElement("h1",null,"Unexpected Error")),p.createElement("section",{className:"info"},p.createElement("p",null,"(\u30B7_ _)\u30B7"),p.createElement("p",null,"An error has occurred, please try again or"," ",p.createElement("a",{href:"https://support.glitch.com",target:"_blank",rel:"noopener noreferrer"},"contact us")," ","if the error persists."),p.createElement("textarea",{className:"textarea",readOnly:!0,value:n,wrap:"off"})),p.createElement("section",{className:"actions"},p.createElement("div",{className:"button-wrap"},p.createElement("a",{href:"http://status.glitch.com",target:"_blank",rel:"noopener noreferrer"},p.createElement("button",{className:"button"},"System Status ",p.createElement(tt,{icon:"trafficLight"})))),p.createElement("div",{className:"button-wrap"},p.createElement("button",{className:"button",onClick:i},"Try Again ",p.createElement(tt,{icon:"crystalBall"})))),p.createElement("section",{className:"info"},p.createElement("p",null,p.createElement("a",{href:"https://support.glitch.com",target:"_blank",rel:"noopener noreferrer"},"Support"))))):null}function Zh(t,e){return j(K.exports.useCallback(()=>t&&t[e](),[t,e]))}function pFe(){const t=Te(),e=j(t.collaboratorPositionTop)+24,n=j(t.collaboratorPositionLeft)+4,i=j(t.teamPopCurrentTeam),o=j(K.exports.useCallback(()=>i!==null,[i])),s=Zh(i,"name"),a=Zh(i,"url"),l=Zh(i,"avatarUrl"),c=Zh(i,"teamPageUrl"),u=Zh(i,"backgroundColor"),d=Zh(i,"description"),f=K.exports.useMemo(()=>d&&c4(d),[d]);return o?p.createElement("dialog",{className:"pop-over team-pop",onClick:h=>{h.stopPropagation()},style:{top:`${e}px`,left:`${n}px`}},p.createElement("section",{className:"info"},p.createElement("h1",null,"Team")),p.createElement("a",{href:c},p.createElement("section",{className:"profile-summary no-bottom-border"},p.createElement("div",{className:"profile-wrap"},p.createElement("div",{className:"avatar team-avatar icon",style:{backgroundImage:`url(${l})`,backgroundColor:u}}),p.createElement("div",{className:"user-info"},p.createElement("h1",null,s),p.createElement("p",{className:"login"},a))))),d&&p.createElement("section",{dangerouslySetInnerHTML:{__html:f}})):null}function EW(t){return t?"":"A description of the issue is required"}function wW(t,e){return e.login()?"":t?y4(t)?"":"Please enter a valid email":"Email is required"}function xW(t,e){const[n,i]=K.exports.useState(t),o=K.exports.useMemo(()=>tg(i,e),[i,e]);return[n,o]}const mFe=(t,e)=>e||(Array.isArray(t.emails())&&t.emails().find(i=>i.primary)).email;function gFe({login:t}){return t()?`@${t()}`:"Anonymous User"}function vFe({id:t,login:e}){return e()?`@${e()}`:`user/${t()}`}function yFe(t,e,n,i,o,s,a){return`${`
  - ${o} Name: ${i};
  
  - ${o} Id: ${a}`}
  
  - Submitted by: [${gFe(t)}](https://glitch.com/${vFe(t)})
  
  - Contact: ${mFe(t,e)}
  
  - Message: ${s}`}const _Fe=()=>p.createElement(p.Fragment,null,p.createElement(g2,null,"Report Abuse"),p.createElement($v,null,p.createElement("p",null,"Thanks for helping to keep Glitch a safe, friendly community ",p.createElement(tt,{icon:"park"})))),bFe=({value:t})=>p.createElement(p.Fragment,null,p.createElement(g2,null,"Failed to Send"),p.createElement(v2,null,p.createElement("p",null,"But you can still send us your message by emailing the details below to ",p.createElement("strong",null,"support@glitch.com"))),p.createElement($v,null,p.createElement("textarea",{className:"textarea",value:t,readOnly:!0})));function EFe({reportedType:t}){const e=Te(),n=j(e.currentUser),i=j(n.login()),o=j(n.name()),s=j(e.projectName),a=j(e.currentProjectId()),[l,c]=K.exports.useState("ready"),[u,d]=K.exports.useState(""),[f,h]=xW("",200),v=P=>{d(P),h(EW(P))},[m,_]=K.exports.useState(""),[S,E]=xW("",200),w=P=>{_(P),E(wW(P,n))},T=()=>yFe(n,m,i,s,t,u,a),C=async P=>{P.preventDefault();const R=wW(m,n),A=EW(u);if(R||A){E(R),h(A);return}c("loading"),console.log(T());try{await Ja.post("https://support-poster.glitch.me/post",{json:{title:s,raw:T()}}),c("success")}catch(L){qi(L),c("error")}};return l==="success"?p.createElement(_Fe,null):l==="error"?p.createElement(bFe,{value:T().trimStart()}):p.createElement("form",{onSubmit:C},p.createElement(g2,null,"Report Abuse"),p.createElement($v,null,p.createElement(gee,{className:"report-abuse-input",label:"Report Abuse",value:u,placeholder:"This project doesn't seem appropriate for Glitch because...",onChange:v,onBlur:()=>v(u),autoFocus:!0,error:f})),o?p.createElement(v2,null,p.createElement("div",{className:"text-align: right"},"from ",p.createElement("strong",null,o))):p.createElement(v2,null,p.createElement(m2,{value:m,onChange:w,onBlur:()=>w(m),placeholder:"your@email.com",error:S,type:"email",label:"email address"})),p.createElement($v,null,l==="loading"?p.createElement(mn,{style:{width:"25px"}}):p.createElement(Dn,{size:"tiny",onClick:C},"Submit Report")))}const RP=({reportedType:t})=>p.createElement(mee,{align:"topLeft",className:"wide-pop",renderLabel:({onClick:e,ref:n})=>p.createElement(Dn,he({onClick:e,ref:n},Gf),"Report Abuse")},()=>p.createElement(EFe,{reportedType:t}));RP.defaultProps={reportedModel:null};const SW=n=>{var i=n,{status:t}=i,e=cn(i,["status"]);switch(t){case"success":return p.createElement(Jt,he({emoji:"\u{1F7E2}"},e));case"already_running":return p.createElement(Jt,he({emoji:"\u{1F7E1}"},e));case"loading":return p.createElement(Jt,he({emoji:"\u23F3\uFE0F"},e));case"fail":return p.createElement(Jt,he({emoji:"\u{1F534}"},e));case"error":return p.createElement(Jt,he({emoji:"\u{1F937}\u200D\u2642\uFE0F"},e));default:return p.createElement(Jt,he({emoji:"\u{1F680}"},e))}},TW=async(t,e)=>{t.fastlyStatus("loading"),t.logsPanelVisible(!0);let n;try{n=await t.glitchApi().deployToFastly(e),await t.fastlyStatus(n.buildStatic.state)}catch(i){console.error(i),t.fastlyStatus("error")}return n};function wFe(){const t=Te(),e=j(t.currentProject().id),n=j(t.fastlyStatus);return p.createElement(un,{sx:{padding:2,alignContent:"center",alignItems:"center",gap:4,height:"64px"}},p.createElement(Qe,null,p.createElement(as,{icon:p.createElement(SW,{status:n}),variant:"chunky",onClick:()=>TW(t,e)},"Deploy to Fastly")),p.createElement(Qe,{sx:{height:"64px",paddingTop:"8px"}},p.createElement("img",{src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515/editor-fastly-people.svg?v=1641483054835",alt:"",style:{height:"100%",width:"auto"}})),p.createElement(Qe,{sx:{maxWidth:"650px"}},p.createElement(Er,{sx:{color:"gray.4",fontSize:"13px!important",fontFamily:"body",lineHeight:"1.35em"}},p.createElement(Qe,null,"Write edge logic on Glitch, it'll automatically compile to WASM in real-time, and you can deploy to Fastly's Compute@Edge with the click of a button. The edge has never been so easy."))))}var CW=function(){},xFe=typeof window!="undefined",SFe=function(t,e,n){if(!xFe)return[e,CW,CW];if(!t)throw new Error("useLocalStorage key may not be falsy");var i=n?n.raw?function(d){return d}:n.deserializer:JSON.parse,o=K.exports.useRef(function(d){try{var f=n?n.raw?String:n.serializer:JSON.stringify,h=localStorage.getItem(d);return h!==null?i(h):(e&&localStorage.setItem(d,f(e)),e)}catch{return e}}),s=K.exports.useState(function(){return o.current(t)}),a=s[0],l=s[1];K.exports.useLayoutEffect(function(){return l(o.current(t))},[t]);var c=K.exports.useCallback(function(d){try{var f=typeof d=="function"?d(a):d;if(typeof f=="undefined")return;var h=void 0;n?n.raw?typeof f=="string"?h=f:h=JSON.stringify(f):n.serializer?h=n.serializer(f):h=JSON.stringify(f):h=JSON.stringify(f),localStorage.setItem(t,h),l(i(h))}catch{}},[t,l]),u=K.exports.useCallback(function(){try{localStorage.removeItem(t),l(void 0)}catch{}},[t,l]);return[a,c,u]},TFe=SFe;const MW="2022_q1_fastly_beta",CFe=async(t,e,n)=>{try{await t.glitchApi().signUpForFastly(MW)}catch(i){const o=await i.response.json(),s=o.message||"An error occurred";o.code==="UNPROCESSABLE_ERROR"&&e(!0),t.analytics.track("Fastly opt-in error"),n(s)}return t.analytics.track("Fastly opt-in success"),!0};function MFe(){const t=Te(),[e,n]=TFe(`campaign-enrolled-${MW}`),[i,o]=p.useState();t.analytics.track("Fastly banner shown");const s=()=>{CFe(t,n,o)&&n(!0)};return p.createElement(un,{sx:{padding:2,alignContent:"center",alignItems:"center",gap:4,height:"64px"}},p.createElement(Qe,{sx:{height:"64px",paddingTop:"8px"}},p.createElement("img",{src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515/editor-fastly-people.svg?v=1641483054835",alt:"",style:{height:"100%",width:"auto"}})),!e&&p.createElement(Qe,null,p.createElement(Dn,{variant:"chunky",onClick:s},"Sign me up!")),p.createElement(Qe,{sx:{maxWidth:"650px"}},p.createElement(Er,{sx:{color:"gray.4",fontSize:"13px!important",fontFamily:"body",lineHeight:"1.35em"}},e&&p.createElement(p.Fragment,null,"Thanks for joining us on the edge! We can\u2019t wait to show you what\u2019s possible. Watch your inbox for an invitation to try things out."),!e&&p.createElement(p.Fragment,null,"We've got something just for Glitch creators like you: a FREE sneak peek at our upcoming super-fast edge caching, powered by Fastly. Invites are going out first-come, first-served. Click to be one of the first.")," ",p.createElement("a",{href:"https://www.glitch.com/fastly",target:"_blank",rel:"noreferrer"},"Learn more"),i&&p.createElement(Qe,{sx:{color:"red"}},i))))}var Y0={exports:{}};/*! For license information please see index-browser.min.js.LICENSE.txt */(function(t,e){(function(n,i){t.exports=i()})(Wt,function(){return n={5590:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(m,_,S,E){E===void 0&&(E=S),Object.defineProperty(m,E,{enumerable:!0,get:function(){return _[S]}})}:function(m,_,S,E){E===void 0&&(E=S),m[E]=_[S]}),c=this&&this.__setModuleDefault||(Object.create?function(m,_){Object.defineProperty(m,"default",{enumerable:!0,value:_})}:function(m,_){m.default=_}),u=this&&this.__importStar||function(m){if(m&&m.__esModule)return m;var _={};if(m!=null)for(var S in m)S!=="default"&&Object.prototype.hasOwnProperty.call(m,S)&&l(_,m,S);return c(_,m),_};Object.defineProperty(s,"__esModule",{value:!0}),s.utils=s.modules=s.createApiClient=void 0;const d=u(a(9662));s.modules=d;const f=u(a(338)),h=f.createApiClient({modules:d,createContext:f.createContext});s.createApiClient=h;const v={createApiClient:h,createContext:f.createContext};s.utils=v},8697:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getAccount=void 0,s.getAccount=({httpClient:a})=>()=>a.get("/account")},435:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(8697),s),c(a(8057),s)},7256:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8057:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(7256),s)},5256:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getAction=void 0,s.getAction=({httpClient:a})=>({action_id:l})=>{const c=`/action/${l}`;return a.get(c)}},4006:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(5256),s),c(a(3588),s),c(a(8544),s)},3588:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listActions=void 0,s.listActions=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/actions",{params:u})}},8637:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8544:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(8637),s)},2049:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.cancelAppDeployment=void 0,s.cancelAppDeployment=({httpClient:a})=>({app_id:l,deployment_id:c})=>{const u=`/apps/${l}/deployments/${c}/cancel`;return a.post(u)}},8380:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createAppDeployment=void 0,s.createAppDeployment=({httpClient:a})=>({app_id:l,force_build:c})=>{const u=`/apps/${l}/deployments`,d={force_build:c};return a.post(u,d)}},953:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createApp=void 0,s.createApp=({httpClient:a})=>({spec:l})=>{const c={spec:l};return a.post("/apps",c)}},3744:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteApp=void 0,s.deleteApp=({httpClient:a})=>({app_id:l})=>{const c=`/apps/${l}`;return a.delete(c)}},6023:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getAggregatedAppDeploymentLogs=void 0,s.getAggregatedAppDeploymentLogs=({httpClient:a})=>({app_id:l,component_name:c,deployment_id:u,follow:d,pod_connection_timeout:f,type:h})=>{const v=`/apps/${l}/deployments/${u}/logs`,m={component_name:c,follow:d,pod_connection_timeout:f,type:h};return a.get(v,{params:m})}},372:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getAppDeploymentLogs=void 0,s.getAppDeploymentLogs=({httpClient:a})=>({app_id:l,component_name:c,deployment_id:u,follow:d,pod_connection_timeout:f,type:h})=>{const v=`/apps/${l}/deployments/${u}/components/${c}/logs`,m={follow:d,pod_connection_timeout:f,type:h};return a.get(v,{params:m})}},879:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getAppDeployment=void 0,s.getAppDeployment=({httpClient:a})=>({app_id:l,deployment_id:c})=>{const u=`/apps/${l}/deployments/${c}`;return a.get(u)}},6095:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getApp=void 0,s.getApp=({httpClient:a})=>({app_id:l})=>{const c=`/apps/${l}`;return a.get(c)}},8971:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(2049),s),c(a(8380),s),c(a(953),s),c(a(3744),s),c(a(6023),s),c(a(372),s),c(a(879),s),c(a(6095),s),c(a(7801),s),c(a(7801),s),c(a(3577),s),c(a(5322),s),c(a(54),s),c(a(7616),s)},7801:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listAppDeployments=void 0,s.listAppDeployments=({httpClient:a})=>({app_id:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/apps/${l}/deployments`;return a.get(f,{params:d})}},3577:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listApps=void 0,s.listApps=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/apps",{params:u})}},5322:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.runAppDetection=void 0,s.runAppDetection=({httpClient:a})=>({commit_sha:l,component_type:c,git:u,github:d})=>{const f={commit_sha:l,component_type:c,git:u,github:d};return a.post("/apps/detect",f)}},2970:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1413:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},7947:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},572:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8338:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},459:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1900:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4083:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5320:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8220:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4875:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},2163:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},3828:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4127:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},7934:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},315:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},442:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8709:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8343:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},3352:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},54:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(2970),s),c(a(1413),s),c(a(7947),s),c(a(572),s),c(a(8338),s),c(a(459),s),c(a(1900),s),c(a(4083),s),c(a(5320),s),c(a(8220),s),c(a(4875),s),c(a(2163),s),c(a(3828),s),c(a(4127),s),c(a(7934),s),c(a(315),s),c(a(442),s),c(a(8709),s),c(a(8343),s),c(a(3352),s)},7616:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateApp=void 0,s.updateApp=({httpClient:a})=>({app_id:l,spec:c})=>{const u={spec:c},d=`/apps/${l}`;return a.put(d,u)}},5125:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createCdnEndpoint=void 0,s.createCdnEndpoint=({httpClient:a})=>({origin:l,ttl:c,certificate_id:u,custom_domain:d})=>{const f={origin:l,ttl:c,certificate_id:u,custom_domain:d};return a.post("/cdn/endpoints",f)}},8323:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteCdnEndpoint=void 0,s.deleteCdnEndpoint=({httpClient:a})=>({cdn_endpoint_id:l})=>{const c=`/cdn/endpoints/${l}`;return a.delete(c)}},7994:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getCdnEndpoint=void 0,s.getCdnEndpoint=({httpClient:a})=>({cdn_endpoint_id:l})=>{const c=`/cdn/endpoints/${l}`;return a.get(c)}},4101:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(5125),s),c(a(8323),s),c(a(7994),s),c(a(4735),s),c(a(2910),s),c(a(9415),s),c(a(2027),s)},4735:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listCdnEndpoints=void 0,s.listCdnEndpoints=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/cdn/endpoints",{params:u})}},2910:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.purgeCache=void 0,s.purgeCache=({httpClient:a})=>({cdn_endpoint_id:l,files:c})=>{const u={files:c},d=`/cdn/endpoints/${l}/cache`;return a.delete(d,{data:u})}},5143:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},9415:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(5143),s)},2027:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateCdnEndpoint=void 0,s.updateCdnEndpoint=({httpClient:a})=>({cdn_endpoint_id:l,ttl:c,certificate_id:u,custom_domain:d})=>{const f={ttl:c,certificate_id:u,custom_domain:d},h=`/cdn/endpoints/${l}`;return a.put(h,f)}},9388:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createCertificate=void 0,s.createCertificate=({httpClient:a})=>({certificate_chain:l,dns_names:c,leaf_certificate:u,name:d,private_key:f,type:h})=>{const v={certificate_chain:l,dns_names:c,leaf_certificate:u,name:d,private_key:f,type:h};return a.post("/certificates",v)}},3638:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteCertificate=void 0,s.deleteCertificate=({httpClient:a})=>({certificate_id:l})=>{const c=`/certificates/${l}`;return a.delete(c)}},7172:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getCertificate=void 0,s.getCertificate=({httpClient:a})=>({certificate_id:l})=>{const c=`/certificates/${l}`;return a.get(c)}},5440:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(9388),s),c(a(3638),s),c(a(7172),s),c(a(6394),s),c(a(5170),s)},6394:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listCertificates=void 0,s.listCertificates=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/certificates",{params:u})}},4282:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5170:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(4282),s)},3818:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.configureRegistry=void 0,s.configureRegistry=({httpClient:a})=>({name:l})=>{const c={name:l};return a.post("/registry",c)}},1273:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteRegistry=void 0,s.deleteRegistry=({httpClient:a})=>()=>a.delete("/registry")},9041:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDockerCredentials=void 0,s.getDockerCredentials=({httpClient:a})=>({can_write:l=!1})=>{const c={read_write:l};return a.get("/registry/docker-credentials",{params:c})}},3446:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getRegistry=void 0,s.getRegistry=({httpClient:a})=>()=>a.get("/registry")},9608:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(3818),s),c(a(1273),s),c(a(9041),s),c(a(3446),s),c(a(253),s)},5279:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},253:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(5279),s)},784:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.downloadInvoice=void 0,s.downloadInvoice=({httpClient:a})=>({invoice_uuid:l,format:c})=>{const u=`/customers/my/invoices/${l}/${c}`;return a.get(u,{responseType:"stream"})}},375:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getBalance=void 0,s.getBalance=({httpClient:a})=>()=>a.get("/customers/my/balance")},7843:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getInvoiceSummary=void 0,s.getInvoiceSummary=({httpClient:a})=>({invoice_uuid:l})=>{const c=`/customers/my/invoices/${l}/summary`;return a.get(c)}},1374:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(784),s),c(a(375),s),c(a(7843),s),c(a(3250),s),c(a(8575),s),c(a(5086),s),c(a(1623),s)},3250:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listBillingHistory=void 0,s.listBillingHistory=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/customers/my/billing_history",{params:u})}},8575:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listInvoiceItems=void 0,s.listInvoiceItems=({httpClient:a})=>({invoice_uuid:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/customers/my/invoices/${l}`;return a.get(f,{params:d})}},5086:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listInvoices=void 0,s.listInvoices=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/customers/my/invoices",{params:u})}},1636:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4012:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1623:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(1636),s),c(a(4012),s),c(a(9986),s),c(a(7701),s),c(a(2697),s),c(a(2081),s)},9986:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},7701:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},2697:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},2081:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},868:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.configureDatabaseClusterEvictionPolicy=void 0,s.configureDatabaseClusterEvictionPolicy=({httpClient:a})=>({database_cluster_id:l,eviction_policy:c})=>{const u={eviction_policy:c},d=`/databases/${l}/eviction_policy`;return a.put(d,u)}},7423:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.configureDatabaseClusterMaintenanceWindow=void 0,s.configureDatabaseClusterMaintenanceWindow=({httpClient:a})=>({database_cluster_id:l,day:c,hour:u})=>{const d={day:c,hour:u},f=`/databases/${l}/maintenance`;return a.put(f,d)}},2558:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.configureDatabaseClusterSqlModes=void 0,s.configureDatabaseClusterSqlModes=({httpClient:a})=>({database_cluster_id:l,sql_mode:c})=>{const u={sql_mode:c},d=`/databases/${l}/sql_mode`;return a.put(d,u)}},1440:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createConnectionPool=void 0,s.createConnectionPool=({httpClient:a})=>({database_cluster_id:l,db_name:c,mode:u,pool_name:d,size:f,user_name:h})=>{const v={db:c,mode:u,name:d,size:f,user:h},m=`/databases/${l}/pools`;return a.post(m,v)}},1117:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDatabaseClusterDb=void 0,s.createDatabaseClusterDb=({httpClient:a})=>({database_cluster_id:l,db_name:c})=>{const u={name:c},d=`/databases/${l}/dbs`;return a.post(d,u)}},6957:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDatabaseClusterUser=void 0,s.createDatabaseClusterUser=({httpClient:a})=>({database_cluster_id:l,mysql_settings:c,user_name:u})=>{const d={name:u,mysql_settings:c},f=`/databases/${l}/users`;return a.post(f,d)}},1370:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDatabaseCluster=void 0,s.createDatabaseCluster=({httpClient:a})=>({engine:l,name:c,num_nodes:u,private_network_uuid:d,region:f,size:h,tags:v,version:m})=>{const _={engine:l,name:c,num_nodes:u,private_network_uuid:d,region:f,size:h,tags:v,version:m};return a.post("/databases",_)}},57:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createReadOnlyReplica=void 0,s.createReadOnlyReplica=({httpClient:a})=>({database_cluster_id:l,name:c,region:u,size:d,tags:f})=>{const h={name:c,region:u,size:d,tags:f},v=`/databases/${l}/replicas`;return a.post(v,h)}},4090:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteConnectionPool=void 0,s.deleteConnectionPool=({httpClient:a})=>({database_cluster_id:l,pool_name:c})=>{const u=`/databases/${l}/pools/${c}`;return a.delete(u)}},3926:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteDatabaseClusterDb=void 0,s.deleteDatabaseClusterDb=({httpClient:a})=>({database_cluster_id:l,db_name:c})=>{const u=`/databases/${l}/dbs/${c}`;return a.delete(u)}},8203:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.destroyDatabaseCluster=void 0,s.destroyDatabaseCluster=({httpClient:a})=>({database_cluster_id:l})=>{const c=`/databases/${l}`;return a.delete(c)}},6149:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.destroyReadOnlyReplica=void 0,s.destroyReadOnlyReplica=({httpClient:a})=>({database_cluster_id:l,read_only_replica_name:c})=>{const u=`/databases/${l}/replicas/${c}`;return a.delete(u)}},463:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getConnectionPool=void 0,s.getConnectionPool=({httpClient:a})=>({database_cluster_id:l,pool_name:c})=>{const u=`/databases/${l}/pools/${c}`;return a.get(u)}},649:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDatabaseClusterDb=void 0,s.getDatabaseClusterDb=({httpClient:a})=>({database_cluster_id:l,db_name:c})=>{const u=`/databases/${l}/dbs/${c}`;return a.get(u)}},9561:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDatabaseClusterEvictionPolicy=void 0,s.getDatabaseClusterEvictionPolicy=({httpClient:a})=>({database_cluster_id:l})=>{const c=`/databases/${l}/eviction_policy`;return a.get(c)}},5087:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDatabaseClusterSqlMode=void 0,s.getDatabaseClusterSqlMode=({httpClient:a})=>({database_cluster_id:l})=>{const c=`/databases/${l}/sql_mode`;return a.get(c)}},2776:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDatabaseClusterUser=void 0,s.getDatabaseClusterUser=({httpClient:a})=>({database_cluster_id:l,user_name:c})=>{const u=`/databases/${l}/users/${c}`;return a.get(u)}},2879:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDatabaseCluster=void 0,s.getDatabaseCluster=({httpClient:a})=>({database_cluster_id:l})=>{const c=`/databases/${l}`;return a.get(c)}},100:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getReadOnlyReplica=void 0,s.getReadOnlyReplica=({httpClient:a})=>({database_cluster_id:l,read_only_replica_name:c})=>{const u=`/databases/${l}/replicas/${c}`;return a.get(u)}},8275:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(868),s),c(a(7423),s),c(a(2558),s),c(a(1440),s),c(a(1117),s),c(a(6957),s),c(a(1370),s),c(a(57),s),c(a(4090),s),c(a(3926),s),c(a(8203),s),c(a(6149),s),c(a(463),s),c(a(649),s),c(a(9561),s),c(a(5087),s),c(a(2776),s),c(a(2879),s),c(a(100),s),c(a(2799),s),c(a(5377),s),c(a(3311),s),c(a(8537),s),c(a(8147),s),c(a(9697),s),c(a(3273),s),c(a(8593),s),c(a(6614),s),c(a(8605),s),c(a(190),s),c(a(176),s),c(a(7179),s)},2799:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listConnectionPools=void 0,s.listConnectionPools=({httpClient:a})=>({page:l=1,per_page:c=25,database_cluster_id:u})=>{const d={page:l,per_page:c},f=`/databases/${u}/pools`;return a.get(f,{params:d})}},5377:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDatabaseClusterBackups=void 0,s.listDatabaseClusterBackups=({httpClient:a})=>({page:l=1,per_page:c=25,database_cluster_id:u})=>{const d={page:l,per_page:c},f=`/databases/${u}/backups`;return a.get(f,{params:d})}},3311:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDatabaseClusterDbs=void 0,s.listDatabaseClusterDbs=({httpClient:a})=>({page:l=1,per_page:c=25,database_cluster_id:u})=>{const d={page:l,per_page:c},f=`/databases/${u}/dbs`;return a.get(f,{params:d})}},8537:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDatabaseClusterFirewallRules=void 0,s.listDatabaseClusterFirewallRules=({httpClient:a})=>({page:l=1,per_page:c=25,database_cluster_id:u})=>{const d={page:l,per_page:c},f=`/databases/${u}/firewall`;return a.get(f,{params:d})}},8147:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDatabaseClusterUsers=void 0,s.listDatabaseClusterUsers=({httpClient:a})=>({page:l=1,per_page:c=25,database_cluster_id:u})=>{const d={page:l,per_page:c},f=`/databases/${u}/users`;return a.get(f,{params:d})}},9697:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDatabaseClusters=void 0,s.listDatabaseClusters=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/databases",{params:u})}},3273:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listReadOnlyReplicas=void 0,s.listReadOnlyReplicas=({httpClient:a})=>({page:l=1,per_page:c=25,database_cluster_id:u})=>{const d={page:l,per_page:c},f=`/databases/${u}/replicas`;return a.get(f,{params:d})}},8593:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.migrateDatabaseCluster=void 0,s.migrateDatabaseCluster=({httpClient:a})=>({database_cluster_id:l,region:c})=>{const u={region:c},d=`/databases/${l}/migrate`;return a.put(d,u)}},6614:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.removeDatabaseClusterUser=void 0,s.removeDatabaseClusterUser=({httpClient:a})=>({database_cluster_id:l,user_name:c})=>{const u=`/databases/${l}/users/${c}`;return a.delete(u)}},8605:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.resizeDatabaseCluster=void 0,s.resizeDatabaseCluster=({httpClient:a})=>({database_cluster_id:l,num_nodes:c,size:u})=>{const d={num_nodes:c,size:u},f=`/databases/${l}/resize`;return a.put(f,d)}},190:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.restoreDatabaseClusterBackup=void 0,s.restoreDatabaseClusterBackup=({httpClient:a})=>({backup_restore:l,engine:c,name:u,num_nodes:d,region:f,size:h,tags:v,version:m})=>{const _={backup_restore:l,engine:c,name:u,num_nodes:d,region:f,size:h,tags:v,version:m};return a.post("/databases",_)}},5970:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},2237:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4108:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1369:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},7248:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},7120:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},2730:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8166:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},7074:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4011:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},3208:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4304:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1969:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},176:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(5970),s),c(a(2237),s),c(a(4108),s),c(a(1369),s),c(a(7248),s),c(a(7120),s),c(a(2730),s),c(a(8166),s),c(a(7074),s),c(a(4011),s),c(a(3208),s),c(a(4304),s),c(a(1969),s)},7179:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateDatabaseClusterFirewallRules=void 0,s.updateDatabaseClusterFirewallRules=({httpClient:a})=>({database_cluster_id:l,rules:c})=>{const u={rules:c},d=`/databases/${l}/firewall`;return a.put(d,u)}},7093:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDomainRecord=void 0,s.createDomainRecord=({httpClient:a})=>({domain_name:l,data:c,flags:u,name:d,port:f,priority:h,tag:v,ttl:m,type:_,weight:S})=>{const E={data:c,flags:u,name:d,port:f,priority:h,tag:v,ttl:m,type:_,weight:S},w=`/domains/${l}/records`;return a.post(w,E)}},4271:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDomain=void 0,s.createDomain=({httpClient:a})=>({ip_address:l,name:c})=>{const u={ip_address:l,name:c};return a.post("/domains",u)}},595:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteDomainRecord=void 0,s.deleteDomainRecord=({httpClient:a})=>({domain_name:l,domain_record_id:c})=>{const u=`/domains/${l}/records/${c}`;return a.delete(u)}},8444:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteDomain=void 0,s.deleteDomain=({httpClient:a})=>({name:l})=>{const c=`/domains/${l}`;return a.delete(c)}},384:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDomainRecord=void 0,s.getDomainRecord=({httpClient:a})=>({domain_name:l,domain_record_id:c})=>{const u=`/domains/${l}/records/${c}`;return a.get(u)}},9174:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDomain=void 0,s.getDomain=({httpClient:a})=>({name:l})=>{const c=`/domains/${l}`;return a.get(c)}},1812:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(7093),s),c(a(4271),s),c(a(595),s),c(a(8444),s),c(a(384),s),c(a(9174),s),c(a(7854),s),c(a(5181),s),c(a(5202),s),c(a(5947),s)},7854:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDomainRecords=void 0,s.listDomainRecords=({httpClient:a})=>({domain_name:l,name:c,page:u=1,per_page:d=25,type:f})=>{const h={name:c,page:u,per_page:d,type:f},v=`/domains/${l}/records`;return a.get(v,{params:h})}},5181:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDomains=void 0,s.listDomains=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/domains",{params:u})}},7640:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},138:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5947:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(7640),s),c(a(138),s)},5202:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateDomainRecord=void 0,s.updateDomainRecord=({httpClient:a})=>({data:l,domain_name:c,domain_record_id:u,flags:d,name:f,port:h,priority:v,tag:m,ttl:_,type:S,weight:E})=>{const w={data:l,flags:d,name:f,port:h,priority:v,tag:m,ttl:_,type:S,weight:E},T=`/domains/${c}/records/${u}`;return a.put(T,w)}},6877:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.changeDropletKernel=void 0,s.changeDropletKernel=({httpClient:a})=>({droplet_id:l,kernel:c})=>{const u={kernel:c,type:"change_kernel"},d=`/droplets/${l}/actions`;return a.post(d,u)}},414:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDroplet=void 0,s.createDroplet=({httpClient:a})=>({backups:l,image:c,ipv6:u,monitoring:d,name:f,private_networking:h,region:v,size:m,ssh_keys:_,tags:S,user_data:E,volumes:w,vpc_uuid:T})=>{const C={backups:l,image:c,ipv6:u,monitoring:d,name:f,private_networking:h,region:v,size:m,ssh_keys:_,tags:S,user_data:E,volumes:w,vpc_uuid:T};return a.post("/droplets",C)}},969:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDroplets=void 0,s.createDroplets=({httpClient:a})=>({backups:l,image:c,ipv6:u,monitoring:d,names:f,private_networking:h,region:v,size:m,ssh_keys:_,tags:S,user_data:E,volumes:w,vpc_uuid:T})=>{const C={backups:l,image:c,ipv6:u,monitoring:d,names:f,private_networking:h,region:v,size:m,ssh_keys:_,tags:S,user_data:E,volumes:w,vpc_uuid:T};return a.post("/droplets",C)}},7660:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteDroplet=void 0,s.deleteDroplet=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}`;return a.delete(c)}},9225:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteDropletsByTag=void 0,s.deleteDropletsByTag=({httpClient:a})=>({tag_name:l})=>{const c={tag_name:l};return a.delete("/droplets",{params:c})}},4550:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.destroyDropletAndAllAssociatedResources=void 0,s.destroyDropletAndAllAssociatedResources=({httpClient:a})=>({acknowledge:l,droplet_id:c})=>{const u=`/droplets/${c}/destroy_with_associated_resources/dangerous`,d={"X-Dangerous":`${l}`};return a.delete(u,{headers:d,data:void 0})}},5994:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.destroyDropletAndAssociatedResources=void 0,s.destroyDropletAndAssociatedResources=({httpClient:a})=>({droplet_id:l,snapshots:c,volume_snapshots:u,volumes:d})=>{const f=`/droplets/${l}/destroy_with_associated_resources/selective`,h={snapshots:c,volume_snapshots:u,volumes:d};return a.delete(f,{data:h})}},6784:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.disableDropletBackups=void 0,s.disableDropletBackups=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"disable_backups"})}},3180:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.doActionByDropletTag=void 0,s.doActionByDropletTag=({httpClient:a})=>({tag_name:l,type:c})=>{const u={tag_name:l},d={type:c};return a.post("/droplets/actions",d,{params:u})}},8277:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.enableDropletBackups=void 0,s.enableDropletBackups=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"enable_backups"})}},2384:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.enableDropletIpv6=void 0,s.enableDropletIpv6=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"enable_ipv6"})}},8018:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.enableDropletPrivateNetworking=void 0,s.enableDropletPrivateNetworking=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"enable_private_networking"})}},8972:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDropletAction=void 0,s.getDropletAction=({httpClient:a})=>({action_id:l,droplet_id:c})=>{const u=`/droplets/${c}/actions/${l}`;return a.get(u)}},9366:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDropletDestroyStatus=void 0,s.getDropletDestroyStatus=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/destroy_with_associated_resources/status`;return a.get(c)}},7374:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDroplet=void 0,s.getDroplet=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}`;return a.get(c)}},8766:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(6877),s),c(a(414),s),c(a(969),s),c(a(7660),s),c(a(9225),s),c(a(4550),s),c(a(5994),s),c(a(6784),s),c(a(3180),s),c(a(8277),s),c(a(2384),s),c(a(8018),s),c(a(8972),s),c(a(9366),s),c(a(7374),s),c(a(9095),s),c(a(2931),s),c(a(952),s),c(a(52),s),c(a(9226),s),c(a(5454),s),c(a(5035),s),c(a(4073),s),c(a(6700),s),c(a(2191),s),c(a(670),s),c(a(4932),s),c(a(3806),s),c(a(6369),s),c(a(1617),s),c(a(493),s),c(a(6026),s),c(a(4e3),s),c(a(1079),s),c(a(8790),s),c(a(8660),s)},9095:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDropletActions=void 0,s.listDropletActions=({httpClient:a})=>({droplet_id:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/droplets/${l}/actions`;return a.get(f,{params:d})}},2931:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDropletAssociatedResources=void 0,s.listDropletAssociatedResources=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/destroy_with_associated_resources`;return a.get(c)}},952:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDropletBackups=void 0,s.listDropletBackups=({httpClient:a})=>({droplet_id:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/droplets/${l}/backups`;return a.get(f,{params:d})}},52:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDropletKernels=void 0,s.listDropletKernels=({httpClient:a})=>({droplet_id:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/droplets/${l}/kernels`;return a.get(f,{params:d})}},9226:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDropletNeighborhoods=void 0,s.listDropletNeighborhoods=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/reports/droplet_neighbors_ids",{params:u})}},5454:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDropletNeighbors=void 0,s.listDropletNeighbors=({httpClient:a})=>({droplet_id:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/droplets/${l}/neighbors`;return a.get(f,{params:d})}},5035:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDropletSnapshots=void 0,s.listDropletSnapshots=({httpClient:a})=>({droplet_id:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/droplets/${l}/snapshots`;return a.get(f,{params:d})}},4073:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDroplets=void 0,s.listDroplets=({httpClient:a})=>({page:l=1,per_page:c=25,tag_name:u})=>{const d={page:l,per_page:c,tag_name:u};return a.get("/droplets",{params:d})}},6700:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.powerCycleDroplet=void 0,s.powerCycleDroplet=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"power_cycle"})}},2191:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.powerOffDroplet=void 0,s.powerOffDroplet=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"power_off"})}},670:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.powerOnDroplet=void 0,s.powerOnDroplet=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"power_on"})}},4932:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.rebootDroplet=void 0,s.rebootDroplet=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"reboot"})}},3806:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.rebuildDroplet=void 0,s.rebuildDroplet=({httpClient:a})=>({droplet_id:l,image:c})=>{const u={image:c,type:"rebuild"},d=`/droplets/${l}/actions`;return a.post(d,u)}},6369:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.renameDroplet=void 0,s.renameDroplet=({httpClient:a})=>({droplet_id:l,name:c})=>{const u={name:c,type:"rename"},d=`/droplets/${l}/actions`;return a.post(d,u)}},1617:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.resetDropletPassword=void 0,s.resetDropletPassword=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"password_reset"})}},493:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.resizeDroplet=void 0,s.resizeDroplet=({httpClient:a})=>({disk:l,droplet_id:c,size:u})=>{const d={disk:l,size:u,type:"resize"},f=`/droplets/${c}/actions`;return a.post(f,d)}},6026:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.restoreDroplet=void 0,s.restoreDroplet=({httpClient:a})=>({droplet_id:l,image:c})=>{const u={image:c,type:"restore"},d=`/droplets/${l}/actions`;return a.post(d,u)}},4e3:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.retryDropletDestroy=void 0,s.retryDropletDestroy=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/destroy_with_associated_resources/retry`;return a.post(c)}},1079:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.shutdownDroplet=void 0,s.shutdownDroplet=({httpClient:a})=>({droplet_id:l})=>{const c=`/droplets/${l}/actions`;return a.post(c,{type:"shutdown"})}},8790:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.snapshotDroplet=void 0,s.snapshotDroplet=({httpClient:a})=>({droplet_id:l,name:c})=>{const u={name:c,type:"snapshot"},d=`/droplets/${l}/actions`;return a.post(d,u)}},1883:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8660:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(1883),s),c(a(3209),s),c(a(9114),s),c(a(6928),s)},3209:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},9114:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},6928:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1669:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addDropletsToFirewall=void 0,s.addDropletsToFirewall=({httpClient:a})=>({droplet_ids:l,firewall_id:c})=>{const u={droplet_ids:l},d=`/firewalls/${c}/droplets`;return a.post(d,u)}},9953:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addRulesToFirewall=void 0,s.addRulesToFirewall=({httpClient:a})=>({firewall_id:l,inbound_rules:c,outbound_rules:u})=>{const d={inbound_rules:c,outbound_rules:u},f=`/firewalls/${l}/rules`;return a.post(f,d)}},300:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addTagsToFirewall=void 0,s.addTagsToFirewall=({httpClient:a})=>({firewall_id:l,tags:c})=>{const u={tags:c},d=`/firewalls/${l}/tags`;return a.post(d,u)}},6388:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createFirewall=void 0,s.createFirewall=({httpClient:a})=>({droplet_ids:l,inbound_rules:c,name:u,outbound_rules:d,tags:f})=>{const h={droplet_ids:l,inbound_rules:c,name:u,outbound_rules:d,tags:f};return a.post("/firewalls",h)}},9391:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteFirewall=void 0,s.deleteFirewall=({httpClient:a})=>({firewall_id:l})=>{const c=`/firewalls/${l}`;return a.delete(c)}},2622:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFirewall=void 0,s.getFirewall=({httpClient:a})=>({firewall_id:l})=>{const c=`/firewalls/${l}`;return a.get(c)}},9451:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(1669),s),c(a(9953),s),c(a(300),s),c(a(6388),s),c(a(9391),s),c(a(9391),s),c(a(2622),s),c(a(5331),s),c(a(4355),s),c(a(3536),s),c(a(5742),s),c(a(1583),s),c(a(1013),s)},5331:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listFirewalls=void 0,s.listFirewalls=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/firewalls",{params:u})}},4355:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.removeDropletsFromFirewall=void 0,s.removeDropletsFromFirewall=({httpClient:a})=>({droplet_ids:l,firewall_id:c})=>{const u={droplet_ids:l},d=`/firewalls/${c}/droplets`;return a.delete(d,{data:u})}},3536:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.removeRulesFromFirewall=void 0,s.removeRulesFromFirewall=({httpClient:a})=>({firewall_id:l,inbound_rules:c,outbound_rules:u})=>{const d={inbound_rules:c,outbound_rules:u},f=`/firewalls/${l}/rules`;return a.delete(f,{data:d})}},5742:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.removeTagsFromFirewall=void 0,s.removeTagsFromFirewall=({httpClient:a})=>({firewall_id:l,tags:c})=>{const u={tags:c},d=`/firewalls/${l}/tags`;return a.delete(d,{data:u})}},4500:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8590:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8910:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4560:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},6197:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},6611:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1013:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(4500),s),c(a(8590),s),c(a(8910),s),c(a(4560),s),c(a(6197),s),c(a(6611),s)},1583:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateFirewall=void 0,s.updateFirewall=({httpClient:a})=>({droplet_ids:l,id:c,inbound_rules:u,name:d,outbound_rules:f,tags:h})=>{const v={droplet_ids:l,inbound_rules:u,name:d,outbound_rules:f,tags:h},m=`/firewalls/${c}`;return a.put(m,v)}},3791:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.assignIpToDroplet=void 0,s.assignIpToDroplet=({httpClient:a})=>({droplet_id:l,ip:c})=>{const u={droplet_id:l,type:"assign"},d=`/floating_ips/${c}/actions`;return a.post(d,u)}},2832:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createFloatingIp=void 0,s.createFloatingIp=({httpClient:a})=>l=>a.post("/floating_ips",l)},8354:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteFloatingIp=void 0,s.deleteFloatingIp=({httpClient:a})=>({ip:l})=>{const c=`/floating_ips/${l}`;return a.delete(c)}},9928:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFloatingIpAction=void 0,s.getFloatingIpAction=({httpClient:a})=>({action_id:l,ip:c})=>{const u=`/floating_ips/${c}/actions/${l}`;return a.get(u)}},2327:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFloatingIp=void 0,s.getFloatingIp=({httpClient:a})=>({ip:l})=>{const c=`/floating_ips/${l}`;return a.get(c)}},8818:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(3791),s),c(a(2832),s),c(a(8354),s),c(a(9928),s),c(a(2327),s),c(a(3728),s),c(a(5457),s),c(a(1491),s),c(a(6491),s)},3728:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listFloatingIpActions=void 0,s.listFloatingIpActions=({httpClient:a})=>({ip:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/floating_ips/${l}/actions`;return a.get(f,{params:d})}},5457:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listFloatingIps=void 0,s.listFloatingIps=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/floating_ips",{params:u})}},8448:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},6491:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(8448),s)},1491:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.unassignIpFromDroplet=void 0,s.unassignIpFromDroplet=({httpClient:a})=>({ip:l})=>{const c=`/floating_ips/${l}/actions`;return a.post(c,{type:"unassign"})}},6060:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertImageToSnapshot=void 0,s.convertImageToSnapshot=({httpClient:a})=>({image_id:l})=>{const c=`/images/${l}/actions`;return a.post(c,{type:"convert"})}},30:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createCustomImage=void 0,s.createCustomImage=({httpClient:a})=>({description:l,distribution:c,name:u,region:d,tags:f,url:h})=>{const v={description:l,distribution:c,name:u,region:d,tags:f,url:h};return a.post("/images",v)}},6168:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteImage=void 0,s.deleteImage=({httpClient:a})=>({image_id:l})=>{const c=`/images/${l}`;return a.delete(c)}},7530:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getImageAction=void 0,s.getImageAction=({httpClient:a})=>({image_id:l,action_id:c})=>{const u=`/images/${l}/actions/${c}`;return a.get(u)}},226:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getImage=void 0,s.getImage=({httpClient:a})=>({image_id:l,slug:c})=>{const u=`/images/${l||c}`;return a.get(u)}},3979:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(6060),s),c(a(30),s),c(a(6168),s),c(a(7530),s),c(a(226),s),c(a(1959),s),c(a(5734),s),c(a(2422),s),c(a(7020),s),c(a(4521),s)},1959:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listImageActions=void 0,s.listImageActions=({httpClient:a})=>({page:l=1,per_page:c=25,image_id:u})=>{const d={page:l,per_page:c},f=`/images/${u}/actions`;return a.get(f,{params:d})}},5734:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listImages=void 0,s.listImages=({httpClient:a})=>({page:l=1,per_page:c=25,tag_name:u,type:d,user_images:f})=>{const h={page:l,per_page:c,private:f,tag_name:u,type:d};return a.get("/images",{params:h})}},2422:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.transferImage=void 0,s.transferImage=({httpClient:a})=>({image_id:l,region:c})=>{const u=`/images/${l}/actions`,d={type:"transfer",region:c};return a.post(u,d)}},3515:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4521:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(3515),s)},7020:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateImage=void 0,s.updateImage=({httpClient:a})=>({description:l,distribution:c,image_id:u,name:d})=>{const f=`/images/${u}`,h={description:l,distribution:c,name:d};return a.post(f,h)}},9662:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(B,H,W,G){G===void 0&&(G=W),Object.defineProperty(B,G,{enumerable:!0,get:function(){return H[W]}})}:function(B,H,W,G){G===void 0&&(G=W),B[G]=H[W]}),c=this&&this.__setModuleDefault||(Object.create?function(B,H){Object.defineProperty(B,"default",{enumerable:!0,value:H})}:function(B,H){B.default=H}),u=this&&this.__importStar||function(B){if(B&&B.__esModule)return B;var H={};if(B!=null)for(var W in B)W!=="default"&&Object.prototype.hasOwnProperty.call(B,W)&&l(H,B,W);return c(H,B),H};Object.defineProperty(s,"__esModule",{value:!0}),s.vpc=s.volume=s.tag=s.sshKey=s.snapshot=s.size=s.region=s.project=s.loadBalancer=s.kubernetes=s.image=s.floatingIp=s.firewall=s.droplet=s.domain=s.database=s.customer=s.containerRegistry=s.certificate=s.cdnEndpoint=s.app=s.action=s.account=void 0;const d=u(a(435));s.account=d;const f=u(a(4006));s.action=f;const h=u(a(8971));s.app=h;const v=u(a(4101));s.cdnEndpoint=v;const m=u(a(5440));s.certificate=m;const _=u(a(9608));s.containerRegistry=_;const S=u(a(1374));s.customer=S;const E=u(a(8275));s.database=E;const w=u(a(1812));s.domain=w;const T=u(a(8766));s.droplet=T;const C=u(a(9451));s.firewall=C;const P=u(a(8818));s.floatingIp=P;const R=u(a(3979));s.image=R;const A=u(a(6498));s.kubernetes=A;const L=u(a(6955));s.loadBalancer=L;const k=u(a(1599));s.project=k;const U=u(a(6130));s.region=U;const N=u(a(8768));s.size=N;const I=u(a(7150));s.snapshot=I;const F=u(a(4605));s.sshKey=F;const O=u(a(9720));s.tag=O;const V=u(a(4534));s.volume=V;const z=u(a(787));s.vpc=z},4715:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addContainerRegistry=void 0,s.addContainerRegistry=({httpClient:a})=>({cluster_uuids:l})=>{const c={cluster_uuids:l};return a.post("/kubernetes/clusters/registry",c)}},2350:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createKubernetesCluster=void 0,s.createKubernetesCluster=({httpClient:a})=>({name:l,region:c,version:u,tags:d,auto_upgrade:f,maintenance_policy:h,node_pools:v,vpc_uuid:m})=>{const _={name:l,region:c,version:u,tags:d,auto_upgrade:f,maintenance_policy:h,node_pools:v,vpc_uuid:m};return a.post("/kubernetes/clusters",_)}},7898:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createNodePool=void 0,s.createNodePool=({httpClient:a})=>({auto_scale:l,count:c,kubernetes_cluster_id:u,labels:d,max_nodes:f,min_nodes:h,name:v,size:m,tags:_,taints:S})=>{const E={auto_scale:l,count:c,labels:d,max_nodes:f,min_nodes:h,name:v,size:m,tags:_,taints:S},w=`/kubernetes/clusters/${u}/node_pools`;return a.post(w,E)}},690:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteKubernetesCluster=void 0,s.deleteKubernetesCluster=({httpClient:a})=>({kubernetes_cluster_id:l})=>{const c=`/kubernetes/clusters/${l}`;return a.delete(c)}},5874:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteNodePool=void 0,s.deleteNodePool=({httpClient:a})=>({kubernetes_cluster_id:l,node_pool_id:c})=>{const u=`/kubernetes/clusters/${l}/node_pools/${c}`;return a.delete(u)}},1619:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteNode=void 0,s.deleteNode=({httpClient:a})=>({kubernetes_cluster_id:l,node_pool_id:c,node_id:u,drain_node:d=!0,replace_node:f=!1})=>{const h=`/kubernetes/clusters/${l}/node_pools/${c}/nodes/${u}`,v={replace:f?1:0,skip_drain:d?0:1};return a.delete(h,{params:v})}},7119:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getClusterlintDiagnostics=void 0,s.getClusterlintDiagnostics=({httpClient:a})=>({kubernetes_cluster_id:l})=>{const c=`/kubernetes/clusters/${l}/clusterlint`;return a.get(c)}},3856:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getKubernetesClusterCredentials=void 0,s.getKubernetesClusterCredentials=({httpClient:a})=>({kubernetes_cluster_id:l,expiration_in_seconds:c})=>{const u={expiry_seconds:c},d=`/kubernetes/clusters/${l}/credentials`;return a.get(d,{params:u})}},2146:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getKubernetesClusterKubeconfig=void 0,s.getKubernetesClusterKubeconfig=({httpClient:a})=>({kubernetes_cluster_id:l,expiration_in_seconds:c})=>{const u={expiry_seconds:c},d=`/kubernetes/clusters/${l}/kubeconfig`;return a.get(d,{params:u})}},628:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getKubernetesCluster=void 0,s.getKubernetesCluster=({httpClient:a})=>({kubernetes_cluster_id:l})=>{const c=`/kubernetes/clusters/${l}`;return a.get(c)}},7434:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getNodePool=void 0,s.getNodePool=({httpClient:a})=>({kubernetes_cluster_id:l,node_pool_id:c})=>{const u=`/kubernetes/clusters/${l}/node_pools/${c}`;return a.get(u)}},6498:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(4715),s),c(a(2350),s),c(a(7898),s),c(a(690),s),c(a(5874),s),c(a(1619),s),c(a(7119),s),c(a(3856),s),c(a(2146),s),c(a(628),s),c(a(7434),s),c(a(166),s),c(a(748),s),c(a(4059),s),c(a(1592),s),c(a(5250),s),c(a(1831),s),c(a(3645),s),c(a(9564),s),c(a(5582),s),c(a(6262),s)},166:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listAvailableOptionsOfKubernetes=void 0,s.listAvailableOptionsOfKubernetes=({httpClient:a})=>()=>a.get("/kubernetes/options")},748:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listKubernetesClusterAvailableUpgrades=void 0,s.listKubernetesClusterAvailableUpgrades=({httpClient:a})=>({kubernetes_cluster_id:l})=>{const c=`/kubernetes/clusters/${l}/upgrades`;return a.get(c)}},4059:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listKubernetesClusters=void 0,s.listKubernetesClusters=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/kubernetes/clusters",{params:u})}},1592:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listNodePools=void 0,s.listNodePools=({httpClient:a})=>({kubernetes_cluster_id:l,page:c=1,per_page:u=25})=>{const d={page:c,per_page:u},f=`/kubernetes/clusters/${l}/node_pools`;return a.get(f,{params:d})}},5250:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.removeContainerRegistry=void 0,s.removeContainerRegistry=({httpClient:a})=>({cluster_uuids:l})=>{const c={cluster_uuids:l};return a.delete("/kubernetes/clusters/registry",{data:c})}},1831:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.runClusterlintOnKubernetesCluster=void 0,s.runClusterlintOnKubernetesCluster=({httpClient:a})=>({kubernetes_cluster_id:l,include_groups:c,include_checks:u,exclude_groups:d,exclude_checks:f})=>{const h={include_groups:c,include_checks:u,exclude_groups:d,exclude_checks:f},v=`/kubernetes/clusters/${l}/clusterlint`;return a.post(v,h)}},3645:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(7485),s),c(a(3866),s),c(a(8817),s),c(a(5956),s),c(a(2834),s),c(a(8693),s),c(a(654),s),c(a(8261),s)},7485:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},3866:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8817:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5956:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},2834:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8693:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},654:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8261:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},9564:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateKubernetesCluster=void 0,s.updateKubernetesCluster=({httpClient:a})=>({auto_upgrade:l,kubernetes_cluster_id:c,maintenance_policy:u,name:d,tags:f})=>{const h={auto_upgrade:l,maintenance_policy:u,name:d,tags:f},v=`/kubernetes/clusters/${c}`;return a.put(v,h)}},5582:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateNodePool=void 0,s.updateNodePool=({httpClient:a})=>({auto_scale:l,count:c,kubernetes_cluster_id:u,labels:d,max_nodes:f,min_nodes:h,name:v,node_pool_id:m,tags:_,taints:S})=>{const E={auto_scale:l,count:c,labels:d,max_nodes:f,min_nodes:h,name:v,tags:_,taints:S},w=`/kubernetes/clusters/${u}/node_pools/${m}`;return a.put(w,E)}},6262:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.upgradeKubernetesCluster=void 0,s.upgradeKubernetesCluster=({httpClient:a})=>({kubernetes_cluster_id:l,version:c})=>{const u={version:c},d=`/kubernetes/clusters/${l}/upgrade`;return a.post(d,u)}},2361:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addDropletsToLoadBalancer=void 0,s.addDropletsToLoadBalancer=({httpClient:a})=>({droplet_ids:l,load_balancer_id:c})=>{const u={droplet_ids:l},d=`/load_balancers/${c}/droplets`;return a.post(d,u)}},3528:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addRulesToLoadBalancer=void 0,s.addRulesToLoadBalancer=({httpClient:a})=>({forwarding_rules:l,load_balancer_id:c})=>{const u={forwarding_rules:l},d=`/load_balancers/${c}/forwarding_rules`;return a.post(d,u)}},7094:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createLoadBalancer=void 0,s.createLoadBalancer=({httpClient:a})=>({algorithm:l,droplet_ids:c,enable_backend_keepalive:u,enable_proxy_protocol:d,forwarding_rules:f,health_check:h,name:v,redirect_http_to_https:m,region:_,sticky_sessions:S,tag:E,vpc_uuid:w})=>{const T={algorithm:l,droplet_ids:c,enable_backend_keepalive:u,enable_proxy_protocol:d,forwarding_rules:f,health_check:h,name:v,redirect_http_to_https:m,region:_,sticky_sessions:S,tag:E,vpc_uuid:w};return a.post("/load_balancers",T)}},2244:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteLoadBalancer=void 0,s.deleteLoadBalancer=({httpClient:a})=>({load_balancer_id:l})=>{const c=`/load_balancers/${l}`;return a.delete(c)}},3896:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getLoadBalancer=void 0,s.getLoadBalancer=({httpClient:a})=>({load_balancer_id:l})=>{const c=`/load_balancers/${l}`;return a.get(c)}},6955:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(2361),s),c(a(3528),s),c(a(7094),s),c(a(2244),s),c(a(3896),s),c(a(247),s),c(a(9437),s),c(a(1951),s),c(a(5038),s),c(a(390),s)},247:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listLoadBalancers=void 0,s.listLoadBalancers=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/load_balancers",{params:u})}},9437:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.removeDropletsFromLoadBalancer=void 0,s.removeDropletsFromLoadBalancer=({httpClient:a})=>({droplet_ids:l,load_balancer_id:c})=>{const u={droplet_ids:l},d=`/load_balancers/${c}/droplets`;return a.delete(d,{data:u})}},1951:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.removeRulesFromLoadBalancer=void 0,s.removeRulesFromLoadBalancer=({httpClient:a})=>({forwarding_rules:l,load_balancer_id:c})=>{const u={forwarding_rules:l},d=`/load_balancers/${c}/forwarding_rules`;return a.delete(d,{data:u})}},2496:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1351:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},390:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(2496),s),c(a(1351),s),c(a(8120),s),c(a(3782),s),c(a(8187),s)},8120:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},3782:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8187:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5038:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateLoadBalancer=void 0,s.updateLoadBalancer=({httpClient:a})=>({algorithm:l,droplet_ids:c,enable_proxy_protocol:u,forwarding_rules:d,health_check:f,load_balancer_id:h,name:v,redirect_http_to_https:m,region:_,sticky_sessions:S,tag:E,vpc_uuid:w})=>{const T={algorithm:l,droplet_ids:c,enable_proxy_protocol:u,forwarding_rules:d,health_check:f,name:v,redirect_http_to_https:m,region:_,sticky_sessions:S,tag:E,vpc_uuid:w},C=`/load_balancers/${h}`;return a.put(C,T)}},3918:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.assignResourcesToDefaultProject=void 0,s.assignResourcesToDefaultProject=({httpClient:a})=>({resources:l})=>{const c={resources:l};return a.post("/projects/default/resources",c)}},4344:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.assignResourcesToProject=void 0,s.assignResourcesToProject=({httpClient:a})=>({project_id:l,resources:c})=>{const u={resources:c},d=`/projects/${l}/resources`;return a.post(d,u)}},6674:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createProject=void 0,s.createProject=({httpClient:a})=>({name:l,description:c,purpose:u,environment:d})=>{const f={name:l,description:c,purpose:u,environment:d};return a.post("/projects",f)}},4931:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteProject=void 0,s.deleteProject=({httpClient:a})=>({project_id:l})=>{const c=`/projects/${l}`;return a.delete(c)}},9850:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getDefaultProject=void 0,s.getDefaultProject=({httpClient:a})=>()=>a.get("/projects/default")},4187:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getProject=void 0,s.getProject=({httpClient:a})=>({project_id:l})=>{const c=`/projects/${l}`;return a.get(c)}},1599:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(3918),s),c(a(4344),s),c(a(6674),s),c(a(4931),s),c(a(9850),s),c(a(4187),s),c(a(2873),s),c(a(3986),s),c(a(8968),s),c(a(3845),s),c(a(3817),s),c(a(5354),s),c(a(332),s),c(a(6458),s)},2873:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listDefaultProjectResources=void 0,s.listDefaultProjectResources=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/projects/default/resources",{params:u})}},3986:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listProjectResources=void 0,s.listProjectResources=({httpClient:a})=>({page:l=1,per_page:c=25,project_id:u})=>{const d={page:l,per_page:c},f=`/projects/${u}/resources`;return a.get(f,{params:d})}},8968:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listProjects=void 0,s.listProjects=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/projects",{params:u})}},3845:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.patchDefaultProject=void 0,s.patchDefaultProject=({httpClient:a})=>({description:l,environment:c,is_default:u,name:d,purpose:f})=>{const h={description:l,environment:c,is_default:u,name:d,purpose:f};return a.patch("/projects/default",h)}},3817:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.patchProject=void 0,s.patchProject=({httpClient:a})=>({description:l,environment:c,is_default:u,name:d,project_id:f,purpose:h})=>{const v={description:l,environment:c,is_default:u,name:d,purpose:h},m=`/projects/${f}`;return a.patch(m,v)}},5354:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(6181),s),c(a(4527),s),c(a(3496),s),c(a(6326),s)},6181:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},4527:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},3496:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},6326:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},332:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateDefaultProject=void 0,s.updateDefaultProject=({httpClient:a})=>({description:l,environment:c,is_default:u,name:d,purpose:f})=>{const h={description:l,environment:c,is_default:u,name:d,purpose:f};return a.put("/projects/default",h)}},6458:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateProject=void 0,s.updateProject=({httpClient:a})=>({description:l,environment:c,is_default:u,name:d,project_id:f,purpose:h})=>{const v={description:l,environment:c,is_default:u,name:d,purpose:h},m=`/projects/${f}`;return a.put(m,v)}},6130:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(1697),s),c(a(5544),s)},1697:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listRegions=void 0,s.listRegions=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/regions",{params:u})}},5544:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(8267),s)},8267:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8768:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(8092),s),c(a(522),s)},8092:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listSizes=void 0,s.listSizes=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/sizes",{params:u})}},522:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(9530),s)},9530:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},2430:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteSnapshot=void 0,s.deleteSnapshot=({httpClient:a})=>({snapshot_id:l})=>{const c=`/snapshots/${l}`;return a.delete(c)}},2057:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getSnapshot=void 0,s.getSnapshot=({httpClient:a})=>({snapshot_id:l})=>{const c=`/snapshots/${l}`;return a.get(c)}},7150:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(2430),s),c(a(2057),s),c(a(4334),s),c(a(1394),s)},4334:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listSnapshots=void 0,s.listSnapshots=({httpClient:a})=>({page:l=1,per_page:c=25,resource_type:u})=>{const d={page:l,per_page:c,resource_type:u};return a.get("/snapshots",{params:d})}},1394:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(750),s)},750:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},7815:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createSshKey=void 0,s.createSshKey=({httpClient:a})=>({name:l,public_key:c})=>{const u={name:l,public_key:c};return a.post("/account/keys",u)}},2067:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.destroySshKey=void 0,s.destroySshKey=({httpClient:a})=>({ssh_key_id:l})=>{const c=`/account/keys/${l}`;return a.delete(c)}},3099:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getSshKey=void 0,s.getSshKey=({httpClient:a})=>({ssh_key_id:l})=>{const c=`/account/keys/${l}`;return a.get(c)}},4605:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(7815),s),c(a(2067),s),c(a(3099),s),c(a(6761),s),c(a(1724),s),c(a(7415),s)},6761:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listSshKeys=void 0,s.listSshKeys=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/account/keys",{params:u})}},7415:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(9932),s)},9932:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1724:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateSshKey=void 0,s.updateSshKey=({httpClient:a})=>({name:l,ssh_key_id:c})=>{const u={name:l},d=`/account/keys/${c}`;return a.put(d,u)}},7966:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createTag=void 0,s.createTag=({httpClient:a})=>({name:l})=>{const c={name:l};return a.post("/tags",c)}},5871:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteTag=void 0,s.deleteTag=({httpClient:a})=>({tag_name:l})=>{const c=`/tags/${l}`;return a.delete(c)}},9734:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getTag=void 0,s.getTag=({httpClient:a})=>({tag_name:l})=>{const c=`/tags/${l}`;return a.get(c)}},9720:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(7966),s),c(a(5871),s),c(a(9734),s),c(a(3950),s),c(a(2428),s),c(a(8538),s),c(a(761),s)},3950:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listTags=void 0,s.listTags=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/tags",{params:u})}},2428:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.tagResources=void 0,s.tagResources=({httpClient:a})=>({tag_name:l,resources:c})=>{const u={resources:c},d=`/tags/${l}/resources`;return a.post(d,u)}},761:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(5794),s),c(a(1807),s),c(a(2265),s),c(a(5861),s),c(a(1540),s)},5794:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1807:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},2265:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5861:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},1540:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},8538:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.untagResources=void 0,s.untagResources=({httpClient:a})=>({tag_name:l,resources:c})=>{const u={resources:c},d=`/tags/${l}/resources`;return a.delete(d,{data:u})}},9580:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.attachVolumeToDroplet=void 0,s.attachVolumeToDroplet=({httpClient:a})=>({droplet_id:l,region:c,volume_id:u})=>{const d={droplet_id:l,region:c,type:"attach"},f=`/volumes/${u}/actions`;return a.post(f,d)}},1908:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createVolumeSnapshot=void 0,s.createVolumeSnapshot=({httpClient:a})=>({name:l,tags:c,volume_id:u})=>{const d={name:l,tags:c},f=`/volumes/${u}/snapshots`;return a.post(f,d)}},8719:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createVolume=void 0,s.createVolume=({httpClient:a})=>({description:l,filesystem_label:c,filesystem_type:u,name:d,region:f,size_gigabytes:h,snapshot_id:v,tags:m})=>{const _={description:l,filesystem_label:c,filesystem_type:u,name:d,region:f,size_gigabytes:h,snapshot_id:v,tags:m};return a.post("/volumes",_)}},8134:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteVolumeByName=void 0,s.deleteVolumeByName=({httpClient:a})=>({region:l,volume_name:c})=>{const u={name:c,region:l};return a.delete("/volumes",{params:u})}},9815:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteVolume=void 0,s.deleteVolume=({httpClient:a})=>({volume_id:l})=>{const c=`/volumes/${l}`;return a.delete(c)}},2433:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.detachVolumeFromDroplet=void 0,s.detachVolumeFromDroplet=({httpClient:a})=>({droplet_id:l,region:c,volume_id:u})=>{const d={droplet_id:l,region:c,type:"detach"},f=`/volumes/${u}/actions`;return a.post(f,d)}},1201:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getVolumeAction=void 0,s.getVolumeAction=({httpClient:a})=>({action_id:l,volume_id:c})=>{const u=`/volumes/${c}/actions/${l}`;return a.get(u)}},4195:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getVolume=void 0,s.getVolume=({httpClient:a})=>({volume_id:l})=>{const c=`/volumes/${l}`;return a.get(c)}},4534:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(9580),s),c(a(1908),s),c(a(8719),s),c(a(8134),s),c(a(9815),s),c(a(2433),s),c(a(1201),s),c(a(4195),s),c(a(2399),s),c(a(4014),s),c(a(130),s),c(a(5360),s),c(a(1289),s)},2399:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listVolumeActions=void 0,s.listVolumeActions=({httpClient:a})=>({page:l=1,per_page:c=25,volume_id:u})=>{const d={page:l,per_page:c},f=`/volumes/${u}/actions`;return a.get(f,{params:d})}},4014:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listVolumeSnapshots=void 0,s.listVolumeSnapshots=({httpClient:a})=>({page:l=1,per_page:c=25,volume_id:u})=>{const d={page:l,per_page:c},f=`/volumes/${u}/snapshots`;return a.get(f,{params:d})}},130:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listVolumes=void 0,s.listVolumes=({httpClient:a})=>({name:l,page:c=1,per_page:u=25})=>{const d={name:l,page:c,per_page:u};return a.get("/volumes",{params:d})}},5360:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.resizeVolume=void 0,s.resizeVolume=({httpClient:a})=>({region:l,size_gigabytes:c,volume_id:u})=>{const d={region:l,size_gigabytes:c,type:"resize"},f=`/volumes/${u}/actions`;return a.post(f,d)}},1289:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(4781),s)},4781:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},7237:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createVpc=void 0,s.createVpc=({httpClient:a})=>({description:l,ip_range:c,is_default:u,name:d,region:f})=>{const h={default:u,description:l,ip_range:c,name:d,region:f};return a.post("/vpcs",h)}},5223:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.deleteVpc=void 0,s.deleteVpc=({httpClient:a})=>({vpc_id:l})=>{const c=`/vpcs/${l}`;return a.delete(c)}},3426:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getVpc=void 0,s.getVpc=({httpClient:a})=>({vpc_id:l})=>{const c=`/vpcs/${l}`;return a.get(c)}},787:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(7237),s),c(a(5223),s),c(a(3426),s),c(a(8414),s),c(a(110),s),c(a(5883),s),c(a(5373),s)},8414:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listVpcResources=void 0,s.listVpcResources=({httpClient:a})=>({page:l=1,per_page:c=25,resource_type:u,vpc_id:d})=>{const f={page:l,per_page:c,resource_type:u},h=`/vpcs/${d}/members`;return a.get(h,{params:f})}},110:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.listVpcs=void 0,s.listVpcs=({httpClient:a})=>({page:l=1,per_page:c=25})=>{const u={page:l,per_page:c};return a.get("/vpcs",{params:u})}},5883:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(5914),s),c(a(4404),s)},4404:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5914:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5373:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateVpc=void 0,s.updateVpc=({httpClient:a})=>({description:l,is_default:c,name:u,vpc_id:d})=>{const f={default:c,description:l,name:u},h=`/vpcs/${d}`;return a.patch(h,f)}},7144:function(o,s,a){var l=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0}),s.createApiClient=void 0;const c=l(a(9669));s.createApiClient=({createContext:u,modules:d})=>({endpoint:f,requestTimeoutInMs:h,token:v})=>{const m=u({axios:c.default,endpoint:f,requestTimeoutInMs:h,token:v}),_=Object.freeze({endpoint:f,requestTimeoutInMs:h}),S=Object.freeze({getAccount:d.account.getAccount(m)}),E=Object.freeze({getAction:d.action.getAction(m),listActions:d.action.listActions(m)}),w=Object.freeze({listCertificates:d.certificate.listCertificates(m),getCertificate:d.certificate.getCertificate(m),deleteCertificate:d.certificate.deleteCertificate(m),createCertificate:d.certificate.createCertificate(m)}),T=Object.freeze({createDomain:d.domain.createDomain(m),createDomainRecord:d.domain.createDomainRecord(m),deleteDomain:d.domain.deleteDomain(m),deleteDomainRecord:d.domain.deleteDomainRecord(m),getDomain:d.domain.getDomain(m),getDomainRecord:d.domain.getDomainRecord(m),listDomainRecords:d.domain.listDomainRecords(m),listDomains:d.domain.listDomains(m),updateDomainRecord:d.domain.updateDomainRecord(m)}),C=Object.freeze({changeDropletKernel:d.droplet.changeDropletKernel(m),createDroplet:d.droplet.createDroplet(m),createDroplets:d.droplet.createDroplets(m),deleteDroplet:d.droplet.deleteDroplet(m),deleteDropletsByTag:d.droplet.deleteDropletsByTag(m),destroyDropletAndAllAssociatedResources:d.droplet.destroyDropletAndAllAssociatedResources(m),destroyDropletAndAssociatedResources:d.droplet.destroyDropletAndAssociatedResources(m),disableDropletBackups:d.droplet.disableDropletBackups(m),doActionByDropletTag:d.droplet.doActionByDropletTag(m),enableDropletBackups:d.droplet.enableDropletBackups(m),enableDropletIpv6:d.droplet.enableDropletIpv6(m),enableDropletPrivateNetworking:d.droplet.enableDropletPrivateNetworking(m),getDroplet:d.droplet.getDroplet(m),getDropletAction:d.droplet.getDropletAction(m),getDropletDestroyStatus:d.droplet.getDropletDestroyStatus(m),listDropletActions:d.droplet.listDropletActions(m),listDropletAssociatedResources:d.droplet.listDropletAssociatedResources(m),listDropletBackups:d.droplet.listDropletBackups(m),listDropletKernels:d.droplet.listDropletKernels(m),listDropletNeighborhoods:d.droplet.listDropletNeighborhoods(m),listDropletNeighbors:d.droplet.listDropletNeighbors(m),listDroplets:d.droplet.listDroplets(m),listDropletSnapshots:d.droplet.listDropletSnapshots(m),powerCycleDroplet:d.droplet.powerCycleDroplet(m),powerOffDroplet:d.droplet.powerOffDroplet(m),powerOnDroplet:d.droplet.powerOnDroplet(m),rebootDroplet:d.droplet.rebootDroplet(m),rebuildDroplet:d.droplet.rebuildDroplet(m),renameDroplet:d.droplet.renameDroplet(m),resetDropletPassword:d.droplet.resetDropletPassword(m),resizeDroplet:d.droplet.resizeDroplet(m),restoreDroplet:d.droplet.restoreDroplet(m),retryDropletDestroy:d.droplet.retryDropletDestroy(m),shutdownDroplet:d.droplet.shutdownDroplet(m),snapshotDroplet:d.droplet.snapshotDroplet(m)}),P=Object.freeze({addDropletsToFirewall:d.firewall.addDropletsToFirewall(m),addRulesToFirewall:d.firewall.addRulesToFirewall(m),addTagsToFirewall:d.firewall.addTagsToFirewall(m),createFirewall:d.firewall.createFirewall(m),deleteFirewall:d.firewall.deleteFirewall(m),getFirewall:d.firewall.getFirewall(m),listFirewalls:d.firewall.listFirewalls(m),removeDropletsFromFirewall:d.firewall.removeDropletsFromFirewall(m),removeRulesFromFirewall:d.firewall.removeRulesFromFirewall(m),removeTagsFromFirewall:d.firewall.removeTagsFromFirewall(m),updateFirewall:d.firewall.updateFirewall(m)}),R=Object.freeze({assignIpToDroplet:d.floatingIp.assignIpToDroplet(m),createFloatingIp:d.floatingIp.createFloatingIp(m),deleteFloatingIp:d.floatingIp.deleteFloatingIp(m),getFloatingIp:d.floatingIp.getFloatingIp(m),getFloatingIpAction:d.floatingIp.getFloatingIpAction(m),listFloatingIpActions:d.floatingIp.listFloatingIpActions(m),listFloatingIps:d.floatingIp.listFloatingIps(m),unassignIpFromDroplet:d.floatingIp.unassignIpFromDroplet(m)}),A=Object.freeze({convertImageToSnapshot:d.image.convertImageToSnapshot(m),createCustomImage:d.image.createCustomImage(m),deleteImage:d.image.deleteImage(m),getImageAction:d.image.getImageAction(m),getImage:d.image.getImage(m),listImageActions:d.image.listImageActions(m),listImages:d.image.listImages(m),transferImage:d.image.transferImage(m),updateImage:d.image.updateImage(m)}),L=Object.freeze({addDropletsToLoadBalancer:d.loadBalancer.addDropletsToLoadBalancer(m),addRulesToLoadBalancer:d.loadBalancer.addRulesToLoadBalancer(m),createLoadBalancer:d.loadBalancer.createLoadBalancer(m),deleteLoadBalancer:d.loadBalancer.deleteLoadBalancer(m),getLoadBalancer:d.loadBalancer.getLoadBalancer(m),listLoadBalancers:d.loadBalancer.listLoadBalancers(m),removeDropletsFromLoadBalancer:d.loadBalancer.removeDropletsFromLoadBalancer(m),removeRulesFromLoadBalancer:d.loadBalancer.removeRulesFromLoadBalancer(m),updateLoadBalancer:d.loadBalancer.updateLoadBalancer(m)}),k=Object.freeze({listRegions:d.region.listRegions(m)}),U=Object.freeze({listSizes:d.size.listSizes(m)}),N=Object.freeze({deleteSnapshot:d.snapshot.deleteSnapshot(m),getSnapshot:d.snapshot.getSnapshot(m),listSnapshots:d.snapshot.listSnapshots(m)}),I=Object.freeze({createSshKey:d.sshKey.createSshKey(m),destroySshKey:d.sshKey.destroySshKey(m),getSshKey:d.sshKey.getSshKey(m),listSshKeys:d.sshKey.listSshKeys(m),updateSshKey:d.sshKey.updateSshKey(m)}),F=Object.freeze({createTag:d.tag.createTag(m),deleteTag:d.tag.deleteTag(m),getTag:d.tag.getTag(m),listTags:d.tag.listTags(m),tagResources:d.tag.tagResources(m),untagResources:d.tag.untagResources(m)}),O=Object.freeze({attachVolumeToDroplet:d.volume.attachVolumeToDroplet(m),createVolume:d.volume.createVolume(m),createVolumeSnapshot:d.volume.createVolumeSnapshot(m),deleteVolume:d.volume.deleteVolume(m),deleteVolumeByName:d.volume.deleteVolumeByName(m),detachVolumeFromDroplet:d.volume.detachVolumeFromDroplet(m),getVolume:d.volume.getVolume(m),getVolumeAction:d.volume.getVolumeAction(m),listVolumeActions:d.volume.listVolumeActions(m),listVolumes:d.volume.listVolumes(m),listVolumeSnapshots:d.volume.listVolumeSnapshots(m),resizeVolume:d.volume.resizeVolume(m)}),V=Object.freeze({configureDatabaseClusterEvictionPolicy:d.database.configureDatabaseClusterEvictionPolicy(m),configureDatabaseClusterMaintenanceWindow:d.database.configureDatabaseClusterMaintenanceWindow(m),configureDatabaseClusterSqlModes:d.database.configureDatabaseClusterSqlModes(m),createConnectionPool:d.database.createConnectionPool(m),createDatabaseCluster:d.database.createDatabaseCluster(m),createDatabaseClusterDb:d.database.createDatabaseClusterDb(m),createDatabaseClusterUser:d.database.createDatabaseClusterUser(m),createReadOnlyReplica:d.database.createReadOnlyReplica(m),deleteConnectionPool:d.database.deleteConnectionPool(m),deleteDatabaseClusterDb:d.database.deleteDatabaseClusterDb(m),destroyDatabaseCluster:d.database.destroyDatabaseCluster(m),destroyReadOnlyReplica:d.database.destroyReadOnlyReplica(m),getConnectionPool:d.database.getConnectionPool(m),getDatabaseCluster:d.database.getDatabaseCluster(m),getDatabaseClusterDb:d.database.getDatabaseClusterDb(m),getDatabaseClusterEvictionPolicy:d.database.getDatabaseClusterEvictionPolicy(m),getDatabaseClusterSqlMode:d.database.getDatabaseClusterSqlMode(m),getDatabaseClusterUser:d.database.getDatabaseClusterUser(m),getReadOnlyReplica:d.database.getReadOnlyReplica(m),listConnectionPools:d.database.listConnectionPools(m),listDatabaseClusterBackups:d.database.listDatabaseClusterBackups(m),listDatabaseClusterDbs:d.database.listDatabaseClusterDbs(m),listDatabaseClusterFirewallRules:d.database.listDatabaseClusterFirewallRules(m),listDatabaseClusters:d.database.listDatabaseClusters(m),listDatabaseClusterUsers:d.database.listDatabaseClusterUsers(m),listReadOnlyReplicas:d.database.listReadOnlyReplicas(m),migrateDatabaseCluster:d.database.migrateDatabaseCluster(m),removeDatabaseClusterUser:d.database.removeDatabaseClusterUser(m),resizeDatabaseCluster:d.database.resizeDatabaseCluster(m),restoreDatabaseClusterBackup:d.database.restoreDatabaseClusterBackup(m),updateDatabaseClusterFirewallRules:d.database.updateDatabaseClusterFirewallRules(m)}),z=Object.freeze({assignResourcesToDefaultProject:d.project.assignResourcesToDefaultProject(m),assignResourcesToProject:d.project.assignResourcesToProject(m),createProject:d.project.createProject(m),deleteProject:d.project.deleteProject(m),getDefaultProject:d.project.getDefaultProject(m),getProject:d.project.getProject(m),listDefaultProjectResources:d.project.listDefaultProjectResources(m),listProjectResources:d.project.listProjectResources(m),listProjects:d.project.listProjects(m),patchDefaultProject:d.project.patchDefaultProject(m),patchProject:d.project.patchProject(m),updateDefaultProject:d.project.updateDefaultProject(m),updateProject:d.project.updateProject(m)}),B=Object.freeze({addContainerRegistry:d.kubernetes.addContainerRegistry(m),createKubernetesCluster:d.kubernetes.createKubernetesCluster(m),createNodePool:d.kubernetes.createNodePool(m),deleteKubernetesCluster:d.kubernetes.deleteKubernetesCluster(m),deleteNode:d.kubernetes.deleteNode(m),deleteNodePool:d.kubernetes.deleteNodePool(m),getClusterlintDiagnostics:d.kubernetes.getClusterlintDiagnostics(m),getKubernetesCluster:d.kubernetes.getKubernetesCluster(m),getKubernetesClusterCredentials:d.kubernetes.getKubernetesClusterCredentials(m),getKubernetesClusterKubeconfig:d.kubernetes.getKubernetesClusterKubeconfig(m),getNodePool:d.kubernetes.getNodePool(m),listAvailableOptionsOfKubernetes:d.kubernetes.listAvailableOptionsOfKubernetes(m),listKubernetesClusterAvailableUpgrades:d.kubernetes.listKubernetesClusterAvailableUpgrades(m),listKubernetesClusters:d.kubernetes.listKubernetesClusters(m),listNodePools:d.kubernetes.listNodePools(m),removeContainerRegistry:d.kubernetes.removeContainerRegistry(m),runClusterlintOnKubernetesCluster:d.kubernetes.runClusterlintOnKubernetesCluster(m),updateKubernetesCluster:d.kubernetes.updateKubernetesCluster(m),updateNodePool:d.kubernetes.updateNodePool(m),upgradeKubernetesCluster:d.kubernetes.upgradeKubernetesCluster(m)}),H=Object.freeze({createCdnEndpoint:d.cdnEndpoint.createCdnEndpoint(m),getCdnEndpoint:d.cdnEndpoint.getCdnEndpoint(m),listCdnEndpoints:d.cdnEndpoint.listCdnEndpoints(m),deleteCdnEndpoint:d.cdnEndpoint.deleteCdnEndpoint(m),updateCdnEndpoint:d.cdnEndpoint.updateCdnEndpoint(m),purgeCache:d.cdnEndpoint.purgeCache(m)}),W=Object.freeze({configureRegistry:d.containerRegistry.configureRegistry(m),deleteRegistry:d.containerRegistry.deleteRegistry(m),getDockerCredentials:d.containerRegistry.getDockerCredentials(m),getRegistry:d.containerRegistry.getRegistry(m)}),G=Object.freeze({downloadInvoice:d.customer.downloadInvoice(m),getBalance:d.customer.getBalance(m),getInvoiceSummary:d.customer.getInvoiceSummary(m),listBillingHistory:d.customer.listBillingHistory(m),listInvoiceItems:d.customer.listInvoiceItems(m),listInvoices:d.customer.listInvoices(m)}),q=Object.freeze({createVpc:d.vpc.createVpc(m),deleteVpc:d.vpc.deleteVpc(m),getVpc:d.vpc.getVpc(m),listVpcResources:d.vpc.listVpcResources(m),listVpcs:d.vpc.listVpcs(m),updateVpc:d.vpc.updateVpc(m)}),re=Object.freeze({cancelAppDeployment:d.app.cancelAppDeployment(m),createApp:d.app.createApp(m),createAppDeployment:d.app.createAppDeployment(m),deleteApp:d.app.deleteApp(m),getAggregatedAppDeploymentLogs:d.app.getAggregatedAppDeploymentLogs(m),getApp:d.app.getApp(m),getAppDeployment:d.app.getAppDeployment(m),getAppDeploymentLogs:d.app.getAppDeploymentLogs(m),listAppDeployments:d.app.listAppDeployments(m),listApps:d.app.listApps(m),runAppDetection:d.app.runAppDetection(m),updateApp:d.app.updateApp(m)});return Object.freeze({_options:_,account:S,action:E,app:re,cdnEndpoint:H,certificate:w,containerRegistry:W,customer:G,database:V,domain:T,droplet:C,firewall:P,floatingIp:R,image:A,kubernetes:B,loadBalancer:L,project:z,region:k,size:U,snapshot:N,sshKey:I,tag:F,volume:O,vpc:q})}},4459:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createContext=void 0,s.createContext=({axios:a,requestTimeoutInMs:l=15e3,endpoint:c="https://api.digitalocean.com/v2",token:u})=>{const{freeze:d}=Object,f=d({Authorization:`Bearer ${u}`,"Content-Type":"application/json"}),h=d({baseURL:c,headers:f,timeout:l});return d({endpoint:c,httpClient:a.create(h)})}},338:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(u,d,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,h){h===void 0&&(h=f),u[h]=d[f]}),c=this&&this.__exportStar||function(u,d){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(d,f)||l(d,u,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(7144),s),c(a(4459),s)},9669:(o,s,a)=>{o.exports=a(1609)},5448:(o,s,a)=>{var l=a(4867),c=a(1309),u=a(4372),d=a(5327),f=a(4097),h=a(4109),v=a(7985),m=a(5061);o.exports=function(_){return new Promise(function(S,E){var w=_.data,T=_.headers,C=_.responseType;l.isFormData(w)&&delete T["Content-Type"];var P=new XMLHttpRequest;if(_.auth){var R=_.auth.username||"",A=_.auth.password?unescape(encodeURIComponent(_.auth.password)):"";T.Authorization="Basic "+btoa(R+":"+A)}var L=f(_.baseURL,_.url);function k(){if(P){var N="getAllResponseHeaders"in P?h(P.getAllResponseHeaders()):null,I={data:C&&C!=="text"&&C!=="json"?P.response:P.responseText,status:P.status,statusText:P.statusText,headers:N,config:_,request:P};c(S,E,I),P=null}}if(P.open(_.method.toUpperCase(),d(L,_.params,_.paramsSerializer),!0),P.timeout=_.timeout,"onloadend"in P?P.onloadend=k:P.onreadystatechange=function(){P&&P.readyState===4&&(P.status!==0||P.responseURL&&P.responseURL.indexOf("file:")===0)&&setTimeout(k)},P.onabort=function(){P&&(E(m("Request aborted",_,"ECONNABORTED",P)),P=null)},P.onerror=function(){E(m("Network Error",_,null,P)),P=null},P.ontimeout=function(){var N="timeout of "+_.timeout+"ms exceeded";_.timeoutErrorMessage&&(N=_.timeoutErrorMessage),E(m(N,_,_.transitional&&_.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",P)),P=null},l.isStandardBrowserEnv()){var U=(_.withCredentials||v(L))&&_.xsrfCookieName?u.read(_.xsrfCookieName):void 0;U&&(T[_.xsrfHeaderName]=U)}"setRequestHeader"in P&&l.forEach(T,function(N,I){w===void 0&&I.toLowerCase()==="content-type"?delete T[I]:P.setRequestHeader(I,N)}),l.isUndefined(_.withCredentials)||(P.withCredentials=!!_.withCredentials),C&&C!=="json"&&(P.responseType=_.responseType),typeof _.onDownloadProgress=="function"&&P.addEventListener("progress",_.onDownloadProgress),typeof _.onUploadProgress=="function"&&P.upload&&P.upload.addEventListener("progress",_.onUploadProgress),_.cancelToken&&_.cancelToken.promise.then(function(N){P&&(P.abort(),E(N),P=null)}),w||(w=null),P.send(w)})}},1609:(o,s,a)=>{var l=a(4867),c=a(1849),u=a(321),d=a(7185);function f(v){var m=new u(v),_=c(u.prototype.request,m);return l.extend(_,u.prototype,m),l.extend(_,m),_}var h=f(a(5655));h.Axios=u,h.create=function(v){return f(d(h.defaults,v))},h.Cancel=a(5263),h.CancelToken=a(4972),h.isCancel=a(6502),h.all=function(v){return Promise.all(v)},h.spread=a(8713),h.isAxiosError=a(6268),o.exports=h,o.exports.default=h},5263:o=>{function s(a){this.message=a}s.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},s.prototype.__CANCEL__=!0,o.exports=s},4972:(o,s,a)=>{var l=a(5263);function c(u){if(typeof u!="function")throw new TypeError("executor must be a function.");var d;this.promise=new Promise(function(h){d=h});var f=this;u(function(h){f.reason||(f.reason=new l(h),d(f.reason))})}c.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},c.source=function(){var u;return{token:new c(function(d){u=d}),cancel:u}},o.exports=c},6502:o=>{o.exports=function(s){return!(!s||!s.__CANCEL__)}},321:(o,s,a)=>{var l=a(4867),c=a(5327),u=a(782),d=a(3572),f=a(7185),h=a(790),v=h.validators;function m(_){this.defaults=_,this.interceptors={request:new u,response:new u}}m.prototype.request=function(_){typeof _=="string"?(_=arguments[1]||{}).url=arguments[0]:_=_||{},(_=f(this.defaults,_)).method?_.method=_.method.toLowerCase():this.defaults.method?_.method=this.defaults.method.toLowerCase():_.method="get";var S=_.transitional;S!==void 0&&h.assertOptions(S,{silentJSONParsing:v.transitional(v.boolean,"1.0.0"),forcedJSONParsing:v.transitional(v.boolean,"1.0.0"),clarifyTimeoutError:v.transitional(v.boolean,"1.0.0")},!1);var E=[],w=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(_)===!1||(w=w&&k.synchronous,E.unshift(k.fulfilled,k.rejected))});var T,C=[];if(this.interceptors.response.forEach(function(k){C.push(k.fulfilled,k.rejected)}),!w){var P=[d,void 0];for(Array.prototype.unshift.apply(P,E),P=P.concat(C),T=Promise.resolve(_);P.length;)T=T.then(P.shift(),P.shift());return T}for(var R=_;E.length;){var A=E.shift(),L=E.shift();try{R=A(R)}catch(k){L(k);break}}try{T=d(R)}catch(k){return Promise.reject(k)}for(;C.length;)T=T.then(C.shift(),C.shift());return T},m.prototype.getUri=function(_){return _=f(this.defaults,_),c(_.url,_.params,_.paramsSerializer).replace(/^\?/,"")},l.forEach(["delete","get","head","options"],function(_){m.prototype[_]=function(S,E){return this.request(f(E||{},{method:_,url:S,data:(E||{}).data}))}}),l.forEach(["post","put","patch"],function(_){m.prototype[_]=function(S,E,w){return this.request(f(w||{},{method:_,url:S,data:E}))}}),o.exports=m},782:(o,s,a)=>{var l=a(4867);function c(){this.handlers=[]}c.prototype.use=function(u,d,f){return this.handlers.push({fulfilled:u,rejected:d,synchronous:!!f&&f.synchronous,runWhen:f?f.runWhen:null}),this.handlers.length-1},c.prototype.eject=function(u){this.handlers[u]&&(this.handlers[u]=null)},c.prototype.forEach=function(u){l.forEach(this.handlers,function(d){d!==null&&u(d)})},o.exports=c},4097:(o,s,a)=>{var l=a(1793),c=a(7303);o.exports=function(u,d){return u&&!l(d)?c(u,d):d}},5061:(o,s,a)=>{var l=a(481);o.exports=function(c,u,d,f,h){var v=new Error(c);return l(v,u,d,f,h)}},3572:(o,s,a)=>{var l=a(4867),c=a(8527),u=a(6502),d=a(5655);function f(h){h.cancelToken&&h.cancelToken.throwIfRequested()}o.exports=function(h){return f(h),h.headers=h.headers||{},h.data=c.call(h,h.data,h.headers,h.transformRequest),h.headers=l.merge(h.headers.common||{},h.headers[h.method]||{},h.headers),l.forEach(["delete","get","head","post","put","patch","common"],function(v){delete h.headers[v]}),(h.adapter||d.adapter)(h).then(function(v){return f(h),v.data=c.call(h,v.data,v.headers,h.transformResponse),v},function(v){return u(v)||(f(h),v&&v.response&&(v.response.data=c.call(h,v.response.data,v.response.headers,h.transformResponse))),Promise.reject(v)})}},481:o=>{o.exports=function(s,a,l,c,u){return s.config=a,l&&(s.code=l),s.request=c,s.response=u,s.isAxiosError=!0,s.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},s}},7185:(o,s,a)=>{var l=a(4867);o.exports=function(c,u){u=u||{};var d={},f=["url","method","data"],h=["headers","auth","proxy","params"],v=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],m=["validateStatus"];function _(T,C){return l.isPlainObject(T)&&l.isPlainObject(C)?l.merge(T,C):l.isPlainObject(C)?l.merge({},C):l.isArray(C)?C.slice():C}function S(T){l.isUndefined(u[T])?l.isUndefined(c[T])||(d[T]=_(void 0,c[T])):d[T]=_(c[T],u[T])}l.forEach(f,function(T){l.isUndefined(u[T])||(d[T]=_(void 0,u[T]))}),l.forEach(h,S),l.forEach(v,function(T){l.isUndefined(u[T])?l.isUndefined(c[T])||(d[T]=_(void 0,c[T])):d[T]=_(void 0,u[T])}),l.forEach(m,function(T){T in u?d[T]=_(c[T],u[T]):T in c&&(d[T]=_(void 0,c[T]))});var E=f.concat(h).concat(v).concat(m),w=Object.keys(c).concat(Object.keys(u)).filter(function(T){return E.indexOf(T)===-1});return l.forEach(w,S),d}},1309:(o,s,a)=>{var l=a(5061);o.exports=function(c,u,d){var f=d.config.validateStatus;d.status&&f&&!f(d.status)?u(l("Request failed with status code "+d.status,d.config,null,d.request,d)):c(d)}},8527:(o,s,a)=>{var l=a(4867),c=a(5655);o.exports=function(u,d,f){var h=this||c;return l.forEach(f,function(v){u=v.call(h,u,d)}),u}},5655:(o,s,a)=>{var l=a(4867),c=a(6016),u=a(481),d={"Content-Type":"application/x-www-form-urlencoded"};function f(m,_){!l.isUndefined(m)&&l.isUndefined(m["Content-Type"])&&(m["Content-Type"]=_)}var h,v={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:((typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(h=a(5448)),h),transformRequest:[function(m,_){return c(_,"Accept"),c(_,"Content-Type"),l.isFormData(m)||l.isArrayBuffer(m)||l.isBuffer(m)||l.isStream(m)||l.isFile(m)||l.isBlob(m)?m:l.isArrayBufferView(m)?m.buffer:l.isURLSearchParams(m)?(f(_,"application/x-www-form-urlencoded;charset=utf-8"),m.toString()):l.isObject(m)||_&&_["Content-Type"]==="application/json"?(f(_,"application/json"),function(S,E,w){if(l.isString(S))try{return(0,JSON.parse)(S),l.trim(S)}catch(T){if(T.name!=="SyntaxError")throw T}return(0,JSON.stringify)(S)}(m)):m}],transformResponse:[function(m){var _=this.transitional,S=_&&_.silentJSONParsing,E=_&&_.forcedJSONParsing,w=!S&&this.responseType==="json";if(w||E&&l.isString(m)&&m.length)try{return JSON.parse(m)}catch(T){if(w)throw T.name==="SyntaxError"?u(T,this,"E_JSON_PARSE"):T}return m}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(m){return m>=200&&m<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};l.forEach(["delete","get","head"],function(m){v.headers[m]={}}),l.forEach(["post","put","patch"],function(m){v.headers[m]=l.merge(d)}),o.exports=v},1849:o=>{o.exports=function(s,a){return function(){for(var l=new Array(arguments.length),c=0;c<l.length;c++)l[c]=arguments[c];return s.apply(a,l)}}},5327:(o,s,a)=>{var l=a(4867);function c(u){return encodeURIComponent(u).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}o.exports=function(u,d,f){if(!d)return u;var h;if(f)h=f(d);else if(l.isURLSearchParams(d))h=d.toString();else{var v=[];l.forEach(d,function(_,S){_!=null&&(l.isArray(_)?S+="[]":_=[_],l.forEach(_,function(E){l.isDate(E)?E=E.toISOString():l.isObject(E)&&(E=JSON.stringify(E)),v.push(c(S)+"="+c(E))}))}),h=v.join("&")}if(h){var m=u.indexOf("#");m!==-1&&(u=u.slice(0,m)),u+=(u.indexOf("?")===-1?"?":"&")+h}return u}},7303:o=>{o.exports=function(s,a){return a?s.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):s}},4372:(o,s,a)=>{var l=a(4867);o.exports=l.isStandardBrowserEnv()?{write:function(c,u,d,f,h,v){var m=[];m.push(c+"="+encodeURIComponent(u)),l.isNumber(d)&&m.push("expires="+new Date(d).toGMTString()),l.isString(f)&&m.push("path="+f),l.isString(h)&&m.push("domain="+h),v===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(c){var u=document.cookie.match(new RegExp("(^|;\\s*)("+c+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove:function(c){this.write(c,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:o=>{o.exports=function(s){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(s)}},6268:o=>{o.exports=function(s){return typeof s=="object"&&s.isAxiosError===!0}},7985:(o,s,a)=>{var l=a(4867);o.exports=l.isStandardBrowserEnv()?function(){var c,u=/(msie|trident)/i.test(navigator.userAgent),d=document.createElement("a");function f(h){var v=h;return u&&(d.setAttribute("href",v),v=d.href),d.setAttribute("href",v),{href:d.href,protocol:d.protocol?d.protocol.replace(/:$/,""):"",host:d.host,search:d.search?d.search.replace(/^\?/,""):"",hash:d.hash?d.hash.replace(/^#/,""):"",hostname:d.hostname,port:d.port,pathname:d.pathname.charAt(0)==="/"?d.pathname:"/"+d.pathname}}return c=f(window.location.href),function(h){var v=l.isString(h)?f(h):h;return v.protocol===c.protocol&&v.host===c.host}}():function(){return!0}},6016:(o,s,a)=>{var l=a(4867);o.exports=function(c,u){l.forEach(c,function(d,f){f!==u&&f.toUpperCase()===u.toUpperCase()&&(c[u]=d,delete c[f])})}},4109:(o,s,a)=>{var l=a(4867),c=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];o.exports=function(u){var d,f,h,v={};return u&&l.forEach(u.split(`
`),function(m){if(h=m.indexOf(":"),d=l.trim(m.substr(0,h)).toLowerCase(),f=l.trim(m.substr(h+1)),d){if(v[d]&&c.indexOf(d)>=0)return;v[d]=d==="set-cookie"?(v[d]?v[d]:[]).concat([f]):v[d]?v[d]+", "+f:f}}),v}},8713:o=>{o.exports=function(s){return function(a){return s.apply(null,a)}}},790:(o,s,a)=>{var l=a(6050),c={};["object","boolean","number","function","string","symbol"].forEach(function(h,v){c[h]=function(m){return typeof m===h||"a"+(v<1?"n ":" ")+h}});var u={},d=l.version.split(".");function f(h,v){for(var m=v?v.split("."):d,_=h.split("."),S=0;S<3;S++){if(m[S]>_[S])return!0;if(m[S]<_[S])return!1}return!1}c.transitional=function(h,v,m){var _=v&&f(v);function S(E,w){return"[Axios v"+l.version+"] Transitional option '"+E+"'"+w+(m?". "+m:"")}return function(E,w,T){if(h===!1)throw new Error(S(w," has been removed in "+v));return _&&!u[w]&&(u[w]=!0,console.warn(S(w," has been deprecated since v"+v+" and will be removed in the near future"))),!h||h(E,w,T)}},o.exports={isOlderVersion:f,assertOptions:function(h,v,m){if(typeof h!="object")throw new TypeError("options must be an object");for(var _=Object.keys(h),S=_.length;S-- >0;){var E=_[S],w=v[E];if(w){var T=h[E],C=T===void 0||w(T,E,h);if(C!==!0)throw new TypeError("option "+E+" must be "+C)}else if(m!==!0)throw Error("Unknown option "+E)}},validators:c}},4867:(o,s,a)=>{var l=a(1849),c=Object.prototype.toString;function u(_){return c.call(_)==="[object Array]"}function d(_){return _===void 0}function f(_){return _!==null&&typeof _=="object"}function h(_){if(c.call(_)!=="[object Object]")return!1;var S=Object.getPrototypeOf(_);return S===null||S===Object.prototype}function v(_){return c.call(_)==="[object Function]"}function m(_,S){if(_!=null)if(typeof _!="object"&&(_=[_]),u(_))for(var E=0,w=_.length;E<w;E++)S.call(null,_[E],E,_);else for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&S.call(null,_[T],T,_)}o.exports={isArray:u,isArrayBuffer:function(_){return c.call(_)==="[object ArrayBuffer]"},isBuffer:function(_){return _!==null&&!d(_)&&_.constructor!==null&&!d(_.constructor)&&typeof _.constructor.isBuffer=="function"&&_.constructor.isBuffer(_)},isFormData:function(_){return typeof FormData!="undefined"&&_ instanceof FormData},isArrayBufferView:function(_){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(_):_&&_.buffer&&_.buffer instanceof ArrayBuffer},isString:function(_){return typeof _=="string"},isNumber:function(_){return typeof _=="number"},isObject:f,isPlainObject:h,isUndefined:d,isDate:function(_){return c.call(_)==="[object Date]"},isFile:function(_){return c.call(_)==="[object File]"},isBlob:function(_){return c.call(_)==="[object Blob]"},isFunction:v,isStream:function(_){return f(_)&&v(_.pipe)},isURLSearchParams:function(_){return typeof URLSearchParams!="undefined"&&_ instanceof URLSearchParams},isStandardBrowserEnv:function(){return(typeof navigator=="undefined"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window!="undefined"&&typeof document!="undefined"},forEach:m,merge:function _(){var S={};function E(C,P){h(S[P])&&h(C)?S[P]=_(S[P],C):h(C)?S[P]=_({},C):u(C)?S[P]=C.slice():S[P]=C}for(var w=0,T=arguments.length;w<T;w++)m(arguments[w],E);return S},extend:function(_,S,E){return m(S,function(w,T){_[T]=E&&typeof w=="function"?l(w,E):w}),_},trim:function(_){return _.trim?_.trim():_.replace(/^\s+|\s+$/g,"")},stripBOM:function(_){return _.charCodeAt(0)===65279&&(_=_.slice(1)),_}}},6050:o=>{o.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_from":"axios@0.21.4"}')}},i={},function o(s){var a=i[s];if(a!==void 0)return a.exports;var l=i[s]={exports:{}};return n[s].call(l.exports,l,l.exports,o),l.exports}(5590);var n,i})})(Y0);function AFe(t){const e=t.currentProject().domain(),n=t.currentProject().appType(),i=`# (shebang won't work here because the Glitch server has the file open.)
cat <<-DO_SPEC > /app/do/spec.yaml
# Generated by Glitch during boostrap. Do not modify.
name: ${e}
region: nyc
static_sites:
- environment_slug: html
  git:
    branch: master
    repo_clone_url: ${zs}/git/${e}
  name: $PROJECT_DOMAIN 
  build_command: npm run build
  output_dir: build`.trim(),o=`# (shebang won't work here because the Glitch server has the file open.)
cat <<-DO_SPEC > /app/do/spec.yaml
# Generated by Glitch during boostrap. Do not modify.
name: ${e}
region: nyc
static_sites:
- environment_slug: html
  git:
    branch: master
    repo_clone_url: ${zs}/git/${e}
  name: $PROJECT_DOMAIN 
  output_dir: ./`.trim(),s=`# (shebang won't work here because the Glitch server has the file open.)
cat <<-DO_SPEC > /app/do/spec.yaml
# Generated by Glitch during boostrap. Do not modify.
name: ${e}
region: nyc
services:
- name: node
  git:
    branch: master
    repo_clone_url: ${zs}/git/${e}`.trim();return{generated_static:i,static:o,node:s}[n]}async function LP(t,e,n=!0){const i=await t.containerExec(e);n&&t.appendLog({stream:"stdout",text:i.stdout})}function PFe(t){LP(t,"mkdir -p do && curl -sL https://github.com/digitalocean/doctl/releases/download/v1.63.1/doctl-1.63.1-linux-amd64.tar.gz | tar -xzv --directory /app/do",!1)}async function RFe(t){const e="enable-npm";t.appendLog({stream:"stdout",text:"Checking if your project is using NPM..."}),await LP(t,e,!1),await t.digitalOceanPackageManagerSwitched(t.currentProject().domain())}function LFe(t){let e='git add package-lock.json && git commit -a -m "\u{1F988} Deploying to DigitalOcean" > /dev/null  || true';t.currentProject().appType()==="static"&&(e='git commit -a -m "\u{1F988} Deploying to DigitalOcean" > /dev/null  || true'),LP(t,e,!1)}function IFe(t){const e=t.env(),n=t.currentProject().domain(),i=t.currentProject().appType(),o={static:{name:n,region:"nyc",static_sites:[{environment_slug:"html",git:{branch:"master",repo_clone_url:`${zs}/git/${n}`},name:n,output_dir:"."}]},generated_static:{name:n,region:"nyc",static_sites:[{environment_slug:"html",git:{branch:"master",repo_clone_url:`${zs}/git/${n}`},name:n,build_command:"npm run build",output_dir:"build"}]},node:{name:n,region:"nyc",services:[{name:"node",git:{branch:"master",repo_clone_url:`${zs}/git/${n}`}}]}},s=Y0.exports.createApiClient({token:e.DIGITALOCEAN_ACCESS_TOKEN}),a=o[i];s.app.createApp({spec:a}).then(({data:c})=>{const u=c.app;t.appendLog({stream:"stdout",text:`\u{1F988} Created your application in DigitalOcean. Adding app ID ${u.id} into your .env file and preparing to deploy`});const d=qe(he({},e),{DIGITALOCEAN_APP_ID:u.id});t.analytics.track("DigitalOcean app created"),t.glitchApi().v0.projectSetEnv(n,d)})}const $E=async({step:t,application:e})=>{const n=e.digitalOceanDeploy,i=e.currentProject().domain(),o=e.currentProject(),s=e.env(),a=e.digitalOceanPackageManagerSwitched;e.analytics.track("DigitalOcean deploy clicked"),e.logsPanelVisible(!0);const l=f=>{e.digitalOceanStatus(f)};if(n())return!1;if(!s)return null;if(s.DIGITALOCEAN_ACCESS_TOKEN){const f=Y0.exports.createApiClient({token:s.DIGITALOCEAN_ACCESS_TOKEN});if(s.DIGITALOCEAN_APP_ID)try{const h={app_id:s.DIGITALOCEAN_APP_ID},{data:{app:v}}=await f.app.getApp(h);v.in_progress_deployment&&l("deploying")}catch{}}if(t==="deploy"){let f=0;const h=setInterval(async()=>{var _,S,E;const v=e.digitalOceanDeploy,m=Y0.exports.createApiClient({token:s.DIGITALOCEAN_ACCESS_TOKEN});if(s.DIGITALOCEAN_APP_ID){l("deploying");const{data:{app:w}}=await m.app.getApp({app_id:s.DIGITALOCEAN_APP_ID});if(w==null?void 0:w.in_progress_deployment){const T=w.in_progress_deployment.id,{steps:C}=w.in_progress_deployment.progress,P=C[C.length-1];l("deploying"),v(w.in_progress_deployment);const R=".".repeat(f);e.appendLog({stream:"stdout",text:`\u{1F988} Deployment (${T}) in progress: ${P.name} (${P.status}) ${R}`}),f+=1}if(((_=w==null?void 0:w.active_deployment)==null?void 0:_.id)===((S=v())==null?void 0:S.id)&&((E=w==null?void 0:w.active_deployment)==null?void 0:E.id)){if(v(null),l("deployed"),e.analytics.track("Digitalocean deployment successful"),e.appendLog({stream:"stdout",text:`\u{1F988} Deployment completed at ${w==null?void 0:w.live_url}`}),!s.DIGITALOCEAN_APP_URL&&w.live_url){const T=qe(he({},s),{DIGITALOCEAN_APP_URL:w.live_url});e.analytics.track("DigitalOcean app created"),e.glitchApi().v0.projectSetEnv(o.domain(),T)}clearInterval(h)}}},5e3)}const u={prepare:[{name:"Create YAML template file",run:()=>{AFe(e)},fail:()=>{}},{run:()=>{PFe(e)}},{name:"Switch to NPM",run:()=>{RFe(e)},after:()=>{a(i),l("ready")}}],create:[{name:"Create on Digital Ocean",run:()=>IFe(e)}],deploy:[{name:"Add deploy to git",run:()=>LFe(e)},{name:"Deploy to Digitalocean",run:()=>{l("deploying");const f=Y0.exports.createApiClient({token:s.DIGITALOCEAN_ACCESS_TOKEN}),h=s.DIGITALOCEAN_APP_ID;return h?(f.app.createAppDeployment({app_id:h,force_build:!1}),e.appendLog({stream:"stdout",text:"\u{1F988} Starting deploy to DigitalOcean..."}),!0):!1}}]}[t],d=[];for(const f of u)if(f.before&&f.before(),f.run){const h=async()=>{try{const v=await f.run();f.after&&f.after()}catch(v){f.fail&&f.fail(v.message)}};d.push(h())}return Promise.all(d).then(()=>{t==="create"&&l("ready")}),!0};function OFe(){const t=Te(),e=j(t.env),n=j(t.projectContainerStatus),i=j(t.digitalOceanStatus),o=j(t.packageManager),s=j(t.digitalOceanPackageManagerSwitched),a=j(t.currentProject),l=j(a.appType);p.useEffect(()=>{t.readPackageManager()},[a]);const c=n==="building"||i==="deploying",d=[{name:"prepare",title:"Creating your application",finished:o==="npm"||s===a.domain()||l==="static"},{name:"create",title:"Creating your application",finished:e==null?void 0:e.DIGITALOCEAN_APP_ID},{name:"deploy",title:"Deploying your application",ready:!!(e==null?void 0:e.DIGITALOCEAN_APP_ID)}].filter(f=>!f.finished)[0].name;return p.createElement(un,{sx:{padding:2,alignContent:"center",alignItems:"center",gap:4,height:"64px"}},p.createElement(Qe,{sx:{minWidth:"230px",maxWidth:"280px"}},c&&p.createElement(mn,null),!c&&p.createElement(p.Fragment,null,d==="prepare"&&p.createElement(as,{variant:"chunky",icon:p.createElement("img",{src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515/digitalocean-logomark.svg?v=1643207005464",alt:"Deploy to DigitalOcean",style:{width:"18px",height:"18px",display:"block"}}),onClick:()=>$E({step:d,application:t})},"Prepare project"),d==="create"&&p.createElement(as,{id:"deploy-to-digitalocean",variant:"chunky",icon:p.createElement("img",{src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515/digitalocean-logomark.svg?v=1643207005464",alt:"Deploy to DigitalOcean",style:{width:"18px",height:"18px",display:"block"}}),onClick:()=>$E({step:d,application:t})},"Set up App Platform"),d==="deploy"&&p.createElement(Dn,{id:"deploy-to-digitalocean",variant:"blank",onClick:()=>$E({step:d,application:t})},p.createElement("img",{src:"https://www.deploytodo.com/do-btn-blue.svg",alt:"Deploy to DigitalOcean",style:{width:"auto",height:"40px"}})))),p.createElement(Qe,{sx:{display:["none","block"],height:"64px",paddingTop:"8px"}},p.createElement("img",{src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515%2Feditor-digitalocean-person.svg?v=1639512828421",alt:"",style:{height:"100%",width:"auto"}})),p.createElement(Qe,{sx:{maxWidth:"650px"}},p.createElement(Er,{sx:{display:["none","block"],color:"gray.4",fontSize:"13px!important",fontFamily:"body",lineHeight:"1.35em"}},p.createElement(Qe,null,d==="prepare"&&p.createElement(p.Fragment,null,'You\u2019ve added a Digital Ocean API token to your project! Before we start, we need to get dependencies ready for App Platform. Hit the "Prepare project" button and watch the logs for updates.'," ",p.createElement("a",{href:"https://help.glitch.com/kb/article/155",target:"_blank",rel:"noreferrer"},"Learn more")),d==="create"&&p.createElement(p.Fragment,null,`Your project is ready for a first deployment to DigitalOcean! Click the "Set up App Platform" button to create a new app on App Platform \u2014 when it\u2019s complete you'll be ready to deploy!`," ",p.createElement("a",{href:"https://help.glitch.com/kb/article/155",target:"_blank",rel:"noreferrer"},"Learn more")),d==="deploy"&&p.createElement(p.Fragment,null,"Your project is set up for DigitalOcean deployment as often as you like. Use the DEV/PUB dropdown in the preview pane to switch between your Glitch development app and published app."," ",p.createElement("a",{href:"https://help.glitch.com/kb/article/155",target:"_blank",rel:"noreferrer"},"Learn more"))))))}function IP({children:t}){return p.createElement(un,{sx:{backgroundColor:"backgroundSecondary",paddingX:[2,2,3],paddingY:[2,2,2],display:["flex"],justifyContent:"space-between",alignItems:"center",gap:[0,4],borderTop:"2px solid",borderTopColor:"gray.2"}},t)}const AW=t=>({alignItems:"center",gap:2,display:"flex",flexDirection:["column","row"],paddingY:[3,2],paddingX:[1,2],letterSpacing:"0.05em",textTransform:"uppercase",justifyContent:"center",fontWeight:500,maxHeight:["12px","16px","18px"],cursor:"pointer",fontFamily:"body",color:t==="light"?"gray.4":"gray.1","&:hover":{color:t==="light"?"gray.5":"blueLight.1"}}),OP=()=>he({fontFamily:"body",cursor:"pointer"},AW()),ri=()=>({maxHeight:["22px","20px","18px"],height:["22px","20px","18px"],cursor:"pointer"}),WE=t=>({fontSize:"11px!important",alignSelf:"center",color:t==="light"?"gray.4":"gray.1",cursor:"pointer"});function K0(s){var a=s,{icon:t,onClick:e,children:n,sx:i}=a,o=cn(a,["icon","onClick","children","sx"]);const[l]=fo();return p.createElement(Dn,he({variant:"blank",sx:he(he({},AW(l)),i),onClick:e},o),t,p.createElement(Qe,{sx:WE(l)},n))}function NFe({application:t}){const e=j(t.gitImportExportPopVisible),n=j(t.customDomainPopVisible),i=j(t.rewindPanelVisible),[o]=fo();return p.createElement(Rd,null,p.createElement(Dn,{as:Ld,variant:"blank",sx:OP()},p.createElement(p.Fragment,null,p.createElement(Jt,{emoji:"\u{1F9F0}",sx:ri}),p.createElement(Qe,{sx:WE(o)},"tools"))),p.createElement(Od,null,p.createElement(Vn,{icon:p.createElement(Jt,{emoji:"\u{1F4E5}",sx:ri}),onSelect:async()=>{await t.closeAllPopOvers(),await t.gitImportExportPopVisible(!e)}},"Import / Export"),p.createElement(Vn,{icon:p.createElement(Jt,{emoji:"\u{1F310}",sx:ri}),onSelect:async()=>{await t.closeAllPopOvers(),await t.customDomainPopVisible(!n)}},"Custom Domains"),p.createElement(Vn,{icon:p.createElement(Jt,{emoji:"\u23EA",sx:ri}),onSelect:async()=>{await t.closeAllPopOvers(),await t.rewindPanelVisible(!i)}},"Rewind")))}function PW({application:t}){const e=j(t.appPreviewVisible),n=j(t.previewURL),[i]=fo();return p.createElement(p.Fragment,null,p.createElement(Rd,null,p.createElement(Dn,{as:Ld,variant:"blank",sx:OP()},p.createElement(p.Fragment,null,p.createElement(Jt,{emoji:"\u{1F50E}",sx:ri}),p.createElement(Qe,{sx:WE(i)},"Preview"))),p.createElement(Od,null,e?p.createElement(Vn,{icon:p.createElement(Jt,{emoji:"\u261D\uFE0F",sx:ri}),onSelect:async()=>{await t.closeAllPopOvers(),await t.appPreviewVisible(!1),await t.appPreviewUpdate(!1)}},"Close preview pane"):p.createElement(Vn,{icon:p.createElement(Jt,{emoji:"\u261D\uFE0F",sx:ri}),onSelect:async()=>{await t.closeAllPopOvers(),await t.appPreviewVisible(!0),await t.appPreviewUpdate(!0)}},"Open preview pane"),p.createElement(Vn,{icon:p.createElement(Jt,{emoji:"\u{1F46F}\u200D\u2640\uFE0F",sx:ri}),onSelect:async()=>{await t.closeAllPopOvers(),window.open(n)}},"Preview in a new window"))))}function kFe({application:t}){const e=j(t.currentProject().edgeBadgeMode),n=j(t.currentProject().id),i=j(t.env),o=j(t.fastlyStatus),s=i==null?void 0:i.DIGITALOCEAN_APP_ID,[a]=fo(),l=e!=="none";return l||s?p.createElement(Rd,null,p.createElement(Dn,{as:Ld,variant:"blank",sx:OP()},p.createElement(p.Fragment,null,p.createElement(SW,{status:o,sx:ri}),p.createElement(Qe,{sx:WE(a)},"deploy"))),p.createElement(Od,null,l&&p.createElement(Vn,{onSelect:()=>TW(t,n)},"Fastly"),s&&p.createElement(Vn,{onSelect:()=>$E({step:"deploy",application:t})},"DigitalOcean"))):null}const DFe=({status:t})=>{switch(t){case"ok":return p.createElement(Jt,{emoji:"\u{1F603}",sx:ri});case"error":return p.createElement(Jt,{emoji:"\u{1F92C}",sx:ri});case"building":return p.createElement(Jt,{emoji:"\u{1F914}",sx:ri});default:return p.createElement(Jt,{emoji:"\u{1F636}",sx:ri})}};function FFe(){const t=Te(),e=j(t.editorIsEmbedded),n=j(t.projectIsLoaded),i=j(t.projectContainerStatus),o=j(t.currentUserIsLoggedIn),s=j(t.projectIsMemberOrMoreForCurrentUser),a=_4("(max-width: 580px)");return e&&a?null:s?n?p.createElement(p.Fragment,null,p.createElement(IP,null,p.createElement(un,{sx:{gap:2,marginY:1,paddingX:[0,2,3],alignContent:"center",alignItems:"center"}},p.createElement(p.Fragment,null,s&&p.createElement(p.Fragment,null,p.createElement(K0,{icon:p.createElement(DFe,{status:i}),onClick:()=>{t.closeAllPopOvers(),t.containerStatsPanelVisible.toggle(),t.analytics.track("App Status Viewed")}},"status"),p.createElement(K0,{icon:p.createElement(Jt,{emoji:i==="building"?"\u{1F6A7}":"\u{1F4DD}",sx:ri}),onClick:()=>{t.closeAllPopOvers(),t.logsPanelVisible.toggle(),t.analytics.track("App Logs Viewed")}},"logs"),p.createElement(K0,{icon:p.createElement(Jt,{emoji:"\u{1F4BB}",sx:ri}),onClick:()=>{t.closeAllPopOvers(),t.consolePanelVisible.toggle(),t.analytics.track("App Terminal Viewed")}},"terminal"),p.createElement(NFe,{application:t}),p.createElement(PW,{application:t}))),!s&&p.createElement(p.Fragment,null,p.createElement(RP,{reportedType:"Editor - Project"}))),p.createElement(un,{sx:{fontFamily:"body",fontWeight:500,gap:2,alignContent:"center"}},p.createElement(kFe,{application:t}),p.createElement(K0,{icon:p.createElement(Jt,{emoji:"\u{1F3B9}",sx:ri}),onClick:async()=>{await t.closeAllPopOvers(),await t.keyboardShortcutsOverlayVisible.toggle(),await t.analytics.track("Keyboard Shortcuts Viewed")},sx:{display:["none","flex"]}}),p.createElement(K0,{icon:p.createElement(Jt,{emoji:"\u2753",sx:ri}),onClick:()=>{window.open("https://help.glitch.com","_blank")}}))),p.createElement(K$,{application:t}),p.createElement(X$,{application:t}),p.createElement(Z$,{application:t})):p.createElement(IP,null,p.createElement(p.Fragment,null)):p.createElement(IP,null,p.createElement(un,{sx:{flexGrow:1,gap:2}},!o&&p.createElement(Dn,he({as:"a",href:"//glitch.com/signin"},Gf),"Login"),p.createElement(RP,{reportedType:"Editor - Project"})),p.createElement(PW,{application:t}))}function UFe(){const t=Te();return K.exports.useEffect(()=>{t.analytics.track("DigitalOcean promo seen")}),p.createElement(un,{sx:{padding:2,alignContent:"center",alignItems:"center",gap:4,borderTop:"1px solid",borderColor:"gray.1",height:"64px"}},p.createElement(Qe,null,p.createElement(Dn,{id:"deploy-to-digitalocean",variant:"blank",sx:{cursor:"not-allowed"}},p.createElement("img",{src:"https://www.deploytodo.com/do-btn-blue.svg",alt:"Deploy to DigitalOcean",style:{width:"230px",filter:"grayscale(100%)"}}))),p.createElement(Qe,{sx:{height:"64px",paddingTop:"8px"}},p.createElement("img",{src:"https://cdn.glitch.global/605e2a51-d45f-4d87-a285-9410ad350515%2Feditor-digitalocean-person.svg?v=1639512828421",alt:"",style:{height:"100%",width:"auto"}})),p.createElement(Qe,{sx:{maxWidth:"650px"}},p.createElement(Er,{sx:{color:"gray.4",fontSize:"13px!important",fontFamily:"body",lineHeight:"1.35em"}},"Need a little more compute? A Postgres database? DigitalOcean customers can edit on Glitch and deploy directly to App Platform with an API key and a single click."," ",p.createElement("a",{href:"https://help.glitch.com/home/",target:"_blank",rel:"noreferrer"},"Learn more"))))}function Qh({copy:t,filePath:e,lineNum:n}){const i=Te();function o(){i.analytics.track("Banner File Link Clicked");const s=i.fileByPath(e);s&&i.selectFileByUuid(s.uuid()).then(()=>{i.goToLine(n)})}return p.createElement(Er,{sx:{cursor:"pointer",fontWeight:"bold",fontSize:"13px!important",textDecoration:"underline"},onClick:o},t)}function ep({name:t,headerImage:e,copy:n,style:i}){return p.createElement(Qe,null,p.createElement(un,{sx:{padding:2,alignContent:"center",alignItems:"center",gap:[1,4],height:["96px","64px"]}},p.createElement(Qe,{sx:{display:["none","block"],height:"64px",paddingLeft:"24px"}},p.createElement("img",{src:e,alt:t,style:i})),p.createElement(Qe,{sx:{maxWidth:"650px"}},p.createElement(Er,{sx:{color:"gray.4",fontSize:"13px!important",fontFamily:"body",lineHeight:"1.35em"}},n))))}function jFe(){return p.createElement(ep,{name:"Hello Node!",headerImage:"https://cdn.glitch.me/605e2a51-d45f-4d87-a285-9410ad350515%2Feditor-starter-node.svg?v=1639352324133",style:{height:"100%",width:"auto",filter:"drop-shadow(0px 0px 2px #BDC9FF)"},copy:p.createElement(p.Fragment,null,"Your brand new node.js app uses server-side JavaScript to create a live full-stack application that updates instantly. Check out the"," ",p.createElement(Qh,{copy:"TODO",filePath:"TODO.md",lineNum:0})," for some first edits to try out!")})}function BFe(){return p.createElement(ep,{name:"Hello Website!",headerImage:"https://cdn.glitch.me/605e2a51-d45f-4d87-a285-9410ad350515%2Feditor-starter-website.svg?v=1639352503738",style:{height:"100%",width:"auto"},copy:p.createElement(p.Fragment,null,"This is your own brand new website! Make an edit to your code by opening the ",p.createElement(Qh,{copy:"TODO",filePath:"TODO.md",lineNum:0})," and following the steps!")})}function VFe(){return p.createElement(ep,{name:"Hello React!",headerImage:"https://cdn.glitch.me/605e2a51-d45f-4d87-a285-9410ad350515%2Feditor-starter-react.svg?v=1639352308892",style:{height:"100%",width:"auto"},copy:p.createElement(p.Fragment,null,"If you\u2019re just getting started with React, try the steps in the ",p.createElement(Qh,{copy:"TODO",filePath:"TODO.md",lineNum:0})," first. Check out the comments throughout the code and in"," ",p.createElement("a",{href:"https://help.glitch.com/kb/article/112-what-is-a-react-static-site-generator-and-how-can-i-use-it-on-glitch/",target:"_blank",rel:"noreferrer"},"the Help Center")," ","to learn how this generated static site works!")})}function HFe(){return p.createElement(ep,{name:"Hello Eleventy!",headerImage:"https://cdn.glitch.me/605e2a51-d45f-4d87-a285-9410ad350515%2Feditor-starter-11ty.svg?v=1639352379776",style:{height:"100%",width:"auto"},copy:p.createElement(p.Fragment,null,"Your brand new blog includes pointers on getting started in the default posts\u2013read them in the preview! You\u2019ll also find next steps to try in the ",p.createElement(Qh,{copy:"TODO",filePath:"TODO.md",lineNum:0})," \u2013 check out the help center"," ",p.createElement("a",{href:"https://help.glitch.com/kb/article/111-what-is-eleventy-11ty-and-how-can-i-use-it-on-glitch/",target:"_blank",rel:"noreferrer"},"the Help Center")," ","for more info.")})}function zFe(){return p.createElement(ep,{name:"Hello SQLite!",headerImage:"https://cdn.glitch.me/605e2a51-d45f-4d87-a285-9410ad350515%2Feditor-starter-database.png?v=1639352369235",style:{height:"100%",width:"auto"},copy:p.createElement(p.Fragment,null,"Your remix includes a brand new database with node.js code connecting to it. Add your own admin key by following the steps in the"," ",p.createElement(Qh,{copy:"TODO",filePath:"TODO.md",lineNum:0})," where you\u2019ll also find some first edits to try!")})}function GFe(){return p.createElement(ep,{name:"Glitch In Bio",headerImage:"https://cdn.glitch.me/605e2a51-d45f-4d87-a285-9410ad350515%2Feditor-starter-glitch-in-bio.svg?v=1639352364008",style:{height:"100%",width:"auto"},copy:p.createElement(p.Fragment,null,"This is your own link-in-bio app to customize any way you like. Start by adding your links in your"," ",p.createElement(Qh,{copy:"settings JSON file",filePath:"settings.json",lineNum:6})," and check out"," ",p.createElement("a",{href:"https://help.glitch.com/kb/section/13/",target:"_blank",rel:"noreferrer"},"the Help Center")," ","for more ideas!")})}function RW(t,e,n){let i;return t.showType==="user"?i=`context-${n==null?void 0:n.id()}-${t.id}`:i=`context-${e==null?void 0:e.id()}-${t.id}`,i}function $Fe({item:t,application:e,setClosed:n,localStorageKey:i}){const o=j(e.currentProject),s=j(o.id),a=window.localStorage.getItem(i);if(!t)return null;const l=t.component;return a!=="seen"?p.createElement(Qe,{key:t.id,sx:{width:"100%",minHeight:"64px",padding:0}},p.createElement(un,{sx:{justifyContent:"space-between",alignItems:"center",gap:2,display:"flex",borderTop:"1px solid",borderTopColor:"gray.1",paddingLeft:1}},p.createElement(l,{application:e}),p.createElement(Qe,null,p.createElement(Dn,{variant:"blank",onClick:()=>{n(s,t.id)},label:"Close header",sx:{fonSize:3,padding:2,marginRight:[4,2],color:"gray.3","&:hover":{color:"text"}}},p.createElement(Dwe,null))))):null}function WFe(){var E,w;const t=Te(),e=j(t.env),n=j((E=t.currentProject())==null?void 0:E.edgeBadgeMode),i=j(t.projectIsMemberOrMoreForCurrentUser),o=j(t.currentProject),s=j(t.currentUser),a=j(t.projects).length,[l,c]=p.useState([]),u=j(t.projectIsAdminForCurrentUser),d=j(t.editorIsEmbedded),[f,h]=p.useState([]),v=Date.now()-Date.parse((w=t.currentProject())==null?void 0:w.createdAt())<6048e5,m=p.useMemo(()=>[{id:1,label:"DigitalOcean Deploy",component:OFe,enabled:async()=>{var T;return!(!(e==null?void 0:e.DIGITALOCEAN_ACCESS_TOKEN)||((T=t.currentProject())==null?void 0:T.private())||!u)}},{id:2,label:"Digitalocean Blank",component:UFe,enabled:()=>!1},{id:3,label:"Remixed from glitch-hello-website",component:BFe,enabled:()=>{var T;return!!(((T=t.currentProject())==null?void 0:T.baseId())==="a9975ea6-8949-4bab-addb-8a95021dc2da"&&u&&v)}},{id:4,label:"Remixed from glitch-hello-node",component:jFe,enabled:()=>{var T;return!!(((T=t.currentProject())==null?void 0:T.baseId())==="c62efef6-1e75-45cf-b248-afeccdda9477"&&u&&v)}},{id:5,label:"Remixed from glitch-hello-react",component:VFe,enabled:()=>{var T;return!!(((T=t.currentProject())==null?void 0:T.baseId())==="2f80c958-3bc4-4f47-8e97-6a5c8684ac2c"&&u&&v)}},{id:6,label:"Remixed from glitch-hello-eleventy",component:HFe,enabled:()=>{var T;return!!(((T=t.currentProject())==null?void 0:T.baseId())==="cad20829-cd7f-405a-95e8-5e17b206a304"&&u&&v)}},{id:7,label:"Remixed from glitch-hello-sqlite",component:zFe,enabled:()=>{var T;return!!(((T=t.currentProject())==null?void 0:T.baseId())==="67d48f87-b878-4afe-81c6-dc588981ce7a"&&u&&v)}},{id:7,label:"Remixed from glitch-in-bio",component:GFe,enabled:async()=>{var T;return!!(((T=t.currentProject())==null?void 0:T.baseId())==="efc5414a-882b-4708-af81-8461abbc1a82"&&u&&v)}},{id:8,label:"Fastly",component:wFe,enabled:async()=>n!=="none"},{id:9,label:"Fastly Signup",component:MFe,showType:"user",fetchProjects:!0,enabled:async()=>{var L,k,U;if(!!((L=t.currentUser())==null?void 0:L.isAnon())||!u)return!1;const C=(k=t.currentProject())==null?void 0:k.baseId();if(C==="62572148-d564-4e29-a6d7-a7f236d88170"||C==="7e2df165-36d4-4fa6-bfa7-3543198cd169")return!1;const P=(U=t.currentProject())==null?void 0:U.appType();return!(!["generated_static","static"].includes(P)||(e==null?void 0:e.DIGITALOCEAN_ACCESS_TOKEN)||(await t.fetchUserProjects(),a<3))},onClose:()=>{t.analytics.track("Fastly banner closed")}}],[t,e,n,a,u,v]);if(p.useEffect(()=>{Promise.all(m.map(async T=>{const C=await T.enabled(),P=window.localStorage.getItem(RW(T,o,s));return qe(he({},T),{enabled:C,unseen:!P})})).then(T=>{h(T.filter(C=>C.enabled&&C.unseen))})},[m]),d||!i||f.length<=0)return null;const _=f[0];if(!_)return null;const S=RW(_,o,s);return p.createElement(Qe,null,p.createElement($Fe,{key:_.id,item:_,application:t,localStorageKey:S,setClosed:(T,C)=>{window.localStorage.setItem(S,"seen"),_.onClose&&_.onClose(),c([...l,C])}}))}const qFe={sugar:yee,cosmos:_ee};function YFe({application:t}){const e=t.userMachine;K.exports.useEffect(()=>{const i=o=>{e.send({type:"CACHED_USER_CHANGE",data:o})};return lD("cachedUser",i),()=>{cD("cachedUser",i)}},[t,e]);const n=j(t.currentTheme);return p.createElement(p.Fragment,null,p.createElement(vee,{theme:qFe[n]}),p.createElement(Z1e,{application:t},p.createElement(tee,null,p.createElement(Swe,null),p.createElement("div",{id:"application",className:dt({touch:t.isMobile}),onClick:t.globalclick},p.createElement(p4e,null),p.createElement(WFe,null),p.createElement(eDe,null),p.createElement(yDe,null),p.createElement(bDe,null),p.createElement(NDe,null),p.createElement(YDe,null),p.createElement(ZDe,null),p.createElement(eFe,null),p.createElement(nFe,null),p.createElement(sFe,null),p.createElement(uFe,null),p.createElement(fFe,null),p.createElement(hFe,null),p.createElement(pFe,null),p.createElement(FFe,null)))))}(function(){var t=document.createElement("details"),e=typeof HTMLDetailsElement!="undefined"&&t instanceof HTMLDetailsElement,n={open:"open"in t||e,toggle:"ontoggle"in t},i=`
details, summary {
  display: block;
}
details:not([open]) > *:not(summary) {
  display: none;
}
summary::before {
  content: "\u25BA";
  padding-right: 0.3rem;
  font-size: 0.6rem;
  cursor: default;
}
[open] > summary::before {
  content: "\u25BC";
}
`,o=[],s=o.forEach,a=o.slice;n.open||(l(),c(),u(),f()),n.open&&!n.toggle&&d();function l(){document.head.insertAdjacentHTML("afterbegin","<style>"+i+"</style>")}function c(){var w=document.createElement("details").constructor.prototype,T=w.setAttribute,C=w.removeAttribute,P=Object.getOwnPropertyDescriptor(w,"open");Object.defineProperties(w,{open:{get:function(){if(this.tagName=="DETAILS")return this.hasAttribute("open");if(P&&P.get)return P.get.call(this)},set:function(A){if(this.tagName=="DETAILS")return A?this.setAttribute("open",""):this.removeAttribute("open");if(P&&P.set)return P.set.call(this,A)}},setAttribute:{value:function(A,L){var k=this,U=function(){return T.call(k,A,L)};if(A=="open"&&this.tagName=="DETAILS"){var N=this.hasAttribute("open"),I=U();if(!N){var F=this.querySelector("summary");F&&F.setAttribute("aria-expanded",!0),_(this)}return I}return U()}},removeAttribute:{value:function(A){var L=this,k=function(){return C.call(L,A)};if(A=="open"&&this.tagName=="DETAILS"){var U=this.hasAttribute("open"),N=k();if(U){var I=this.querySelector("summary");I&&I.setAttribute("aria-expanded",!1),_(this)}return N}return k()}}})}function u(){m(function(w){w.hasAttribute("open")?w.removeAttribute("open"):w.setAttribute("open","")})}function d(){window.MutationObserver?new MutationObserver(function(w){s.call(w,function(T){var C=T.target,P=T.attributeName;C.tagName=="DETAILS"&&P=="open"&&_(C)})}).observe(document.documentElement,{attributes:!0,subtree:!0}):m(function(w){var T=w.getAttribute("open");setTimeout(function(){var C=w.getAttribute("open");T!=C&&_(w)},1)})}function f(){h(document),window.MutationObserver?new MutationObserver(function(w){s.call(w,function(T){s.call(T.addedNodes,h)})}).observe(document.documentElement,{subtree:!0,childList:!0}):document.addEventListener("DOMNodeInserted",function(w){h(w.target)})}function h(w){S(w,"SUMMARY").forEach(function(T){var C=E(T,"DETAILS");T.setAttribute("aria-expanded",C.hasAttribute("open")),T.hasAttribute("tabindex")||T.setAttribute("tabindex","0"),T.hasAttribute("role")||T.setAttribute("role","button")})}function v(w){return!(w.defaultPrevented||w.ctrlKey||w.metaKey||w.shiftKey||w.target.isContentEditable)}function m(w){addEventListener("click",function(T){if(v(T)&&T.which<=1){var C=E(T.target,"SUMMARY");C&&C.parentNode&&C.parentNode.tagName=="DETAILS"&&w(C.parentNode)}},!1),addEventListener("keydown",function(T){if(v(T)&&(T.keyCode==13||T.keyCode==32)){var C=E(T.target,"SUMMARY");C&&C.parentNode&&C.parentNode.tagName=="DETAILS"&&(w(C.parentNode),T.preventDefault())}},!1)}function _(w){var T=document.createEvent("Event");T.initEvent("toggle",!1,!1),w.dispatchEvent(T)}function S(w,T){return(w.tagName==T?[w]:[]).concat(typeof w.getElementsByTagName=="function"?a.call(w.getElementsByTagName(T)):[])}function E(w,T){if(typeof w.closest=="function")return w.closest(T);for(;w;){if(w.tagName==T)return w;w=w.parentNode}}})();HTMLCanvasElement.prototype.toBlob||(HTMLCanvasElement.prototype.toBlob=function(t,e,n){var i=this.toDataURL(e,n).split(",")[1];setTimeout(function(){for(var o=atob(i),s=o.length,a=new Uint8Array(s),l=0;l<s;l++)a[l]=o.charCodeAt(l);t(new Blob([a],{type:e||"image/png"}))})});var X0={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},KFe=/([astvzqmhlc])([^astvzqmhlc]*)/ig,XFe=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function JFe(t){var e=t.match(XFe);return e?e.map(Number):[]}function ZFe(t){var e=[],n=String(t).trim();return n[0]!=="M"&&n[0]!=="m"||n.replace(KFe,function(i,o,s){var a=o.toLowerCase(),l=JFe(s),c=o;if(a==="m"&&l.length>2&&(e.push([c].concat(l.splice(0,2))),a="l",c=c==="m"?"l":"L"),l.length<X0[a])return"";for(e.push([c].concat(l.splice(0,X0[a])));l.length>=X0[a]&&l.length&&X0[a];)e.push([c].concat(l.splice(0,X0[a])));return""}),e}var QFe=ZFe;function eUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LW(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function tUe(t,e,n){return e&&LW(t.prototype,e),n&&LW(t,n),t}function IW(t){return nUe(t)||rUe(t)||iUe()}function nUe(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function rUe(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function iUe(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function sUe(t){var e=t.document.createElement("canvas"),n=e.getContext("2d"),i=new t.Path2D("M0 0 L1 1");n.strokeStyle="red",n.lineWidth=1,n.stroke(i);var o=n.getImageData(0,0,1,1);return o.data[0]===255}function OW(t,e){var n=t.x*Math.cos(e)-t.y*Math.sin(e),i=t.y*Math.cos(e)+t.x*Math.sin(e);t.x=n,t.y=i}function oUe(t,e,n){t.x+=e,t.y+=n}function NW(t,e){t.x*=e,t.y*=e}function aUe(t){if(typeof t=="undefined"||!t.CanvasRenderingContext2D||t.Path2D&&sUe(t))return;var e=function(){function s(a){if(eUe(this,s),this.segments=[],a&&a instanceof s){var l;(l=this.segments).push.apply(l,IW(a.segments))}else a&&(this.segments=QFe(a))}return tUe(s,[{key:"addPath",value:function(l){if(l&&l instanceof s){var c;(c=this.segments).push.apply(c,IW(l.segments))}}},{key:"moveTo",value:function(l,c){this.segments.push(["M",l,c])}},{key:"lineTo",value:function(l,c){this.segments.push(["L",l,c])}},{key:"arc",value:function(l,c,u,d,f,h){this.segments.push(["AC",l,c,u,d,f,!!h])}},{key:"arcTo",value:function(l,c,u,d,f){this.segments.push(["AT",l,c,u,d,f])}},{key:"ellipse",value:function(l,c,u,d,f,h,v,m){this.segments.push(["E",l,c,u,d,f,h,v,!!m])}},{key:"closePath",value:function(){this.segments.push(["Z"])}},{key:"bezierCurveTo",value:function(l,c,u,d,f,h){this.segments.push(["C",l,c,u,d,f,h])}},{key:"quadraticCurveTo",value:function(l,c,u,d){this.segments.push(["Q",l,c,u,d])}},{key:"rect",value:function(l,c,u,d){this.segments.push(["R",l,c,u,d])}}]),s}(),n=t.CanvasRenderingContext2D.prototype.fill,i=t.CanvasRenderingContext2D.prototype.stroke;function o(s,a){var l,c,u,d,f,h,v,m,_,S,E,w,T,C,P,R,A,L,k,U,N,I,F,O,V,z,B={x:0,y:0},H={x:0,y:0};s.beginPath();for(var W=0;W<a.length;++W){var G=a[W];switch(U=G[0],U!=="S"&&U!=="s"&&U!=="C"&&U!=="c"&&(I=null,F=null),U!=="T"&&U!=="t"&&U!=="Q"&&U!=="q"&&(O=null,V=null),U){case"m":case"M":U==="m"?(E+=G[1],T+=G[2]):(E=G[1],T=G[2]),(U==="M"||!B)&&(B={x:E,y:T}),s.moveTo(E,T);break;case"l":E+=G[1],T+=G[2],s.lineTo(E,T);break;case"L":E=G[1],T=G[2],s.lineTo(E,T);break;case"H":E=G[1],s.lineTo(E,T);break;case"h":E+=G[1],s.lineTo(E,T);break;case"V":T=G[1],s.lineTo(E,T);break;case"v":T+=G[1],s.lineTo(E,T);break;case"a":case"A":U==="a"?(E+=G[6],T+=G[7]):(E=G[6],T=G[7]),R=G[1],A=G[2],v=G[3]*Math.PI/180,u=!!G[4],d=!!G[5],f={x:E,y:T},h={x:(H.x-f.x)/2,y:(H.y-f.y)/2},OW(h,-v),m=h.x*h.x/(R*R)+h.y*h.y/(A*A),m>1&&(m=Math.sqrt(m),R*=m,A*=m),N={x:R*h.y/A,y:-(A*h.x)/R},_=R*R*A*A,S=R*R*h.y*h.y+A*A*h.x*h.x,d!==u?NW(N,Math.sqrt((_-S)/S)||0):NW(N,-Math.sqrt((_-S)/S)||0),c=Math.atan2((h.y-N.y)/A,(h.x-N.x)/R),l=Math.atan2(-(h.y+N.y)/A,-(h.x+N.x)/R),OW(N,v),oUe(N,(f.x+H.x)/2,(f.y+H.y)/2),s.save(),s.translate(N.x,N.y),s.rotate(v),s.scale(R,A),s.arc(0,0,1,c,l,!d),s.restore();break;case"C":I=G[3],F=G[4],E=G[5],T=G[6],s.bezierCurveTo(G[1],G[2],I,F,E,T);break;case"c":s.bezierCurveTo(G[1]+E,G[2]+T,G[3]+E,G[4]+T,G[5]+E,G[6]+T),I=G[3]+E,F=G[4]+T,E+=G[5],T+=G[6];break;case"S":(I===null||I===null)&&(I=E,F=T),s.bezierCurveTo(2*E-I,2*T-F,G[1],G[2],G[3],G[4]),I=G[1],F=G[2],E=G[3],T=G[4];break;case"s":(I===null||I===null)&&(I=E,F=T),s.bezierCurveTo(2*E-I,2*T-F,G[1]+E,G[2]+T,G[3]+E,G[4]+T),I=G[1]+E,F=G[2]+T,E+=G[3],T+=G[4];break;case"Q":O=G[1],V=G[2],E=G[3],T=G[4],s.quadraticCurveTo(O,V,E,T);break;case"q":O=G[1]+E,V=G[2]+T,E+=G[3],T+=G[4],s.quadraticCurveTo(O,V,E,T);break;case"T":(O===null||O===null)&&(O=E,V=T),O=2*E-O,V=2*T-V,E=G[1],T=G[2],s.quadraticCurveTo(O,V,E,T);break;case"t":(O===null||O===null)&&(O=E,V=T),O=2*E-O,V=2*T-V,E+=G[1],T+=G[2],s.quadraticCurveTo(O,V,E,T);break;case"z":case"Z":E=B.x,T=B.y,B=void 0,s.closePath();break;case"AC":E=G[1],T=G[2],P=G[3],c=G[4],l=G[5],z=G[6],s.arc(E,T,P,c,l,z);break;case"AT":w=G[1],C=G[2],E=G[3],T=G[4],P=G[5],s.arcTo(w,C,E,T,P);break;case"E":E=G[1],T=G[2],R=G[3],A=G[4],v=G[5],c=G[6],l=G[7],z=G[8],s.save(),s.translate(E,T),s.rotate(v),s.scale(R,A),s.arc(0,0,1,c,l,z),s.restore();break;case"R":E=G[1],T=G[2],L=G[3],k=G[4],B={x:E,y:T},s.rect(E,T,L,k);break}H.x=E,H.y=T}}t.CanvasRenderingContext2D.prototype.fill=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u="nonzero";if(l.length===0||l.length===1&&typeof l[0]=="string"){n.apply(this,l);return}arguments.length===2&&(u=l[1]);var d=l[0];o(this,d.segments),n.call(this,u)},t.CanvasRenderingContext2D.prototype.stroke=function(a){if(!a){i.call(this);return}o(this,a.segments),i.call(this)},t.Path2D=e}var lUe=aUe;typeof window!="undefined"&&lUe(window);tae();const cUe=window.location.pathname.startsWith("/embed");cUe&&document.body.classList.add("embedded");const uUe=window||{};var kW;if(document.location.pathname==="/edit/index.html")document.location.pathname="/edit/";else{((kW=window.analytics)==null?void 0:kW.load)&&window.analytics.load(Koe,{integrations:{"Lucky Orange":!1}}),window.analytics={};const t=kEe();t.start(),uUe.application=t,Jne.render(p.createElement(p.StrictMode,null,p.createElement(YFe,{application:t})),document.getElementById("__react-app-root"));const e=new Mre(document.documentElement);Are(e),Zde(e,t);const n=1e3,i=60*n,{activityCheck:o,userBroadcast:s,notifyAnonUserLimitsVisible:a,receivePostMessage:l,mouseenter:c,mouseleave:u,focus:d,blur:f,refreshCheck:h,securitypolicyviolation:v}=Jde(t);window.setInterval(o(document),5*n),window.setInterval(s,10*n),window.setInterval(t.sendLogSocketKeepAlive,30*n);const m=2*i;setTimeout(a,m),window.addEventListener("message",l,!1),document.body.addEventListener("mouseenter",c),document.body.addEventListener("mouseleave",u),window.addEventListener("focus",d),window.addEventListener("blur",f),window.addEventListener("keydown",h),document.addEventListener("securitypolicyviolation",v),window.addEventListener("load",()=>{t.getNewProjectTemplates()})}});export default dUe();
